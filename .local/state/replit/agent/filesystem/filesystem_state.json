{"file_contents":{"frontend-new/src/assets/theme/components/list/listItem.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst listItem = {\n  defaultProps: {\n    disableGutters: true,\n  },\n\n  styleOverrides: {\n    root: {\n      paddingTop: 0,\n      paddingBottom: 0,\n    },\n  },\n};\n\nexport default listItem;\n","size_bytes":710},"qms-source/frontend-new/src/assets/theme-dark/components/list/listItem.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst listItem = {\n  defaultProps: {\n    disableGutters: true,\n  },\n\n  styleOverrides: {\n    root: {\n      paddingTop: 0,\n      paddingBottom: 0,\n    },\n  },\n};\n\nexport default listItem;\n","size_bytes":710},"frontend-new/src/assets/theme/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// @mui material components\nimport { createTheme } from \"@mui/material/styles\";\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport breakpoints from \"assets/theme/base/breakpoints\";\nimport typography from \"assets/theme/base/typography\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\nimport borders from \"assets/theme/base/borders\";\nimport globals from \"assets/theme/base/globals\";\n\n// Material Dashboard 2 React helper functions\nimport boxShadow from \"assets/theme/functions/boxShadow\";\nimport hexToRgb from \"assets/theme/functions/hexToRgb\";\nimport linearGradient from \"assets/theme/functions/linearGradient\";\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport rgba from \"assets/theme/functions/rgba\";\n\n// Material Dashboard 2 React components base styles for @mui material components\nimport sidenav from \"assets/theme/components/sidenav\";\nimport list from \"assets/theme/components/list\";\nimport listItem from \"assets/theme/components/list/listItem\";\nimport listItemText from \"assets/theme/components/list/listItemText\";\nimport card from \"assets/theme/components/card\";\nimport cardMedia from \"assets/theme/components/card/cardMedia\";\nimport cardContent from \"assets/theme/components/card/cardContent\";\nimport button from \"assets/theme/components/button\";\nimport iconButton from \"assets/theme/components/iconButton\";\nimport input from \"assets/theme/components/form/input\";\nimport inputLabel from \"assets/theme/components/form/inputLabel\";\nimport inputOutlined from \"assets/theme/components/form/inputOutlined\";\nimport textField from \"assets/theme/components/form/textField\";\nimport menu from \"assets/theme/components/menu\";\nimport menuItem from \"assets/theme/components/menu/menuItem\";\nimport switchButton from \"assets/theme/components/form/switchButton\";\nimport divider from \"assets/theme/components/divider\";\nimport tableContainer from \"assets/theme/components/table/tableContainer\";\nimport tableHead from \"assets/theme/components/table/tableHead\";\nimport tableCell from \"assets/theme/components/table/tableCell\";\nimport linearProgress from \"assets/theme/components/linearProgress\";\nimport breadcrumbs from \"assets/theme/components/breadcrumbs\";\nimport slider from \"assets/theme/components/slider\";\nimport avatar from \"assets/theme/components/avatar\";\nimport tooltip from \"assets/theme/components/tooltip\";\nimport appBar from \"assets/theme/components/appBar\";\nimport tabs from \"assets/theme/components/tabs\";\nimport tab from \"assets/theme/components/tabs/tab\";\nimport stepper from \"assets/theme/components/stepper\";\nimport step from \"assets/theme/components/stepper/step\";\nimport stepConnector from \"assets/theme/components/stepper/stepConnector\";\nimport stepLabel from \"assets/theme/components/stepper/stepLabel\";\nimport stepIcon from \"assets/theme/components/stepper/stepIcon\";\nimport select from \"assets/theme/components/form/select\";\nimport formControlLabel from \"assets/theme/components/form/formControlLabel\";\nimport formLabel from \"assets/theme/components/form/formLabel\";\nimport checkbox from \"assets/theme/components/form/checkbox\";\nimport radio from \"assets/theme/components/form/radio\";\nimport autocomplete from \"assets/theme/components/form/autocomplete\";\nimport container from \"assets/theme/components/container\";\nimport popover from \"assets/theme/components/popover\";\nimport buttonBase from \"assets/theme/components/buttonBase\";\nimport icon from \"assets/theme/components/icon\";\nimport svgIcon from \"assets/theme/components/svgIcon\";\nimport link from \"assets/theme/components/link\";\nimport dialog from \"assets/theme/components/dialog\";\nimport dialogTitle from \"assets/theme/components/dialog/dialogTitle\";\nimport dialogContent from \"assets/theme/components/dialog/dialogContent\";\nimport dialogContentText from \"assets/theme/components/dialog/dialogContentText\";\nimport dialogActions from \"assets/theme/components/dialog/dialogActions\";\n\nexport default createTheme({\n  breakpoints: { ...breakpoints },\n  palette: { ...colors },\n  typography: { ...typography },\n  boxShadows: { ...boxShadows },\n  borders: { ...borders },\n  functions: {\n    boxShadow,\n    hexToRgb,\n    linearGradient,\n    pxToRem,\n    rgba,\n  },\n\n  components: {\n    MuiCssBaseline: {\n      styleOverrides: {\n        ...globals,\n        ...container,\n      },\n    },\n    MuiDrawer: { ...sidenav },\n    MuiList: { ...list },\n    MuiListItem: { ...listItem },\n    MuiListItemText: { ...listItemText },\n    MuiCard: { ...card },\n    MuiCardMedia: { ...cardMedia },\n    MuiCardContent: { ...cardContent },\n    MuiButton: { ...button },\n    MuiIconButton: { ...iconButton },\n    MuiInput: { ...input },\n    MuiInputLabel: { ...inputLabel },\n    MuiOutlinedInput: { ...inputOutlined },\n    MuiTextField: { ...textField },\n    MuiMenu: { ...menu },\n    MuiMenuItem: { ...menuItem },\n    MuiSwitch: { ...switchButton },\n    MuiDivider: { ...divider },\n    MuiTableContainer: { ...tableContainer },\n    MuiTableHead: { ...tableHead },\n    MuiTableCell: { ...tableCell },\n    MuiLinearProgress: { ...linearProgress },\n    MuiBreadcrumbs: { ...breadcrumbs },\n    MuiSlider: { ...slider },\n    MuiAvatar: { ...avatar },\n    MuiTooltip: { ...tooltip },\n    MuiAppBar: { ...appBar },\n    MuiTabs: { ...tabs },\n    MuiTab: { ...tab },\n    MuiStepper: { ...stepper },\n    MuiStep: { ...step },\n    MuiStepConnector: { ...stepConnector },\n    MuiStepLabel: { ...stepLabel },\n    MuiStepIcon: { ...stepIcon },\n    MuiSelect: { ...select },\n    MuiFormControlLabel: { ...formControlLabel },\n    MuiFormLabel: { ...formLabel },\n    MuiCheckbox: { ...checkbox },\n    MuiRadio: { ...radio },\n    MuiAutocomplete: { ...autocomplete },\n    MuiPopover: { ...popover },\n    MuiButtonBase: { ...buttonBase },\n    MuiIcon: { ...icon },\n    MuiSvgIcon: { ...svgIcon },\n    MuiLink: { ...link },\n    MuiDialog: { ...dialog },\n    MuiDialogTitle: { ...dialogTitle },\n    MuiDialogContent: { ...dialogContent },\n    MuiDialogContentText: { ...dialogContentText },\n    MuiDialogActions: { ...dialogActions },\n  },\n});\n","size_bytes":6553},"frontend-new/src/pages/TaskManagement/UserTaskAssignment.jsx":{"content":"import React, { useEffect, useState, useCallback } from \"react\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport {\n  Autocomplete,\n  TextField,\n  Button,\n  Typography,\n  Paper,\n  CircularProgress,\n  Grid,\n} from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst UserTaskAssignment = () => {\n  const [users, setUsers] = useState([]);\n  const [tasks, setTasks] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [selectedTasks, setSelectedTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [assigning, setAssigning] = useState(false);\n  const navigate = useNavigate();\n\n  const moduleId = \"4a060652-4c92-47d8-9515-e500da5e94ef\";\n  let company_id = sessionStorage.getItem(\"selectedCompany\");\n\n  useEffect(() => {\n    // Fetch users and tasks data on component mount\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const token = localStorage.getItem(\"jwtToken\");\n        if (!token) {\n          toast.error(\"Session expired. Please log in again.\");\n          navigate(\"/login\");\n          return;\n        }\n\n        const headers = { Authorization: `Bearer ${token}` };\n        const [usersResponse, tasksResponse] = await Promise.all([\n          axiosInstance.get(`/users/971a88b8-461e-4cd2-9a06-fce42ad6b806`, {\n            headers,\n            params: { company_id },\n          }),\n          axiosInstance.get(`/tasks/${moduleId}`, {\n            headers,\n            params: { company_id },\n          }),\n        ]);\n\n        setUsers(usersResponse.data || []);\n        setTasks(tasksResponse.data || []);\n      } catch (error) {\n        handleApiError(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const handleAssignTask = useCallback(async () => {\n    // Ensure a user and tasks are selected before assigning\n    if (!selectedUser || selectedTasks.length === 0) {\n      toast.error(\"Please select a user and at least one task.\");\n      return;\n    }\n\n    setAssigning(true);\n    try {\n      const token = localStorage.getItem(\"jwtToken\");\n      if (!token) {\n        toast.error(\"Session expired. Please log in again.\");\n        navigate(\"/login\");\n        return;\n      }\n\n      const requestData = {\n        user_id: selectedUser.id,\n        task_ids: selectedTasks.map((task) => task.id),\n        assign_by: \"superadmin\",\n      };\n\n      await axiosInstance.post(\n        `/task-assignments/5d896834-fedd-4e0b-a882-8d05396fc346`,\n        requestData,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      toast.success(\"Tasks assigned successfully!\");\n      setSelectedUser(null);\n      setSelectedTasks([]);\n    } catch (error) {\n      console.error(\"API Error:\", error.response?.data || error);\n      toast.error(error.response?.data?.message || \"Failed to assign task.\");\n    } finally {\n      setAssigning(false);\n    }\n  }, [selectedUser, selectedTasks]);\n\n  const handleApiError = (error) => {\n    // Handle API errors and redirect if unauthorized\n    console.error(\"API Error:\", error.response?.data || error);\n    const errorMessage =\n      error.response?.data?.message || \"An unexpected error occurred.\";\n    toast.error(errorMessage);\n    if (error.response?.status === 403) {\n      localStorage.removeItem(\"jwtToken\");\n      navigate(\"/login\");\n    }\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        mb: 2,\n        mx: 4,\n        marginRight: 2,\n        backgroundColor: \"#ffffff\",\n        boxShadow: \"0px 5px 15px rgba(0, 0, 0, 0.1)\",\n      }}\n    >\n      <Grid container direction=\"column\" spacing={3}>\n        {/* Title */}\n        <Grid item>\n          <Typography\n            variant=\"h3\"\n            fontWeight={\"'bold\"}\n            sx={{ textAlign: \"center\" }}\n          >\n            User Task Assignment\n          </Typography>\n        </Grid>\n\n        {/* Loader or Form */}\n        <Grid item>\n          {loading ? (\n            <Grid container justifyContent=\"center\">\n              <CircularProgress sx={{ color: \"#1976d2\" }} />\n            </Grid>\n          ) : (\n            <Grid container direction=\"column\" spacing={2}>\n              {/* User selection */}\n              <Grid item>\n                <Autocomplete\n                  options={users}\n                  getOptionLabel={(user) =>\n                    user?.name\n                      ? `${user.name} ${\n                          user.department?.name\n                            ? `(${user.department.name})`\n                            : \"\"\n                        }`\n                      : user?.email || \"\"\n                  }\n                  value={selectedUser}\n                  onChange={(event, newValue) =>\n                    setSelectedUser(newValue || null)\n                  }\n                  renderInput={(params) => (\n                    <TextField\n                      {...params}\n                      label=\"Select User\"\n                      variant=\"outlined\"\n                      sx={{ backgroundColor: \"#f5f5f5\", borderRadius: \"6px\" }}\n                    />\n                  )}\n                />\n              </Grid>\n\n              {/* Task selection */}\n              <Grid item>\n                <Autocomplete\n                  multiple\n                  options={tasks}\n                  getOptionLabel={(task) => task.title || task.Checklist_Item}\n                  value={selectedTasks}\n                  onChange={(event, newValue) =>\n                    setSelectedTasks(newValue || [])\n                  }\n                  renderInput={(params) => (\n                    <TextField\n                      {...params}\n                      label=\"Select Tasks\"\n                      variant=\"outlined\"\n                      sx={{ backgroundColor: \"#f5f5f5\", borderRadius: \"6px\" }}\n                    />\n                  )}\n                />\n              </Grid>\n\n              {/* Buttons aligned right */}\n              <Grid\n                item\n                sx={{ display: \"flex\", justifyContent: \"flex-end\", gap: 2 }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleAssignTask}\n                  size=\"small\"\n                  disabled={\n                    assigning || !selectedUser || selectedTasks.length === 0\n                  }\n                  sx={{\n                    fontWeight: \"bold\",\n                    borderRadius: \"6px\",\n                    backgroundColor: assigning ? \"#1565c0\" : \"#1976d2\",\n                    \"&:hover\": { backgroundColor: \"#1565c0\" },\n                  }}\n                >\n                  {assigning ? \"Assigning...\" : \"Assign\"}\n                </Button>\n\n                <Button\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  onClick={() => navigate(\"/tasks\")}\n                  size=\"small\"\n                  sx={{ fontWeight: \"bold\", borderRadius: \"6px\" }}\n                >\n                  Cancel\n                </Button>\n              </Grid>\n            </Grid>\n          )}\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default UserTaskAssignment;\n","size_bytes":7473},"frontend-new/src/assets/theme/components/popover.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\nimport borders from \"assets/theme/base/borders\";\n\nconst { transparent } = colors;\nconst { lg } = boxShadows;\nconst { borderRadius } = borders;\n\nconst popover = {\n  styleOverrides: {\n    paper: {\n      backgroundColor: transparent.main,\n      boxShadow: lg,\n      padding: pxToRem(8),\n      borderRadius: borderRadius.md,\n    },\n  },\n};\n\nexport default popover;\n","size_bytes":1130},"frontend-new/src/assets/theme/components/form/autocomplete.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport boxShadows from \"assets/theme/base/boxShadows\";\nimport typography from \"assets/theme/base/typography\";\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { lg } = boxShadows;\nconst { size } = typography;\nconst { text, white, transparent, light, dark, gradients } = colors;\nconst { borderRadius } = borders;\n\nconst autocomplete = {\n  styleOverrides: {\n    popper: {\n      boxShadow: lg,\n      padding: pxToRem(8),\n      fontSize: size.sm,\n      color: text.main,\n      textAlign: \"left\",\n      backgroundColor: `${white.main} !important`,\n      borderRadius: borderRadius.md,\n    },\n\n    paper: {\n      boxShadow: \"none\",\n      backgroundColor: transparent.main,\n    },\n\n    option: {\n      padding: `${pxToRem(4.8)} ${pxToRem(16)}`,\n      borderRadius: borderRadius.md,\n      fontSize: size.sm,\n      color: text.main,\n      transition: \"background-color 300ms ease, color 300ms ease\",\n\n      \"&:hover, &:focus, &.Mui-selected, &.Mui-selected:hover, &.Mui-selected:focus\": {\n        backgroundColor: light.main,\n        color: dark.main,\n      },\n\n      '&[aria-selected=\"true\"]': {\n        backgroundColor: `${light.main} !important`,\n        color: `${dark.main} !important`,\n      },\n    },\n\n    noOptions: {\n      fontSize: size.sm,\n      color: text.main,\n    },\n\n    groupLabel: {\n      color: dark.main,\n    },\n\n    loading: {\n      fontSize: size.sm,\n      color: text.main,\n    },\n\n    tag: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: \"auto\",\n      padding: pxToRem(4),\n      backgroundColor: gradients.dark.state,\n      color: white.main,\n\n      \"& .MuiChip-label\": {\n        lineHeight: 1.2,\n        padding: `0 ${pxToRem(10)} 0 ${pxToRem(4)}`,\n      },\n\n      \"& .MuiSvgIcon-root, & .MuiSvgIcon-root:hover, & .MuiSvgIcon-root:focus\": {\n        color: white.main,\n        marginRight: 0,\n      },\n    },\n  },\n};\n\nexport default autocomplete;\n","size_bytes":2602},"frontend-new/src/assets/theme/functions/gradientChartLine.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The gradientChartLine() function helps you to create a gradient color for the chart line\n */\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"assets/theme/functions/rgba\";\n\nfunction gradientChartLine(chart, color, opacity = 0.2) {\n  const ctx = chart.getContext(\"2d\");\n  const gradientStroke = ctx.createLinearGradient(0, 230, 0, 50);\n  const primaryColor = rgba(color, opacity).toString();\n\n  gradientStroke.addColorStop(1, primaryColor);\n  gradientStroke.addColorStop(0.2, \"rgba(72, 72, 176, 0.0)\");\n  gradientStroke.addColorStop(0, \"rgba(203, 12, 159, 0)\");\n\n  return gradientStroke;\n}\n\nexport default gradientChartLine;\n","size_bytes":1170},"qms-source/frontend-new/src/styles/SelectCompany.css":{"content":".company-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n    background-color: #f8f9fa;\n    padding: 20px;\n  }\n  \n  h2 {\n    color: #333;\n    font-size: 24px;\n    margin-bottom: 20px;\n  }\n  \n  label {\n    font-size: 16px;\n    color: #555;\n    margin-bottom: 10px;\n  }\n  \n  .company-dropdown {\n    width: 100%;\n    max-width: 300px;\n    padding: 10px;\n    font-size: 16px;\n    border: 2px solid #007bff;\n    border-radius: 5px;\n    outline: none;\n    background: white;\n    margin-bottom: 20px;\n    cursor: pointer;\n  }\n  \n  .company-dropdown:hover {\n    border-color: #0056b3;\n  }\n  \n  .next-button {\n    padding: 10px 20px;\n    font-size: 16px;\n    color: white;\n    background-color: #007bff;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    transition: 0.3s;\n  }\n  \n  .next-button:hover {\n    background-color: #0056b3;\n  }\n  \n  .loading-text {\n    font-size: 16px;\n    color: #777;\n  }\n  ","size_bytes":994},"BackEnd/src/models/User.js":{"content":"import { DataTypes } from 'sequelize';\nimport sequelize from '../config/db.js';\nimport bcrypt from 'bcryptjs';\nimport Company from './Company.js';\nimport Role from './Role.js';\nimport Department from './Department.js';\nimport GeneralDocument from './GeneralDocument.js';\nimport GeneralDocumentFolder from './GeneralDocumentFolder.js';\n\n\nconst User = sequelize.define('User', {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    company_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n            model: 'Company',\n            key: 'id'\n        }\n    },\n    email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: false\n    },\n    name: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    role_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n            model: 'Role',\n            key: 'id'\n        }\n    },\n    reportTo: {\n        type: DataTypes.UUID,\n        allowNull: true,\n        references: {\n            model: 'User',\n            key: 'id'\n        }\n    },\n    password_hash: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    is_active: {\n        type: DataTypes.BOOLEAN,\n        defaultValue: true\n    },\n    department_id: {\n        type: DataTypes.UUID,\n        allowNull: true,\n        references: {\n          model: 'department',\n          key: 'id'\n        },\n        onDelete: 'SET NULL'\n      },\n      \n}, {\n    timestamps: true,\n    freezeTableName: true,\n    defaultScope: {\n        where: {\n            is_active: true\n        }\n    },\n    scopes: {\n        all: {} // Use `User.scope('all')` to get both active & inactive users\n    }\n}\n\n);\n\n// Password is already hashed in bootstrapSystemSuperAdmin.js and authController.js\nUser.beforeCreate(async (user) => {\n    // Skip hashing as it's already hashed\n});\n\n// Define relationships\nUser.belongsTo(Company, { foreignKey: 'company_id', targetKey: 'id' });\nCompany.hasMany(User, { foreignKey: 'company_id', onDelete: 'CASCADE' });\n\nUser.belongsTo(Role, { foreignKey: 'role_id', targetKey: 'id' });\nRole.hasMany(User, { foreignKey: 'role_id' });\n\nUser.belongsTo(User, { as: 'Manager', foreignKey: 'reportTo' });\nUser.hasMany(User, { as: 'Subordinates', foreignKey: 'reportTo' });  \n\nUser.belongsTo(Department, { as: 'department', foreignKey: 'department_id' });\nDepartment.hasMany(User, { foreignKey: 'department_id' });\n\nexport default User;\n\n","size_bytes":2514},"qms-source/frontend-new/src/assets/theme-dark/components/form/input.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React Helper Functions\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { info, inputBorderColor, dark, grey, white } = colors;\nconst { size } = typography;\nconst { borderWidth } = borders;\n\nconst input = {\n  styleOverrides: {\n    root: {\n      fontSize: size.sm,\n      color: dark.main,\n\n      \"&:hover:not(.Mui-disabled):before\": {\n        borderBottom: `${borderWidth[1]} solid ${rgba(inputBorderColor, 0.6)}`,\n      },\n\n      \"&:before\": {\n        borderColor: rgba(inputBorderColor, 0.6),\n      },\n\n      \"&:after\": {\n        borderColor: info.main,\n      },\n\n      input: {\n        color: white.main,\n\n        \"&::-webkit-input-placeholder\": {\n          color: grey[100],\n        },\n      },\n    },\n  },\n};\n\nexport default input;\n","size_bytes":1503},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"qms-source/BackEnd/src/routes/iterationRoutes.js":{"content":"import express from 'express';\nimport iterationController from '../controllers/iterationController.js';\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post('/:moduleId',authenticateUser,checkPermission(\"write\"), iterationController.createIteration);      // Add a new module\nrouter.get('/:moduleId',authenticateUser, checkPermission(\"read\"),iterationController.getAllIterations);      // Get all modules\nrouter.get('/:moduleId/:id',authenticateUser, checkPermission(\"read\"),iterationController.getIterationById);   // Get module by ID\nrouter.put('/:moduleId/:id',authenticateUser, checkPermission(\"write\"),iterationController.updateIteration);    // Update a module\nrouter.delete('/:moduleId/:id',authenticateUser,checkPermission(\"delete\"), iterationController.deleteIteration); // Delete a module\n\nexport default router;","size_bytes":954},"start.sh":{"content":"#!/bin/bash\n\n# QMS Application Startup Script\necho \"ðŸš€ Starting QMS Application...\"\n\n# Start backend in background\necho \"ðŸ“¦ Starting Backend Server...\"\ncd BackEnd\nnpm install\nnode src/server.js &\nBACKEND_PID=$!\n\n# Wait for backend to initialize\nsleep 5\n\n# Start frontend\necho \"ðŸŽ¨ Starting Frontend...\"\ncd ../frontend-new\nnpm install\nnpm run dev &\nFRONTEND_PID=$!\n\necho \"\"\necho \"âœ… QMS Application Started!\"\necho \"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\"\necho \"ðŸ“ Backend:  http://localhost:5000\"\necho \"ðŸ“ Frontend: http://localhost:3000\"\necho \"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\"\necho \"\"\necho \"ðŸ“§ Default Login Credentials:\"\necho \"   Email:    admin@idatum.com\"\necho \"   Password: Admin@123\"\necho \"\"\necho \"Press Ctrl+C to stop all services\"\necho \"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\"\n\n# Wait for both processes\nwait $BACKEND_PID $FRONTEND_PID\n","size_bytes":1108},"BackEnd/src/routes/taskAssignmentRoutes.js":{"content":"import express from \"express\";\nimport { assignTasks, getTaskAssignments, changeAssignee,unassignTask,getAllTaskAssignments } from \"../controllers/taskAssignmentController.js\";\nimport authenticateUser from '../middlewares/authMiddlewares.js'\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\nconst router = express.Router();\n\nrouter.post(\"/:moduleId\",authenticateUser, checkPermission(\"write\"),assignTasks);\nrouter.put(\"/:moduleId\",authenticateUser,checkPermission(\"write\"),changeAssignee);\nrouter.get(\"/:moduleId\",authenticateUser,checkPermission(\"read\"),getAllTaskAssignments);\nrouter.get(\"/:moduleId/:task_id\",authenticateUser,checkPermission(\"read\"), getTaskAssignments);\nrouter.delete(\"/:moduleId/:id\",authenticateUser, checkPermission(\"delete\"),unassignTask);\n\nexport default router;\n","size_bytes":811},"frontend-new/src/assets/theme/components/card/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\n\n// Material Dashboard 2 React Helper Function\nimport rgba from \"assets/theme/functions/rgba\";\n\nconst { black, white } = colors;\nconst { borderWidth, borderRadius } = borders;\nconst { md } = boxShadows;\n\nconst card = {\n  styleOverrides: {\n    root: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      position: \"relative\",\n      minWidth: 0,\n      wordWrap: \"break-word\",\n      backgroundColor: white.main,\n      backgroundClip: \"border-box\",\n      border: `${borderWidth[0]} solid ${rgba(black.main, 0.125)}`,\n      borderRadius: borderRadius.xl,\n      boxShadow: md,\n      overflow: \"visible\",\n    },\n  },\n};\n\nexport default card;\n","size_bytes":1359},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"qms-source/BackEnd/src/controllers/roleModulePermissionController.js":{"content":"import RoleModulePermission from '../models/RoleModulesPermissions.js';\nimport Role from '../models/Role.js';\nimport Module from '../models/Module.js';\n\n\n// Function to assign or update permissions for a role\nexport const assignPermission = async (req, res) => {\n    try {\n        // Extract role ID from request parameters and modules from request body\n        //const  roleId  = req.user.role;\n        const { roleId ,modules } = req.body;\n\n        // Validate input parameters\n        if (!roleId || !Array.isArray(modules) || modules.length === 0) {\n            return res.status(400).json({ error: \"Role ID and modules array are required.\" });\n        }\n\n        // Iterate through the modules array and process each module's permissions\n        for (const module of modules) {\n            const { module_id, can_read = false, can_write = false, can_delete = false } = module;\n\n            // Check if the permission already exists for this role & module\n            const [permission, created] = await RoleModulePermission.findOrCreate({\n                where: { role_id: roleId, module_id },\n                defaults: { can_read, can_write, can_delete } // Set defaults if new\n            });\n\n            // If it exists, update the existing record\n            if (!created) {\n                await permission.update({ can_read, can_write, can_delete });\n            }\n        }\n\n        res.status(201).json({ message: \"Permissions assigned  successfully\" });\n    } catch (error) {\n        // Handle unexpected server errors\n        res.status(500).json({ error: \"Internal Server Error: \" + error.message });\n    }\n};\n\n\n\n// Get all role-module permissions\nexport const getAllPermissions = async (req, res) => {\n    try {\n        const permissions = await RoleModulePermission.findAll();\n        res.json(permissions);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Get permissions by role\nexport const getPermissionsByRole = async (req, res) => {\n    try {\n        const { role_id } = req.params;\n        const permissions = await RoleModulePermission.findAll({\n             where: { role_id },\n             include: [{model :Role}, { model: Module }],\n         });\n\n        if (!permissions.length) return res.status(404).json({ error: 'No permissions found for this role' });\n\n        res.json(permissions);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Update role-module permission\n// export const updatePermission = async (req, res) => {\n//     try {\n//         const { role_id, module_id } = req.params;\n//         const { can_read, can_write, can_delete } = req.body;\n\n//         const permission = await RoleModulePermission.findOne({ where: { role_id, module_id } });\n//         if (!permission) return res.status(404).json({ error: 'Permission not found' });\n\n//         await permission.update({ can_read, can_write, can_delete });\n//         res.json({ message: 'Permissions updated successfully', permission });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// Delete role-module permission\nexport const deletePermission = async (req, res) => {\n    try {\n        const { role_id,module_id } = req.body;\n       // const role_id = req.user.role;\n\n        const permission = await RoleModulePermission.findOne({ where: { role_id, module_id } });\n        if (!permission) return res.status(404).json({ error: 'Permission not found' });\n\n        await permission.destroy();\n        res.json({ message: 'Permission deleted successfully' });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport default { assignPermission, getAllPermissions, getPermissionsByRole,  deletePermission };\n","size_bytes":3785},"BackEnd/src/routes/departmentRoutes.js":{"content":"import express from 'express';\nimport departmentController from '../controllers/departmentController.js'\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post('/:moduleId',authenticateUser,checkPermission(\"write\"), departmentController.createDepartment);     \nrouter.get('/:moduleId',authenticateUser, checkPermission(\"read\"),departmentController.getAllDepartments);     \nrouter.get('/:moduleId/:id',authenticateUser, checkPermission(\"read\"),departmentController.getDepartmentById);   \nrouter.put('/:moduleId/:id',authenticateUser, checkPermission(\"write\"),departmentController.updateDepartment);    \nrouter.delete('/:moduleId/:id',authenticateUser,checkPermission(\"delete\"),departmentController.deleteDepartment); \n\nexport default router;","size_bytes":870},"frontend-new/src/assets/theme-dark/components/link.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst link = {\n  defaultProps: {\n    underline: \"none\",\n    color: \"inherit\",\n  },\n};\n\nexport default link;\n","size_bytes":631},"frontend-new/src/assets/theme-dark/components/form/textField.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\n\nconst { transparent } = colors;\n\nconst textField = {\n  styleOverrides: {\n    root: {\n      backgroundColor: transparent.main,\n    },\n  },\n};\n\nexport default textField;\n","size_bytes":786},"qms-source/frontend-new/src/assets/theme-dark/components/button/contained.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { white, text, info, secondary } = colors;\nconst { size } = typography;\n\nconst contained = {\n  base: {\n    backgroundColor: white.main,\n    minHeight: pxToRem(37),\n    color: text.main,\n    padding: `${pxToRem(9)} ${pxToRem(24)}`,\n\n    \"&:hover\": {\n      backgroundColor: white.main,\n    },\n\n    \"&:active, &:active:focus, &:active:hover\": {\n      opacity: 0.85,\n    },\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(16)} !important`,\n    },\n  },\n\n  small: {\n    minHeight: pxToRem(29),\n    padding: `${pxToRem(6)} ${pxToRem(18)}`,\n    fontSize: size.xs,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(12)} !important`,\n    },\n  },\n\n  large: {\n    minHeight: pxToRem(44),\n    padding: `${pxToRem(12)} ${pxToRem(64)}`,\n    fontSize: size.sm,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(22)} !important`,\n    },\n  },\n\n  primary: {\n    backgroundColor: info.main,\n\n    \"&:hover\": {\n      backgroundColor: info.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      backgroundColor: info.focus,\n    },\n  },\n\n  secondary: {\n    backgroundColor: secondary.main,\n\n    \"&:hover\": {\n      backgroundColor: secondary.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      backgroundColor: secondary.focus,\n    },\n  },\n};\n\nexport default contained;\n","size_bytes":2125},"frontend-new/src/pages/onboarding/CompanyName.jsx":{"content":"import React, { useState } from \"react\";\nimport {\n  Container,\n  TextField,\n  Button,\n  Paper,\n  Typography,\n  Box,\n} from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axiosInstance from \"../../services/axiosinstance\";\nconst companyModuleId = \"5d896834-fedd-4e0b-a882-8d05396fc346\";\n\nconst CompanyName = () => {\n  const navigate = useNavigate();\n  const [companyName, setCompanyName] = useState(\"\");\n  const [superAdminName, setSuperAdminName] = useState(\"\");\n  const [superAdminEmail, setSuperAdminEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n  \n    // Validate input fields\n    if (!companyName.trim()) return toast.warning(\"organization Name is required.\");\n    if (!superAdminName.trim())\n      return toast.warning(\"Super Admin Name is required.\");\n    if (!superAdminEmail.trim())\n      return toast.warning(\"Super Admin Email is required.\");\n  \n    setLoading(true);\n  \n    const requestData = {\n      name: companyName,\n      email: superAdminEmail,\n      adminName: superAdminName,\n    };\n  \n    console.log(\"Sending Data:\", requestData);\n  \n    try {\n      const response = await axiosInstance.post(\n        `/companies/${companyModuleId}`,\n        requestData\n      );\n      console.log(\"Response:\", response.data);\n  \n      const { companyId } = response.data;\n      toast.success(`Organization \"${companyName}\" created successfully!`);\n  \n      sessionStorage.setItem(\"companyId\", companyId); // Store company details in sessionStorage\n      sessionStorage.setItem(\"companyName\", companyName);\n  \n      navigate(\"/company-details\", { state: { companyId } });\n    } catch (error) {\n      console.log(\"âŒ Entered catch block\");\n      console.error(\"Error:\", error.response?.data || error);\n  \n      if (!error.response) {\n        toast.error(\"Network issue detected. Please check your internet connection.\");\n        return;\n      }\n  \n      const errorData = error.response.data;\n  \n      // Handle multiple validation errors from backend\n      if (typeof errorData === \"object\" && errorData.errors) {\n        const errorMessages = Object.values(errorData.errors).flat();\n        // Use a Set to avoid duplicate error messages\n        const uniqueErrorMessages = new Set(errorMessages);\n        uniqueErrorMessages.forEach((msg) => toast.error(msg));\n        return;\n      }\n  \n      const backendMessage =\n        errorData?.error || errorData?.message || \"An unexpected error occurred. Please try again.\";\n      \n      // Show the error message only once\n      toast.error(backendMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n\n  // Handle navigation to company details page\n  const handleNext = (companyId, companyName) => {\n    sessionStorage.setItem(\"companyId\", companyId); // Store company details\n    sessionStorage.setItem(\"companyName\", companyName);\n    navigate(\"/company-details\", { state: { companyId } });\n  };\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ py: 4 }}>\n      <Paper\n        elevation={3}\n        sx={{\n          p: { xs: 2, sm: 3 },\n          mx: 4,\n          borderRadius: 2,\n          boxShadow: 3,\n        }}\n      >\n        <Typography\n          variant=\"h5\"\n          sx={{ fontWeight: 600, mb: 3, textAlign: \"left\" }}\n        >\n          Organization Onboarding\n        </Typography>\n\n        <form onSubmit={handleSubmit}>\n          <TextField\n            label=\"organization Name\"\n            variant=\"outlined\"\n            fullWidth\n            value={companyName}\n            onChange={(e) => setCompanyName(e.target.value)}\n            sx={{ mb: 2 }}\n          />\n\n          <TextField\n            label=\"System Admin Name\"\n            variant=\"outlined\"\n            fullWidth\n            value={superAdminName}\n            onChange={(e) => setSuperAdminName(e.target.value)}\n            sx={{ mb: 2 }}\n          />\n\n          <TextField\n            label=\"System Admin Email\"\n            variant=\"outlined\"\n            fullWidth\n            type=\"email\"\n            value={superAdminEmail}\n            onChange={(e) => setSuperAdminEmail(e.target.value)}\n            sx={{ mb: 3 }}\n          />\n\n          <Box display=\"flex\" justifyContent=\"flex-end\">\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              disabled={loading}\n              sx={{\n                px: 3,\n                py: 1.2,\n                fontSize: \"14px\",\n                borderRadius: 2,\n                minWidth: \"140px\",\n                boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n              }}\n            >\n              {loading ? \"Processing...\" : \"Create organization\"}\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default CompanyName;\n","size_bytes":4926},"qms-source/frontend-new/src/assets/theme/components/link.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst link = {\n  defaultProps: {\n    underline: \"none\",\n    color: \"inherit\",\n  },\n};\n\nexport default link;\n","size_bytes":631},"qms-source/frontend-new/src/assets/theme/functions/rgba.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The rgba() function helps you to create a rgba color code, it uses the hexToRgb() function\n  to convert the hex code into rgb for using it inside the rgba color format.\n */\n\n// Material Dashboard 2 React helper functions\nimport hexToRgb from \"assets/theme/functions/hexToRgb\";\n\nfunction rgba(color, opacity) {\n  return `rgba(${hexToRgb(color)}, ${opacity})`;\n}\n\nexport default rgba;\n","size_bytes":912},"qms-source/frontend-new/src/Components/NotificationMenu.jsx":{"content":"import { useState, useEffect, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axiosInstance from \"../services/axiosinstance.js\";\nimport {\n  Menu,\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Divider,\n  Button,\n  Typography,\n  Box,\n} from \"@mui/material\";\nimport NotificationsIcon from \"@mui/icons-material/Notifications\";\nimport { socket, connectSocket, disconnectSocket } from \"../utils/socket.js\"; // WebSocket functions\n\nconst API_URL = \"/notifications\";\n\nconst NotificationMenu = ({ userId }) => {\n  const [notifications, setNotifications] = useState([]);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [showAll, setShowAll] = useState(false);\n  const [token, setToken] = useState(localStorage.getItem(\"jwtToken\"));\n  const navigate = useNavigate();\n\n  //  Fetch unseen notifications on mount\n  useEffect(() => {\n    loadUnseenNotifications();\n  }, []);\n\n  const handleNewNotification = (data) => {\n    console.log(\"New Notification Received:\", data);\n\n    const formatted = {\n      ...data,\n      _id: data._id || data.id,\n      seen: false,\n      created_at: data.created_at || new Date().toISOString(),\n    };\n\n    setNotifications((prev) => {\n      const exists = prev.some((n) => n._id === formatted._id);\n      if (exists) return [...prev];\n      return [formatted, ...prev];\n    });\n  };\n\n  //  WebSocket Connection & Cleanup\n  useEffect(() => {\n    if (!userId) return;\n\n    connectSocket(userId);\n\n    socket\n      .off(\"new_notification\")\n      .on(\"new_notification\", handleNewNotification);\n\n    return () => {\n      socket.off(\"new_notification\", handleNewNotification);\n      disconnectSocket();\n    };\n  }, [userId]); // include in deps\n\n  //  Fetch Unseen Notifications\n  const loadUnseenNotifications = async () => {\n    if (!token) {\n      console.error(\" No token found. Cannot fetch notifications.\");\n      return;\n    }\n    try {\n      const response = await axiosInstance.get(API_URL, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setNotifications(Array.isArray(response.data) ? response.data : []);\n      setShowAll(false);\n    } catch (error) {\n      console.error(\n        \" Error fetching unseen notifications:\",\n        error.response?.data || error.message\n      );\n      setNotifications((prev) => prev.map((n) => ({ ...n, seen: true })));\n    }\n  };\n\n  //  Mark Notifications as Seen\n  const markNotificationsAsSeen = async () => {\n    if (!token) {\n      console.error(\" No token found. Cannot mark notifications.\");\n      return;\n    }\n    try {\n      await axiosInstance.post(\n        `${API_URL}/mark-seen`,\n        {},\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      // Update local UI state to reflect seen status without clearing\n      setNotifications((prev) => prev.map((n) => ({ ...n, seen: true })));\n    } catch (error) {\n      console.error(\n        \" Error marking notifications as seen:\",\n        error.response?.data || error.message\n      );\n    }\n  };\n\n  //  Load All Notifications (Toggle Feature)\n  const toggleNotifications = async () => {\n    if (!token) {\n      console.error(\"No token found. Cannot fetch notifications.\");\n      return;\n    }\n\n    if (showAll) {\n      loadUnseenNotifications();\n    } else {\n      try {\n        const response = await axiosInstance.get(`${API_URL}/all`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setNotifications(Array.isArray(response.data) ? response.data : []);\n        setShowAll(true);\n      } catch (error) {\n        console.error(\n          \" Error fetching all notifications:\",\n          error.response?.data || error.message\n        );\n        setNotifications([]);\n      }\n    }\n  };\n\n  const handleOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = async () => {\n    setAnchorEl(null);\n    await markNotificationsAsSeen();\n  };\n\n  //  Handle Notification Click\n  const handleNotificationClick = (notif) => {\n    handleClose();\n    navigate(notif.link || \"/tasks\");\n  };\n\n  console.log(\" Notifications state:\", notifications);\n  console.log(\" Unseen count:\", notifications.filter((n) => !n.seen).length);\n\n  return (\n    <div>\n      <IconButton onClick={handleOpen}>\n        <Badge\n          badgeContent={notifications.filter((n) => !n.seen).length}\n          color=\"error\"\n        >\n          <NotificationsIcon fontSize=\"large\" />\n        </Badge>\n      </IconButton>\n\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        sx={{\n          \"& .MuiPaper-root\": {\n            width: 300,\n            borderRadius: 2,\n            boxShadow: 3,\n          },\n        }}\n      >\n        <Box sx={{ p: 2, borderBottom: \"1px solid #ddd\", textAlign: \"center\" }}>\n          <Typography variant=\"h6\" fontWeight=\"bold\">\n            Notifications\n          </Typography>\n        </Box>\n\n        <List\n          sx={{\n            maxHeight: 300,\n            overflowY: \"auto\",\n            \"&::-webkit-scrollbar\": {\n              width: \"5px\",\n            },\n            \"&::-webkit-scrollbar-thumb\": {\n              background: \"#888\",\n              borderRadius: \"5px\",\n            },\n          }}\n        >\n          {notifications.length === 0 ? (\n            <ListItem sx={{ justifyContent: \"center\", py: 2 }}>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                No new notifications\n              </Typography>\n            </ListItem>\n          ) : (\n            notifications.map((notif, index) => (\n              <div key={notif._id}>\n                <ListItem\n                  sx={{\n                    px: 2,\n                    cursor: \"pointer\",\n                    \"&:hover\": { backgroundColor: \"#f5f5f5\" },\n                  }}\n                  onClick={() => handleNotificationClick(notif)}\n                >\n                  <ListItemText\n                    primary={\n                      <Typography variant=\"body1\">{notif.message}</Typography>\n                    }\n                    secondary={\n                      <Typography\n                        variant=\"caption\"\n                        color=\"text.secondary\"\n                        sx={{\n                          fontWeight: \"bold\", \n                          fontSize: \"0.875rem\", \n                          color: \"#007BFF\", \n                          display: \"block\",\n                          marginTop: \"4px\", \n                          textTransform: \"uppercase\", \n                        }}\n                      >\n                        {new Date(notif.created_at).toLocaleString()}\n                      </Typography>\n                    }\n                  />\n                </ListItem>\n                {index !== notifications.length - 1 && <Divider />}\n              </div>\n            ))\n          )}\n        </List>\n\n        <Button\n          fullWidth\n          variant=\"contained\"\n          onClick={toggleNotifications}\n          sx={{\n            mt: 1,\n            backgroundColor: showAll ? \"#DC3545\" : \"#007BFF\",\n            color: \"white\",\n            \"&:hover\": { backgroundColor: showAll ? \"#B22222\" : \"#0056b3\" },\n          }}\n        >\n          {showAll ? \"Show Unseen Only\" : \"View All Notifications\"}\n        </Button>\n      </Menu>\n    </div>\n  );\n};\n\nexport default NotificationMenu;\n","size_bytes":7386},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"qms-source/frontend-new/src/assets/theme/functions/boxShadow.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The boxShadow() function helps you to create a box shadow for an element\n */\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"../../../assets/theme/functions/rgba\";\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nfunction boxShadow(offset = [], radius = [], color, opacity, inset = \"\") {\n  const [x, y] = offset;\n  const [blur, spread] = radius;\n\n  return `${inset} ${pxToRem(x)} ${pxToRem(y)} ${pxToRem(blur)} ${pxToRem(spread)} ${rgba(\n    color,\n    opacity\n  )}`;\n}\n\nexport default boxShadow;\n","size_bytes":1050},"qms-source/frontend-new/src/pages/TaskManagement/TaskList.jsx":{"content":"import React, { useEffect, useState, useRef } from \"react\";\nimport { useParams, useNavigate, useLocation } from \"react-router-dom\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast } from \"react-toastify\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport { CircularProgress } from \"@mui/material\";\nimport {\n  Paper,\n  Button,\n  IconButton,\n  TextField,\n  Box,\n  Typography,\n  Grid,\n  Grid2,\n  MenuItem,\n  Tooltip,\n} from \"@mui/material\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport HistoryIcon from \"@mui/icons-material/History\";\nimport {\n  Edit as EditIcon,\n  Delete as DeleteIcon,\n  AttachFileOutlined,\n  FilePresentOutlined,\n} from \"@mui/icons-material\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport FileDownloadIcon from \"@mui/icons-material/FileDownload\";\nimport jsPDF from \"jspdf\";\nimport html2canvas from \"html2canvas\";\nimport { format } from \"date-fns\";\nimport \"../../styles/UploadPopup.css\";\n\nconst TaskList = () => {\n  const navigate = useNavigate();\n  const [tasks, setTasks] = useState([]);\n  const [userRole, setUserRole] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const params = useParams();\n  const [taskAssignments, setTaskAssignments] = useState({});\n  const [companyName, setCompanyName] = useState(\"\");\n  const [documents, setDocuments] = useState({});\n  const [comments, setComments] = useState({});\n  const [isPopupOpen, setIsPopupOpen] = useState(false);\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [isViewDocumentsPopupOpen, setIsViewDocumentsPopupOpen] =\n    useState(false);\n  const [open, setOpen] = useState(false);\n  const [openLogModal, setOpenLogModal] = useState(false);\n  const [taskChangeLog, setTaskChangeLog] = useState([]);\n  const [checklistItem, setChecklistItem] = useState(\"\");\n  const scrollContentRef = useRef(null);\n  const [iterations, setIterations] = useState([]);\n  const location = useLocation();\n  const [iterationId, setIterationId] = useState(\n    location.state?.iterationId || \"\"\n  );\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n  const [selectedDocument, setSelectedDocument] = useState(null);\n  const [uploading, setUploading] = useState(false);\n\n  const [filters, setFilters] = useState({\n    task_type: \"\",\n    status: \"\",\n    priority: \"\",\n    auditee: \"\",\n  });\n  const [paginationModel, setPaginationModel] = useState({\n    pageSize: 5,\n    page: 0,\n  });\n\n  const userId = localStorage.getItem(\"userId\");\n  const moduleId = \"1f0f190d-3a83-421c-af98-5d081100230e\";\n  const Doc_moduleId = \"cb5010bc-83fd-4409-9845-bbba4ceda9c8\";\n  const TaskChangeLog_moduleid = \"2566950b-1718-4440-8b8d-d5ec94624d0f\";\n\n  useEffect(() => {\n    const fetchUsersAndTasks = async () => {\n      let token = localStorage.getItem(\"jwtToken\");\n      let company_id = sessionStorage.getItem(\"selectedCompany\");\n      let company_name = sessionStorage.getItem(\"companyname\");\n      let role = localStorage.getItem(\"userRole\");\n      setUserRole(role);\n      setCompanyName(company_name || \"\");\n\n      if (!token) {\n        toast.error(\"Session expired! Please log in.\");\n        navigate(\"/login\");\n        return;\n      }\n\n      const headers = { Authorization: `Bearer ${token}` };\n\n      try {\n        const [\n          usersResponse,\n          tasksResponse,\n          assignmentsResponse,\n          iterationsResponse,\n        ] = await Promise.all([\n          axiosInstance.get(`/users/${moduleId}`, {\n            headers,\n            params: { company_id },\n          }),\n          axiosInstance.get(`/tasks/${moduleId}`, {\n            headers,\n            params: { company_id, iteration_id: iterationId || undefined },\n          }),\n          axiosInstance.get(`/task-assignments/${moduleId}`, {\n            headers,\n            params: { company_id },\n          }),\n          axiosInstance.get(`/iteration/${moduleId}`, {\n            headers,\n            params: { company_id },\n          }),\n        ]);\n\n        setUsers(usersResponse.data || []);\n        setTasks(\n          (tasksResponse.data || []).map((task, index) => ({\n            srNo: index + 1,\n            ...task,\n          }))\n        );\n        setIterations(iterationsResponse.data || []);\n\n        const assignments = assignmentsResponse.data.reduce(\n          (acc, assignment) => {\n            acc[assignment.task_id] = assignment.user_ids\n              .map((id) => usersResponse.data.find((user) => user.id === id))\n              .filter(Boolean);\n            return acc;\n          },\n          {}\n        );\n\n        setTaskAssignments(assignments);\n      } catch (error) {\n        toast.error(\"Failed to load data.\");\n        console.error(\"Error fetching data:\", error.response?.data || error);\n      }\n    };\n\n    fetchUsersAndTasks();\n  }, [navigate, iterationId]);\n\n  const handleDelete = (taskId) => {\n    let token = localStorage.getItem(\"jwtToken\");\n    if (!token) {\n      toast.error(\"Session expired. Please log in again.\");\n      navigate(\"/login\");\n      return;\n    }\n\n    const ConfirmDeleteToast = ({ closeToast }) => (\n      <div>\n        <p>Are you sure you want to delete this task?</p>\n        <div style={{ display: \"flex\", justifyContent: \"center\", gap: \"10px\" }}>\n          <Button\n            variant=\"contained\"\n            color=\"error\"\n            size=\"small\"\n            onClick={async () => {\n              try {\n                const headers = { Authorization: `Bearer ${token}` };\n                await axiosInstance.delete(`/tasks/${moduleId}/${taskId}`, {\n                  headers,\n                });\n\n                toast.success(\"Task deleted successfully!\");\n                setTasks((prevTasks) =>\n                  prevTasks.filter((task) => task.id !== taskId)\n                );\n              } catch (error) {\n                console.error(\n                  \"Error deleting task:\",\n                  error.response?.data || error\n                );\n                toast.error(\"Failed to delete task. Please try again.\");\n              }\n              closeToast(); // Close the toast after the action\n            }}\n          >\n            Yes\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={closeToast}\n          >\n            No\n          </Button>\n        </div>\n      </div>\n    );\n\n    // Show the confirmation toast\n    toast.info(<ConfirmDeleteToast />, {\n      autoClose: false,\n      closeOnClick: false,\n    });\n  };\n\n  const handleFileUpload = async (taskId) => {\n    const selectedFiles = documents[taskId]; // Get selected files from the state\n    if (!selectedFiles || selectedFiles.length === 0) {\n      toast.error(\"Please select at least one file before uploading.\");\n      return;\n    }\n\n    let token = localStorage.getItem(\"jwtToken\");\n    const userId = localStorage.getItem(\"userId\");\n    const remark = comments[taskId] || \"\"; // Get comment for the task\n\n    const formData = new FormData();\n    selectedFiles.forEach((f) => formData.append(\"documents\", f)); // Append each file\n    formData.append(\"task_id\", taskId);\n    formData.append(\"user_id\", userId);\n    formData.append(\"remark\", remark);\n    formData.append(\"company_id\", sessionStorage.getItem(\"selectedCompany\"));\n\n    setUploading(true);\n\n    try {\n      const uploadResponse = await axiosInstance.post(\n        `/documents/${Doc_moduleId}`,\n        formData,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      );\n\n      toast.success(\"Documents uploaded successfully!\");\n\n      // Clear file input after successful upload\n      setDocuments((prevDocs) => ({ ...prevDocs, [taskId]: [] }));\n      setComments((prev) => ({ ...prev, [taskId]: \"\" })); // Clear the comment as well\n      setIsPopupOpen(false); // Close the upload popup\n    } catch (error) {\n      console.error(\"Upload Failed:\", error.response?.data || error);\n      toast.error(\"Failed to upload document.\");\n    } finally {\n      setUploading(false); // STOP loading spinner\n    }\n  };\n\n  const fetchDocumentsByTask = async (taskId) => {\n    try {\n      let token = localStorage.getItem(\"jwtToken\");\n      const response = await axiosInstance.get(\n        `/documents/${Doc_moduleId}/${taskId}`,\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      const data = response.data;\n      setDocuments(data);\n      console.log(\"Documents fetched:\", data);\n\n      return data;\n    } catch (error) {\n      console.error(\"Error fetching documents:\", error);\n      setDocuments([]);\n      return [];\n    }\n  };\n\n  const handleDeleteDoc = async (taskId, documentId) => {\n    if (!Doc_moduleId || !documentId) {\n      toast.error(\"Missing document module ID or document ID.\");\n      return;\n    }\n\n    let token = localStorage.getItem(\"jwtToken\");\n    if (!token) {\n      toast.error(\"Session expired. Please log in again.\");\n      navigate(\"/login\");\n      return;\n    }\n\n    try {\n      const headers = { Authorization: `Bearer ${token}` };\n      await axiosInstance.delete(`/documents/${Doc_moduleId}/${documentId}`, {\n        headers,\n      });\n\n      toast.success(\"Document deleted successfully!\");\n      setOpen(false);\n\n      // Remove the deleted document from the UI\n      setDocuments((prevDocuments) =>\n        prevDocuments.filter((doc) => doc.id !== documentId)\n      );\n\n      // Close the dialog after deletion\n      setOpen(false);\n    } catch (error) {\n      console.error(\"Error deleting document:\", error.response?.data || error);\n      toast.error(\"Failed to delete document.\");\n    }\n  };\n\n  const handleViewChangeLog = async (moduleId, taskId, name) => {\n    const token = localStorage.getItem(\"jwtToken\");\n    setChecklistItem(name);\n    try {\n      const response = await axiosInstance.get(\n        `/taskChangeLog/${TaskChangeLog_moduleid}/${taskId}`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      const data = response.data;\n\n      console.log(\"Raw task changelog response:\", data); // Debugging log\n\n      if (Array.isArray(data)) {\n        setTaskChangeLog(data);\n      } else {\n        console.warn(\"Expected array but got:\", data);\n        setTaskChangeLog([]);\n      }\n\n      setOpenLogModal(true);\n    } catch (error) {\n      console.error(\"Error fetching task changelog:\", error);\n      setTaskChangeLog([]);\n    }\n  };\n\n  const handleDownloadLogsAsPDF = async () => {\n    const input = scrollContentRef.current;\n    if (!input) return;\n\n    // Temporarily add task title inside scroll area\n    const titleDiv = document.createElement(\"div\");\n    titleDiv.innerText = `Task: ${checklistItem || \"Unnamed Task\"}`;\n    titleDiv.style.fontSize = \"15px\";\n    titleDiv.style.fontWeight = \"bold\";\n    titleDiv.style.marginBottom = \"16px\";\n    titleDiv.style.textAlign = \"center\";\n    input.prepend(titleDiv);\n\n    // Remove scroll limitation temporarily\n    const originalMaxHeight = input.style.maxHeight;\n    const originalOverflow = input.style.overflow;\n\n    input.style.maxHeight = \"none\";\n    input.style.overflow = \"visible\";\n\n    await new Promise((res) => setTimeout(res, 100)); // wait for DOM\n\n    const canvas = await html2canvas(input, { scale: 2, useCORS: true });\n    const imgData = canvas.toDataURL(\"image/png\");\n\n    const pdf = new jsPDF(\"p\", \"mm\", \"a4\");\n    const pdfWidth = pdf.internal.pageSize.getWidth();\n    const pdfHeight = pdf.internal.pageSize.getHeight();\n\n    const imgProps = pdf.getImageProperties(imgData);\n    const imgWidth = pdfWidth;\n    const imgHeight = (imgProps.height * imgWidth) / imgProps.width;\n\n    let heightLeft = imgHeight;\n    let position = 0;\n\n    // First page\n    pdf.setFontSize(16);\n    pdf.setFont(\"helvetica\", \"bold\");\n    pdf.text(checklistItem || \"Task Log\", 10, 15);\n    pdf.addImage(imgData, \"PNG\", 0, position, imgWidth, imgHeight);\n    heightLeft -= pdfHeight;\n\n    // Add extra pages if needed\n    while (heightLeft > 0) {\n      position = heightLeft - imgHeight;\n      pdf.addPage();\n      pdf.addImage(imgData, \"PNG\", 0, position, imgWidth, imgHeight);\n      heightLeft -= pdfHeight;\n    }\n\n    pdf.save(`${checklistItem || \"task-log\"}.pdf`);\n\n    // Restore original styles\n    input.style.maxHeight = originalMaxHeight;\n    input.style.overflow = originalOverflow;\n  };\n\n  const handleSaveEdit = async () => {\n    try {\n      const { id, remark, issue_date, module_id } = selectedDocument;\n      const token = localStorage.getItem(\"jwtToken\");\n\n      const response = await axiosInstance.put(\n        `/documents/${moduleId}/${id}`,\n        { remark, issue_date },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      toast.success(\"Document updated successfully\");\n\n      // Refresh document list after edit\n      const updatedDocs = await fetchDocumentsByTask(selectedTask);\n      setDocuments(updatedDocs);\n\n      setEditDialogOpen(false);\n    } catch (err) {\n      console.error(\n        \"Update failed:\",\n        err.response?.status,\n        err.response?.data || err.message\n      );\n      toast.error(\"Failed to update document\");\n    }\n  };\n\n  const handleEditClick = (doc) => {\n    const parsedDate =\n      doc.issue_date && !isNaN(new Date(doc.issue_date).getTime())\n        ? new Date(doc.issue_date).toISOString().split(\"T\")[0]\n        : \"\"; // fallback\n\n    setSelectedDocument({\n      ...doc,\n      issue_date: parsedDate,\n    });\n\n    setEditDialogOpen(true);\n  };\n\n  const formatDateForInput = (dateValue) => {\n    const date = new Date(dateValue);\n    return !isNaN(date.getTime()) ? date.toISOString().split(\"T\")[0] : \"\";\n  };\n\n  // Datagrid columns\n  const columns = [\n    {\n      field: \"srNo\",\n      headerName: \"Sr.No.\",\n      width: 80,\n      sortable: false,\n      filterable: false,\n    },\n    { field: \"auditee\", headerName: \"Auditee\", width: 150 },\n    { field: \"area\", headerName: \"Area\", width: 150 },\n    { field: \"Checklist_Item\", headerName: \"Checklist Item\", width: 300 },\n    { field: \"notes\", headerName: \"Notes\", width: 180 },\n    { field: \"Type_of_Finding\", headerName: \"Type of Finding\", width: 180 },\n    { field: \"status\", headerName: \"Status\", width: 180 },\n    { field: \"description\", headerName: \"Description\", width: 250 },\n    { field: \"standard\", headerName: \"Standard\", width: 150 },\n    { field: \"priority\", headerName: \"Priority\", width: 120 },\n    { field: \"responsibility\", headerName: \"Responsibility\", width: 180 },\n    { field: \"RCA_Details\", headerName: \"RCA Details\", width: 250 },\n    {\n      field: \"created_at\",\n      headerName: \"Task Created\",\n      width: 180,\n      renderCell: (params) => {\n        const value = params?.value;\n        return value ? format(new Date(value), \"PPpp\") : \"N/A\";\n      },\n    },\n    {\n      field: \"assigned_users\",\n      headerName: \"Assigned Users\",\n      width: 200,\n      renderCell: (cell) => {\n        return (\n          <Box>\n            {taskAssignments[cell.row.id]\n              ?.map((user) =>\n                user?.name\n                  ? `${user.name}${\n                      user.department?.name ? ` (${user.department.name})` : \"\"\n                    }`\n                  : \"Unknown\"\n              )\n              .join(\", \")}\n          </Box>\n        );\n      },\n      sortComparator: (a, b, rowA, rowB) => {\n        const usersA = taskAssignments[rowA.id] || [];\n        const usersB = taskAssignments[rowB.id] || [];\n        const nameA = (usersA[0]?.name || \"\").toLowerCase();\n        const nameB = (usersB[0]?.name || \"\").toLowerCase();\n        return nameA.localeCompare(nameB);\n      },\n    },\n    {\n      field: \"document\",\n      headerName: \"Document\",\n      width: 180,\n      renderCell: (cell) => (\n        <Box sx={{ display: \"flex\", justifyContent: \"space-around\" }}>\n          <IconButton\n            title=\"View document\"\n            onClick={async () => {\n              const docs = await fetchDocumentsByTask(cell.row.id);\n\n              if (!docs || docs.length === 0) {\n                // Show alert toast instead of opening popup\n                toast.warning(\"No documents available.\");\n                return;\n              }\n              setDocuments(docs || []);\n              setSelectedTask(cell.row.id);\n              setIsViewDocumentsPopupOpen(true);\n            }}\n          >\n            <FilePresentOutlined />\n          </IconButton>\n\n          <IconButton\n            title=\"Attach document\"\n            onClick={() => {\n              setSelectedTask(cell.row.id);\n              setIsPopupOpen(true);\n            }}\n          >\n            <AttachFileOutlined />\n          </IconButton>\n        </Box>\n      ),\n    },\n    {\n      field: \"Planned_Completion_Date\",\n      headerName: \"Planned Completion Date\",\n      width: 180,\n      renderCell: (params) =>\n        params.value ? format(new Date(params.value), \"dd MMM yyyy\") : \"N/A\",\n    },\n    {\n      field: \"Actual_Completion_Date\",\n      headerName: \"Actual Completion Date\",\n      width: 180,\n      renderCell: (params) =>\n        params.value ? format(new Date(params.value), \"dd MMM yyyy\") : \"N/A\",\n    },\n\n    {\n      field: \"clause_number\",\n      headerName: \"Reference - Clause\",\n      width: 150,\n    },\n\n    {\n      field: \"actions\",\n      headerName: \"Actions\",\n      width: 150,\n      renderCell: (cell) => {\n        return (\n          <Box sx={{ display: \"flex\", justifyContent: \"space-between\" }}>\n            <IconButton\n              color=\"primary\"\n              onClick={() =>\n                navigate(`/edit-task/${moduleId}/${cell.row.id}`, {\n                  state: { iterationId },\n                })\n              }\n            >\n              <EditIcon />\n            </IconButton>\n            &nbsp;&nbsp;\n            <IconButton color=\"error\" onClick={() => handleDelete(cell.row.id)}>\n              <DeleteIcon />\n            </IconButton>\n            <IconButton\n              onClick={() =>\n                handleViewChangeLog(\n                  cell.row.moduleId,\n                  cell.row.id,\n                  cell.row.Checklist_Item\n                )\n              }\n              title=\"View Change Log\"\n            >\n              <HistoryIcon fontSize=\"small\" sx={{ color: \"#1976d2\" }} />\n            </IconButton>\n          </Box>\n        );\n      },\n    },\n  ];\n\n  // main renderer\n  return (\n    <Paper\n      elevation={4}\n      sx={{ borderRadius: \"0.5rem\", marginLeft: 4, marginRight: 2 }}\n    >\n      <Grid2 container sx={{ padding: 2 }}>\n        <Grid2 size={{ xs: 12, lg: 9 }} mb={4}>\n          <Typography sx={{ fontWeight: \"bold\" }} variant=\"h4\">\n            Compliance Management\n          </Typography>\n          {userRole === \"System Super Admin\" && (\n            <Typography variant=\"h4\">Company: {companyName}</Typography>\n          )}\n        </Grid2>\n        <Grid2 size={{ xs: 12, lg: 3 }}>\n          <Box sx={{ display: \"flex\", justifyContent: \"end\" }}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => navigate(\"/select-iteration\")}\n              sx={{ display: \"inline-block\", marginRight: 3 }}\n            >\n              Upload Tasks\n            </Button>\n\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => navigate(\"/create-task\")}\n              className=\"add-task-btn\"\n            >\n              Add Task\n            </Button>\n          </Box>\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 4 }}>\n          <TextField\n            select\n            label=\"Filter by Iteration\"\n            value={iterationId}\n            onChange={(e) => setIterationId(e.target.value)}\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n            margin=\"normal\"\n            InputLabelProps={{ shrink: true }}\n            SelectProps={{\n              displayEmpty: true,\n              MenuProps: {\n                anchorOrigin: { vertical: \"bottom\", horizontal: \"left\" },\n                transformOrigin: { vertical: \"top\", horizontal: \"left\" },\n                PaperProps: {\n                  style: { maxHeight: 250, width: \"auto\" },\n                },\n              },\n            }}\n            sx={{\n              minWidth: 200,\n              \"& .MuiOutlinedInput-root\": {\n                borderRadius: 1,\n              },\n              \"& .MuiInputLabel-root\": {\n                color: \"rgba(0, 0, 0, 0.6)\",\n              },\n            }}\n          >\n            <MenuItem value=\"\">All Iterations</MenuItem>\n            {iterations.map((iter) => (\n              <MenuItem key={iter.id} value={iter.id}>\n                {iter.name}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid2>\n\n        <Grid2\n          size={{ xs: 12, md: 12, lg: 12 }}\n          sx={{\n            maxWidth: \"100%\",\n            overflow: \"hidden\",\n            mt: { xs: 2, sm: 0 },\n          }}\n        >\n          <Grid2\n            size={{ xs: 12, md: 12, lg: 12 }}\n            sx={{\n              maxWidth: \"100%\",\n              overflowX: \"auto\", //  This enables horizontal scrolling\n              overflowY: \"hidden\", //   This hides vertical scrolling\n              mt: { xs: 2, sm: 0 },\n            }}\n          ></Grid2>\n          <DataGrid\n            rows={tasks}\n            columns={columns}\n            pagination\n            paginationModel={paginationModel}\n            onPaginationModelChange={setPaginationModel}\n            pageSizeOptions={[5, 10, 25]}\n            sx={{\n              fontSize: \"1rem\",\n              \"& .MuiDataGrid-cell\": {\n                whiteSpace: \"normal\",\n                wordWrap: \"break-word\",\n                display: \"flex\",\n                alignItems: \"center\",\n                paddingY: 1,\n              },\n            }}\n            initialState={{\n              pinnedColumns: { left: [\"auditee\"] },\n            }}\n            getRowHeight={() => \"auto\"}\n          />\n        </Grid2>\n\n        {isPopupOpen && (\n          <Dialog\n            open={isPopupOpen}\n            onClose={() => setIsPopupOpen(false)}\n            fullWidth\n            maxWidth=\"sm\"\n          >\n            <DialogTitle>Upload Document</DialogTitle>\n            <DialogContent>\n              {/* File Upload Section */}\n              <div className=\"file-upload-section\">\n                <label className=\"custom-file-input\">\n                  <input\n                    type=\"file\"\n                    multiple\n                    onChange={(e) => {\n                      const selectedFiles = Array.from(e.target.files);\n                      if (selectedFiles.length > 0) {\n                        setDocuments((prevDocs) => ({\n                          ...prevDocs,\n                          [selectedTask]: selectedFiles,\n                        }));\n                      }\n                    }}\n                  />\n\n                  <span className=\"custom-file-button\">Browse File</span>\n                </label>\n\n                {/* Show selected file name */}\n                {Array.isArray(documents[selectedTask]) &&\n                  documents[selectedTask].length > 0 && (\n                    <Box sx={{ mt: 1 }}>\n                      <Typography variant=\"body2\" fontWeight={500}>\n                        Selected Files:\n                      </Typography>\n                      <ul style={{ margin: 0, paddingLeft: \"1rem\" }}>\n                        {documents[selectedTask].map((file, index) => (\n                          <li key={index}>\n                            <Typography variant=\"body2\">{file.name}</Typography>\n                          </li>\n                        ))}\n                      </ul>\n                    </Box>\n                  )}\n\n                {/* Comment Input */}\n                <TextField\n                  fullWidth\n                  label=\"File Comment\"\n                  variant=\"outlined\"\n                  className=\"comment-box\"\n                  placeholder=\"Add a comment...\"\n                  value={comments[selectedTask] || \"\"}\n                  onChange={(e) =>\n                    setComments((prev) => ({\n                      ...prev,\n                      [selectedTask]: e.target.value,\n                    }))\n                  }\n                  margin=\"normal\"\n                />\n              </div>\n            </DialogContent>\n\n            {/*Buttons*/}\n            <DialogActions className=\"button-group\">\n              <Button\n                className=\"MuiButton-outlinedSecondary\"\n                onClick={() => setIsPopupOpen(false)}\n              >\n                Cancel\n              </Button>\n              <Button\n                className=\"MuiButton-containedPrimary\"\n                onClick={() => handleFileUpload(selectedTask)}\n                disabled={uploading}\n                startIcon={\n                  uploading ? (\n                    <CircularProgress size={20} color=\"inherit\" />\n                  ) : null\n                }\n              >\n                {uploading ? \"Uploading...\" : \"Upload\"}\n              </Button>\n            </DialogActions>\n          </Dialog>\n        )}\n\n        <Dialog open={editDialogOpen} onClose={() => setEditDialogOpen(false)}>\n          <DialogTitle>Edit Document</DialogTitle>\n          <DialogContent>\n            <TextField\n              label=\"Remark\"\n              fullWidth\n              margin=\"dense\"\n              value={selectedDocument?.remark || \"\"}\n              onChange={(e) =>\n                setSelectedDocument({\n                  ...selectedDocument,\n                  remark: e.target.value,\n                })\n              }\n            />\n            <TextField\n              label=\"Issue Date\"\n              type=\"date\"\n              fullWidth\n              margin=\"dense\"\n              InputLabelProps={{ shrink: true }}\n              // value={\n              //   selectedDocument?.issue_date &&\n              //   !isNaN(new Date(selectedDocument.issue_date).getTime())\n              //     ? new Date(selectedDocument.issue_date)\n              //         .toISOString()\n              //         .split(\"T\")[0]\n              //     : \"\"\n              // }\n              value={formatDateForInput(selectedDocument?.issue_date)}\n              onChange={(e) =>\n                setSelectedDocument({\n                  ...selectedDocument,\n                  issue_date: e.target.value,\n                })\n              }\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => setEditDialogOpen(false)}>Cancel</Button>\n            <Button variant=\"contained\" onClick={handleSaveEdit}>\n              Save\n            </Button>\n          </DialogActions>\n        </Dialog>\n\n        {isViewDocumentsPopupOpen && (\n          <Dialog\n            open={isViewDocumentsPopupOpen}\n            onClose={() => setIsViewDocumentsPopupOpen(false)}\n            fullWidth\n            maxWidth=\"xl\"\n            PaperProps={{\n              sx: {\n                maxWidth: \"95vw\",\n                borderRadius: 2,\n                overflow: \"hidden\",\n              },\n            }}\n          >\n            <DialogTitle\n              sx={{\n                fontWeight: 600,\n                fontSize: \"1.5rem\",\n                backgroundColor: \"#f9f9f9\",\n                px: 3,\n                py: 2,\n                borderBottom: \"1px solid #e0e0e0\",\n              }}\n            >\n              View Uploaded Documents\n            </DialogTitle>\n\n            <DialogContent\n              sx={{\n                maxHeight: \"75vh\",\n                overflow: \"auto\",\n                p: 2,\n                backgroundColor: \"#fff\",\n              }}\n            >\n              {Array.isArray(documents) && documents.length > 0 ? (\n                <Box sx={{ minWidth: \"1000px\", overflowX: \"auto\" }}>\n                  <DataGrid\n                    autoHeight\n                    rows={documents.map((doc, index) => ({\n                      ...doc,\n                      id: doc.id || index,\n                      file_name: doc.file_name,\n                      remark: doc.remark || \"No remark provided\",\n                      uploader: doc.uploader?.name || \"Unknown\",\n                      uploaded_at: doc.uploaded_at\n                        ? new Date(doc.uploaded_at).toLocaleString()\n                        : \"N/A\",\n                      issue_version:\n                        doc.issue_version ||\n                        (doc.file_name?.match(/_v(\\d+)_/)?.[1]\n                          ? `v${doc.file_name.match(/_v(\\d+)_/)[1]}`\n                          : \"N/A\"),\n                      file_url: doc.file_url,\n                      module_id: doc.module_id,\n                    }))}\n                    columns={[\n                      {\n                        field: \"file_name\",\n                        headerName: \"Document File Name\",\n                        flex: 2,\n                        minWidth: 280,\n                      },\n                      {\n                        field: \"remark\",\n                        headerName: \"Remark\",\n                        flex: 1,\n                        minWidth: 200,\n                      },\n                      {\n                        field: \"uploader\",\n                        headerName: \"Uploaded by\",\n                        flex: 1,\n                      },\n                      {\n                        field: \"uploaded_at\",\n                        headerName: \"Uploaded on\",\n                        flex: 1,\n                      },\n                      {\n                        field: \"file_url\",\n                        headerName: \"File Link\",\n                        flex: 1,\n                        renderCell: (params) => (\n                          <a\n                            href={params.value}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            style={{\n                              color: \"#1976d2\",\n                              textDecoration: \"underline\",\n                              fontWeight: 500,\n                            }}\n                          >\n                            Open\n                          </a>\n                        ),\n                      },\n                      {\n                        field: \"delete\",\n                        headerName: \"Actions\",\n                        flex: 1,\n                        sortable: false,\n                        filterable: false,\n                        renderCell: (params) => (\n                          <>\n                            <Tooltip title=\"Edit\">\n                              <IconButton\n                                onClick={() => handleEditClick(params.row)}\n                                color=\"primary\"\n                              >\n                                <EditIcon />\n                              </IconButton>\n                            </Tooltip>\n                            <Tooltip title=\"Delete\">\n                              <IconButton\n                                onClick={() =>\n                                  handleDeleteDoc(\n                                    params.row.module_id,\n                                    params.row.id\n                                  )\n                                }\n                                color=\"error\"\n                              >\n                                <DeleteIcon />\n                              </IconButton>\n                            </Tooltip>\n                          </>\n                        ),\n                      },\n                      {\n                        field: \"id\",\n                        headerName: \"Document ID\",\n                        flex: 1,\n                        renderCell: (params) => {\n                          const fullId = params.value || \"N/A\";\n                          const truncated =\n                            fullId.length > 16\n                              ? `${fullId.slice(0, 8)}...${fullId.slice(-6)}`\n                              : fullId;\n                          return (\n                            <Tooltip title={fullId} arrow>\n                              <Typography\n                                variant=\"body2\"\n                                sx={{\n                                  fontFamily: \"monospace\",\n                                  whiteSpace: \"nowrap\",\n                                  overflow: \"hidden\",\n                                  textOverflow: \"ellipsis\",\n                                  width: \"100%\",\n                                }}\n                              >\n                                {truncated}\n                              </Typography>\n                            </Tooltip>\n                          );\n                        },\n                      },\n                      {\n                        field: \"issue_version\",\n                        headerName: \"Version\",\n                        flex: 1,\n                      },\n                      {\n                        field: \"issue_date\",\n                        headerName: \"Issue Date\",\n                        flex: 1,\n                        renderCell: (params) =>\n                          params.value &&\n                          !isNaN(new Date(params.value).getTime())\n                            ? new Date(params.value).toLocaleDateString()\n                            : \"N/A\",\n                      },\n                    ]}\n                    initialState={{\n                      pagination: {\n                        paginationModel: { pageSize: 5, page: 0 },\n                      },\n                    }}\n                    pageSizeOptions={[5, 10, 25]}\n                    disableRowSelectionOnClick\n                    getRowHeight={() => 64} // Increased from default (~52)\n                    sx={{\n                      fontSize: \"0.95rem\",\n                      \"& .MuiDataGrid-columnHeaders\": {\n                        backgroundColor: \"#f5f5f5\",\n                        fontWeight: \"bold\",\n                        fontSize: \"0.95rem\",\n                      },\n                      \"& .MuiDataGrid-row:nth-of-type(odd)\": {\n                        backgroundColor: \"#fafafa\",\n                      },\n                      \"& .MuiDataGrid-cell\": {\n                        whiteSpace: \"normal\",\n                        wordWrap: \"break-word\",\n                        lineHeight: \"1.6\",\n                        paddingTop: \"12px\",\n                        paddingBottom: \"12px\",\n                      },\n                    }}\n                  />\n                </Box>\n              ) : (\n                <Typography\n                  variant=\"body1\"\n                  color=\"text.secondary\"\n                  sx={{ textAlign: \"center\", mt: 3 }}\n                >\n                  No documents available for this task.\n                </Typography>\n              )}\n            </DialogContent>\n            <DialogActions className=\"button-group\">\n              <Button\n                className=\"MuiButton-outlinedSecondary\"\n                onClick={() => setIsViewDocumentsPopupOpen(false)}\n              >\n                Close\n              </Button>\n            </DialogActions>\n          </Dialog>\n        )}\n\n        <Dialog\n          open={openLogModal}\n          onClose={() => setOpenLogModal(false)}\n          maxWidth=\"md\"\n          fullWidth\n        >\n          <DialogTitle sx={{ m: 0, p: 2 }}>\n            Task Change Log\n            <IconButton\n              aria-label=\"close\"\n              onClick={() => setOpenLogModal(false)}\n              sx={{\n                position: \"absolute\",\n                right: 8,\n                top: 8,\n                color: (theme) => theme.palette.grey[500],\n              }}\n            >\n              <CloseIcon />\n            </IconButton>\n          </DialogTitle>\n\n          {/* Optional subtitle area for Task name and download */}\n          <Box\n            display=\"flex\"\n            justifyContent=\"space-between\"\n            alignItems=\"center\"\n            px={3}\n            py={1}\n            sx={{ backgroundColor: \"#f4f4f4\", borderBottom: \"1px solid #ddd\" }}\n          >\n            <Typography variant=\"subtitle1\" fontWeight={600}>\n              Task: {checklistItem || \"Unnamed Task\"}\n            </Typography>\n\n            <IconButton\n              aria-label=\"Download Logs\"\n              onClick={handleDownloadLogsAsPDF}\n              size=\"large\"\n              color=\"primary\"\n            >\n              <FileDownloadIcon />\n            </IconButton>\n          </Box>\n\n          <DialogContent dividers ref={scrollContentRef}>\n            {taskChangeLog.length === 0 ? (\n              <Typography variant=\"body2\">No changelogs available.</Typography>\n            ) : (\n              taskChangeLog.map((log, index) => {\n                const from =\n                  Array.isArray(log.old_value) && log.old_value.length > 0\n                    ? log.old_value\n                        .map((u) => u.name || JSON.stringify(u))\n                        .join(\", \")\n                    : typeof log.old_value === \"string\" && log.old_value.trim()\n                    ? log.old_value\n                    : \"\";\n\n                const to =\n                  Array.isArray(log.new_value) && log.new_value.length > 0\n                    ? log.new_value\n                        .map((u) => u.name || JSON.stringify(u))\n                        .join(\", \")\n                    : typeof log.new_value === \"string\" && log.new_value.trim()\n                    ? log.new_value\n                    : \"\";\n\n                return (\n                  <Paper\n                    key={index}\n                    elevation={3}\n                    sx={{\n                      p: 2,\n                      mb: 2,\n                      borderRadius: 2,\n                      backgroundColor: \"#fafafa\",\n                    }}\n                  >\n                    <Typography\n                      variant=\"subtitle1\"\n                      sx={{ fontWeight: 600, mb: 1, color: \"primary.main\" }}\n                    >\n                      {log.changed_by.name} changed{\" \"}\n                      <strong>{log.field_changed}</strong> on{\" \"}\n                      {new Date(log.changed_at).toLocaleString()}\n                    </Typography>\n\n                    <Grid container spacing={1}>\n                      <Grid item xs={12} sm={2}>\n                        <Typography variant=\"body2\" fontWeight={500}>\n                          From:\n                        </Typography>\n                      </Grid>\n                      <Grid item xs={12} sm={10}>\n                        <Typography\n                          variant=\"body2\"\n                          color={from ? \"text.primary\" : \"text.secondary\"}\n                        >\n                          {from || \"(empty)\"}\n                        </Typography>\n                      </Grid>\n\n                      <Grid item xs={12} sm={2}>\n                        <Typography variant=\"body2\" fontWeight={500}>\n                          To:\n                        </Typography>\n                      </Grid>\n                      <Grid item xs={12} sm={10}>\n                        <Typography\n                          variant=\"body2\"\n                          color={to ? \"text.primary\" : \"text.secondary\"}\n                        >\n                          {to || \"(empty)\"}\n                        </Typography>\n                      </Grid>\n                    </Grid>\n                  </Paper>\n                );\n              })\n            )}\n          </DialogContent>\n        </Dialog>\n      </Grid2>\n\n      {uploading && (\n        <Box\n          sx={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            zIndex: 1300,\n            width: \"100vw\",\n            height: \"100vh\",\n            backgroundColor: \"rgba(255,255,255,0.6)\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}\n        >\n          <CircularProgress size={60} />\n        </Box>\n      )}\n    </Paper>\n  );\n};\n\nexport default TaskList;\n","size_bytes":40523},"qms-source/frontend-new/src/theme.js":{"content":"import { createTheme } from \"@mui/material/styles\";\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#ff416c\", // Pinkish-red color\n    },\n    secondary: {\n      main: \"#6610f2\", // Purple color\n    },\n    background: {\n      default: \"linear-gradient(to bottom,rgb(168, 107, 130),rgb(122, 100, 156))\",\n    },\n  },\n  typography: {\n    fontFamily: \"Poppins, sans-serif\",\n  },\n  components: {\n   \n    MuiTextField: {\n      styleOverrides: {\n        root: {\n          \"& .MuiOutlinedInput-root\": {\n            borderRadius: \"8px\",\n            background: \"#fff\",\n            \"& fieldset\": { borderColor: \"#ddd\" },\n            \"&:hover fieldset\": { borderColor: \"#888\" },\n          },\n        },\n      },\n    },\n  },\n});\n\nexport default theme;\n","size_bytes":761},"BackEnd/src/routes/roleRoutes.js":{"content":"import express from 'express';\nimport roleController from '../controllers/roleController.js';\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post('/:moduleId', authenticateUser,checkPermission(\"write\"),roleController.createRole);  // Create role\nrouter.put('/:moduleId/:id',authenticateUser,checkPermission(\"write\"), roleController.updateRoleDetails);  // Update role details\nrouter.delete('/:moduleId/:id',authenticateUser,checkPermission(\"delete\"), roleController.softDeleteRole);  // Delete role details\nrouter.get('/:moduleId/:id',authenticateUser, checkPermission(\"read\"),roleController.getRoleDetails);  // Get role by ID\nrouter.get('/:moduleId',authenticateUser, checkPermission(\"read\"),roleController.getRoleDetails);  // Get all roles\n\nexport default router;\n","size_bytes":901},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"qms-source/frontend-new/src/assets/theme-dark/components/button/text.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { text, info, secondary, transparent } = colors;\nconst { size } = typography;\n\nconst buttonText = {\n  base: {\n    backgroundColor: transparent.main,\n    minHeight: pxToRem(37),\n    color: text.main,\n    boxShadow: \"none\",\n    padding: `${pxToRem(9)} ${pxToRem(24)}`,\n\n    \"&:hover\": {\n      backgroundColor: transparent.main,\n      boxShadow: \"none\",\n    },\n\n    \"&:focus\": {\n      boxShadow: \"none\",\n    },\n\n    \"&:active, &:active:focus, &:active:hover\": {\n      opacity: 0.85,\n      boxShadow: \"none\",\n    },\n\n    \"&:disabled\": {\n      boxShadow: \"none\",\n    },\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(16)} !important`,\n    },\n  },\n\n  small: {\n    minHeight: pxToRem(29),\n    padding: `${pxToRem(6)} ${pxToRem(18)}`,\n    fontSize: size.xs,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(12)} !important`,\n    },\n  },\n\n  large: {\n    minHeight: pxToRem(44),\n    padding: `${pxToRem(12)} ${pxToRem(64)}`,\n    fontSize: size.sm,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(22)} !important`,\n    },\n  },\n\n  primary: {\n    color: info.main,\n\n    \"&:hover\": {\n      color: info.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      color: info.focus,\n      boxShadow: \"none\",\n    },\n  },\n\n  secondary: {\n    color: secondary.main,\n\n    \"&:hover\": {\n      color: secondary.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      color: secondary.focus,\n      boxShadow: \"none\",\n    },\n  },\n};\n\nexport default buttonText;\n","size_bytes":2311},"qms-source/frontend-new/src/assets/theme/components/stepper/step.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst step = {\n  styleOverrides: {\n    root: {\n      padding: `0 ${pxToRem(6)}`,\n    },\n  },\n};\n\nexport default step;\n","size_bytes":743},"qms-source/BackEnd/src/routes/commentRoutes.js":{"content":"import express from \"express\";\nimport { addComment, getComments, deleteComment } from \"../controllers/commentController.js\";\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\nconst router = express.Router();\n\nrouter.post(\"/:moduleId\",authenticateUser,checkPermission(\"write\") ,addComment);\nrouter.get(\"/:moduleId/:task_id\",authenticateUser, checkPermission(\"read\"),getComments);\nrouter.delete(\"/:moduleId/:id\",authenticateUser,checkPermission(\"delete\"), deleteComment);\n\nexport default router;\n","size_bytes":582},"qms-source/frontend-new/src/pages/TaskManagement/SelectCompany.jsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  Card,\n  CardContent,\n  Typography,\n  Button,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Box,\n  Container,\n  Paper,\n} from \"@mui/material\";\nimport {\n  useMaterialUIController,\n  setSelectedCompanyName,\n} from \"../../context/index\"; \nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst SelectCompany = ({ setSelectedCompany }) => {\n  const [companies, setCompanies] = useState([]);\n  const [selectedCompany, setSelectedCompanyState] = useState(\"\");\n  const [controller, dispatch] = useMaterialUIController();\n  const navigate = useNavigate();\n  const Module_id = \"5d896834-fedd-4e0b-a882-8d05396fc346\";\n\n  useEffect(() => {\n    console.log(\"Fetching companies...\");\n\n    const fetchCompanies = async () => {\n      const token = localStorage.getItem(\"jwtToken\");\n\n      if (!token) {\n        console.error(\"No token found! Please login.\");\n        return;\n      }\n\n      try {\n        console.log(\"Making API request to fetch companies...\");\n        const response = await axiosInstance.get(\n          `/companies/${Module_id}`,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n\n        const data = response.data;\n        console.log(\"Fetched companies from backend:\", data);\n\n        if (Array.isArray(data) && data.length > 0) {\n          setCompanies(data);\n\n          // Retrieve stored company ID if available\n          let storedCompanyId = sessionStorage.getItem(\"selectedCompany\");\n\n          // Only set if it's valid\n          if (storedCompanyId && data.some((c) => c.id === storedCompanyId)) {\n            setSelectedCompanyState(storedCompanyId);\n            setSelectedCompany && setSelectedCompany(storedCompanyId);\n            console.log(\n              \"Using stored company ID from sessionStorage:\",\n              storedCompanyId\n            );\n          } else {\n            console.log(\"No stored company found. Keeping selection empty.\");\n          }\n        } else {\n          console.warn(\"No companies received from API.\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching companies:\", error);\n      }\n    };\n\n    fetchCompanies();\n  }, []);\n\n  const handleSelectChange = (e) => {\n    const company_id = e.target.value;\n    const selectedCompanyObj = companies.find((c) => c.id === company_id);\n\n    if (!company_id) {\n      console.error(\"Invalid company selection!\");\n      return;\n    }\n    const company_name = selectedCompanyObj.name; // Extract name\n\n    sessionStorage.setItem(\"selectedCompany\", company_id);\n    sessionStorage.setItem(\"selectedCompanyName\", company_name); // Store company name\n    setSelectedCompanyName(dispatch, company_name);\n    setSelectedCompanyState(company_id);\n    setSelectedCompany && setSelectedCompany(company_id);\n\n    console.log(\"Dropdown Selected Company ID:\", company_id);\n    console.log(\"Dropdown Selected Company Name:\", company_name);\n    console.log(\n      \"Stored Company ID:\",\n      sessionStorage.getItem(\"selectedCompany\")\n    );\n    console.log(\n      \"Stored Company Name:\",\n      sessionStorage.getItem(\"selectedCompanyName\")\n    );\n  };\n\n  const handleNext = () => {\n    const company_id = sessionStorage.getItem(\"selectedCompany\");\n    const company_name = sessionStorage.getItem(\"selectedCompanyName\");\n\n    if (!company_id || !company_name) {\n      // Ensure both are set\n      alert(\"Please select a company!\");\n      console.error(\"No company selected. Navigation aborted.\");\n      return;\n    }\n\n    console.log(\"Navigating with Company ID:\", company_id);\n    console.log(\"Navigating with Company Name:\", company_name);\n\n    sessionStorage.setItem(\"companyname\", company_name);\n    setSelectedCompanyName(dispatch, company_name); \n\n    setTimeout(() => {\n      navigate(\"/dashboard\", { replace: true });\n    }, 50);\n  };\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ py: 4 }}>\n      <Paper\n        elevation={3}\n        sx={{\n          p: { xs: 2, sm: 3 },\n          mx: 4,\n          borderRadius: 2,\n          boxShadow: 3,\n        }}\n      >\n        <Typography\n          variant=\"h5\"\n          sx={{ fontWeight: 600, mb: 3, textAlign: \"left\" }}\n        >\n          Select a Company\n        </Typography>\n\n        {companies.length > 0 ? (\n          <>\n            <FormControl fullWidth sx={{ mb: 3 }}>\n              <InputLabel>Select a Company</InputLabel>\n              <Select\n                value={selectedCompany}\n                onChange={handleSelectChange}\n                label=\"Select a Company\"\n              >\n                {companies.map((company) => (\n                  <MenuItem key={company.id} value={company.id}>\n                    {company.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            <Box display=\"flex\" justifyContent=\"flex-end\">\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleNext}\n                sx={{\n                  px: 3,\n                  py: 1.2,\n                  fontSize: \"14px\",\n                  borderRadius: 2,\n                  minWidth: \"140px\",\n                  boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n                  fontWeight: \"bold\",\n                }}\n              >\n                Next\n              </Button>\n            </Box>\n          </>\n        ) : (\n          <Typography color=\"text.secondary\" align=\"center\">\n            No companies available at the moment.\n          </Typography>\n        )}\n      </Paper>\n    </Container>\n  );\n};\n\nexport default SelectCompany;\n","size_bytes":5669},"frontend-new/src/assets/theme-dark/components/form/autocomplete.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\nimport typography from \"assets/theme-dark/base/typography\";\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { md } = boxShadows;\nconst { size } = typography;\nconst { text, transparent, light, dark, gradients, background, white } = colors;\nconst { borderRadius } = borders;\n\nconst autocomplete = {\n  styleOverrides: {\n    popper: {\n      boxShadow: md,\n      padding: pxToRem(8),\n      fontSize: size.sm,\n      color: text.main,\n      textAlign: \"left\",\n      backgroundColor: `${background.card} !important`,\n      borderRadius: borderRadius.md,\n    },\n\n    paper: {\n      boxShadow: \"none\",\n      backgroundColor: transparent.main,\n    },\n\n    option: {\n      padding: `${pxToRem(4.8)} ${pxToRem(16)}`,\n      borderRadius: borderRadius.md,\n      fontSize: size.sm,\n      color: text.main,\n      transition: \"background-color 300ms ease, color 300ms ease\",\n\n      \"&:hover, &:focus, &.Mui-selected, &.Mui-selected:hover, &.Mui-selected:focus\": {\n        backgroundColor: rgba(light.main, 0.2),\n        color: white.main,\n      },\n\n      '&[aria-selected=\"true\"]': {\n        backgroundColor: `${rgba(light.main, 0.2)} !important`,\n        color: `${white.main} !important`,\n      },\n    },\n\n    noOptions: {\n      fontSize: size.sm,\n      color: text.main,\n    },\n\n    groupLabel: {\n      color: dark.main,\n    },\n\n    loading: {\n      fontSize: size.sm,\n      color: text.main,\n    },\n\n    tag: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: \"auto\",\n      padding: pxToRem(4),\n      backgroundColor: gradients.dark.state,\n      color: white.main,\n\n      \"& .MuiChip-label\": {\n        lineHeight: 1.2,\n        padding: `0 ${pxToRem(10)} 0 ${pxToRem(4)}`,\n      },\n\n      \"& .MuiSvgIcon-root, & .MuiSvgIcon-root:hover, & .MuiSvgIcon-root:focus\": {\n        color: white.main,\n        marginRight: 0,\n      },\n    },\n\n    popupIndicator: {\n      color: text.main,\n    },\n\n    clearIndicator: {\n      color: text.main,\n    },\n  },\n};\n\nexport default autocomplete;\n","size_bytes":2829},"qms-source/frontend-new/src/assets/theme-dark/components/iconButton.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\n\nconst { transparent } = colors;\n\nconst iconButton = {\n  styleOverrides: {\n    root: {\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n    },\n  },\n};\n\nexport default iconButton;\n","size_bytes":818},"qms-source/BackEnd/src/models/TaskChangeLog.js":{"content":"\n\nimport { DataTypes } from \"sequelize\";\nimport sequelize from \"../config/db.js\";\nimport Task from \"../models/Task.js\";\nimport User from \"./User.js\"; \nimport Role from \"./Role.js\";\nimport TaskAssignment from \"./TaskAssignment.js\"\nimport Notification from \"./Notification.js\"; // Import the Notification model\nimport { getSocket } from \"../config/socket.js\";\nimport { VALID_TASK_CHANGE_FIELDS } from \"../config/constants.js\"; // âœ… Import ENUM values\n\nexport const TaskChangeLog = sequelize.define(\"TaskChangeLog\", {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    task_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: Task, key: \"id\" }\n    },\n    changed_by: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: User, key: \"id\" }\n    },\n    field_changed: {\n        type: DataTypes.ENUM(...VALID_TASK_CHANGE_FIELDS), // âœ… Use ENUM from constants.js\n        allowNull: false\n    },\n    old_value: {\n        type: DataTypes.STRING,\n        allowNull: true\n    },\n    new_value: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    changed_at: {\n        type: DataTypes.DATE,\n        defaultValue: DataTypes.NOW\n    }\n}, { timestamps: false });\n\n\n\n// âœ… Define relationships\nTaskChangeLog.belongsTo(Task, { foreignKey: \"task_id\" });\nTaskChangeLog.belongsTo(User, { foreignKey: \"changed_by\", as: \"Changer\" });\n\nTask.hasMany(TaskChangeLog, { foreignKey: \"task_id\", onDelete: 'CASCADE' });\nUser.hasMany(TaskChangeLog, { foreignKey: \"changed_by\", as: \"ChangesMade\", onDelete: 'CASCADE' });\n\n\n\n\nTaskChangeLog.afterCreate(async (log) => {\n    try {\n        console.log(\"ðŸ”¥ TaskChangeLog entry detected:\", log.dataValues);\n\n        const io = getSocket();\n        const { task_id, changed_by, field_changed, new_value, old_value } = log;\n\n        let notifications = [];\n\n        const task = await Task.findByPk(task_id, { attributes: [\"Checklist_Item\", \"company_id\"] });\n\n        if (!task || !task.company_id) {\n            console.log(\"âŒ Task or Company not found:\", task_id);\n            return;\n        }\n\n        const company_id = task.company_id;\n\n        const superAdmins = await User.findAll({\n            include: { model: Role, where: { name: \"Super Admin\" }, attributes: [] },\n            where: { company_id },\n            attributes: [\"id\"]\n        });\n        const superAdminIds = superAdmins.map(user => user.id);\n\n        const systemSuperAdmins = await User.findAll({\n            include: { model: Role, where: { name: \"System Super Admin\" }, attributes: [] },\n            attributes: [\"id\"]\n        });\n        const systemSuperAdminIds = new Set(systemSuperAdmins.map(user => user.id));\n\n        const taskAssignments = await TaskAssignment.findAll({\n            where: { task_id },\n            attributes: [\"user_ids\", \"assign_by\"]\n        });\n\n        let assigneeIds = [];\n        let assignerIds = new Set();\n\n        taskAssignments.forEach(assignment => {\n            assigneeIds.push(...assignment.user_ids);\n            assignerIds.add(assignment.assign_by);\n        });\n\n        const taskCreator = await Task.findByPk(task_id, { attributes: [\"createdBy\"] });\n\n        const recipients = new Set(superAdminIds);\n        assigneeIds.forEach(userId => recipients.add(userId));\n        assignerIds.forEach(userId => recipients.add(userId));\n        if (taskCreator) recipients.add(taskCreator.createdBy);\n\n        superAdminIds.forEach(userId => recipients.add(userId));\n        systemSuperAdminIds.forEach(userId => recipients.delete(userId));\n        recipients.delete(changed_by);\n\n        if (recipients.size === 0) {\n            console.log(\"âš ï¸ No recipients found for task:\", task_id);\n            return;\n        }\n\n        const taskName = task ? task.Checklist_Item : `Task ID: ${task_id}`;\n        let message = `Task \"${taskName}\" updated: ${field_changed} changed from \"${old_value}\" to \"${new_value}\"`;\n\n        if (field_changed === \"assignment\") {\n            const oldAssignees = JSON.parse(old_value || \"[]\");\n            const newAssignees = JSON.parse(new_value || \"[]\");\n\n            const unassignedUsers = oldAssignees.filter(userId => !newAssignees.includes(userId));\n            const newlyAssignedUsers = newAssignees.filter(userId => !oldAssignees.includes(userId));\n            const remainedAssignedUsers = newAssignees.filter(userId => oldAssignees.includes(userId));\n\n            superAdminIds.forEach(userId => recipients.add(userId));\n            recipients.delete(changed_by);\n\n            // ðŸ” Create & Emit Notifications for assignment changes\n            const emitStructured = (notification) => {\n                io.to(notification.user_id).emit(\"new_notification\", {\n                    id: null,\n                    user_id: notification.user_id,\n                    task_id: notification.task_id,\n                    type: notification.type,\n                    message: notification.message,\n                    is_seen: false,\n                    created_at: new Date()\n                });\n            };\n\n            newlyAssignedUsers.forEach(userId => {\n                if (!systemSuperAdminIds.has(userId) && userId !== changed_by) {\n                    const note = {\n                        user_id: userId,\n                        task_id,\n                        type: field_changed,\n                        message: `You have been assigned to task: ${task.Checklist_Item}`,\n                        seen: false\n                    };\n                    notifications.push(note);\n                    //emitStructured(note);\n                }\n            });\n\n            unassignedUsers.forEach(userId => {\n                if (!systemSuperAdminIds.has(userId) && userId !== changed_by) {\n                    const note = {\n                        user_id: userId,\n                        task_id,\n                        type: field_changed,\n                        message: `You have been unassigned from task: ${task.Checklist_Item}`,\n                        seen: false\n                    };\n                    notifications.push(note);\n                    //emitStructured(note);\n                }\n            });\n\n            if (newlyAssignedUsers.length > 0) {\n                remainedAssignedUsers.forEach(userId => {\n                    if (!systemSuperAdminIds.has(userId) && userId !== changed_by) {\n                        const note = {\n                            user_id: userId,\n                            task_id,\n                            type: field_changed,\n                            message: `New user(s) assigned to task: ${task.Checklist_Item}`,\n                            seen: false\n                        };\n                        notifications.push(note);\n                      //  emitStructured(note);\n                    }\n                });\n            }\n\n            superAdminIds.forEach(userId => {\n                if (userId !== changed_by && !newAssignees.includes(userId)) {\n                    const note = {\n                        user_id: userId,\n                        task_id,\n                        type: field_changed,\n                        message: `Task assignment updated: ${task.Checklist_Item}`,\n                        seen: false\n                    };\n                    notifications.push(note);\n                    //emitStructured(note);\n                }\n            });\n\n        } else {\n            // ðŸ” General Field Update Notifications\n            notifications = Array.from(recipients).map(userId => ({\n                user_id: userId,\n                task_id,\n                type: field_changed,\n                message,\n                seen: false\n            }));\n\n          \n\n\n            // // Structured emit for general field change\n            // notifications.forEach(note => {\n            //     io.to(note.user_id).emit(\"new_notification\", {\n            //         id: null,\n            //         user_id: note.user_id,\n            //         task_id: note.task_id,\n            //         type: note.type,\n            //         message: note.message,\n            //         is_seen: false,\n            //         created_at: new Date()\n            //     });\n            // });\n        }\n\n      \n\n\n        if (notifications.length > 0) {\n         \n            const createdNotifications = await Notification.bulkCreate(notifications, { returning: true });\n            console.log(\"âœ… Notifications created successfully:\", createdNotifications.map(n => n.toJSON()));\n\n            createdNotifications.forEach(notification => {\n                io.to(notification.user_id).emit(\"new_notification\", {\n                    id: notification.id,\n                    user_id: notification.user_id,\n                    task_id: notification.task_id,\n                    type: notification.type,\n                    message: notification.message,\n                    is_seen: notification.seen,\n                    created_at: notification.createdAt\n                });\n            });\n        }\n\n    } catch (error) {\n        console.error(\"âŒ Error creating notification:\", error);\n    }\n});\n\nexport default TaskChangeLog;\n","size_bytes":9258},"qms-source/frontend-new/src/context/index.jsx":{"content":"\n/**\n  This file is used for controlling the global states of the components,\n  you can customize the states for the different components here.\n*/\n\nimport { createContext, useContext, useReducer, useMemo } from \"react\";\n\n// Material Dashboard 2 React main context\nconst MaterialUI = createContext();\n\n// Setting custom name for the context which is visible on react dev tools\nMaterialUI.displayName = \"MaterialUIContext\";\n\n// Material Dashboard 2 React reducer\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"MINI_SIDENAV\": {\n      return { ...state, miniSidenav: action.value };\n    }\n    case \"TRANSPARENT_SIDENAV\": {\n      return { ...state, transparentSidenav: action.value };\n    }\n    case \"WHITE_SIDENAV\": {\n      return { ...state, whiteSidenav: action.value };\n    }\n    case \"SIDENAV_COLOR\": {\n      return { ...state, sidenavColor: action.value };\n    }\n    case \"TRANSPARENT_NAVBAR\": {\n      return { ...state, transparentNavbar: action.value };\n    }\n    case \"FIXED_NAVBAR\": {\n      return { ...state, fixedNavbar: action.value };\n    }\n    case \"OPEN_CONFIGURATOR\": {\n      return { ...state, openConfigurator: action.value };\n    }\n    case \"DIRECTION\": {\n      return { ...state, direction: action.value };\n    }\n    case \"LAYOUT\": {\n      return { ...state, layout: action.value };\n    }\n    case \"DARKMODE\": {\n      return { ...state, darkMode: action.value };\n    }\n    case \"SIDEBAR_OPEN\": {\n      return { ...state, sidebarOpen: action.value };\n    }\n    case \"SET_SELECTED_COMPANY_NAME\": {\n      return { ...state, selectedCompanyName: action.value };\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`);\n    }\n  }\n}\n\n// Material Dashboard 2 React context provider\nfunction MaterialUIControllerProvider({ children }) {\n  const initialState = {\n    miniSidenav: false,\n    transparentSidenav: false,\n    whiteSidenav: false,\n    sidenavColor: \"info\",\n    transparentNavbar: true,\n    fixedNavbar: true,\n    openConfigurator: false,\n    direction: \"ltr\",\n    layout: \"dashboard\",\n    darkMode: false,\n    sidebarOpen: true, \n    selectedCompanyName: \"\",\n  };\n\n  const [controller, dispatch] = useReducer(reducer, initialState);\n\n  const value = useMemo(() => [controller, dispatch], [controller, dispatch]);\n\n  return <MaterialUI.Provider value={value}>{children}</MaterialUI.Provider>;\n}\n\n// Material Dashboard 2 React custom hook for using context\nfunction useMaterialUIController() {\n  const context = useContext(MaterialUI);\n\n  if (!context) {\n    throw new Error(\n      \"useMaterialUIController should be used inside the MaterialUIControllerProvider.\"\n    );\n  }\n\n  return context;\n}\n\n// Context module functions\nconst setMiniSidenav = (dispatch, value) =>\n  dispatch({ type: \"MINI_SIDENAV\", value });\nconst setTransparentSidenav = (dispatch, value) =>\n  dispatch({ type: \"TRANSPARENT_SIDENAV\", value });\nconst setWhiteSidenav = (dispatch, value) =>\n  dispatch({ type: \"WHITE_SIDENAV\", value });\nconst setSidenavColor = (dispatch, value) =>\n  dispatch({ type: \"SIDENAV_COLOR\", value });\nconst setTransparentNavbar = (dispatch, value) =>\n  dispatch({ type: \"TRANSPARENT_NAVBAR\", value });\nconst setFixedNavbar = (dispatch, value) =>\n  dispatch({ type: \"FIXED_NAVBAR\", value });\nconst setOpenConfigurator = (dispatch, value) =>\n  dispatch({ type: \"OPEN_CONFIGURATOR\", value });\nconst setDirection = (dispatch, value) =>\n  dispatch({ type: \"DIRECTION\", value });\nconst setLayout = (dispatch, value) => dispatch({ type: \"LAYOUT\", value });\nconst setDarkMode = (dispatch, value) => dispatch({ type: \"DARKMODE\", value });\nconst setSidebarOpen = (dispatch, value) =>\n  dispatch({ type: \"SIDEBAR_OPEN\", value });\nconst setSelectedCompanyName = (dispatch, value) =>\n  dispatch({ type: \"SET_SELECTED_COMPANY_NAME\", value });\n\nexport {\n  MaterialUIControllerProvider,\n  useMaterialUIController,\n  setMiniSidenav,\n  setTransparentSidenav,\n  setWhiteSidenav,\n  setSidenavColor,\n  setTransparentNavbar,\n  setFixedNavbar,\n  setOpenConfigurator,\n  setDirection,\n  setLayout,\n  setDarkMode,\n  setSidebarOpen,\n  setSelectedCompanyName\n};\n","size_bytes":4099},"qms-source/frontend-new/src/App.test.js":{"content":"import { render, screen } from '@testing-library/react';\nimport App from './App';\n\ntest('renders learn react link', () => {\n  render(<App />);\n  const linkElement = screen.getByText(/learn react/i);\n  expect(linkElement).toBeInTheDocument();\n});\n","size_bytes":246},"qms-source/frontend-new/src/assets/theme/components/stepper/stepLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme/base/typography\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport rgba from \"assets/theme/functions/rgba\";\n\nconst { size, fontWeightRegular } = typography;\nconst { white } = colors;\n\nconst stepLabel = {\n  styleOverrides: {\n    label: {\n      marginTop: `${pxToRem(8)} !important`,\n      fontWeight: fontWeightRegular,\n      fontSize: size.xs,\n      color: \"#9fc9ff\",\n      textTransform: \"uppercase\",\n\n      \"&.Mui-active\": {\n        fontWeight: `${fontWeightRegular} !important`,\n        color: `${rgba(white.main, 0.8)} !important`,\n      },\n\n      \"&.Mui-completed\": {\n        fontWeight: `${fontWeightRegular} !important`,\n        color: `${rgba(white.main, 0.8)} !important`,\n      },\n    },\n  },\n};\n\nexport default stepLabel;\n","size_bytes":1442},"qms-source/frontend-new/src/assets/theme-dark/components/dialog/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\n\nconst { borderRadius } = borders;\nconst { xxl } = boxShadows;\n\nconst dialog = {\n  styleOverrides: {\n    paper: {\n      borderRadius: borderRadius.lg,\n      boxShadow: xxl,\n    },\n\n    paperFullScreen: {\n      borderRadius: 0,\n    },\n  },\n};\n\nexport default dialog;\n","size_bytes":945},"qms-source/BackEnd/src/controllers/iterationController.js":{"content":"import Iteration from '../models/Iteration.js';\nimport User from '../models/User.js';\nimport Role from '../models/Role.js';\n\n// Create a new iteration\nconst createIteration = async (req, res) => {\n    try {\n        const {name, start_date, end_date, description, is_active } = req.body;\n\n        if (!name || !start_date || !end_date) {\n            return res.status(400).json({ error: 'Missing required fields: name, start_date, end_date' });\n        }\n        const creator_id=req.user.id;\n         // Fetch user's role and company ID\n         const user = await User.findByPk(creator_id, {\n            include: [{ model: Role, attributes: [\"name\"], required: true }]\n        });\n\n        if (!user) {\n            return res.status(404).json({ error: \"User not found\" });\n        }\n\n        const userRole = user.Role ? user.Role.name : null;\n        let company_id;\n\n        if (userRole === \"System Super Admin\") {\n            company_id = req.body.company_id;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n            }\n        } else {\n            company_id = req.user.company;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n            }\n        }\n         \n        const iteration = await Iteration.create({\n            company_id,\n            creator_id,\n            name,\n            start_date,\n            end_date,\n            description,\n            is_active\n        });\n\n        res.status(201).json({ message: 'Iteration created successfully', iteration });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Get all active iterations\nconst getAllIterations = async (req, res) => {\n    const creator_id=req.user.id;\n    // Fetch user's role and company ID\n    const user = await User.findByPk(creator_id, {\n       include: [{ model: Role, attributes: [\"name\"], required: true }]\n   });\n\n   if (!user) {\n       return res.status(404).json({ error: \"User not found\" });\n   }\n\n   const userRole = user.Role ? user.Role.name : null;\n   let company_id;\n\n   if (userRole === \"System Super Admin\") {\n       company_id = req.query.company_id;\n       if (!company_id) {\n           return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n       }\n   } else {\n       company_id = req.user.company;\n       if (!company_id) {\n           return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n       }\n   }\n\n    try {\n        const iterations = await Iteration.findAll({\n            where: { is_active: true ,company_id}\n        });\n        res.json(iterations);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n\n// Get a single iteration by ID\nconst getIterationById = async (req, res) => {\n    try {\n        const iteration = await Iteration.findByPk(req.params.id);\n        if (!iteration) return res.status(404).json({ error: 'Iteration not found' });\n\n        res.json(iteration);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Update an iteration\nconst updateIteration = async (req, res) => {\n    try {\n        const { name, start_date, end_date, description, is_active } = req.body;\n        const iteration = await Iteration.findByPk(req.params.id);\n        if (!iteration) return res.status(404).json({ error: 'Iteration not found' });\n\n        await iteration.update({\n            name,\n            start_date,\n            end_date,\n            description,\n            is_active\n        });\n\n        res.json({ message: 'Iteration updated successfully', iteration });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Soft delete an iteration\nconst deleteIteration = async (req, res) => {\n    try {\n        const iteration = await Iteration.findByPk(req.params.id);\n        if (!iteration) {\n            return res.status(404).json({ error: 'Iteration not found' });\n        }\n\n        // Soft delete: mark as inactive\n        iteration.is_active = false;\n        await iteration.save();\n\n        res.json({ message: 'Iteration soft deleted successfully' });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n\nexport default {\n    createIteration,\n    getAllIterations,\n    getIterationById,\n    updateIteration,\n    deleteIteration\n};\n","size_bytes":4549},"BackEnd/src/models/TaskAssignment.js":{"content":"import { DataTypes } from \"sequelize\";\nimport sequelize from \"../config/db.js\";\nimport Task from \"./Task.js\";\nimport User from \"./User.js\";\n\nconst TaskAssignment = sequelize.define(\"TaskAssignment\", {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    task_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: Task, key: \"id\" }\n    },\n    user_ids: {  // Changed from `user_id` to `user_ids`\n        type: DataTypes.JSON,  // Store multiple user IDs in an array\n        allowNull: false\n    },\n    assign_by: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: User, key: \"id\" }\n    },\n    assigned_at: {\n        type: DataTypes.DATE,\n        defaultValue: DataTypes.NOW\n    }\n}, { timestamps: false });\n\n// âœ… Define relationships\nTaskAssignment.belongsTo(Task, { foreignKey: \"task_id\" });\nTaskAssignment.belongsTo(User, { foreignKey: \"assign_by\", as: \"Assigner\" });\n//TaskAssignment.belongsTo(User, { foreignKey: \"user_id\", as: \"Assignees\" });  \n\n\nTask.hasMany(TaskAssignment, { foreignKey: \"task_id\", onDelete: 'CASCADE' });\nUser.hasMany(TaskAssignment, { foreignKey: \"assign_by\", as: \"AssignedBy\", onDelete: 'CASCADE' });\n\nexport default TaskAssignment;","size_bytes":1296},"qms-source/BackEnd/src/utils/sendEmail.js":{"content":"import nodemailer from 'nodemailer';\n\nconst sendEmail = async (to, subject, message) => {\n    try {\n\n        const transporter = nodemailer.createTransport({\n            service: 'gmail', // Use your email provider\n            auth: {\n                user: process.env.EMAIL_USER, // Your email from .env\n                pass: process.env.EMAIL_PASS  // Your email password from .env\n            }\n\n        //     host: \"sandbox.smtp.mailtrap.io\",\n        // port: 2525,\n        // auth: {\n        //   user: \"e802c2c160def7\",\n        //   pass: \"d687cd1bd3668e\"\n        // }\n        });\n\n        const mailOptions = {\n            from: process.env.EMAIL_USER,\n            to,\n            subject,\n            text: message\n        };\n\n        await transporter.sendMail(mailOptions);\n        console.log(`ðŸ“© Email sent successfully to ${to}`);\n    } catch (error) {\n        console.error(\"âŒ Error sending email:\", error.message);\n    }\n};\n\nexport default sendEmail;\n","size_bytes":971},"BackEnd/src/utils/generateRandomPassword.js":{"content":"\n\nconst generateRandomPassword = () => {\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$!';\n    let password = '';\n    for (let i = 0; i < 10; i++) {\n        password += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    return password;\n};\n\nexport default generateRandomPassword;","size_bytes":332},"qms-source/BackEnd/src/routes/companyRoutes.js":{"content":"import express from 'express';\nimport companyController from '../controllers/companyController.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\nimport authenticateUser from '../middlewares/authMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post('/:moduleId',authenticateUser,checkPermission(\"write\"), companyController.createCompany);\nrouter.put('/:moduleId/:id', authenticateUser,checkPermission(\"write\"),companyController.updateCompanyDetails);\nrouter.delete('/:moduleId/:id', authenticateUser,checkPermission(\"delete\"),companyController.softDeleteCompany);\nrouter.get('/:moduleId/:id',authenticateUser,checkPermission(\"read\"), companyController.getCompanyDetails);\nrouter.get('/:moduleId',authenticateUser,checkPermission(\"read\"), companyController.getCompanyDetails);\n\nexport default router;\n","size_bytes":836},"frontend-new/src/assets/theme/components/linearProgress.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { borderRadius } = borders;\nconst { light } = colors;\n\nconst linearProgress = {\n  styleOverrides: {\n    root: {\n      height: pxToRem(6),\n      borderRadius: borderRadius.md,\n      overflow: \"visible\",\n      position: \"relative\",\n    },\n\n    colorPrimary: {\n      backgroundColor: light.main,\n    },\n\n    colorSecondary: {\n      backgroundColor: light.main,\n    },\n\n    bar: {\n      height: pxToRem(6),\n      borderRadius: borderRadius.sm,\n      position: \"absolute\",\n      transform: `translate(0, 0) !important`,\n      transition: \"width 0.6s ease !important\",\n    },\n  },\n};\n\nexport default linearProgress;\n","size_bytes":1380},"BackEnd/src/models/Task.js":{"content":"import { DataTypes } from \"sequelize\";\nimport sequelize from \"../config/db.js\";\nimport User from \"./User.js\";\nimport iteration from \"./Iteration.js\"\nimport Company from \"./Company.js\"; // Import Company model\nimport Iteration from \"./Iteration.js\";\nimport { VALID_STATUS_VALUES, VALID_PRIORITY_VALUES, VALID_TASK_TYPES, VALID_COMPLIANCE_VALUES,VALID_STANDARDS,VALID_TYPE_OF_FINDING } from \"../config/constants.js\";\n\nconst Task = sequelize.define(\"Task\", {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true,\n    },\n    Checklist_Item: {\n        type: DataTypes.STRING(500),\n        allowNull: false,\n    },\n    description: {\n        type: DataTypes.TEXT,\n    },\n    standard: {\n        type: DataTypes.ENUM(...VALID_STANDARDS),\n        allowNull: false,\n    },\n    task_type: {\n        type: DataTypes.ENUM(...VALID_TASK_TYPES),\n        allowNull: true,\n    },\n    parent_task_id: {\n        type: DataTypes.UUID,\n        allowNull: true,\n    },\n    clause_number: {\n        type: DataTypes.STRING,\n        allowNull: true,\n    },\n    area: {\n        type: DataTypes.STRING,\n        allowNull: true,\n    },\n    expected_artifact: {\n        type: DataTypes.STRING,\n        allowNull: true,\n    },\n    actual_artifact: {\n        type: DataTypes.STRING,\n        allowNull: true,\n    },\n    compliance: {\n        type: DataTypes.ENUM(...VALID_COMPLIANCE_VALUES),\n        allowNull: true,\n    },\n    status: {\n        type: DataTypes.ENUM(...VALID_STATUS_VALUES),\n        defaultValue: \"Not Done\",\n    },\n    priority: {\n        type: DataTypes.ENUM(...VALID_PRIORITY_VALUES),\n        allowNull: false,\n        defaultValue: \"Medium\",\n    },\n     Type_of_Finding: {\n        type: DataTypes.ENUM(...VALID_TYPE_OF_FINDING),\n        allowNull: false,\n        defaultValue: \"Non-Compliance\",\n    },\n    responsibility: {\n        type: DataTypes.STRING,\n        allowNull: true,\n    },\n    RCA_Details : {\n        type: DataTypes.TEXT,\n        allowNull: true,\n    },\n    notes: {\n        type: DataTypes.TEXT,\n        allowNull: true,\n    },\n    auditee: {\n        type: DataTypes.STRING,\n        allowNull: true,\n    },\n    createdBy: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n            model: User,\n            key: \"id\",\n        },\n    },\n    company_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n            model: Company,\n            key: \"id\",\n        },\n        onDelete: \"CASCADE\", // Delete tasks if company is deleted\n    },\n    created_at: {\n        type: DataTypes.DATE,\n        defaultValue: DataTypes.NOW,\n    },\n    Planned_Completion_Date: {\n        type: DataTypes.DATE,\n       allowNull:true\n    },\n    Actual_Completion_Date: {\n        type: DataTypes.DATE,\n       allowNull:true\n    },\n    updated_at: {\n        type: DataTypes.DATE,\n        defaultValue: DataTypes.NOW,\n    },\n    is_active: {\n        type: DataTypes.BOOLEAN,\n        allowNull: false,\n        defaultValue: true,\n    },\n    iteration_id: {\n        type: DataTypes.UUID,\n        allowNull: true,\n        references: {\n          model: iteration, // table name in DB (not model name)\n          key: 'id'\n        },\n        onDelete: 'SET NULL',\n        onUpdate: 'CASCADE'\n      },\n    \n}, {\n    timestamps: false,\n    freezeTableName: true,\n});\n\n// Relationships\nTask.belongsTo(User, { foreignKey: \"createdBy\", as: \"Creator\" });\nUser.hasMany(Task, { foreignKey: \"createdBy\", onDelete: 'SET NULL' });\n\nTask.belongsTo(Company, { foreignKey: \"company_id\", as: \"Company\" });\nCompany.hasMany(Task, { foreignKey: \"company_id\", onDelete: 'CASACDE' });\n\n\n// âœ… Many-to-Many Relationship for Assignees\nTask.belongsToMany(User, { \n    through: \"TaskAssignees\", \n    as: \"Assignees\",  \n    foreignKey: \"task_id\"\n});\nUser.belongsToMany(Task, { \n    through: \"TaskAssignees\", \n    as: \"AssignedTasks\",  \n    foreignKey: \"user_id\"\n});\n\n\nTask.belongsTo(Iteration, { foreignKey: 'iteration_id', as: 'Iteration' });\n\n\nexport default Task;\n\n","size_bytes":4036},"frontend-new/src/assets/theme/components/slider.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport boxShadow from \"assets/theme/functions/boxShadow\";\n\nconst { grey, white, black, info } = colors;\nconst { borderRadius, borderWidth } = borders;\nconst { sliderBoxShadow } = boxShadows;\n\nconst slider = {\n  styleOverrides: {\n    root: {\n      width: \"100%\",\n\n      \"& .MuiSlider-active, & .Mui-focusVisible\": {\n        boxShadow: \"none !important\",\n      },\n\n      \"& .MuiSlider-valueLabel\": {\n        color: black.main,\n      },\n    },\n\n    rail: {\n      height: pxToRem(2),\n      background: grey[200],\n      borderRadius: borderRadius.sm,\n      opacity: 1,\n    },\n\n    track: {\n      background: info.main,\n      height: pxToRem(2),\n      position: \"relative\",\n      border: \"none\",\n      borderRadius: borderRadius.lg,\n      zIndex: 1,\n    },\n\n    thumb: {\n      width: pxToRem(14),\n      height: pxToRem(14),\n      backgroundColor: white.main,\n      zIndex: 10,\n      boxShadow: sliderBoxShadow.thumb,\n      border: `${borderWidth[1]} solid ${info.main}`,\n      transition: \"all 200ms linear\",\n\n      \"&:hover\": {\n        boxShadow: \"none\",\n      },\n\n      \"&:active\": {\n        transform: \"translate(-50%, -50%) scale(1.4)\",\n      },\n\n      \"&.Mui-active\": { boxShadow: boxShadow([0, 0], [0, 14], info.main, 0.16) },\n    },\n  },\n};\n\nexport default slider;\n","size_bytes":2084},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"frontend-new/src/pages/TaskManagement/EditTask.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate, useLocation } from \"react-router-dom\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast } from \"react-toastify\";\nimport {\n  TextField,\n  Button,\n  Paper,\n  MenuItem,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Autocomplete,\n  Chip,\n  Grid2,\n  Box,\n  Tooltip,\n  Typography,\n  IconButton,\n} from \"@mui/material\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport { Edit as EditIcon, Delete as DeleteIcon } from \"@mui/icons-material\";\nimport \"../../styles/EditTask.css\";\nlet Doc_moduleId = \"cb5010bc-83fd-4409-9845-bbba4ceda9c8\";\nlet taskAssignment_ModuleId = \"8530da98-7369-4ab7-9400-37cf4019e148\";\nlet User_Moduleid = \"bd168912-e40c-48e3-b3d1-440a3e129d52\";\nlet Task_moduleId = \"1f0f190d-3a83-421c-af98-5d081100230e\";\n\nconst EditTask = () => {\n  const { moduleId, taskId } = useParams();\n  const navigate = useNavigate();\n  const [documents, setDocuments] = useState({});\n  const [isViewDocumentsPopupOpen, setIsViewDocumentsPopupOpen] =\n    useState(false);\n  const [files, setFiles] = useState([]);\n  const [fileComment, setFileComment] = useState(\"\");\n  const [originalTask, setOriginalTask] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [assignedUsers, setAssignedUsers] = useState([]);\n  const [allUsers, setAllUsers] = useState([]);\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [taskAssignments, setTaskAssignments] = useState({});\n  const location = useLocation();\n  const selectedIterationId = location.state?.iterationId || \"\";\n  const [selectedDocument, setSelectedDocument] = useState(null);\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n\n  let company_id = sessionStorage.getItem(\"selectedCompany\"); // Get company_id from sessionStorage\n\n  const [task, setTask] = useState({\n    auditee: \"\",\n    area: \"\",\n    name: \"\",\n    notes: \"\",\n    description: \"\",\n    standard: \"\",\n    task_type: \" \",\n    // expected_artifact: \"\",\n    // actual: \" \",\n    compliance: \"\",\n    status: \"\",\n    priority: \"\",\n    responsibility: \"\",\n    action_to_be_taken: \"\",\n    document_reference: \"\",\n    document: \"\",\n    Checklist_Item: \"\",\n    Type_of_Finding: \"\",\n    RCA_Details: \"\",\n    Planned_Completion_Date: \"\",\n    Actual_Completion_Date: \"\",\n    clause_number: \"\",\n  });\n\n  // Fetch task details\n  useEffect(() => {\n    if (!taskId || !moduleId) {\n      toast.error(\"Invalid task details.\");\n      navigate(\"/tasks\");\n      return;\n    }\n\n    const fetchTask = async () => {\n      const token = localStorage.getItem(\"jwtToken\");\n      if (!token) {\n        toast.error(\"Session expired. Please log in again.\");\n        navigate(\"/login\");\n        return;\n      }\n\n      try {\n        const response = await axiosInstance.get(\n          `/tasks/${moduleId}/${taskId}`,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n        setTask(response.data);\n        setOriginalTask(response.data);\n      } catch (error) {\n        toast.error(\"Failed to load task details.\");\n      }\n    };\n\n    fetchTask();\n  }, [taskId, moduleId, navigate]);\n\n  // Handle input change\n  const handleChange = (e) => {\n    setTask({ ...task, [e.target.name]: e.target.value });\n  };\n\n  // Handle file change\n  const handleFileChange = (e) => {\n    setFiles(Array.from(e.target.files));\n  };\n\n  // Handle file comment change\n  const handleFileCommentChange = (e) => {\n    setFileComment(e.target.value);\n  };\n\n  const handleUpdate = async (e) => {\n    e.preventDefault();\n    const token = localStorage.getItem(\"jwtToken\");\n    const userId = localStorage.getItem(\"userId\");\n\n    if (!token) {\n      toast.error(\"Session expired. Please log in again.\");\n      navigate(\"/login\");\n      return;\n    }\n\n    try {\n      const isTaskChanged =\n        JSON.stringify(task) !== JSON.stringify(originalTask);\n      const isAssigneeChanged =\n        JSON.stringify(selectedUsers.map((user) => user.id)) !==\n        JSON.stringify(assignedUsers.map((user) => user.id));\n      console.log(\"Selected Users:\", selectedUsers);\n      console.log(\"Task update check:\", { isTaskChanged, isAssigneeChanged });\n\n      // 1. Task Update\n      if (isTaskChanged) {\n        const { assigned_users, ...taskWithoutAssignments } = task;\n\n        const cleanedTaskPayload = Object.fromEntries(\n          Object.entries(taskWithoutAssignments).filter(\n            ([, value]) => value !== null && value !== undefined && value !== \"\"\n          )\n        );\n\n        await axiosInstance.put(\n          `/tasks/${Task_moduleId}/${taskId}`,\n          cleanedTaskPayload,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n\n        console.log(\" Task updated:\", cleanedTaskPayload);\n      }\n\n      // 2. Assignee Update - always try if changed\n      try {\n        if (isAssigneeChanged && selectedUsers.length > 0) {\n          const user_ids = selectedUsers.map((user) => user.id);\n          const assignees =\n            selectedUsers.length > 0\n              ? selectedUsers.map((user) => user.id)\n              : assignedUsers.map((user) => user.id); // fallback\n\n          console.log(\" Updating assignees:\", user_ids);\n          console.log(\" Updating assignees:\", assignees);\n\n          if (assignees.length === 0) {\n            console.warn(\" No assignees selected!\");\n          }\n          console.log(\"taskId:\", taskId);\n          console.log(\"taskAssignment_ModuleId:\", taskAssignment_ModuleId);\n\n          await axiosInstance.put(\n            `/task-assignments/${taskAssignment_ModuleId}`,\n            {\n              task_id: taskId,\n              new_assignees: assignees,\n            },\n            {\n              headers: { Authorization: `Bearer ${token}` },\n            }\n          );\n\n          console.log(\" Assignees updated\");\n        }\n      } catch (err) {\n        console.error(\" Failed to update assignees:\", {\n          message: err.message,\n          status: err.response?.status,\n          data: err.response?.data,\n          full: err,\n        });\n        toast.error(err.response?.data?.error || \"Failed to update assignees\");\n      }\n\n      // 3. File Upload - always try if file exists\n      try {\n        if (files.length > 0) {\n          const fileFormData = new FormData();\n          files.forEach((file) => fileFormData.append(\"documents\", file)); // updated key name\n          fileFormData.append(\"task_id\", taskId);\n          fileFormData.append(\"user_id\", userId);\n          fileFormData.append(\"remark\", fileComment || \"\");\n          fileFormData.append(\"company_id\", company_id);\n\n          console.log(\" Uploading file:\", {\n            task_id: taskId,\n            user_id: userId,\n            file_name: files.name,\n            remark: fileComment,\n          });\n\n          await axiosInstance.post(`/documents/${Doc_moduleId}`, fileFormData, {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n            params: { company_id },\n          });\n\n          console.log(\" File uploaded\");\n\n          // Clear uploaded files and comment\n          setFiles([]);\n          setFileComment(\"\");\n        }\n      } catch (err) {\n        console.error(\" Failed to upload file:\", err);\n      }\n\n      toast.success(\"Task updated successfully\");\n      navigate(\"/tasks\", { state: { iterationId: selectedIterationId } });\n    } catch (error) {\n      console.error(\" Error updating task:\", {\n        message: error.message,\n        status: error.response?.status,\n        data: error.response?.data,\n        full: error,\n      });\n\n      toast.error(error.response?.data?.error || \"Failed to update task\");\n    }\n  };\n\n  const fetchDocumentsByTask = async (taskId) => {\n    console.log(\"Fetching documents for task ID:\", taskId);\n\n    // Ensure taskId is valid before making the request\n    if (!taskId) {\n      console.error(\"Task ID is missing or undefined\");\n      return [];\n    }\n\n    try {\n      let token = localStorage.getItem(\"jwtToken\");\n      console.log(\"Doc Module ID:\", Doc_moduleId);\n      console.log(\"Authorization Token:\", token ? \"Present\" : \"Missing\");\n\n      const response = await axiosInstance.get(\n        `/documents/${Doc_moduleId}/${taskId}`,\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      // Ensure response and data exist\n      if (response && response.data) {\n        const data = response.data;\n        setDocuments(Array.isArray(data) ? data : []);\n        console.log(\"Documents fetched successfully:\", data);\n        return data;\n      } else {\n        console.error(\"No data received from API\");\n        setDocuments([]);\n        return [];\n      }\n    } catch (error) {\n      console.error(\n        \"Error fetching documents:\",\n        error.response?.data || error.message\n      );\n      setDocuments([]);\n      return [];\n    }\n  };\n\n  const handleViewDocuments = async () => {\n    console.log(\"Opening View Documents Dialog\"); // Debugging log\n    setIsViewDocumentsPopupOpen(true);\n    await fetchDocumentsByTask(taskId); // Fetch documents before opening\n  };\n\n  const handleDelete = async (taskId, documentId) => {\n    if (!Doc_moduleId || !documentId) {\n      toast.error(\"Missing document module ID or document ID.\");\n      return;\n    }\n\n    let token = localStorage.getItem(\"jwtToken\");\n    if (!token) {\n      toast.error(\"Session expired. Please log in again.\");\n      navigate(\"/login\");\n      return;\n    }\n\n    try {\n      const headers = { Authorization: `Bearer ${token}` };\n\n      console.log(\"Deleting document:\", { Doc_moduleId, documentId });\n\n      await axiosInstance.delete(`/documents/${Doc_moduleId}/${documentId}`, {\n        headers,\n      });\n\n      toast.success(\"Document deleted successfully!\");\n\n      // Remove the deleted document from the state\n      setDocuments((prevDocuments) =>\n        prevDocuments.filter((doc) => doc.id !== documentId)\n      );\n\n      setOpen(false);\n    } catch (error) {\n      console.error(\"Error deleting document:\", error.response?.data || error);\n      toast.error(\"Failed to delete document.\");\n    }\n  };\n\n  const fetchAssignedUsers = async (taskId) => {\n    try {\n      let token = localStorage.getItem(\"jwtToken\");\n      if (!token) {\n        console.error(\"No token found in localStorage\");\n        return;\n      }\n\n      console.log(\"Fetching assigned users for task:\", taskId);\n      console.log(\"Using token:\", token);\n      console.log(\"Task Assignment Module ID:\", taskAssignment_ModuleId);\n      console.log(\"Company ID:\", company_id);\n\n      const response = await axiosInstance.get(\n        `/task-assignments/${taskAssignment_ModuleId}/${taskId}`,\n        {\n          headers: { Authorization: `Bearer ${token}` },\n          params: { company_id },\n        }\n      );\n\n      console.log(\"Assigned Users Response:\", response.data);\n\n      const assignedUsers = response.data[0]?.Assignees || [];\n\n      // setTaskAssignments((prev) => ({\n      //   ...prev,\n      //   [taskId]: assignedUsers,\n      // }));\n\n      // setAssignedUsers(assignedUsers);\n\n      const enrichedUsers = assignedUsers.map((assigned) => {\n        if (!assigned.id) return assigned;\n        const fullUser = allUsers.find((u) => u.id === assigned.id);\n        return fullUser ? { ...fullUser, ...assigned } : assigned;\n      });\n\n      setAssignedUsers(enrichedUsers);\n      setSelectedUsers(enrichedUsers);\n\n      setTaskAssignments((prev) => ({\n        ...prev,\n        [taskId]: enrichedUsers,\n      }));\n\n      {\n        assignedUsers && assignedUsers.length > 0 ? (\n          assignedUsers.map((user) => (\n            <Chip\n              key={user.id}\n              label={user.name || \"Unknown\"}\n              style={{ margin: \"2px\" }}\n            />\n          ))\n        ) : (\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            No assigned users\n          </Typography>\n        );\n      }\n\n      console.log(\"API Response Keys:\", Object.keys(response.data));\n\n      console.log(\"Extracted Assigned Users:\", assignedUsers);\n    } catch (error) {\n      console.error(\"Error fetching assigned users:\", error);\n    }\n  };\n\n  const fetchUsers = async () => {\n    let token = localStorage.getItem(\"jwtToken\");\n\n    try {\n      const response = await axiosInstance.get(\n        `/users/${User_Moduleid}//getAssignableUser`,\n        {\n          headers: { Authorization: `Bearer ${token}` },\n          params: { company_id },\n        }\n      );\n      setAllUsers(response.data);\n      console.log(\"All Users:\", response.data);\n    } catch (error) {\n      console.error(\"Error fetching users:\", error);\n    }\n  };\n\n  const handleUserChange = (newValue) => {\n    setSelectedUsers(newValue);\n  };\n\n  useEffect(() => {\n    const loadUsersAndAssignments = async () => {\n      await fetchUsers(); // sets allUsers\n    };\n\n    if (task.id) {\n      loadUsersAndAssignments();\n    }\n  }, [task.id]);\n\n  useEffect(() => {\n    if (task.id && allUsers.length > 0 && assignedUsers.length === 0) {\n      fetchAssignedUsers(task.id);\n    }\n  }, [task.id, allUsers]);\n\n  const handleEditClick = (doc) => {\n    const parsedDate =\n      doc.issue_date && !isNaN(new Date(doc.issue_date).getTime())\n        ? new Date(doc.issue_date).toISOString().split(\"T\")[0]\n        : \"\";\n    setSelectedDocument({ ...doc, issue_date: parsedDate });\n    setEditDialogOpen(true);\n  };\n\n  const handleSaveEdit = async () => {\n    try {\n      const { id, remark, issue_date, module_id } = selectedDocument;\n      const token = localStorage.getItem(\"jwtToken\");\n\n      await axiosInstance.put(\n        `/documents/${Doc_moduleId}/${id}`,\n        { remark, issue_date },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      toast.success(\"Document updated successfully\");\n\n      // Refresh document list after edit\n      const updatedDocs = await fetchDocumentsByTask(task.id);\n      setDocuments(updatedDocs);\n      setEditDialogOpen(false);\n    } catch (error) {\n      console.error(\"Failed to update document\", error);\n      toast.error(\"Failed to update document\");\n    }\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        mb: 2,\n        marginRight: 2,\n      }}\n    >\n      <Typography\n        variant=\"h3\"\n        fontWeight={\"'bold\"}\n        sx={{ textAlign: \"center\" }}\n      >\n        Update Task\n      </Typography>\n\n      <form onSubmit={handleUpdate}>\n        <Grid2 container spacing={4} mt={2}>\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              select\n              label=\"Auditee\"\n              name=\"auditee\"\n              value={task.auditee}\n              onChange={handleChange}\n              margin=\"normal\"\n              required\n            >\n              {[\n                \"CISO\",\n                \"HOD-HR\",\n                \"HOD-Facility Admin\",\n                \"HOD-IT\",\n                \"HOD-Purchase\",\n                \"IT Administration\",\n                \"Project Manager - SDLC\",\n              ].map((auditee) => (\n                <MenuItem key={auditee} value={auditee}>\n                  {auditee}\n                </MenuItem>\n              ))}\n            </TextField>\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Area\"\n              name=\"area\"\n              value={task.area}\n              onChange={handleChange}\n              margin=\"normal\"\n              required\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Checklist Item\"\n              name=\"Checklist_Item\"\n              value={task.Checklist_Item}\n              onChange={handleChange}\n              margin=\"normal\"\n              required\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Notes\"\n              name=\"notes\"\n              value={task.notes}\n              onChange={handleChange}\n              margin=\"normal\"\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              select\n              label=\"Type of Finding\"\n              name=\"Type_of_Finding\"\n              value={task.Type_of_Finding}\n              onChange={handleChange}\n              margin=\"normal\"\n              required\n            >\n              {[\n                \"Compliance\",\n                \"Observation\",\n                \"Non-Compliance\",\n                \"Opportunity For Improvement\",\n              ].map((option) => (\n                <MenuItem key={option} value={option}>\n                  {option}\n                </MenuItem>\n              ))}\n            </TextField>\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              select\n              label=\"Status\"\n              name=\"status\"\n              value={task.status}\n              onChange={handleChange}\n              margin=\"normal\"\n            >\n              {[\n                // \"FI\",\n                // \"PI\",\n                // \"NI\",\n                // \"NA\",\n                // \"TBD\",\n                // \"OFI\",\n                // \"Obs\",\n                // \"NC- Minor\",\n                // \"NC- Major\",\n                \"Not Done\",\n                \"Partially Done\",\n                \"In-Progress\",\n                \"Largely Done\",\n                \"Done\",\n                \"NA\",\n              ].map((status) => (\n                <MenuItem key={status} value={status}>\n                  {status}\n                </MenuItem>\n              ))}\n            </TextField>\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Description\"\n              name=\"description\"\n              value={task.description}\n              onChange={handleChange}\n              margin=\"normal\"\n              multiline\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Standard\"\n              name=\"standard\"\n              value={task.standard}\n              onChange={handleChange}\n              margin=\"normal\"\n              required\n              disabled\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              select\n              label=\"Priority\"\n              name=\"priority\"\n              value={task.priority}\n              onChange={handleChange}\n              margin=\"normal\"\n            >\n              {[\"High\", \"Medium\", \"Low\"].map((priority) => (\n                <MenuItem key={priority} value={priority}>\n                  {priority}\n                </MenuItem>\n              ))}\n            </TextField>\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Responsibility\"\n              name=\"responsibility\"\n              value={task.responsibility}\n              onChange={handleChange}\n              margin=\"normal\"\n              sx={{ mb: 2 }}\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"RCA Details\"\n              name=\"RCA_Details\"\n              value={task.RCA_Details}\n              onChange={handleChange}\n              margin=\"normal\"\n              multiline\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              type=\"date\"\n              label=\"Planned Completion Date\"\n              name=\"Planned_Completion_Date\"\n              value={\n                task.Planned_Completion_Date\n                  ? new Date(task.Planned_Completion_Date)\n                      .toISOString()\n                      .split(\"T\")[0]\n                  : \"\"\n              }\n              onChange={handleChange}\n              margin=\"normal\"\n              InputLabelProps={{ shrink: true }}\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              type=\"date\"\n              label=\"Actual Completion Date\"\n              name=\"Actual_Completion_Date\"\n              value={\n                task.Actual_Completion_Date\n                  ? new Date(task.Actual_Completion_Date)\n                      .toISOString()\n                      .split(\"T\")[0]\n                  : \"\"\n              }\n              onChange={handleChange}\n              margin=\"normal\"\n              InputLabelProps={{ shrink: true }}\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Reference - Clause\"\n              name=\"clause_number\"\n              value={task.clause_number}\n              onChange={handleChange}\n              margin=\"normal\"\n            />\n          </Grid2>\n\n          {/* Assigned Users Dropdown */}\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <Autocomplete\n              multiple\n              options={allUsers || []}\n              getOptionLabel={(user) =>\n                user?.name\n                  ? `${user.name}${\n                      user.department?.name ? ` (${user.department.name})` : \"\"\n                    }${user.is_active ? \"\" : \" (Inactive)\"}`\n                  : user?.email || \"Unknown User\"\n              }\n              isOptionEqualToValue={(option, value) => option.id === value.id}\n              value={selectedUsers}\n              onChange={(event, newValue) => {\n                setSelectedUsers(newValue);\n              }}\n              renderOption={(props, option) => (\n                <li\n                  {...props}\n                  style={{\n                    color: option.is_active ? \"inherit\" : \"#888\",\n                    fontStyle: option.is_active ? \"normal\" : \"italic\",\n                  }}\n                >\n                  {option.name || option.email}\n                  {option.department?.name\n                    ? ` (${option.department.name})`\n                    : \"\"}\n                  {!option.is_active && \" (Inactive)\"}\n                </li>\n              )}\n              renderTags={(value, getTagProps) =>\n                value.filter(Boolean).map((option, index) => {\n                  const tagProps = getTagProps({ index });\n                  const { key, ...restTagProps } = tagProps;\n\n                  return (\n                    <Chip\n                      key={option.id || key}\n                      label={`${option.name || option.email}${\n                        option.department?.name\n                          ? ` (${option.department.name})`\n                          : \"\"\n                      }${option.is_active === false ? \" (Inactive)\" : \"\"}`}\n                      style={{\n                        backgroundColor:\n                          option.is_active === false ? \"#ddd\" : undefined,\n                        color: option.is_active === false ? \"#555\" : undefined,\n                        fontStyle:\n                          option.is_active === false ? \"italic\" : \"normal\",\n                      }}\n                      {...restTagProps}\n                    />\n                  );\n                })\n              }\n              renderInput={(params) => (\n                <TextField\n                  {...params}\n                  label=\"Assign Users\"\n                  variant=\"outlined\"\n                  fullWidth\n                />\n              )}\n              style={{ minWidth: \"250px\" }}\n            />\n          </Grid2>\n\n          {/* File Upload Section */}\n          <div className=\"file-upload-section\">\n            <label className=\"custom-file-input\">\n              <input type=\"file\" multiple onChange={handleFileChange} />\n              <span className=\"custom-file-button\">Choose File</span>\n            </label>\n            {files.length > 0 && (\n              <span className=\"file-name\">\n                {files.map((file) => file.name).join(\", \")}\n              </span>\n            )}\n            <TextField\n              fullWidth\n              label=\"File Comment\"\n              value={fileComment}\n              onChange={handleFileCommentChange}\n              margin=\"normal\"\n              placeholder=\"Enter a comment for the uploaded file\"\n            />\n          </div>\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={async () => {\n              const docs = await fetchDocumentsByTask(task.id);\n\n              if (!docs || docs.length === 0) {\n                // Show alert toast instead of opening popup\n                toast.warning(\"No documents available.\");\n                return;\n              }\n\n              setDocuments(docs || []);\n              setSelectedTask(task.id);\n              setIsViewDocumentsPopupOpen(true);\n            }}\n          >\n            View Document\n          </Button>\n\n          <Grid2 size={{ xs: 12 }}>\n            <Box display=\"flex\" justifyContent=\"flex-end\" gap={2}>\n              <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n                Update Task\n              </Button>\n\n              <Button\n                variant=\"outlined\"\n                color=\"secondary\"\n                onClick={() =>\n                  navigate(\"/tasks\", {\n                    state: { iterationId: selectedIterationId },\n                  })\n                }\n              >\n                Cancel\n              </Button>\n            </Box>\n          </Grid2>\n        </Grid2>\n      </form>\n\n      {isViewDocumentsPopupOpen && (\n        <Dialog\n          open={isViewDocumentsPopupOpen}\n          onClose={() => setIsViewDocumentsPopupOpen(false)}\n          fullWidth\n          maxWidth=\"xl\"\n          style={{ maxWidth: \"90vw\" }}\n        >\n          <DialogTitle>View Uploaded Documents</DialogTitle>\n\n          <DialogContent>\n            {documents && Array.isArray(documents) && documents.length > 0 ? (\n              <Box sx={{ width: \"100%\" }}>\n                <DataGrid\n                  rows={documents.map((doc, index) => ({\n                    id: doc.id || index,\n                    file_name: doc.file_name,\n                    remark: doc.remark || \"No remark provided\",\n                    uploader: doc.uploader?.name || \"Unknown\",\n                    uploaded_at: doc.uploaded_at\n                      ? new Date(doc.uploaded_at).toLocaleString()\n                      : \"N/A\",\n                    issue_version:\n                      doc.issue_version ||\n                      (doc.file_name?.match(/_v(\\d+)_/)?.[1]\n                        ? `v${doc.file_name.match(/_v(\\d+)_/)[1]}`\n                        : \"N/A\"),\n                    issue_date: doc.issue_date\n                      ? new Date(doc.issue_date).toLocaleDateString()\n                      : \"N/A\",\n                    file_url: doc.file_url,\n                    module_id: doc.module_id,\n                  }))}\n                  columns={[\n                    {\n                      field: \"file_name\",\n                      headerName: \"Document File Name\",\n                      flex: 1,\n                    },\n                    {\n                      field: \"remark\",\n                      headerName: \"Remark\",\n                      flex: 1,\n                    },\n                    {\n                      field: \"uploader\",\n                      headerName: \"Uploaded by\",\n                      flex: 1,\n                    },\n                    {\n                      field: \"uploaded_at\",\n                      headerName: \"Uploaded on date\",\n                      flex: 1,\n                    },\n                    {\n                      field: \"file_url\",\n                      headerName: \"File Link\",\n                      flex: 1,\n                      renderCell: (params) => (\n                        <a\n                          href={params.value}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          style={{ color: \"#1976d2\", textDecoration: \"none\" }}\n                        >\n                          Open File\n                        </a>\n                      ),\n                    },\n                    {\n                      field: \"actions\",\n                      headerName: \"Actions\",\n                      flex: 1,\n                      renderCell: (params) => (\n                        <>\n                          <Tooltip title=\"Edit\">\n                            <IconButton\n                              onClick={() => handleEditClick(params.row)}\n                              color=\"primary\"\n                            >\n                              <EditIcon />\n                            </IconButton>\n                          </Tooltip>\n                          <Tooltip title=\"Delete\">\n                            <IconButton\n                              onClick={() =>\n                                handleDelete(\n                                  params.row.module_id,\n                                  params.row.id\n                                )\n                              }\n                              color=\"error\"\n                            >\n                              <DeleteIcon />\n                            </IconButton>\n                          </Tooltip>\n                        </>\n                      ),\n                    },\n\n                    {\n                      field: \"id\",\n                      headerName: \"Document ID\",\n                      flex: 1,\n                      renderCell: (params) => {\n                        const fullId = params.value || \"N/A\";\n                        const truncatedId =\n                          fullId.length > 16\n                            ? `${fullId.slice(0, 8)}...${fullId.slice(-6)}`\n                            : fullId;\n\n                        return (\n                          <Tooltip title={fullId} arrow>\n                            <Typography\n                              variant=\"body2\"\n                              sx={{\n                                fontFamily: \"monospace\",\n                                whiteSpace: \"nowrap\",\n                                overflow: \"hidden\",\n                                textOverflow: \"ellipsis\",\n                                width: \"100%\",\n                              }}\n                            >\n                              {truncatedId}\n                            </Typography>\n                          </Tooltip>\n                        );\n                      },\n                    },\n                    {\n                      field: \"issue_version\",\n                      headerName: \"Document Issue Version\",\n                      flex: 1,\n                    },\n                    {\n                      field: \"issue_date\",\n                      headerName: \"Document Issue Date\",\n                      flex: 1,\n                    },\n                  ]}\n                  initialState={{\n                    pagination: {\n                      paginationModel: { pageSize: 5, page: 0 },\n                    },\n                  }}\n                  pageSizeOptions={[5, 10, 25]}\n                  disableRowSelectionOnClick\n                />\n              </Box>\n            ) : (\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                No documents available.\n              </Typography>\n            )}\n          </DialogContent>\n\n          <DialogActions className=\"button-group\">\n            <Button\n              className=\"MuiButton-outlinedSecondary\"\n              onClick={() => setIsViewDocumentsPopupOpen(false)}\n            >\n              Close\n            </Button>\n          </DialogActions>\n        </Dialog>\n      )}\n\n      <Dialog open={editDialogOpen} onClose={() => setEditDialogOpen(false)}>\n        <DialogTitle>Edit Document</DialogTitle>\n        <DialogContent>\n          <TextField\n            label=\"Remark\"\n            fullWidth\n            margin=\"dense\"\n            value={selectedDocument?.remark || \"\"}\n            onChange={(e) =>\n              setSelectedDocument({\n                ...selectedDocument,\n                remark: e.target.value,\n              })\n            }\n          />\n          <TextField\n            label=\"Issue Date\"\n            type=\"date\"\n            fullWidth\n            margin=\"dense\"\n            InputLabelProps={{ shrink: true }}\n            value={selectedDocument?.issue_date || \"\"}\n            onChange={(e) =>\n              setSelectedDocument({\n                ...selectedDocument,\n                issue_date: e.target.value,\n              })\n            }\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setEditDialogOpen(false)}>Cancel</Button>\n          <Button variant=\"contained\" onClick={handleSaveEdit}>\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Paper>\n  );\n};\n\nexport default EditTask;\n","size_bytes":33412},"frontend-new/src/assets/theme-dark/components/button/contained.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { white, text, info, secondary } = colors;\nconst { size } = typography;\n\nconst contained = {\n  base: {\n    backgroundColor: white.main,\n    minHeight: pxToRem(37),\n    color: text.main,\n    padding: `${pxToRem(9)} ${pxToRem(24)}`,\n\n    \"&:hover\": {\n      backgroundColor: white.main,\n    },\n\n    \"&:active, &:active:focus, &:active:hover\": {\n      opacity: 0.85,\n    },\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(16)} !important`,\n    },\n  },\n\n  small: {\n    minHeight: pxToRem(29),\n    padding: `${pxToRem(6)} ${pxToRem(18)}`,\n    fontSize: size.xs,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(12)} !important`,\n    },\n  },\n\n  large: {\n    minHeight: pxToRem(44),\n    padding: `${pxToRem(12)} ${pxToRem(64)}`,\n    fontSize: size.sm,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(22)} !important`,\n    },\n  },\n\n  primary: {\n    backgroundColor: info.main,\n\n    \"&:hover\": {\n      backgroundColor: info.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      backgroundColor: info.focus,\n    },\n  },\n\n  secondary: {\n    backgroundColor: secondary.main,\n\n    \"&:hover\": {\n      backgroundColor: secondary.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      backgroundColor: secondary.focus,\n    },\n  },\n};\n\nexport default contained;\n","size_bytes":2125},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4050},"frontend-new/src/assets/theme/components/avatar.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\n\nconst { borderRadius } = borders;\n\nconst avatar = {\n  styleOverrides: {\n    root: {\n      transition: \"all 200ms ease-in-out\",\n    },\n\n    rounded: {\n      borderRadius: borderRadius.lg,\n    },\n\n    img: {\n      height: \"auto\",\n    },\n  },\n};\n\nexport default avatar;\n","size_bytes":882},"frontend-new/src/assets/theme/components/tabs/tab.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme/base/typography\";\nimport borders from \"assets/theme/base/borders\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { size, fontWeightRegular } = typography;\nconst { borderRadius } = borders;\nconst { dark } = colors;\n\nconst tab = {\n  styleOverrides: {\n    root: {\n      display: \"flex\",\n      alignItems: \"center\",\n      flexDirection: \"row\",\n      flex: \"1 1 auto\",\n      textAlign: \"center\",\n      maxWidth: \"unset !important\",\n      minWidth: \"unset !important\",\n      minHeight: \"unset !important\",\n      fontSize: size.md,\n      fontWeight: fontWeightRegular,\n      textTransform: \"none\",\n      lineHeight: \"inherit\",\n      padding: pxToRem(4),\n      borderRadius: borderRadius.lg,\n      color: `${dark.main} !important`,\n      opacity: \"1 !important\",\n\n      \"& .material-icons, .material-icons-round\": {\n        marginBottom: \"0 !important\",\n        marginRight: pxToRem(6),\n      },\n\n      \"& svg\": {\n        marginBottom: \"0 !important\",\n        marginRight: pxToRem(6),\n      },\n    },\n\n    labelIcon: {\n      paddingTop: pxToRem(4),\n    },\n  },\n};\n\nexport default tab;\n","size_bytes":1789},"frontend-new/src/assets/theme-dark/base/borders.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base border styles for the Material Dashboard 2 React.\n * You can add new border width, border color or border radius using this file.\n * You can customized the borders value for the entire Material Dashboard 2 React using thie file.\n */\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { white } = colors;\n\nconst borders = {\n  borderColor: rgba(white.main, 0.4),\n\n  borderWidth: {\n    0: 0,\n    1: pxToRem(1),\n    2: pxToRem(2),\n    3: pxToRem(3),\n    4: pxToRem(4),\n    5: pxToRem(5),\n  },\n\n  borderRadius: {\n    xs: pxToRem(1.6),\n    sm: pxToRem(2),\n    md: pxToRem(6),\n    lg: pxToRem(8),\n    xl: pxToRem(12),\n    xxl: pxToRem(16),\n    section: pxToRem(160),\n  },\n};\n\nexport default borders;\n","size_bytes":1443},"qms-source/frontend-new/src/pages/user_management/changePassword.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  Container,\n  TextField,\n  Button,\n  Paper,\n  Typography,\n  Box,\n  Grid,\n} from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst ChangePassword = () => {\n  const [email, setEmail] = useState(\"\");\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmNewPassword, setConfirmNewPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate(); // Hook for navigation\n\n  // Automatically fetch email from localStorage.\n  useEffect(() => {\n    const storedEmail = localStorage.getItem(\"userEmail\");\n    if (storedEmail) setEmail(storedEmail);\n  }, []);\n\n  const handleChangePassword = async (e) => {\n    e.preventDefault();\n\n    // ðŸ”¹ Validations\n    if (!email.trim()) return toast.warning(\"Email is required.\");\n    if (!oldPassword.trim()) return toast.warning(\"Old Password is required.\");\n    if (!newPassword.trim()) return toast.warning(\"New Password is required.\");\n    if (newPassword !== confirmNewPassword)\n      return toast.error(\"Passwords do not match.\");\n    if (newPassword.length < 8)\n      return toast.warning(\"New password must be at least 8 characters long.\");\n\n    setLoading(true);\n\n    try {\n      const token = localStorage.getItem(\"jwtToken\"); // Get JWT token\n\n      const response = await axiosInstance.post(\n        \"/auth/changePassword\",\n        { email, oldPassword, newPassword },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      toast.success(response.data.message || \"Password changed successfully!\");\n\n      // ðŸ”¹ Clear form fields after success\n      setOldPassword(\"\");\n      setNewPassword(\"\");\n      setConfirmNewPassword(\"\");\n\n      // ðŸ”¹ Redirect to the previous page after 2 seconds\n      setTimeout(() => {\n        navigate(-1); // Navigates back to the previous page\n      }, 2000);\n    } catch (error) {\n      console.error(\"Error:\", error.response?.data || error);\n      toast.error(\n        error.response?.data?.message || \"Failed to change password.\"\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ px: { xs: 2, sm: 3 } }}>\n      <Paper\n        elevation={4}\n        sx={{\n          mt: 4,\n          p: 3,\n          mx: 8,\n          borderRadius: 3,\n          backgroundColor: \"#f9f9f9\",\n          boxShadow: \"0px 4px 12px rgba(0, 0, 0, 0.1)\",\n        }}\n      >\n        <Grid container justifyContent=\"flex-start\" mb={3}>\n          <Grid item>\n            <Typography variant=\"h5\" sx={{ fontWeight: 600 }}>\n              Change Password\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <form onSubmit={handleChangePassword}>\n          <Box sx={{ display: \"grid\", gap: 2 }}>\n            <TextField\n              label=\"Email\"\n              variant=\"outlined\"\n              fullWidth\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              disabled\n            />\n            <TextField\n              label=\"Old Password\"\n              variant=\"outlined\"\n              fullWidth\n              type=\"password\"\n              value={oldPassword}\n              onChange={(e) => setOldPassword(e.target.value)}\n            />\n            <TextField\n              label=\"New Password\"\n              variant=\"outlined\"\n              fullWidth\n              type=\"password\"\n              value={newPassword}\n              onChange={(e) => setNewPassword(e.target.value)}\n            />\n            <TextField\n              label=\"Confirm New Password\"\n              variant=\"outlined\"\n              fullWidth\n              type=\"password\"\n              value={confirmNewPassword}\n              onChange={(e) => setConfirmNewPassword(e.target.value)}\n            />\n          </Box>\n\n          <Box\n            sx={{\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              mt: 3,\n            }}\n          >\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={loading}\n              sx={{\n                px: 4,\n                py: 1.5,\n                fontSize: \"16px\",\n                fontWeight: 500,\n                borderRadius: 2,\n                boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n              }}\n            >\n              {loading ? \"Updating...\" : \"Change Password\"}\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default ChangePassword;\n","size_bytes":4834},"BackEnd/src/middlewares/authMiddlewares.js":{"content":"import jwt from 'jsonwebtoken';\nimport { config } from 'dotenv';\n\n// Load environment variables\nconfig();\n\nconst SECRET_KEY = process.env.JWT_SECRET; // Use env variable\n\nexport const authenticateUser = (req, res, next) => {\n    const token = req.header('Authorization')?.split(' ')[1]; // Extract Bearer token\n\n    if (!token) {\n        return res.status(403).json({ error: \"Access denied. No token provided.\" });\n    }\n\n    try {\n        const decoded = jwt.verify(token, SECRET_KEY);\n        req.user = decoded; // Attach user details to request\n        console.log(`User details: ${JSON.stringify(decoded, null, 2)}`);\n\n        next();\n    } catch (error) {\n        console.log('error while extracting token '+error);\n        return res.status(401).json({ error: error });\n    }\n};\n export default authenticateUser;","size_bytes":819},"frontend-new/src/pages/department/DepartmentList.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport {\n  Typography,\n  Button,\n  Grid,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Box,\n  Paper,\n} from \"@mui/material\";\nimport { Delete, Edit } from \"@mui/icons-material\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast } from \"react-toastify\";\nimport { useNavigate } from \"react-router-dom\";\nimport { DataGrid } from \"@mui/x-data-grid\";\n\nconst UserModuleId = \"bd168912-e40c-48e3-b3d1-440a3e129d52\";\n\nconst DepartmentList = () => {\n  const [departments, setDepartments] = useState([]);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [selectedDepartmentId, setSelectedDepartmentId] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const [pageSize, setPageSize] = useState(5);\n\n  const companyId = sessionStorage.getItem(\"selectedCompany\");\n  console.log(\"Company ID from sessionStorage:\", companyId);\n\n  // Fetch departments for the selected company\n  const loadDepartments = async () => {\n    if (!companyId) {\n      toast.error(\"Company ID is missing. Please select a company.\");\n      console.error(\"Missing company ID for department load\");\n      return;\n    }\n\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n        },\n        params: {\n          company_id: companyId,\n        },\n      };\n\n      const res = await axiosInstance.get(\n        `/department/${UserModuleId}`,\n        config\n      );\n      setDepartments(res.data || []);\n    } catch (error) {\n      const errorMsg =\n        error?.response?.data?.error ||\n        error?.response?.data?.message ||\n        error?.message ||\n        \"Unknown error\";\n\n      console.error(\"Error fetching departments:\", errorMsg, error.response);\n      toast.error(`Failed to fetch departments: ${errorMsg}`);\n    }\n  };\n\n  // Handle department soft delete\n  const handleDelete = async () => {\n    try {\n      setLoading(true);\n\n      const token = localStorage.getItem(\"jwtToken\");\n      if (!token || !companyId) {\n        setError(\"Authorization or Company ID missing.\");\n        return;\n      }\n\n      await axiosInstance.delete(\n        `/department/${UserModuleId}/${selectedDepartmentId}`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n          data: { company_id: companyId },\n        }\n      );\n\n      setDepartments((prevDepartments) =>\n        prevDepartments.filter((dep) => dep.id !== selectedDepartmentId)\n      );\n      setError(\"\");\n      toast.success(\"Department soft deleted successfully!\");\n      setDeleteDialogOpen(false);\n    } catch (error) {\n      const backendError =\n        error?.response?.data?.error ||\n        error?.response?.data?.message ||\n        error.message ||\n        \"Unknown error\";\n\n      toast.error(`Delete failed: ${backendError}`);\n      setError(\"Delete failed\");\n      console.error(\"Delete failed:\", backendError);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadDepartments();\n  }, []);\n\n  const columns = [\n    {\n      field: \"name\",\n      headerName: \"Name\",\n      width: 180,\n      filterable: true,\n      flex: 1,\n    },\n    {\n      field: \"description\",\n      headerName: \"Description\",\n      width: 300,\n      filterable: true,\n      flex: 1,\n    },\n    {\n      field: \"createdAt\",\n      headerName: \"Created At\",\n      width: 180,\n      filterable: true,\n      flex: 1,\n    },\n    {\n      field: \"actions\",\n      headerName: \"Actions\",\n      width: 180,\n      filterable: false,\n      flex: 1,\n      renderCell: (params) => (\n        <>\n          <IconButton\n            color=\"primary\"\n            href={`/departments/edit/${params.row.id}`}\n          >\n            <Edit />\n          </IconButton>\n          <IconButton\n            color=\"error\"\n            onClick={() => {\n              setSelectedDepartmentId(params.row.id);\n              setDeleteDialogOpen(true);\n            }}\n          >\n            <Delete />\n          </IconButton>\n        </>\n      ),\n    },\n  ];\n\n  const rows = departments.map((dep) => ({\n    id: dep.id,\n    name: dep.name,\n    description: dep.description || \"No description\",\n    createdAt: dep.createdAt?.split(\"T\")[0],\n  }));\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        marginRight: 2,\n        marginTop: 4,\n        mb: 2,\n      }}\n    >\n      <Typography variant=\"h5\" gutterBottom>\n        Department Management\n      </Typography>\n\n      {/* Button to add a new department, aligned to the right */}\n      <Box display=\"flex\" justifyContent=\"flex-end\" mb={2}>\n        <Button variant=\"contained\" color=\"primary\" href=\"/departments/new\">\n          Add Department\n        </Button>\n      </Box>\n\n      <Grid container sx={{ mt: 2 }}>\n        <Grid item xs={12}>\n          <div style={{ height: 400, width: \"100%\" }}>\n            <DataGrid\n              rows={rows}\n              columns={columns}\n              pagination\n              paginationModel={{ pageSize: pageSize, page: 0 }}\n              onPaginationModelChange={(model) => setPageSize(model.pageSize)}\n              pageSizeOptions={[5, 10, 25]}\n              disableRowSelectionOnClick\n              autoHeight\n            />\n          </div>\n        </Grid>\n      </Grid>\n\n      {/* Delete confirmation dialog */}\n      <Dialog\n        open={deleteDialogOpen}\n        onClose={() => setDeleteDialogOpen(false)}\n      >\n        <DialogTitle>Confirm Soft Delete</DialogTitle>\n        <DialogContent>\n          <Typography>\n            Are you sure you want to soft delete this department?\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setDeleteDialogOpen(false)}>Cancel</Button>\n          <Button onClick={handleDelete} color=\"error\">\n            Soft Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Paper>\n  );\n};\n\nexport default DepartmentList;\n","size_bytes":6125},"frontend-new/src/assets/theme-dark/components/list/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst list = {\n  styleOverrides: {\n    padding: {\n      paddingTop: 0,\n      paddingBottom: 0,\n    },\n  },\n};\n\nexport default list;\n","size_bytes":655},"qms-source/frontend-new/src/assets/theme/components/form/textField.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\n\nconst { transparent } = colors;\n\nconst textField = {\n  styleOverrides: {\n    root: {\n      backgroundColor: transparent.main,\n    },\n  },\n};\n\nexport default textField;\n","size_bytes":781},"qms-source/frontend-new/src/dashboard/Dashboard.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport {\n  Box,\n  IconButton,\n  Menu,\n  MenuItem,\n  Avatar,\n  Typography,\n  ListItemIcon,\n  Paper,\n  Grid2,\n} from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jwtDecode } from \"jwt-decode\";\nimport axiosInstance from \"../services/axiosinstance\";\nimport LockIcon from \"@mui/icons-material/Lock\";\nimport ExitToAppIcon from \"@mui/icons-material/ExitToApp\";\nimport PersonIcon from \"@mui/icons-material/Person\";\nimport { useMaterialUIController, setSelectedCompanyName } from \"../context\";\n\nconst moduleId = \"bd168912-e40c-48e3-b3d1-440a3e129d52\";\n\nconst Dashboard = () => {\n  const navigate = useNavigate();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [userName, setUserName] = useState(\"User\");\n  const [roleName, setRoleName] = useState(\"\");\n  const [companyName, setCompanyName] = useState(\"\");\n  const [profileImage, setProfileImage] = useState(null);\n  const [controller, dispatch] = useMaterialUIController();\n\n  // Extracting user details from JWT Token\n  const token = localStorage.getItem(\"jwtToken\");\n  const decodedToken = token ? jwtDecode(token) : null;\n  const userId = decodedToken?.user_id || localStorage.getItem(\"userId\"); // Get from token or localStorage\n  const roleId = decodedToken?.role || \"\";\n  const company_id = decodedToken?.company || \"\";\n  console.log(\"Decoded Token:\", decodedToken);\n\n  const fetchRoleName = async () => {\n    try {\n      const response = await axiosInstance.get(\n        `/roles/${moduleId}/${roleId}`, {\n        params: { company_id },\n      });\n      setRoleName(response.data.name || \"Unknown Role\");\n    } catch (error) {\n      console.error(\"Error fetching role name:\", error);\n    }\n  };\n\n  const fetchCompanyName = async () => {\n    try {\n      const storedCompanyName = sessionStorage.getItem(\"selectedCompanyName\");\n\n      if (storedCompanyName) {\n        setCompanyName(storedCompanyName);\n        return;\n      }\n\n      if (company_id) {\n        const token = localStorage.getItem(\"jwtToken\");\n\n        if (!token) {\n          console.error(\"JWT Token is missing\");\n          return;\n        }\n\n        console.log(\"Using token:\", token); // Debugging\n\n        const response = await axiosInstance.get(\n          `/companies/5d896834-fedd-4e0b-a882-8d05396fc346/${company_id}`,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n\n        const name = response.data.name || \"Unknown Company\";\n        setCompanyName(name);\n        sessionStorage.setItem(\"selectedCompanyName\", name);\n        setSelectedCompanyName(dispatch, name);\n      }\n    } catch (error) {\n      console.error(\"Error fetching company name:\", error);\n      if (error.response) {\n        console.error(\"Error details:\", error.response.data);\n      }\n    }\n  };\n\n  const fetchUserProfile = async () => {\n    if (userId) {\n      console.log(\"User ID:\", userId);\n      console.log(\"Role Name:\", roleName);\n      console.log(\"Company ID:\", company_id);\n\n      try {\n        const params =\n          roleName === \"System Super Admin\" && company_id\n            ? { company_id: company_id }\n            : {};\n\n        console.log(\"API request params:\", params); // Debugging\n\n        const response = await axiosInstance.get(\n          `/users/${moduleId}/${userId}`,\n          { params }\n        );\n\n        console.log(\"API Response:\", response.data); // Debugging\n\n        if (response.data) {\n          setUserName(response.data.name || \"User\");\n          localStorage.setItem(\"name\", response.data.name);\n        }\n      } catch (error) {\n        console.error(\"Error fetching user profile:\", error);\n        if (error.response) {\n          console.error(\"Backend error details:\", error.response.data);\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (!token) {\n      navigate(\"/login\", { replace: true });\n      return;\n    }\n\n    // Fetch role first, then fetch user profile\n    const fetchData = async () => {\n      if (roleId) await fetchRoleName();\n      if (company_id) await fetchCompanyName();\n\n      if (roleName && (roleName !== \"System Super Admin\" || company_id)) {\n        fetchUserProfile();\n      }\n    };\n\n    fetchData();\n  }, [navigate, userId, roleId, company_id, roleName]);\n\n  // Menu Handlers\n  const handleMenuOpen = (event) => setAnchorEl(event.currentTarget);\n  const handleMenuClose = () => setAnchorEl(null);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"userId\");\n    localStorage.removeItem(\"jwtToken\");\n    localStorage.removeItem(\"userRole\");\n    localStorage.removeItem(\"userEmail\");\n    localStorage.removeItem(\"name\");\n\n    sessionStorage.removeItem(\"selectedCompany\");\n    sessionStorage.removeItem(\"selectedCompanyName\");\n    sessionStorage.removeItem(\"companyname\");\n    sessionStorage.clear();\n    setSelectedCompanyName(dispatch, \"\");\n\n    navigate(\"/login\");\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        p: 2,\n        borderRadius: \"0.5rem\",\n        marginLeft: 4,\n        marginRight: 2,\n      }}\n    >\n      <Grid2 container fullWidth>\n        <Grid2\n          size={{ xs: 12, md: 5 }}\n          mb={4}\n          sx={{\n            display: \"flex\",\n            justifyContent: { xs: \"center\", md: \"start\" },\n          }}\n        >\n          <Typography\n            variant=\"h4\"\n            sx={{\n              fontWeight: 500,\n              fontSize: \"2.5rem\",\n              fontFamily: \"Poppins, sans-serif\",\n              color: \"#1976d2\",\n              textShadow: \"1px 1px 3px rgba(0, 0, 0, 0.2)\",\n            }}\n          >\n            Dashboard\n          </Typography>\n        </Grid2>\n\n        <Grid2\n          size={{ xs: 12, md: 7 }}\n          sx={{\n            display: \"flex\",\n            justifyContent: { xs: \"center\", md: \"flex-end\" },\n          }}\n        >\n          {/* User Info Box */}\n          <Box\n            sx={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              gap: 0.5,\n            }}\n          >\n            <Typography\n              variant=\"h6\"\n              sx={{\n                fontWeight: \"bold\",\n                color: \"#1976d2\",\n                fontSize: \"1.2rem\",\n                textAlign: \"center\",\n                whiteSpace: \"pre-line\",\n              }}\n            >\n              Hello, {userName} {\"\\n\"} ({roleName})\n            </Typography>\n\n            {/* Profile Icon */}\n            <IconButton onClick={handleMenuOpen} sx={{ p: 0 }}>\n              <Avatar\n                variant=\"square\"\n                src={profileImage || \"\"}\n                sx={{\n                  width: 45,\n                  height: 45,\n                  borderRadius: 2,\n                  backgroundColor: profileImage ? \"#fff\" : \"#1976d2\",\n                  border: \"2px solid #1976d2\",\n                  boxShadow: \"0px 4px 8px rgba(0, 0, 0, 0.15)\",\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                }}\n              >\n                {!profileImage && (\n                  <PersonIcon sx={{ color: \"#fff\", fontSize: 30 }} />\n                )}\n              </Avatar>\n            </IconButton>\n\n            {/* <IconButton\n              onClick={handleSelectStandardClick}\n              sx={{\n                backgroundColor: \"#1976d2\",\n                color: \"white\",\n                fontSize: \"0.8rem\",\n                fontWeight: \"bold\",\n                borderRadius: \"8px\",\n                mt: 1,\n                px: 2,\n                py: 0.5,\n                \"&:hover\": { backgroundColor: \"#125ea8\" },\n              }}\n            >\n              Select Standard\n            </IconButton> */}\n\n            {/* System Super Admin Features */}\n            {roleName === \"System Super Admin\" && (\n              <>\n                <IconButton\n                  onClick={() => navigate(\"/SelectCompany\")}\n                  sx={{\n                    backgroundColor: \"#1976d2\",\n                    color: \"white\",\n                    fontSize: \"0.8rem\",\n                    fontWeight: \"bold\",\n                    borderRadius: \"8px\",\n                    mt: 1,\n                    px: 2,\n                    py: 0.5,\n                    \"&:hover\": { backgroundColor: \"#125ea8\" },\n                  }}\n                >\n                  Select Company\n                </IconButton>\n                <Typography variant=\"body2\" sx={{ color: \"#555\" }}>\n                  {companyName || \"No Company Selected\"}\n                </Typography>\n              </>\n            )}\n          </Box>\n\n          {/* Dropdown Menu */}\n          <Menu\n            anchorEl={anchorEl}\n            open={Boolean(anchorEl)}\n            onClose={handleMenuClose}\n          >\n            <MenuItem onClick={() => navigate(\"/changePassword\")}>\n              <ListItemIcon>\n                <LockIcon fontSize=\"small\" sx={{ color: \"#1976d2\" }} />\n              </ListItemIcon>\n              Change Password\n            </MenuItem>\n            <MenuItem onClick={handleLogout} sx={{ color: \"red\" }}>\n              <ListItemIcon>\n                <ExitToAppIcon fontSize=\"small\" sx={{ color: \"red\" }} />\n              </ListItemIcon>\n              Logout\n            </MenuItem>\n          </Menu>\n        </Grid2>\n      </Grid2>\n\n    </Paper>\n  );\n};\nexport default Dashboard;\n","size_bytes":9384},"qms-source/frontend-new/src/styles/TaskAssignment.css":{"content":".container {\n    max-width: 600px;\n    margin: auto;\n    padding: 20px;\n    text-align: center;\n  }\n  \n  .form input {\n    margin: 5px;\n    padding: 8px;\n    width: 45%;\n  }\n  \n  button {\n    margin-top: 10px;\n    padding: 8px 15px;\n    background-color: #007bff;\n    color: white;\n    border: none;\n    cursor: pointer;\n  }\n  \n  button:hover {\n    background-color: #0056b3;\n  }\n  \n  table {\n    width: 100%;\n    margin-top: 20px;\n    border-collapse: collapse;\n  }\n  \n  th, td {\n    padding: 10px;\n    border: 1px solid #ddd;\n  }\n  ","size_bytes":534},"qms-source/frontend-new/src/styles/ModuleList.css":{"content":"/* Module List Container */\n.module-list-container {\n  padding: 20px;\n  background: #f4f4f4;\n  border-radius: 8px;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n}\n\n/* Table Styling */\n.module-table {\n  width: 100%;\n  border-collapse: collapse;\n  background: white;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);\n}\n\n/* Table Header */\n.module-table th {\n  padding: 14px;\n  background-color: #007bff;\n  color: white;\n  text-align: left;\n  font-weight: bold;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n/* Table Rows */\n.module-table td {\n  padding: 14px;\n  border-bottom: 1px solid #ddd;\n  text-align: left;\n  font-size: 14px;\n}\n\n/* Alternate Row Coloring */\n.module-table tr:nth-child(even) {\n  background-color: #f8f9fa;\n}\n\n/* Hover Effect */\n.module-table tr:hover {\n  background-color: #e9ecef;\n  transition: background 0.2s ease-in-out;\n}\n\n/* Buttons Container */\n.module-action-buttons {\n  display: flex;\n  gap: 10px;\n}\n\n/* Edit Button */\n.edit-module-btn {\n  background-color: #007bff;\n  color: white;\n  padding: 8px 14px;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n  font-size: 14px;\n  transition: background 0.3s ease-in-out, transform 0.2s ease-in-out;\n}\n\n.edit-module-btn:hover {\n  background-color: #0056b3;\n  transform: scale(1.05);\n}\n\n/* Delete Button */\n.delete-module-btn {\n  background-color: #dc3545;\n  color: white;\n  padding: 8px 14px;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n  font-size: 14px;\n  transition: background 0.3s ease-in-out, transform 0.2s ease-in-out;\n}\n\n.delete-module-btn:hover {\n  background-color: #b02a37;\n  transform: scale(1.05);\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .module-table th, .module-table td {\n      padding: 10px;\n      font-size: 12px;\n  }\n\n  .edit-module-btn, .delete-module-btn {\n      padding: 6px 10px;\n      font-size: 12px;\n  }\n}\n.module-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 20px;\n  border-bottom: 2px solid #ddd;\n}\n\n.add-module-btn {\n  background-color: #1e3a8a; /* Dark blue */\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n  padding: 8px 16px;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: background 0.3s ease;\n}\n\n.add-module-btn:hover {\n  background-color: #172554; \n}\n","size_bytes":2330},"qms-source/frontend-new/src/Components/Sidebar/index.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport {\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemIcon,\n  ListItemText,\n  Collapse,\n  Tooltip,\n  useMediaQuery,\n  IconButton,\n  CircularProgress,\n  Box,\n} from \"@mui/material\";\nimport SidebarRoot from \"./SidebarRoot\";\nimport { Link } from \"react-router-dom\";\nimport { jwtDecode } from \"jwt-decode\";\n\nimport DashboardIcon from \"@mui/icons-material/Dashboard\";\nimport BarChartIcon from \"@mui/icons-material/BarChart\";\nimport SettingsIcon from \"@mui/icons-material/Settings\";\nimport ListAltIcon from \"@mui/icons-material/ListAlt\";\nimport LockIcon from \"@mui/icons-material/Lock\";\nimport ExpandLess from \"@mui/icons-material/ExpandLess\";\nimport ExpandMore from \"@mui/icons-material/ExpandMore\";\nimport AdminPanelSettingsIcon from \"@mui/icons-material/AdminPanelSettings\";\nimport BusinessIcon from \"@mui/icons-material/Business\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport PersonAddIcon from \"@mui/icons-material/PersonAdd\";\nimport AssignmentTurnedInIcon from \"@mui/icons-material/AssignmentTurnedIn\";\nimport DescriptionIcon from \"@mui/icons-material/Description\";\nimport AccessTimeIcon from \"@mui/icons-material/AccessTime\";\nimport VerifiedUserIcon from \"@mui/icons-material/VerifiedUser\"; // for Roles\nimport ApartmentIcon from \"@mui/icons-material/Apartment\"; // for Departments\nimport axiosInstance from \"../../services/axiosinstance\";\n\nimport {\n  useMaterialUIController,\n  setMiniSidenav,\n  setTransparentSidenav,\n  setWhiteSidenav,\n  setSidebarOpen,\n} from \"../../context\";\n\n// Component definition\nconst Sidebar = () => {\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [usersOpen, setUsersOpen] = useState(false);\n  const [taskOpen, setTaskOpen] = useState(false);\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const [roleName, setRoleName] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [companyOpen, setCompanyOpen] = useState(false);\n  const [documentOpen, setDocumentOpen] = useState(false);\n  const isMobile = useMediaQuery(\"(max-width:600px)\");\n\n  // Extract role ID from token\n  const token = localStorage.getItem(\"jwtToken\");\n  const decodedToken = token ? jwtDecode(token) : null;\n  const roleId = decodedToken?.role || \"\";\n  const company_id = decodedToken?.company || \"\";\n  const roleModuleId = \"971a88b8-461e-4cd2-9a06-fce42ad6b806\";\n\n  const [controller, dispatch] = useMaterialUIController();\n  const {\n    miniSidenav,\n    transparentSidenav,\n    whiteSidenav,\n    darkMode,\n    sidenavColor,\n    brandDark,\n    brandWhite,\n    sidebarOpen,\n  } = controller;\n\n  const location = useLocation();\n  const collapseName = location.pathname.replace(\"/\", \"\");\n\n  let textColor = \"white\";\n\n  if (transparentSidenav || (whiteSidenav && !darkMode)) {\n    textColor = \"dark\";\n  } else if (whiteSidenav && darkMode) {\n    textColor = \"inherit\";\n  }\n\n  const closeSidenav = () => setSidebarOpen(dispatch, false);\n\n  useEffect(() => {\n    // A function that sets the mini state of the sidenav.\n    function handleMiniSidenav() {\n      setMiniSidenav(dispatch, window.innerWidth < 1200);\n      setTransparentSidenav(\n        dispatch,\n        window.innerWidth < 1200 ? false : transparentSidenav\n      );\n      setWhiteSidenav(\n        dispatch,\n        window.innerWidth < 1200 ? false : whiteSidenav\n      );\n    }\n\n    /** \n     The event listener that's calling the handleMiniSidenav function when resizing the window.\n    */\n    window.addEventListener(\"resize\", handleMiniSidenav);\n\n    // Call the handleMiniSidenav function to set the state with the initial value.\n    handleMiniSidenav();\n\n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleMiniSidenav);\n  }, [dispatch, location]);\n\n  useEffect(() => {\n    const fetchRoleName = async () => {\n      try {\n        console.log(\n          \"response of roleModuleId  \" + roleModuleId + \" roleId  \" + roleId\n        );\n        const response = await axiosInstance.get(\n          `/roles/${roleModuleId}/${roleId}`,\n          {\n            params: { company_id: company_id }, // Pass company_id as a query parameter\n          }\n        );\n        console.log(\"response of role from sidebar is \" + response.data.name);\n        setRoleName(response.data.name); // Assuming API returns { roleName: \"Super Admin\" }\n      } catch (error) {\n        console.error(\"Error fetching role name:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (roleId) {\n      fetchRoleName();\n    } else {\n      setLoading(false);\n    }\n  }, [roleId, roleModuleId]);\n\n  useEffect(() => {\n    if (isMobile) {\n      closeSidenav();\n    }\n  }, [isMobile]);\n\n  if (loading) {\n    return (\n      <CircularProgress\n        sx={{ color: \"white\", position: \"absolute\", top: \"50%\", left: \"50%\" }}\n      />\n    );\n  }\n\n  const toggleSidebar = () => setSidebarOpen(dispatch, !sidebarOpen);\n\n  // Main menu items\n  const menuItems = [\n    { name: \"Dashboard\", icon: <DashboardIcon />, path: \"/dashboard\" },\n    { name: \"Analytics\", icon: <BarChartIcon />, path: \"/analytics\" },\n  ];\n\n  // Task Management items\n  const taskItems = [\n    // Conditionally include Iteration only for Super Admin or System Super Admin\n    ...(roleName === \"Super Admin\" || roleName === \"System Super Admin\"\n      ? [\n          {\n            name: \"Iteration \",\n            icon: <AccessTimeIcon />,\n            path: \"/iteration/1f0f190d-3a83-421c-af98-5d081100230e\",\n          },\n        ]\n      : []),\n    { name: \"Task List\", icon: <ListAltIcon />, path: \"/tasks\" },\n    {\n      name: \"Bulk Task Assignment\",\n      icon: <AssignmentTurnedInIcon />,\n      path: \"/BulkTaskAssignment\",\n    },\n    {\n      name: \"User Task Assignment\",\n      icon: <AssignmentTurnedInIcon />,\n      path: \"/UserTaskAssignment\",\n    },\n  ];\n\n  // Settings items (only for Super Admin)\n  const settingsItems = [\n    { name: \"Modules\", icon: <ListAltIcon />, path: \"/modules\" },\n    { name: \"Roles\", icon: <VerifiedUserIcon />, path: \"/roles\" },\n    {\n      name: \"Assign Permissions\",\n      icon: <AdminPanelSettingsIcon />,\n      path: \"/assign-permissions\",\n    },\n  ];\n\n  // User Management items (only for Super Admin)\n  const userItems = [\n    { name: \"User List\", icon: <ListAltIcon />, path: \"/users\" }, // Added User List item\n    { name: \"Create User\", icon: <PersonAddIcon />, path: \"/users/create\" },\n    { name: \"Departments\", icon: <ApartmentIcon />, path: \"/departments\" },\n  ];\n\n  //Document Management items\n  const documentItems = [\n    {\n      name: \"Document Management\",\n      icon: <DescriptionIcon />,\n      path: \"/document-management\",\n    },\n  ];\n\n  return (\n    <>\n      <IconButton\n        onClick={toggleSidebar}\n        sx={{\n          position: \"fixed\",\n          top: 15,\n          left: sidebarOpen ? 270 : 15,\n          color: \"white\",\n          backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n          \"&:hover\": {\n            backgroundColor: \"rgba(255, 255, 255, 0.2)\",\n          },\n          zIndex: 1500,\n        }}\n      >\n        {sidebarOpen ? <MenuIcon /> : <MenuIcon />}\n      </IconButton>\n\n      {/* Sidebar Drawer */}\n      <SidebarRoot\n        variant={isMobile ? \"temporary\" : \"persistent\"}\n        open={sidebarOpen}\n        onClose={toggleSidebar}\n        color={sidenavColor}\n        brand={\n          (transparentSidenav && !darkMode) || whiteSidenav\n            ? brandDark\n            : brandWhite\n        }\n        sx={{\n          width: sidebarOpen ? 250 : 0,\n          flexShrink: 0,\n          transition: \"width 0.3s ease\",\n        }}\n        ownerState={{ transparentSidenav, whiteSidenav, miniSidenav, darkMode }}\n      >\n        <Box\n          pt={3}\n          pb={1}\n          sx={{\n            color: `${textColor} !important`,\n            \"& .MuiListItemIcon-root\": {\n              color: `${textColor} !important`,\n            },\n            \"& .MuiTypography-root\": {\n              fontSize: \"1.2rem\",\n              paddingY: 0.8,\n              paddingX: 0.5,\n            },\n          }}\n        >\n          <List>\n            {/* Main menu items */}\n            {menuItems.map((item) => (\n              <ListItem disablePadding key={item.name}>\n                <Tooltip title={item.name} placement=\"right\">\n                  <ListItemButton component={Link} to={item.path}>\n                    <ListItemIcon>{item.icon}</ListItemIcon>\n                    <ListItemText\n                      primary={item.name}\n                      slotProps={{\n                        primary: {\n                          style: {\n                            wordWrap: \"break-word\", // Forces wrapping of long words\n                            whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                          },\n                        },\n                      }}\n                    />\n                  </ListItemButton>\n                </Tooltip>\n              </ListItem>\n            ))}\n\n            {/* Organization Management System - Only for System Super Admin */}\n            {roleName === \"System Super Admin\" && (\n              <>\n                <ListItem disablePadding>\n                  <ListItemButton onClick={() => setCompanyOpen(!companyOpen)}>\n                    <ListItemIcon sx={{ color: \"white\" }}>\n                      <BusinessIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary=\"Organization Management System\"\n                      slotProps={{\n                        primary: {\n                          style: {\n                            wordWrap: \"break-word\", // Forces wrapping of long words\n                            whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                          },\n                        },\n                      }}\n                    />\n                    {companyOpen ? <ExpandLess /> : <ExpandMore />}\n                  </ListItemButton>\n                </ListItem>\n\n                <Collapse in={companyOpen} timeout=\"auto\" unmountOnExit>\n                  <List component=\"div\" disablePadding>\n                    <ListItem disablePadding>\n                      <Tooltip title=\"Organization List\" placement=\"right\">\n                        <ListItemButton\n                          component={Link}\n                          to=\"/company-list\"\n                          sx={{ pl: 4 }}\n                        >\n                          <ListItemIcon sx={{ color: \"white\" }}>\n                            <BusinessIcon />\n                          </ListItemIcon>\n                          <ListItemText\n                            primary=\"Organization List\"\n                            slotProps={{\n                              primary: {\n                                style: {\n                                  wordWrap: \"break-word\", // Forces wrapping of long words\n                                  whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                                },\n                              },\n                            }}\n                          />\n                        </ListItemButton>\n                      </Tooltip>\n                    </ListItem>\n\n                    <ListItem disablePadding>\n                      <Tooltip\n                        title=\"Organization Onboarding\"\n                        placement=\"right\"\n                      >\n                        <ListItemButton\n                          component={Link}\n                          to=\"/company-name\"\n                          sx={{ pl: 4 }}\n                        >\n                          <ListItemIcon sx={{ color: \"white\" }}>\n                            <BusinessIcon />\n                          </ListItemIcon>\n                          <ListItemText\n                            primary=\"Organization Onboarding\"\n                            slotProps={{\n                              primary: {\n                                style: {\n                                  wordWrap: \"break-word\", // Forces wrapping of long words\n                                  whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                                },\n                              },\n                            }}\n                          />\n                        </ListItemButton>\n                      </Tooltip>\n                    </ListItem>\n                  </List>\n                </Collapse>\n              </>\n            )}\n\n            {/* Compliance Management Section */}\n            <ListItem disablePadding>\n              <ListItemButton onClick={() => setTaskOpen(!taskOpen)}>\n                <ListItemIcon sx={{ color: \"white\" }}>\n                  <ListAltIcon />\n                </ListItemIcon>\n                <ListItemText\n                  primary=\"Compliance Management\"\n                  slotProps={{\n                    primary: {\n                      style: {\n                        wordWrap: \"break-word\", // Forces wrapping of long words\n                        whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                      },\n                    },\n                  }}\n                />\n                {taskOpen ? <ExpandLess /> : <ExpandMore />}\n              </ListItemButton>\n            </ListItem>\n\n            <Collapse in={taskOpen} timeout=\"auto\" unmountOnExit>\n              <List component=\"div\" disablePadding>\n                {taskItems.map((item) => (\n                  <ListItem disablePadding key={item.name}>\n                    <Tooltip title={item.name} placement=\"right\">\n                      <ListItemButton\n                        component={Link}\n                        to={item.path}\n                        sx={{ pl: 4 }}\n                      >\n                        <ListItemIcon sx={{ color: \"white\" }}>\n                          {item.icon}\n                        </ListItemIcon>\n                        <ListItemText\n                          primary={item.name}\n                          slotProps={{\n                            primary: {\n                              style: {\n                                wordWrap: \"break-word\", // Forces wrapping of long words\n                                whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                              },\n                            },\n                          }}\n                        />\n                      </ListItemButton>\n                    </Tooltip>\n                  </ListItem>\n                ))}\n              </List>\n            </Collapse>\n\n            {/* User Management Section  Super Admin and System Super Admin */}\n            {(roleName === \"Super Admin\" ||\n              roleName === \"System Super Admin\") && (\n              <>\n                <ListItem disablePadding>\n                  <ListItemButton onClick={() => setUsersOpen(!usersOpen)}>\n                    <ListItemIcon sx={{ color: \"white\" }}>\n                      <PersonAddIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary=\"User Management\"\n                      slotProps={{\n                        primary: {\n                          style: {\n                            wordWrap: \"break-word\", // Forces wrapping of long words\n                            whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                          },\n                        },\n                      }}\n                    />\n                    {usersOpen ? <ExpandLess /> : <ExpandMore />}\n                  </ListItemButton>\n                </ListItem>\n\n                <Collapse in={usersOpen} timeout=\"auto\" unmountOnExit>\n                  <List component=\"div\" disablePadding>\n                    {userItems.map((item) => (\n                      <ListItem disablePadding key={item.name}>\n                        <Tooltip title={item.name} placement=\"right\">\n                          <ListItemButton\n                            component={Link}\n                            to={item.path}\n                            sx={{ pl: 4 }}\n                          >\n                            <ListItemIcon sx={{ color: \"white\" }}>\n                              {item.icon}\n                            </ListItemIcon>\n                            <ListItemText\n                              primary={item.name}\n                              slotProps={{\n                                primary: {\n                                  style: {\n                                    wordWrap: \"break-word\", // Forces wrapping of long words\n                                    whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                                  },\n                                },\n                              }}\n                            />\n                          </ListItemButton>\n                        </Tooltip>\n                      </ListItem>\n                    ))}\n                  </List>\n                </Collapse>\n              </>\n            )}\n\n            {/* Document Management Section */}\n            {documentItems.map((item) => (\n              <ListItem disablePadding key={item.name}>\n                <Tooltip title={item.name} placement=\"right\">\n                  <ListItemButton component={Link} to={item.path}>\n                    <ListItemIcon sx={{ color: \"white\" }}>\n                      {item.icon}\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={item.name}\n                      slotProps={{\n                        primary: {\n                          style: {\n                            wordWrap: \"break-word\",\n                            whiteSpace: \"normal\",\n                          },\n                        },\n                      }}\n                    />\n                  </ListItemButton>\n                </Tooltip>\n              </ListItem>\n            ))}\n\n            {/* Settings Section - For Super Admin & System Super Admin */}\n            {(roleName === \"Super Admin\" ||\n              roleName === \"System Super Admin\") && (\n              <>\n                <ListItem disablePadding>\n                  <ListItemButton\n                    onClick={() => setSettingsOpen(!settingsOpen)}\n                  >\n                    <ListItemIcon sx={{ color: \"white\" }}>\n                      <SettingsIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary=\"Settings\"\n                      slotProps={{\n                        primary: {\n                          style: {\n                            wordWrap: \"break-word\", // Forces wrapping of long words\n                            whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                          },\n                        },\n                      }}\n                    />\n                    {settingsOpen ? <ExpandLess /> : <ExpandMore />}\n                  </ListItemButton>\n                </ListItem>\n\n                <Collapse in={settingsOpen} timeout=\"auto\" unmountOnExit>\n                  <List component=\"div\" disablePadding>\n                    {settingsItems.map((item) => (\n                      <ListItem disablePadding key={item.name}>\n                        <Tooltip title={item.name} placement=\"right\">\n                          <ListItemButton\n                            component={Link}\n                            to={item.path}\n                            sx={{ pl: 4 }}\n                          >\n                            <ListItemIcon sx={{ color: \"white\" }}>\n                              {item.icon}\n                            </ListItemIcon>\n                            <ListItemText\n                              primary={item.name}\n                              slotProps={{\n                                primary: {\n                                  style: {\n                                    wordWrap: \"break-word\", // Forces wrapping of long words\n                                    whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                                  },\n                                },\n                              }}\n                            />\n                          </ListItemButton>\n                        </Tooltip>\n                      </ListItem>\n                    ))}\n                  </List>\n                </Collapse>\n              </>\n            )}\n          </List>\n        </Box>\n      </SidebarRoot>\n    </>\n  );\n};\n\nexport default Sidebar;\n","size_bytes":20669},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"qms-source/frontend-new/src/assets/theme/components/form/inputOutlined.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport typography from \"assets/theme/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { inputBorderColor, info, grey, transparent } = colors;\nconst { borderRadius } = borders;\nconst { size } = typography;\n\nconst inputOutlined = {\n  styleOverrides: {\n    root: {\n      backgroundColor: transparent.main,\n      fontSize: size.sm,\n      borderRadius: borderRadius.md,\n\n      \"&:hover .MuiOutlinedInput-notchedOutline\": {\n        borderColor: inputBorderColor,\n      },\n\n      \"&.Mui-focused\": {\n        \"& .MuiOutlinedInput-notchedOutline\": {\n          borderColor: info.main,\n        },\n      },\n    },\n\n    notchedOutline: {\n      borderColor: inputBorderColor,\n    },\n\n    input: {\n      color: grey[700],\n      padding: pxToRem(12),\n      backgroundColor: transparent.main,\n    },\n\n    inputSizeSmall: {\n      fontSize: size.xs,\n      padding: pxToRem(10),\n    },\n\n    multiline: {\n      color: grey[700],\n      padding: 0,\n    },\n  },\n};\n\nexport default inputOutlined;\n","size_bytes":1710},"qms-source/frontend-new/eslint.config.js":{"content":"import js from '@eslint/js'\nimport globals from 'globals'\nimport reactHooks from 'eslint-plugin-react-hooks'\nimport reactRefresh from 'eslint-plugin-react-refresh'\n\nexport default [\n  { ignores: ['dist'] },\n  {\n    files: ['**/*.{js,jsx}'],\n    languageOptions: {\n      ecmaVersion: 2020,\n      globals: globals.browser,\n      parserOptions: {\n        ecmaVersion: 'latest',\n        ecmaFeatures: { jsx: true },\n        sourceType: 'module',\n      },\n    },\n    plugins: {\n      'react-hooks': reactHooks,\n      'react-refresh': reactRefresh,\n    },\n    rules: {\n      ...js.configs.recommended.rules,\n      ...reactHooks.configs.recommended.rules,\n      'no-unused-vars': ['warn', { varsIgnorePattern: '^[A-Z_]' }],\n      'react-refresh/only-export-components': [\n        'warn',\n        { allowConstantExport: true },\n      ],\n    },\n  },\n]\n","size_bytes":843},"frontend-new/src/pages/TaskManagement/AssignedTaskPage.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport \"../../styles/AssignedTaskspage.css\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst AssignedTasksPage = () => {\n  const [tasks, setTasks] = useState([]);\n  const [taskId, setTaskId] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    axiosInstance.get(\"/tasks\")\n      .then((res) => res.data.length && setTaskId(res.data[0].id))\n      .catch(() => setError(\"Failed to load tasks.\"));\n  }, []);\n\n  useEffect(() => {\n    if (taskId) {\n      axiosInstance.get(`/task-assignments/task/${taskId}`)\n        .then((res) => setTasks(res.data))\n        .catch(() => setError(\"Failed to load assigned tasks.\"));\n    }\n  }, [taskId]);\n\n  if (error) return <p className=\"error\">{error}</p>;\n\n  return (\n    <div className=\"container\">\n      <h2>Assigned Users for Task</h2>\n      <table>\n        <thead>\n          <tr>\n            <th>User Name</th>\n            <th>Role</th>\n            <th>Email</th>\n          </tr>\n        </thead>\n        <tbody>\n          {tasks.length ? tasks.map(({ userId, userName, role, email }) => (\n            <tr key={userId}>\n              <td>{userName}</td>\n              <td>{role}</td>\n              <td>{email}</td>\n            </tr>\n          )) : (\n            <tr>\n              <td colSpan=\"3\">No users assigned.</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default AssignedTasksPage;\n","size_bytes":1478},"frontend-new/src/pages/module_management/ModuleList.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport {\n  Container,\n  Paper,\n  Grid,\n  Typography,\n  Button,\n  IconButton,\n} from \"@mui/material\";\nimport { Edit, Delete } from \"@mui/icons-material\";\nimport axiosInstance from \"../../services/axiosinstance\";\nconst modulesModelId = \"881fc061-b852-4a9b-a430-ea96ba99194d\";\n\nconst ModuleList = () => {\n  const [modules, setModules] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Fetch module list on component mount\n    axiosInstance\n      .get(`/modules/${modulesModelId}`)\n      .then((res) => setModules(res.data))\n      .catch((err) => {\n        console.error(\"Error fetching modules:\", err);\n        toast.error(\"Failed to fetch modules\");\n      });\n  }, []);\n\n  const handleEdit = (moduleId) => navigate(`/modules/${moduleId}`); // Navigate to edit page\n\n  const handleDelete = (moduleId) => {\n    toast.dismiss();\n    toast.info(\n      <div>\n        <p>Are you sure you want to delete this module?</p>\n        <button onClick={() => confirmDelete(moduleId)}>Yes</button>\n        <button onClick={() => toast.dismiss()}>No</button>\n      </div>,\n      {\n        position: \"top-center\",\n        autoClose: false,\n        closeOnClick: false,\n        draggable: false,\n        closeButton: false,\n      }\n    );\n  };\n\n  const confirmDelete = (moduleId) => {\n    axiosInstance\n      .delete(`/modules/${modulesModelId}/${moduleId}`)\n      .then(() => {\n        setModules(modules.filter((module) => module.id !== moduleId)); // Remove deleted module\n        toast.success(\"Module deleted successfully\");\n      })\n      .catch((err) => {\n        console.error(\"Error deleting module:\", err);\n        toast.error(\"Failed to delete module\");\n      });\n    toast.dismiss();\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ px: { xs: 2, sm: 3 }, mt: 4 }}>\n      <ToastContainer />\n\n      <Paper\n        elevation={4}\n        sx={{\n          p: 3,\n          mx: { xs: 1, sm: 3, md: 4 }, // ðŸ‘ˆ add horizontal margin (left & right)\n          borderRadius: 3,\n          backgroundColor: \"#f9f9f9\",\n          boxShadow: \"0px 4px 12px rgba(0, 0, 0, 0.1)\",\n        }}\n      >\n        {/* Header Section */}\n        <Grid\n          container\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          sx={{ mb: 3 }}\n        >\n          <Grid item>\n            <Typography variant=\"h5\" fontWeight={600}>\n              Modules\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => navigate(\"/modules/new\")}\n              sx={{ textTransform: \"none\", px: 3 }}\n            >\n              Add Module\n            </Button>\n          </Grid>\n        </Grid>\n\n        {/* Grid Header */}\n        <Grid\n          container\n          sx={{\n            display: { xs: \"none\", sm: \"flex\" },\n            py: 1,\n            px: 1,\n            backgroundColor: \"#f5f5f5\",\n            borderBottom: \"2px solid #ddd\",\n            fontWeight: \"bold\",\n          }}\n        >\n          <Grid item sm={4}>\n            Module Name\n          </Grid>\n          <Grid item sm={6}>\n            Description\n          </Grid>\n          <Grid item sm={2}>\n            Actions\n          </Grid>\n        </Grid>\n\n        {/* Module Rows */}\n        {modules.map((module, index) => (\n          <Grid\n            container\n            key={module.id}\n            spacing={2}\n            sx={{\n              py: 1.5,\n              px: 1,\n              borderBottom:\n                index !== modules.length - 1 ? \"1px solid #eee\" : \"none\",\n              bgcolor: \"#fff\",\n              borderRadius: { xs: 2, sm: 0 },\n              mt: { xs: 2, sm: 0 },\n              flexDirection: { xs: \"column\", sm: \"row\" },\n              transition: \"background-color 0.2s ease\",\n              \"&:hover\": {\n                backgroundColor: \"#f5f5f5\",\n              },\n            }}\n          >\n            {/* Module Name */}\n            <Grid item xs={12} sm={4}>\n              <Typography\n                fontWeight=\"bold\"\n                sx={{ display: { sm: \"none\" }, mb: 0.5 }}\n              >\n                Module Name:\n              </Typography>\n              <Typography>{module.name}</Typography>\n            </Grid>\n\n            {/* Description */}\n            <Grid item xs={12} sm={6}>\n              <Typography\n                fontWeight=\"bold\"\n                sx={{ display: { sm: \"none\" }, mb: 0.5 }}\n              >\n                Description:\n              </Typography>\n              <Typography>{module.description}</Typography>\n            </Grid>\n\n            {/* Actions */}\n            <Grid\n              item\n              xs={12}\n              sm={2}\n              sx={{\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: 1,\n                mt: { xs: 1, sm: 0 },\n                justifyContent: { xs: \"flex-start\", sm: \"center\" },\n              }}\n            >\n              <IconButton color=\"primary\" onClick={() => handleEdit(module.id)}>\n                <Edit />\n              </IconButton>\n              <IconButton color=\"error\" onClick={() => handleDelete(module.id)}>\n                <Delete />\n              </IconButton>\n            </Grid>\n          </Grid>\n        ))}\n      </Paper>\n    </Container>\n  );\n};\n\nexport default ModuleList;\n","size_bytes":5553},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"frontend-new/src/assets/theme-dark/base/globals.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\n\nconst { info, dark } = colors;\n\nconst globals = {\n  html: {\n    scrollBehavior: \"smooth\",\n  },\n  \"*, *::before, *::after\": {\n    margin: 0,\n    padding: 0,\n  },\n  \"a, a:link, a:visited\": {\n    textDecoration: \"none !important\",\n  },\n  \"a.link, .link, a.link:link, .link:link, a.link:visited, .link:visited\": {\n    color: `${dark.main} !important`,\n    transition: \"color 150ms ease-in !important\",\n  },\n  \"a.link:hover, .link:hover, a.link:focus, .link:focus\": {\n    color: `${info.main} !important`,\n  },\n};\n\nexport default globals;\n","size_bytes":1152},"frontend-new/src/assets/theme-dark/components/dialog/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\n\nconst { borderRadius } = borders;\nconst { xxl } = boxShadows;\n\nconst dialog = {\n  styleOverrides: {\n    paper: {\n      borderRadius: borderRadius.lg,\n      boxShadow: xxl,\n    },\n\n    paperFullScreen: {\n      borderRadius: 0,\n    },\n  },\n};\n\nexport default dialog;\n","size_bytes":945},"frontend-new/src/styles/SelectCompany.css":{"content":".company-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n    background-color: #f8f9fa;\n    padding: 20px;\n  }\n  \n  h2 {\n    color: #333;\n    font-size: 24px;\n    margin-bottom: 20px;\n  }\n  \n  label {\n    font-size: 16px;\n    color: #555;\n    margin-bottom: 10px;\n  }\n  \n  .company-dropdown {\n    width: 100%;\n    max-width: 300px;\n    padding: 10px;\n    font-size: 16px;\n    border: 2px solid #007bff;\n    border-radius: 5px;\n    outline: none;\n    background: white;\n    margin-bottom: 20px;\n    cursor: pointer;\n  }\n  \n  .company-dropdown:hover {\n    border-color: #0056b3;\n  }\n  \n  .next-button {\n    padding: 10px 20px;\n    font-size: 16px;\n    color: white;\n    background-color: #007bff;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    transition: 0.3s;\n  }\n  \n  .next-button:hover {\n    background-color: #0056b3;\n  }\n  \n  .loading-text {\n    font-size: 16px;\n    color: #777;\n  }\n  ","size_bytes":994},"qms-source/frontend-new/src/pages/Iteration/SelectIterationPage.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport {\n  Container,\n  Paper,\n  Typography,\n  TextField,\n  MenuItem,\n  Button,\n  Box,\n} from \"@mui/material\";\nimport { jwtDecode } from \"jwt-decode\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast } from \"react-toastify\";\n\nconst SelectIterationPage = () => {\n  const [iterations, setIterations] = useState([]);\n  const [iterationId, setIterationId] = useState(\"\");\n  const navigate = useNavigate();\n  const location = useLocation();\n  const queryParams = new URLSearchParams(location.search);\n  const refresh = queryParams.get(\"refresh\");\n  const moduleId = \"1f0f190d-3a83-421c-af98-5d081100230e\";\n  const [roleName, setRoleName] = useState(null);\n  const token = localStorage.getItem(\"jwtToken\");\n  const decodedToken = token ? jwtDecode(token) : null;\n  const roleId = decodedToken?.role || \"\";\n  const company_id = decodedToken?.company || \"\";\n  const roleModuleId = \"971a88b8-461e-4cd2-9a06-fce42ad6b806\";\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchRoleName = async () => {\n      try {\n        const response = await axiosInstance.get(\n          `/roles/${roleModuleId}/${roleId}`,\n          { params: { company_id } }\n        );\n        console.log(\"Fetched Role Name:\", response.data.name);\n        setRoleName(response.data.name);\n      } catch (error) {\n        console.error(\"Failed to fetch role name:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (roleId) fetchRoleName();\n    else setLoading(false);\n  }, [roleId, company_id]);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"jwtToken\");\n    if (token) {\n      try {\n        const decodedToken = JSON.parse(atob(token.split(\".\")[1]));\n        console.log(\"Decoded Token:\", decodedToken);\n        setRoleName(decodedToken.role || decodedToken.role_name);\n      } catch (err) {\n        console.error(\"Failed to decode token:\", err);\n      }\n    } else {\n      console.warn(\"No JWT token found\");\n    }\n  }, []);\n\n  // Define fetchIterations **inside** the component scope\n  const fetchIterations = async () => {\n    try {\n      const company_id = sessionStorage.getItem(\"selectedCompany\");\n      const token = localStorage.getItem(\"jwtToken\");\n\n      const response = await axiosInstance.get(`/iteration/${moduleId}`, {\n        params: { company_id },\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      setIterations(response.data || []);\n    } catch (error) {\n      toast.error(\"Failed to load iterations.\");\n    }\n  };\n\n  // Initial fetch on mount\n  useEffect(() => {\n    fetchIterations();\n  }, []);\n\n  useEffect(() => {\n    if (refresh) {\n      fetchIterations().then(() => {\n        navigate(location.pathname, { replace: true });\n      });\n    } else {\n      fetchIterations();\n    }\n  }, [refresh]);\n\n  const handleNext = () => {\n    if (!iterationId) {\n      toast.error(\"Please select an iteration.\");\n      return;\n    }\n    navigate(\n      `/select-standard?iterationId=${iterationId}&moduleId=${moduleId}`\n    );\n  };\n\n  const handleBack = () => {\n    navigate(-1);\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        marginRight: 2,\n        marginTop: 4,\n        mb: 2,\n      }}\n    >\n      {/* Title and optional Add Iteration button in the same row */}\n      <Box\n        display=\"flex\"\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n        mb={3}\n      >\n        <Typography variant=\"h5\" fontWeight=\"bold\">\n          Select Iteration\n        </Typography>\n\n        {(roleName === \"System Super Admin\" || roleName === \"Super Admin\") && (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() =>\n              navigate(`/iteration/create/${moduleId}`, {\n                state: { fromSelectPage: true },\n              })\n            }\n          >\n            Add Iteration\n          </Button>\n        )}\n      </Box>\n\n      <TextField\n        select\n        fullWidth\n        label=\"Choose Iteration\"\n        value={iterationId}\n        onChange={(e) => setIterationId(e.target.value)}\n        sx={{ mb: 3 }}\n      >\n        {iterations.map((iter) => (\n          <MenuItem\n            key={iter.id}\n            value={iter.id}\n            disabled={iter.is_excel_uploaded} // disable if already uploaded\n          >\n            {iter.name}\n          </MenuItem>\n        ))}\n      </TextField>\n\n      <Box display=\"flex\" justifyContent=\"flex-end\" gap={2}>\n        <Button variant=\"contained\" onClick={handleBack}>\n          Back\n        </Button>\n        <Button variant=\"contained\" onClick={handleNext}>\n          Next\n        </Button>\n      </Box>\n    </Paper>\n  );\n};\n\nexport default SelectIterationPage;\n","size_bytes":4888},"qms-source/docs/architecture.md":{"content":"# QMS â€” Detailed Architecture & Walkthrough\n\nVersion: 2025-10-30\n\nThis document explains how the application is organized, how the major pieces interact at runtime, where to change behavior, and recommended safe next steps. It expands the quick summary into a developer-focused reference.\n\n## Big picture\n- Monorepo-like layout:\n  - `BackEnd/` â€” Express API server written in modern ES modules using Sequelize ORM (MySQL).\n  - `frontend-new/` â€” React SPA built with Vite and Material UI.\n  - Top-level files: `docker-compose.yml` for containerized local runs, `uploads/` for static file storage served by backend.\n\nThe backend provides a REST API mounted under `/api/*`. The frontend calls these endpoints via an Axios instance (`frontend-new/src/services/axiosinstance.js`). Socket.IO provides real-time notifications.\n\n---\n\n## Backend internals (BackEnd/)\n\n### Entrypoint\n- `BackEnd/src/server.js` â€” application bootstrap sequence:\n  1. Loads `.env` via `dotenv`.\n  2. Creates Express app and HTTP server used by Socket.IO.\n  3. Initializes Socket.IO with `initSocket(server, { cors: { origin: '*' }})` (file: `BackEnd/src/config/socket.js`).\n  4. Registers middleware: `express.json()`, `express.urlencoded()`, `cors()`, and `bodyParser.json()` (redundant â€” keep only `express.json()`).\n  5. Mounts routers for each resource under `/api/*` (see `BackEnd/src/routes/*`).\n  6. Serves static uploads via `app.use('/api/uploads', express.static('uploads'))`.\n  7. Calls `sequelize.sync({ alter: true })` and then `bootstrapSystemSuperAdmin()` if sync succeeds.\n  8. Starts listening on `process.env.PORT || 5000`.\n\nNotes:\n- `server.js` performs the canonical sync + bootstrap. Avoid duplicating `sync()` elsewhere.\n\n### Database layer\n- `BackEnd/src/config/db.js` â€” creates a Sequelize instance configured using env vars (`DB_NAME`, `DB_USER`, `DB_PASS`, `DB_HOST`). Current behavior: it calls `await sequelize.sync({ force: false, hooks: true })` at module load. This duplicates the `sync` in `server.js`. Recommended: remove module-level sync and let `server.js` orchestrate sync/bootstrap.\n\n### Models\n- `BackEnd/src/models/*.js` â€” each file defines a Sequelize model and associations. Important models:\n  - `User.js` â€” user accounts (includes `password_hash` field).\n  - `Role.js` and `RoleModulesPermissions.js` â€” permission-centered model: roles map to module-level permissions (can_read/can_write/can_delete).\n  - `Module.js` â€” registry of application modules/features; bootstrap seeds this table with UUIDs that the frontend uses when calling module-specific routes.\n  - `Task`, `TaskAssignment`, `TaskChangeLog` â€” core task workflow models.\n\nWhen changing models: prefer migrations (Sequelize CLI or Umzug) in production over `sync({ alter: true })`.\n\n### Routes & Controllers\n- `BackEnd/src/routes/*` mount endpoints and chain middlewares. Many routes structurally expect `/:moduleId` as the first param (for permission checks). Example: `router.post('/:moduleId', authenticateUser, checkPermission('write'), userController.createUser)`.\n- `BackEnd/src/controllers/*Controller.js` contains business logic and interacts with models. Controllers typically return JSON and status codes.\n\n### Middlewares\n- `BackEnd/src/middlewares/authMiddlewares.js` â€” extracts JWT from `Authorization` header (`Bearer <token>`), verifies using `JWT_SECRET`, and attaches decoded user to `req.user`.\n- `BackEnd/src/middlewares/permissionsMiddlewares.js` â€” `checkPermission(action)` reads `req.user.role` and `req.params.moduleId`, then queries `RoleModulePermission` to ensure the role has permission for that module and action (read/write/delete).\n\nImportant conventions:\n- The frontend must pass `moduleId` to routes so the middleware can enforce module-level permissions.\n- The JWT payload must contain `role` (role ID) for permission checks to work.\n\n### Utilities & Bootstrapping\n- `BackEnd/src/utils/bootstrapSystemSuperAdmin.js` â€” runs after DB sync. If the DB is empty it:\n  - Creates default company `IDATUM`.\n  - Creates `System Super Admin` role and a default user with a generated password.\n  - Inserts hardcoded `Module` rows (with UUIDs used across the app).\n  - Assigns full permissions for the super-admin role.\n  - Sends credentials by email using `sendEmail()`.\n\nSecurity note: bootstrap currently writes plaintext password into `password_hash` and logs/email it. Fix: hash password with bcrypt before saving and gate email sending behind env vars.\n\n### Socket.IO\n- Server-side: `BackEnd/src/config/socket.js` sets up event channels for notifications and possibly task updates.\n- Client-side: frontend connects via `socket.io-client` and listens for notification events.\n\n### Uploads\n- Routes that accept files use `multer` for parsing and write files to `uploads/`. The backend serves these files statically under `/api/uploads`.\n\n---\n\n## Frontend internals (frontend-new/)\n\n### Entrypoint & layout\n- `frontend-new/src/main.jsx` â€” mounts the app and wraps it in the MUI controller provider.\n- `frontend-new/src/App.jsx` â€” central router and layout. It conditionally shows `Sidebar` and `Header` and registers many routes: onboarding (company), dashboard, roles/modules/users, tasks, iterations, documents, departments.\n\n### API client & env\n- `frontend-new/src/utils/Constants.js` â€” exports `BASE_API_URL` from `import.meta.env.VITE_BASE_API_URL`.\n- `frontend-new/src/services/axiosinstance.js` â€” axios instance with `baseURL: BASE_API_URL` and request interceptor that attaches `Authorization: Bearer <jwtToken>` where `jwtToken` is read from `localStorage`.\n\nFlow: login returns JWT â†’ frontend stores it in `localStorage.jwtToken` â†’ axios attaches it to subsequent requests â†’ protected backend endpoints validate JWT and set `req.user`.\n\n### Routing conventions\n- Many routes pass `moduleId` in the URL when calling backend APIs (the frontend must fetch and propagate module UUIDs when performing module-scoped actions).\n\n### Theming & components\n- The app uses Material UI with custom theme wrappers under `src/assets/theme` and `src/assets/theme-dark`.\n- UI components are organized under `src/Components` and pages under `src/pages/*`.\n\n---\n\n## Key runtime sequences (concise)\n\n1. Start server: `node src/server.js` (or `npm run dev` â†’ `node --watch src/server.js`). Server calls `sequelize.sync({ alter: true })` then `bootstrapSystemSuperAdmin()` and starts listening.\n2. Frontend: Vite dev server (`npm run dev`) serves SPA; it uses `VITE_BASE_API_URL` to reach the backend.\n3. Login: frontend posts credentials to `/api/auth/login` â†’ backend verifies and returns a JWT â†’ frontend stores JWT in `localStorage`.\n4. Protected API calls: axios automatically adds `Authorization` header â†’ backend `authenticateUser` verifies token â†’ `checkPermission` validates `req.user.role` vs `moduleId` param.\n\n---\n\n## Security & maintenance recommendations (actionable)\n\nHigh priority\n- Hash bootstrap password before storing. Example fix:\n\n```js\nconst plainPassword = generateRandomPassword();\nconst passwordHash = await bcrypt.hash(plainPassword, 10);\nawait User.create({ ..., password_hash: passwordHash });\n```\n\n- Prevent logging/emailing plaintext credentials by gating `sendEmail()` behind `process.env.MAIL_HOST` and `process.env.BOOTSTRAP_ON_SYNC`.\n- Remove `await sequelize.sync(...)` from `BackEnd/src/config/db.js` to avoid duplicate sync calls.\n- Replace `moduleId.length < 36` checks with a proper UUID validator: `import { validate as isUuid } from 'uuid'; if (!isUuid(moduleId)) return res.status(403)...`.\n\nMedium priority\n- Replace `body-parser` usage with built-in `express.json()` only.\n- Reduce console.log of decoded JWT in production.\n- Add `.env.example` (done) and shift to migrations for schema changes.\n\nLow priority\n- Add tests for auth and permission middleware.\n- Add CI job to run lints and unit tests.\n\n---\n\n## Files to read before making changes\n- `BackEnd/src/server.js` â€” entrypoint, sync & bootstrap.\n- `BackEnd/src/config/db.js` â€” DB connection (remove sync here).\n- `BackEnd/src/utils/bootstrapSystemSuperAdmin.js` â€” seeding & email behavior.\n- `BackEnd/src/middlewares/authMiddlewares.js` and `permissionsMiddlewares.js` â€” authentication and permissions.\n- `frontend-new/src/services/axiosinstance.js` and `frontend-new/src/utils/Constants.js` â€” frontend API wiring.\n\n## Suggested small PRs (safe, prioritized)\n1. Hash bootstrap password, stop logging it, and send email only if MAIL_* envs configured. (High impact, low disruption)\n2. Remove module-level `sync()` from `BackEnd/src/config/db.js`. (Low risk)\n3. Use `uuid.validate()` for moduleId checks. (Low risk)\n4. Add `.env.example` and short README with dev commands. (Documentation)\n\n---\n\nIf you want, I can create PR patches for 1â€“3 and run a quick smoke test; tell me whether I should run commands in this environment or just prepare patches for you to review.\n","size_bytes":8924},"BackEnd/src/routes/documentRoutes.js":{"content":"import express from \"express\";\nimport { uploadDocument, getDocumentsByTask, deleteDocument ,updateDocumentDetails } from \"../controllers/documentController.js\";\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post(\"/:moduleId\",authenticateUser,checkPermission(\"write\"), uploadDocument);\nrouter.put(\"/:moduleId/:documentId\",authenticateUser,checkPermission(\"write\"), updateDocumentDetails);\nrouter.get(\"/:moduleId/:task_id\",authenticateUser,checkPermission(\"read\"), getDocumentsByTask);\nrouter.delete(\"/:moduleId/:id\",authenticateUser, checkPermission(\"delete\"),deleteDocument);\n\nexport default router;\n","size_bytes":734},"frontend-new/src/pages/module_management/ModuleForm.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport {\n  Container,\n  Paper,\n  Typography,\n  TextField,\n  Button,\n  Box,\n} from \"@mui/material\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst moduleId = \"881fc061-b852-4a9b-a430-ea96ba99194d\";\n\nconst ModuleForm = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [moduleData, setModuleData] = useState({ name: \"\", description: \"\" });\n\n  useEffect(() => {\n    if (id) {\n      // Fetch module details if editing\n      axiosInstance\n        .get(`/modules/${moduleId}/${id}`)\n        .then((res) => {\n          setModuleData(res.data);\n          toast.info(\"Module details loaded\", { position: \"top-right\" });\n        })\n        .catch((err) => {\n          console.error(\"Error fetching module:\", err);\n          toast.error(\"Failed to fetch module details\", {\n            position: \"top-right\",\n          });\n        });\n    }\n  }, [id]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const request = id\n      ? axiosInstance.put(`/modules/${moduleId}/${id}`, moduleData) // Update module\n      : axiosInstance.post(`/modules/${moduleId}`, moduleData); // Create new module\n\n    request\n      .then(() => {\n        toast.success(`Module ${id ? \"updated\" : \"created\"} successfully`, {\n          position: \"top-right\",\n        });\n        setTimeout(() => navigate(\"/modules\"), 1500); // Delay navigation so toast is visible\n      })\n      .catch((err) => {\n        console.error(\"Error saving module:\", err);\n        toast.error(\"Failed to save module\", { position: \"top-right\" });\n      });\n  };\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ px: { xs: 2, sm: 3 } }}>\n      <ToastContainer />\n      <Paper\n        elevation={4}\n        sx={{\n          mt: 4,\n          p: 3,\n          mx: 4,\n          borderRadius: 3,\n          backgroundColor: \"#f9f9f9\",\n          boxShadow: \"0px 4px 12px rgba(0, 0, 0, 0.1)\",\n        }}\n      >\n        {/* Title */}\n        <Box sx={{ display: \"flex\", justifyContent: \"flex-start\", mb: 3 }}>\n          <Typography variant=\"h5\" fontWeight={600}>\n            {id ? \"Edit Module\" : \"Create Module\"}\n          </Typography>\n        </Box>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit}>\n          <Box sx={{ display: \"grid\", gap: 2 }}>\n            <TextField\n              label=\"Module Name\"\n              fullWidth\n              required\n              value={moduleData.name}\n              onChange={(e) =>\n                setModuleData({ ...moduleData, name: e.target.value })\n              }\n            />\n            <TextField\n              label=\"Module Description\"\n              multiline\n              rows={3}\n              fullWidth\n              value={moduleData.description}\n              onChange={(e) =>\n                setModuleData({ ...moduleData, description: e.target.value })\n              }\n            />\n          </Box>\n\n          {/* Submit Button */}\n          <Box\n            sx={{\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              gap: 2, // adds space between buttons\n              mt: 3,\n            }}\n          >\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              sx={{\n                px: 4,\n                py: 1.5,\n                fontSize: \"16px\",\n                fontWeight: 500,\n                borderRadius: 2,\n                boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n              }}\n            >\n              {id ? \"Update\" : \"Create\"}\n            </Button>\n\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => window.history.back()}\n              sx={{\n                px: 3,\n                py: 1.5,\n                fontSize: \"16px\",\n                fontWeight: 500,\n                borderRadius: 2,\n              }}\n            >\n              Close\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default ModuleForm;\n","size_bytes":4229},"qms-source/frontend-new/src/assets/theme/components/table/tableContainer.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\nimport borders from \"assets/theme/base/borders\";\n\nconst { white } = colors;\nconst { md } = boxShadows;\nconst { borderRadius } = borders;\n\nconst tableContainer = {\n  styleOverrides: {\n    root: {\n      backgroundColor: white.main,\n      boxShadow: md,\n      borderRadius: borderRadius.xl,\n    },\n  },\n};\n\nexport default tableContainer;\n","size_bytes":1002},"qms-source/frontend-new/src/pages/role_management/RoleUpdate.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport {\n  Box,\n  TextField,\n  Button,\n  Typography,\n  MenuItem,\n  Select,\n  FormControl,\n  InputLabel,\n  Container,\n  Paper,\n  Grid,\n} from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst API_ROLE_URL = \"/roles/971a88b8-461e-4cd2-9a06-fce42ad6b806\";\n\nconst RoleUpdate = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n\n  const [role, setRole] = useState({\n    name: \"\",\n    description: \"\",\n    parent_role_id: \"\",\n  });\n  const [roles, setRoles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  let company_id = sessionStorage.getItem(\"selectedCompany\");\n\n  useEffect(() => {\n    fetchRole();\n    fetchRoles();\n  }, []);\n\n  const fetchRole = async () => {\n    try {\n      const response = await axiosInstance.get(`${API_ROLE_URL}/${id}`, {\n        params: company_id ? { company_id } : {},\n      });\n\n      setRole(response.data);\n    } catch (err) {\n      setError(\"Failed to load role details\");\n      toast.error(\"Error fetching role details.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchRoles = async () => {\n    try {\n      const response = await axiosInstance.get(API_ROLE_URL, {\n        params: { company_id },\n      });\n      setRoles(response.data || []);\n    } catch (error) {\n      console.error(\"Error fetching roles:\", error);\n      toast.error(\"Failed to fetch roles.\");\n    }\n  };\n\n  const handleUpdateRole = async () => {\n    if (role.name.trim() === \"\" || role.description.trim() === \"\") {\n      setError(\"Both fields are required\");\n      return;\n    }\n\n    try {\n      await axiosInstance.put(`${API_ROLE_URL}/${id}`, role);\n      toast.success(\"Role updated successfully!\");\n      setTimeout(() => {\n        navigate(\"/roles\"); // Delay navigation by 1 second\n      }, 1000);\n    } catch (err) {\n      toast.error(\"Failed to update role.\");\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ px: { xs: 2, sm: 3 }, py: 4 }}>\n      <Paper\n        elevation={3}\n        sx={{\n          p: { xs: 2, sm: 3 },\n          mx: 4,\n          borderRadius: 2,\n          boxShadow: 3,\n          mt: 3,\n        }}\n      >\n        {loading ? (\n          <Typography align=\"center\">Loading...</Typography>\n        ) : error ? (\n          <Typography color=\"error\" align=\"center\">\n            {error}\n          </Typography>\n        ) : (\n          <Box>\n            {/* Title - Top Left */}\n            <Typography\n              variant=\"h5\"\n              sx={{\n                fontWeight: 600,\n                mb: 3,\n                textAlign: \"left\",\n              }}\n            >\n              Update Role\n            </Typography>\n\n            {/* Form */}\n            <Grid container spacing={2}>\n              {/* Role Name */}\n              <Grid item xs={12}>\n                <TextField\n                  fullWidth\n                  label=\"Role Name\"\n                  variant=\"outlined\"\n                  value={role.name}\n                  onChange={(e) => setRole({ ...role, name: e.target.value })}\n                />\n              </Grid>\n\n              {/* Role Description */}\n              <Grid item xs={12}>\n                <TextField\n                  fullWidth\n                  label=\"Role Description\"\n                  variant=\"outlined\"\n                  value={role.description}\n                  onChange={(e) =>\n                    setRole({ ...role, description: e.target.value })\n                  }\n                  multiline\n                  rows={3}\n                />\n              </Grid>\n\n              {/* Parent Role Select */}\n              <Grid item xs={12}>\n                <FormControl fullWidth>\n                  <InputLabel id=\"parent-role-label\">Parent Role</InputLabel>\n                  <Select\n                    labelId=\"parent-role-label\"\n                    value={role.parent_role_id || \"\"}\n                    onChange={(e) =>\n                      setRole({ ...role, parent_role_id: e.target.value })\n                    }\n                    label=\"Parent Role\"\n                  >\n                    <MenuItem value=\"\">\n                      <em>None</em>\n                    </MenuItem>\n                    {roles.map((roleItem) => (\n                      <MenuItem key={roleItem.id} value={roleItem.id}>\n                        {roleItem.name}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n              </Grid>\n\n              {/* Action Buttons */}\n              <Grid\n                item\n                xs={12}\n                sx={{\n                  display: \"flex\",\n                  justifyContent: \"flex-end\",\n                  gap: 2,\n                  mt: 2,\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleUpdateRole}\n                  sx={{ textTransform: \"none\", fontWeight: \"bold\" }}\n                >\n                  Update\n                </Button>\n                <Button\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  onClick={() => navigate(-1)}\n                  sx={{ textTransform: \"none\", fontWeight: \"medium\" }}\n                >\n                  Cancel\n                </Button>\n              </Grid>\n            </Grid>\n          </Box>\n        )}\n      </Paper>\n    </Container>\n  );\n};\n\nexport default RoleUpdate;\n","size_bytes":5645},"qms-source/frontend-new/src/services/axiosinstance.js":{"content":"import axios from \"axios\";\nimport { BASE_API_URL } from \"../utils/Constants\";\n\nconst axiosInstance = axios.create({\n    baseURL: BASE_API_URL,\n});\n\n// Add Authorization Header to Every Request\naxiosInstance.interceptors.request.use((config) => {\n    const token = localStorage.getItem(\"jwtToken\");\n    if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n}, (error) => Promise.reject(error));\n\nexport default axiosInstance;\n","size_bytes":467},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"frontend-new/src/assets/theme-dark/functions/pxToRem.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The pxToRem() function helps you to convert a px unit into a rem unit, \n */\n\nfunction pxToRem(number, baseNumber = 16) {\n  return `${number / baseNumber}rem`;\n}\n\nexport default pxToRem;\n","size_bytes":715},"qms-source/frontend-new/src/assets/theme-dark/components/button/root.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport typography from \"assets/theme-dark/base/typography\";\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { fontWeightBold, size } = typography;\nconst { borderRadius } = borders;\n\nconst root = {\n  display: \"inline-flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  fontSize: size.xs,\n  fontWeight: fontWeightBold,\n  borderRadius: borderRadius.lg,\n  padding: `${pxToRem(6.302)} ${pxToRem(16.604)}`,\n  lineHeight: 1.4,\n  textAlign: \"center\",\n  textTransform: \"uppercase\",\n  userSelect: \"none\",\n  backgroundSize: \"150% !important\",\n  backgroundPositionX: \"25% !important\",\n  transition: \"all 150ms ease-in\",\n\n  \"&:disabled\": {\n    pointerEvent: \"none\",\n    opacity: 0.65,\n  },\n\n  \"& .material-icons\": {\n    fontSize: pxToRem(15),\n    marginTop: pxToRem(-2),\n  },\n};\n\nexport default root;\n","size_bytes":1482},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"qms-source/frontend-new/src/assets/theme/base/typography.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base typography styles for the Material Dashboard 2 React.\n * You can add new typography style using this file.\n * You can customized the typography styles for the entire Material Dashboard 2 React using thie file.\n */\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"../../../assets/theme/base/colors\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"../../../assets/theme/functions/pxToRem\";\n\nconst { dark } = colors;\n\nconst baseProperties = {\n  fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n  fontWeightLighter: 100,\n  fontWeightLight: 300,\n  fontWeightRegular: 400,\n  fontWeightMedium: 600,\n  fontWeightBold: 700,\n  fontSizeXXS: pxToRem(10.4),\n  fontSizeXS: pxToRem(12),\n  fontSizeSM: pxToRem(14),\n  fontSizeMD: pxToRem(16),\n  fontSizeLG: pxToRem(18),\n  fontSizeXL: pxToRem(20),\n  fontSize2XL: pxToRem(24),\n  fontSize3XL: pxToRem(30),\n};\n\nconst baseHeadingProperties = {\n  fontFamily: baseProperties.fontFamily,\n  color: dark.main,\n  fontWeight: baseProperties.fontWeightBold,\n};\n\nconst baseDisplayProperties = {\n  fontFamily: baseProperties.fontFamily,\n  color: dark.main,\n  fontWeight: baseProperties.fontWeightLight,\n  lineHeight: 1.2,\n};\n\nconst typography = {\n  fontFamily: baseProperties.fontFamily,\n  fontWeightLighter: baseProperties.fontWeightLighter,\n  fontWeightLight: baseProperties.fontWeightLight,\n  fontWeightRegular: baseProperties.fontWeightRegular,\n  fontWeightMedium: baseProperties.fontWeightMedium,\n  fontWeightBold: baseProperties.fontWeightBold,\n\n  h1: {\n    fontSize: pxToRem(48),\n    lineHeight: 1.25,\n    ...baseHeadingProperties,\n  },\n\n  h2: {\n    fontSize: pxToRem(36),\n    lineHeight: 1.3,\n    ...baseHeadingProperties,\n  },\n\n  h3: {\n    fontSize: pxToRem(30),\n    lineHeight: 1.375,\n    ...baseHeadingProperties,\n  },\n\n  h4: {\n    fontSize: pxToRem(24),\n    lineHeight: 1.375,\n    ...baseHeadingProperties,\n  },\n\n  h5: {\n    fontSize: pxToRem(20),\n    lineHeight: 1.375,\n    ...baseHeadingProperties,\n  },\n\n  h6: {\n    fontSize: pxToRem(16),\n    lineHeight: 1.625,\n    ...baseHeadingProperties,\n  },\n\n  subtitle1: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeXL,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.625,\n  },\n\n  subtitle2: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeMD,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.6,\n  },\n\n  body1: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeXL,\n    fontWeight: baseProperties.fontWeightRegular,\n    lineHeight: 1.625,\n  },\n\n  body2: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeMD,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.6,\n  },\n\n  button: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeSM,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.5,\n    textTransform: \"uppercase\",\n  },\n\n  caption: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeXS,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.25,\n  },\n\n  overline: {\n    fontFamily: baseProperties.fontFamily,\n  },\n\n  d1: {\n    fontSize: pxToRem(80),\n    ...baseDisplayProperties,\n  },\n\n  d2: {\n    fontSize: pxToRem(72),\n    ...baseDisplayProperties,\n  },\n\n  d3: {\n    fontSize: pxToRem(64),\n    ...baseDisplayProperties,\n  },\n\n  d4: {\n    fontSize: pxToRem(56),\n    ...baseDisplayProperties,\n  },\n\n  d5: {\n    fontSize: pxToRem(48),\n    ...baseDisplayProperties,\n  },\n\n  d6: {\n    fontSize: pxToRem(40),\n    ...baseDisplayProperties,\n  },\n\n  size: {\n    xxs: baseProperties.fontSizeXXS,\n    xs: baseProperties.fontSizeXS,\n    sm: baseProperties.fontSizeSM,\n    md: baseProperties.fontSizeMD,\n    lg: baseProperties.fontSizeLG,\n    xl: baseProperties.fontSizeXL,\n    \"2xl\": baseProperties.fontSize2XL,\n    \"3xl\": baseProperties.fontSize3XL,\n  },\n\n  lineHeight: {\n    sm: 1.25,\n    md: 1.5,\n    lg: 2,\n  },\n};\n\nexport default typography;\n","size_bytes":4570},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"qms-source/frontend-new/src/styles/ModuleForm.css":{"content":"/* Module Form Container */\n.module-form-container {\n    padding: 20px;\n    background: #f4f4f4;\n    border-radius: 8px;\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n    max-width: 500px;\n    margin: auto;\n  }\n  \n  /* Input Fields */\n  .module-form input, .module-form textarea {\n    width: 100%;\n    padding: 10px;\n    margin: 10px 0;\n    border: 1px solid #ddd;\n    border-radius: 5px;\n    font-size: 14px;\n  }\n  \n  /* Submit Button */\n  .module-submit-btn {\n    background-color: #007bff;\n    color: white;\n    padding: 10px;\n    border: none;\n    cursor: pointer;\n    border-radius: 5px;\n    font-size: 16px;\n    width: 100%;\n  }\n  \n  .module-submit-btn:hover {\n    background-color: #0056b3;\n  }\n  ","size_bytes":705},"frontend-new/src/pages/TaskManagement/SelectCompany.jsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  Card,\n  CardContent,\n  Typography,\n  Button,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Box,\n  Container,\n  Paper,\n} from \"@mui/material\";\nimport {\n  useMaterialUIController,\n  setSelectedCompanyName,\n} from \"../../context/index\"; \nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst SelectCompany = ({ setSelectedCompany }) => {\n  const [companies, setCompanies] = useState([]);\n  const [selectedCompany, setSelectedCompanyState] = useState(\"\");\n  const [controller, dispatch] = useMaterialUIController();\n  const navigate = useNavigate();\n  const Module_id = \"5d896834-fedd-4e0b-a882-8d05396fc346\";\n\n  useEffect(() => {\n    console.log(\"Fetching companies...\");\n\n    const fetchCompanies = async () => {\n      const token = localStorage.getItem(\"jwtToken\");\n\n      if (!token) {\n        console.error(\"No token found! Please login.\");\n        return;\n      }\n\n      try {\n        console.log(\"Making API request to fetch companies...\");\n        const response = await axiosInstance.get(\n          `/companies/${Module_id}`,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n\n        const data = response.data;\n        console.log(\"Fetched companies from backend:\", data);\n\n        if (Array.isArray(data) && data.length > 0) {\n          setCompanies(data);\n\n          // Retrieve stored company ID if available\n          let storedCompanyId = sessionStorage.getItem(\"selectedCompany\");\n\n          // Only set if it's valid\n          if (storedCompanyId && data.some((c) => c.id === storedCompanyId)) {\n            setSelectedCompanyState(storedCompanyId);\n            setSelectedCompany && setSelectedCompany(storedCompanyId);\n            console.log(\n              \"Using stored company ID from sessionStorage:\",\n              storedCompanyId\n            );\n          } else {\n            console.log(\"No stored company found. Keeping selection empty.\");\n          }\n        } else {\n          console.warn(\"No companies received from API.\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching companies:\", error);\n      }\n    };\n\n    fetchCompanies();\n  }, []);\n\n  const handleSelectChange = (e) => {\n    const company_id = e.target.value;\n    const selectedCompanyObj = companies.find((c) => c.id === company_id);\n\n    if (!company_id) {\n      console.error(\"Invalid company selection!\");\n      return;\n    }\n    const company_name = selectedCompanyObj.name; // Extract name\n\n    sessionStorage.setItem(\"selectedCompany\", company_id);\n    sessionStorage.setItem(\"selectedCompanyName\", company_name); // Store company name\n    setSelectedCompanyName(dispatch, company_name);\n    setSelectedCompanyState(company_id);\n    setSelectedCompany && setSelectedCompany(company_id);\n\n    console.log(\"Dropdown Selected Company ID:\", company_id);\n    console.log(\"Dropdown Selected Company Name:\", company_name);\n    console.log(\n      \"Stored Company ID:\",\n      sessionStorage.getItem(\"selectedCompany\")\n    );\n    console.log(\n      \"Stored Company Name:\",\n      sessionStorage.getItem(\"selectedCompanyName\")\n    );\n  };\n\n  const handleNext = () => {\n    const company_id = sessionStorage.getItem(\"selectedCompany\");\n    const company_name = sessionStorage.getItem(\"selectedCompanyName\");\n\n    if (!company_id || !company_name) {\n      // Ensure both are set\n      alert(\"Please select a company!\");\n      console.error(\"No company selected. Navigation aborted.\");\n      return;\n    }\n\n    console.log(\"Navigating with Company ID:\", company_id);\n    console.log(\"Navigating with Company Name:\", company_name);\n\n    sessionStorage.setItem(\"companyname\", company_name);\n    setSelectedCompanyName(dispatch, company_name); \n\n    setTimeout(() => {\n      navigate(\"/dashboard\", { replace: true });\n    }, 50);\n  };\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ py: 4 }}>\n      <Paper\n        elevation={3}\n        sx={{\n          p: { xs: 2, sm: 3 },\n          mx: 4,\n          borderRadius: 2,\n          boxShadow: 3,\n        }}\n      >\n        <Typography\n          variant=\"h5\"\n          sx={{ fontWeight: 600, mb: 3, textAlign: \"left\" }}\n        >\n          Select a Company\n        </Typography>\n\n        {companies.length > 0 ? (\n          <>\n            <FormControl fullWidth sx={{ mb: 3 }}>\n              <InputLabel>Select a Company</InputLabel>\n              <Select\n                value={selectedCompany}\n                onChange={handleSelectChange}\n                label=\"Select a Company\"\n              >\n                {companies.map((company) => (\n                  <MenuItem key={company.id} value={company.id}>\n                    {company.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            <Box display=\"flex\" justifyContent=\"flex-end\">\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleNext}\n                sx={{\n                  px: 3,\n                  py: 1.2,\n                  fontSize: \"14px\",\n                  borderRadius: 2,\n                  minWidth: \"140px\",\n                  boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n                  fontWeight: \"bold\",\n                }}\n              >\n                Next\n              </Button>\n            </Box>\n          </>\n        ) : (\n          <Typography color=\"text.secondary\" align=\"center\">\n            No companies available at the moment.\n          </Typography>\n        )}\n      </Paper>\n    </Container>\n  );\n};\n\nexport default SelectCompany;\n","size_bytes":5669},"BackEnd/src/models/Notification.js":{"content":"import { DataTypes } from \"sequelize\";\nimport sequelize from \"../config/db.js\";\nimport User from \"./User.js\";\nimport Task from \"./Task.js\";\n\nconst Notification = sequelize.define(\"Notification\", {\n    id: { type: DataTypes.UUID, defaultValue: DataTypes.UUIDV4, primaryKey: true },\n    user_id: { type: DataTypes.UUID, allowNull: false, references: { model: User, key: \"id\" } },\n    task_id: { type: DataTypes.UUID, allowNull: false, references: { model: Task, key: \"id\" } },\n    type: { type: DataTypes.ENUM(\"status\", \"priority\", \"assignment\",\"document\",\"task\"), allowNull: false },\n    message: { type: DataTypes.TEXT, allowNull: false },\n    is_seen: { type: DataTypes.BOOLEAN, defaultValue: false },\n    created_at: { type: DataTypes.DATE, defaultValue: DataTypes.NOW }\n}, { timestamps: false });\n\nNotification.belongsTo(User, { foreignKey: \"user_id\" });\nNotification.belongsTo(Task, { foreignKey: \"task_id\" });\n\nexport default Notification;\n","size_bytes":945},"qms-source/frontend-new/src/pages/TaskManagement/BulkTaskAssignment.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport {\n  Autocomplete,\n  TextField,\n  Button,\n  Typography,\n  Paper,\n  Chip,\n  Grid,\n  TablePagination,\n  MenuItem,\n} from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport { useNavigate } from \"react-router-dom\";\nimport { CircularProgress } from \"@mui/material\";\n\nconst BulkTaskAssignment = () => {\n  const [getAllUsers, setGetAllUsers] = useState([]); // For display purposes\n  const [getAssignableUsers, setGetAssignableUsers] = useState([]); // For selection\n  const [tasks, setTasks] = useState([]);\n  const [taskAssignments, setTaskAssignments] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(0); // Pagination state\n  const [rowsPerPage, setRowsPerPage] = useState(5); // Pagination rows per page\n  const navigate = useNavigate();\n  const taskModuleId = \"1f0f190d-3a83-421c-af98-5d081100230e\";\n  const taskAssignmentModuleId = \"8530da98-7369-4ab7-9400-37cf4019e148\";\n  const [iterations, setIterations] = useState([]);\n  const [iterationId, setIterationId] = useState(\"\");\n\n  useEffect(() => {\n    const fetchUsersAndTasks = async () => {\n      setLoading(true);\n      try {\n        let token = localStorage.getItem(\"jwtToken\");\n        let company_id = sessionStorage.getItem(\"selectedCompany\");\n\n        if (!token) {\n          toast.error(\"Session expired. Please log in again.\");\n          navigate(\"/login\");\n          return;\n        }\n\n        const headers = { Authorization: `Bearer ${token}` };\n\n        // Step 1 & 2: Fetch All Users & Assignable Users in parallel\n        const [allUsersResponse, assignableUsersResponse, iterationsResponse] =\n          await Promise.all([\n            axiosInstance.get(\"/users/bd168912-e40c-48e3-b3d1-440a3e129d52\", {\n              headers,\n              params: { company_id },\n            }),\n            axiosInstance.get(\n              \"/users/bd168912-e40c-48e3-b3d1-440a3e129d52//getAssignableUser\",\n              {\n                headers,\n                params: { company_id },\n              }\n            ),\n            axiosInstance.get(`/iteration/${taskModuleId}`, {\n              headers,\n              params: { company_id }, // Add this to fetch iterations\n            }),\n          ]);\n\n        // const allUsers = allUsersResponse.data || [];\n        // const assignableUsers = assignableUsersResponse.data || [];\n        // setIterations(iterationsResponse.data || []);\n        // setGetAllUsers(allUsers);\n        // setGetAssignableUsers(assignableUsers);\n        setGetAllUsers(allUsersResponse.data || []);\n        setGetAssignableUsers(assignableUsersResponse.data || []);\n        setIterations(iterationsResponse.data || []);\n\n        // Step 3: Fetch Tasks\n        const tasksResponse = await axiosInstance.get(\n          `/tasks/${taskModuleId}`,\n          {\n            headers,\n            params: { company_id, iteration_id: iterationId || undefined },\n          }\n        );\n\n        const tasksData = tasksResponse.data || [];\n        setTasks(tasksData);\n\n        console.log(\"Tasks Fetched: \", tasksData);\n\n        // Step 4: Fetch Task Assignments\n        const assignmentsResponse = await axiosInstance.get(\n          `/task-assignments/${taskAssignmentModuleId}`,\n          { headers, params: { company_id } }\n        );\n\n        const assignments = assignmentsResponse.data.reduce(\n          (acc, assignment) => {\n            const users = assignment.user_ids\n              .map((id) => {\n                const user = allUsersResponse.data.find((u) => u.id === id);\n\n                if (!user) {\n                  console.warn(\n                    `User with ID ${id} not found in allUsersResponse`\n                  );\n                }\n                return user;\n              })\n              .filter(Boolean);\n\n            acc[assignment.task_id] = users;\n            return acc;\n          },\n          {}\n        );\n\n        setTaskAssignments(assignments);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error.response?.data || error);\n        if (error.response?.status === 403) {\n          toast.error(\"Access denied. Please log in again.\");\n          localStorage.removeItem(\"jwtToken\");\n          navigate(\"/login\");\n        } else {\n          toast.error(\"Failed to fetch data.\");\n        }\n      } finally {\n        setLoading(false); // Stop loading\n      }\n    };\n\n    fetchUsersAndTasks();\n  }, [navigate, iterationId]);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0); // Reset to the first page\n  };\n\n  const handleAssignAllTasks = async () => {\n    const assignments = Object.keys(taskAssignments)\n      .map((taskId) => ({\n        task_id: taskId,\n        user_ids: (taskAssignments[taskId] || [])\n          .map((user) => user?.id)\n          .filter(Boolean),\n      }))\n      .filter((assignment) => assignment.user_ids.length > 0);\n\n    if (assignments.length === 0) {\n      toast.error(\"Please assign at least one user to a task.\");\n      return;\n    }\n\n    try {\n      let token = localStorage.getItem(\"jwtToken\");\n\n      const requestData = { assignments };\n\n      console.log(\n        \" Sending requestData:\",\n        JSON.stringify(requestData, null, 2)\n      );\n\n      const response = await axiosInstance.post(\n        `/task-assignments/${taskAssignmentModuleId}`,\n        requestData,\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      console.log(\" API Response:\", response.data);\n\n      toast.success(\"Tasks assigned successfully!\");\n      navigate(\"/tasks\");\n    } catch (error) {\n      console.error(\"Error assigning tasks:\", error.response?.data || error);\n      toast.error(error.response?.data?.error || \"Failed to assign tasks.\");\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ textAlign: \"center\", marginTop: \"200px\" }}>\n        <CircularProgress size={50} thickness={2} />\n      </div>\n    );\n  }\n\n  // Slice tasks for pagination\n  const paginatedTasks = tasks.slice(\n    page * rowsPerPage,\n    page * rowsPerPage + rowsPerPage\n  );\n\n  return (\n    <Paper elevation={3} sx={{ p: 4, borderRadius: 3, mx: 8 }}>\n      <Grid container spacing={3} direction=\"column\">\n        {/* Title */}\n        <Grid item>\n          <Typography variant=\"h3\" fontWeight=\"bold\" sx={{ ml: 2 }}>\n            Bulk Task Assignment\n          </Typography>\n        </Grid>\n\n        {/* Iteration Filter */}\n        <Grid item sx={{ mb: 0.5, mt: 0 }}>\n          <TextField\n            select\n            label=\"Filter by Iteration\"\n            value={iterationId}\n            onChange={(e) => setIterationId(e.target.value)}\n            fullWidth={false}\n            size=\"small\"\n            variant=\"outlined\"\n            margin=\"dense\"\n            InputLabelProps={{\n              shrink: true,\n            }}\n            SelectProps={{\n              displayEmpty: true,\n              MenuProps: {\n                anchorOrigin: {\n                  vertical: \"bottom\",\n                  horizontal: \"left\",\n                },\n                transformOrigin: {\n                  vertical: \"top\",\n                  horizontal: \"left\",\n                },\n                PaperProps: {\n                  style: {\n                    maxHeight: 250,\n                    width: \"auto\",\n                  },\n                },\n              },\n            }}\n            sx={{\n              minWidth: 200,\n              \"& .MuiOutlinedInput-root\": {\n                borderRadius: 1,\n              },\n              \"& .MuiInputLabel-root\": {\n                color: \"rgba(0, 0, 0, 0.6)\",\n              },\n            }}\n          >\n            <MenuItem value=\"\">All Iterations</MenuItem>\n            {iterations.map((iter) => (\n              <MenuItem key={iter.id} value={iter.id}>\n                {iter.name}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid>\n\n        {/* Assign All Button */}\n        <Grid item>\n          <Grid container justifyContent=\"flex-end\">\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleAssignAllTasks}\n              sx={{\n                mb: 2,\n                textTransform: \"none\",\n                fontWeight: \"medium\",\n                boxShadow: 2,\n                px: 3,\n              }}\n            >\n              Assign All\n            </Button>\n          </Grid>\n        </Grid>\n\n        {/* Column Headers */}\n        <Grid item>\n          <Grid\n            container\n            sx={{\n              backgroundColor: \"#f5f5f5\",\n              borderRadius: 1,\n              px: 2,\n              py: 1,\n              fontWeight: \"bold\",\n            }}\n          >\n            <Grid item xs={6}>\n              <Typography sx={{ fontWeight: 600 }}>Checklist_Item</Typography>\n            </Grid>\n            <Grid item xs={6}>\n              <Typography sx={{ fontWeight: 600 }}>Assigned Users</Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        {/* Task Rows */}\n        {paginatedTasks.map((task) => (\n          <Grid item key={task.id} xs={12} sm={6} md={4}>\n            <Paper\n              elevation={1}\n              sx={{\n                p: 2,\n                borderRadius: 2,\n                border: \"1px solid #e0e0e0\",\n                backgroundColor: \"#fff\",\n              }}\n            >\n              <Grid container spacing={2} alignItems=\"center\">\n                <Grid item xs={12} sm={6}>\n                  <Typography sx={{ fontSize: \"1rem\" }}>\n                    {task.title || task.Checklist_Item}\n                  </Typography>\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <Autocomplete\n                    multiple\n                    options={getAssignableUsers || []}\n                    getOptionLabel={(user) =>\n                      user\n                        ? `${user.name || user.email || \"Unknown User\"}${\n                            user.department?.name\n                              ? ` (${user.department.name})`\n                              : \"\"\n                          }`\n                        : \"Unknown User\"\n                    }\n                    isOptionEqualToValue={(option, value) =>\n                      option.id === value.id\n                    }\n                    value={taskAssignments[task.id] || []}\n                    onChange={(event, newValue) => {\n                      const nonRemovableUsers = (\n                        taskAssignments[task.id] || []\n                      ).filter(\n                        (user) =>\n                          !getAssignableUsers.some(\n                            (assignable) => assignable.id === user.id\n                          )\n                      );\n\n                      const uniqueUsersMap = new Map();\n                      nonRemovableUsers.forEach((user) =>\n                        uniqueUsersMap.set(user.id, user)\n                      );\n                      newValue.forEach((user) =>\n                        uniqueUsersMap.set(user.id, user)\n                      );\n\n                      setTaskAssignments({\n                        ...taskAssignments,\n                        [task.id]: Array.from(uniqueUsersMap.values()),\n                      });\n                    }}\n                    renderTags={(value, getTagProps) =>\n                      value\n                        .filter((option) => option)\n                        .map((option, index) => {\n                          const tagProps = getTagProps({ index });\n                          const { key, ...restTagProps } = tagProps;\n\n                          return (\n                            <Chip\n                              key={option.id || key}\n                              label={`${\n                                option.name || option.email || \"Unknown User\"\n                              }${\n                                option.department?.name\n                                  ? ` (${option.department.name})`\n                                  : \"\"\n                              }`}\n                              onDelete={\n                                getAssignableUsers.some(\n                                  (assignable) => assignable.id === option.id\n                                )\n                                  ? tagProps.onDelete\n                                  : undefined\n                              }\n                              sx={{ mr: 0.5, mb: 0.5 }}\n                              {...restTagProps}\n                            />\n                          );\n                        })\n                    }\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        label=\"Select Users\"\n                        variant=\"outlined\"\n                        size=\"small\"\n                      />\n                    )}\n                    sx={{ minWidth: \"100%\" }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        ))}\n\n        {/* Pagination */}\n        <TablePagination\n          rowsPerPageOptions={[5, 10, 25]}\n          component=\"div\"\n          count={tasks.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onPageChange={handleChangePage}\n          onRowsPerPageChange={handleChangeRowsPerPage}\n          sx={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            width: \"100%\",\n          }}\n        />\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default BulkTaskAssignment;\n","size_bytes":13822},"qms-source/frontend-new/src/assets/theme/functions/hexToRgb.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The hexToRgb() function helps you to change the hex color code to rgb\n  using chroma-js library.\n */\n\n// chroma-js is a library for all kinds of color conversions and color scales.\nimport chroma from \"chroma-js\";\n\nfunction hexToRgb(color) {\n  return chroma(color).rgb().join(\", \");\n}\n\nexport default hexToRgb;\n","size_bytes":839},"qms-source/frontend-new/src/pages/user_management/UserList.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport {\n  Grid,\n  Paper,\n  Button,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Typography,\n  CircularProgress,\n  Container,\n} from \"@mui/material\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport { Edit, Delete } from \"@mui/icons-material\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst API_URL = \"/users/bd168912-e40c-48e3-b3d1-440a3e129d52\";\n\nconst UserList = () => {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [deleteUserId, setDeleteUserId] = useState(null);\n  const [page, setPage] = useState(0);\n  const [pageSize, setPageSize] = useState(5);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const company_id = sessionStorage.getItem(\"selectedCompany\");\n      const response = await axiosInstance.get(API_URL, {\n        params: company_id ? { company_id } : {},\n      });\n      console.log(\"Users API response:\", response.data);\n\n      setUsers(response.data);\n      setError(\"\");\n    } catch (err) {\n      setError(\"Failed to load users\");\n      toast.error(\"Error fetching users.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteUser = async () => {\n    try {\n      await axiosInstance.delete(`${API_URL}/${deleteUserId}`);\n      setUsers(users.filter((user) => user.id !== deleteUserId));\n      toast.success(\"User deleted successfully!\");\n    } catch (err) {\n      toast.error(\"Failed to delete user.\");\n    } finally {\n      setDeleteUserId(null);\n    }\n  };\n\n  const columns = [\n    { field: \"name\", headerName: \"Name\", width: 200 },\n    { field: \"email\", headerName: \"Email\", width: 250 },\n    {\n      field: \"Role\",\n      headerName: \"Role\",\n      width: 200,\n      renderCell: (params) => (\n        <span>{params.row.Role ? params.row.Role.name : \"N/A\"}</span>\n      ),\n    },\n    {\n      field: \"Company\",\n      headerName: \"Company\",\n      width: 200,\n      renderCell: (params) => (\n        <span>{params.row.Company ? params.row.Company.name : \"N/A\"}</span>\n      ),\n    },\n    {\n      field: \"Manager\",\n      headerName: \"Report To\",\n      width: 200,\n      renderCell: (params) => (\n        <span>{params.row.Manager ? params.row.Manager.name : \"N/A\"}</span>\n      ),\n    },\n    {\n      field: \"Department\",\n      headerName: \"Department\",\n      width: 200,\n      renderCell: (params) => (\n        <span>\n          {params.row.department ? params.row.department.name : \"N/A\"}\n        </span>\n      ),\n    },\n    {\n      field: \"actions\",\n      headerName: \"Actions\",\n      width: 150,\n      sortable: false,\n      renderCell: (params) => (\n        <>\n          <IconButton\n            color=\"primary\"\n            onClick={() => {\n              toast.info(\"Redirecting to Update User...\");\n              navigate(`/users/update/${params.row.id}`, {\n                state: {\n                  name: params.row.name,\n                  email: params.row.email,\n                  company_id: params.row.company_id,\n                  role_id: params.row.Role ? params.row.Role.id : \"\",\n                  company_name: params.row.Company\n                    ? params.row.Company.name\n                    : \"\",\n                  manager: params.row.Manager ? params.row.Manager.id : \"\",\n                  managerName: params.row.Manager\n                    ? params.row.Manager.name\n                    : \"\",\n                  department_id: params.row.department\n                    ? params.row.department.id\n                    : \"\",\n                },\n              });\n            }}\n          >\n            <Edit />\n          </IconButton>\n          <IconButton\n            color=\"error\"\n            onClick={() => setDeleteUserId(params.row.id)}\n          >\n            <Delete />\n          </IconButton>\n        </>\n      ),\n    },\n  ];\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ px: { xs: 2, sm: 3, md: 4 } }}>\n      <Paper\n        elevation={4}\n        sx={{\n          borderRadius: \"0.5rem\",\n          mx: { xs: 1, sm: 2, md: 4 },\n          my: 2,\n          p: { xs: 1, sm: 2, md: 3 },\n        }}\n      >\n        <div className=\"user-list-container\">\n          <ToastContainer />\n          <Grid\n            container\n            justifyContent=\"space-between\"\n            alignItems=\"center\"\n            sx={{ mb: 3, px: 2 }}\n          >\n            <Grid item xs={12} sm={6}>\n              <Typography variant=\"h4\" sx={{ fontWeight: \"bold\", mt: 1 }}>\n                Users\n              </Typography>\n            </Grid>\n            <Grid\n              item\n              xs={12}\n              sm={6}\n              sx={{\n                textAlign: { xs: \"left\", sm: \"right\" },\n                mt: { xs: 2, sm: 0 },\n              }}\n            >\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  toast.info(\"Redirecting to Add User Page...\");\n                  navigate(\"/users/create\");\n                }}\n                sx={{\n                  textTransform: \"none\",\n                  fontWeight: \"medium\",\n                  px: 3,\n                  boxShadow: 2,\n                }}\n              >\n                Add New User\n              </Button>\n            </Grid>\n          </Grid>\n\n          {loading ? (\n            <CircularProgress />\n          ) : error ? (\n            <Typography color=\"error\">{error}</Typography>\n          ) : (\n            <Paper elevation={2} sx={{ p: 2 }}>\n              <DataGrid\n                rows={users}\n                columns={columns}\n                getRowId={(row) => row.id}\n                autoHeight\n                pagination\n                pageSizeOptions={[5, 10, 25]}\n                paginationModel={{ page, pageSize }}\n                onPaginationModelChange={(model) => {\n                  setPage(model.page);\n                  setPageSize(model.pageSize);\n                }}\n                disableRowSelectionOnClick\n                sx={{\n                  fontSize: \"1rem\",\n                  \"& .MuiDataGrid-cell\": {\n                    whiteSpace: \"normal\",\n                    wordWrap: \"break-word\",\n                    alignItems: \"center\",\n                    display: \"flex\",\n                  },\n                }}\n              />\n            </Paper>\n          )}\n\n          {/* Delete Dialog */}\n          <Dialog open={!!deleteUserId} onClose={() => setDeleteUserId(null)}>\n            <DialogTitle>Confirm Delete</DialogTitle>\n            <DialogContent>\n              <Typography>\n                Are you sure you want to delete this user?\n              </Typography>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={() => setDeleteUserId(null)} color=\"secondary\">\n                Cancel\n              </Button>\n              <Button\n                onClick={handleDeleteUser}\n                color=\"error\"\n                variant=\"contained\"\n              >\n                Delete\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </div>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default UserList;\n","size_bytes":7468},"BackEnd/src/utils/sendEmail.js":{"content":"import nodemailer from 'nodemailer';\n\nconst sendEmail = async (to, subject, message) => {\n    try {\n\n        const transporter = nodemailer.createTransport({\n            service: 'gmail', // Use your email provider\n            auth: {\n                user: process.env.EMAIL_USER, // Your email from .env\n                pass: process.env.EMAIL_PASS  // Your email password from .env\n            }\n\n        //     host: \"sandbox.smtp.mailtrap.io\",\n        // port: 2525,\n        // auth: {\n        //   user: \"e802c2c160def7\",\n        //   pass: \"d687cd1bd3668e\"\n        // }\n        });\n\n        const mailOptions = {\n            from: process.env.EMAIL_USER,\n            to,\n            subject,\n            text: message\n        };\n\n        await transporter.sendMail(mailOptions);\n        console.log(`ðŸ“© Email sent successfully to ${to}`);\n    } catch (error) {\n        console.error(\"âŒ Error sending email:\", error.message);\n    }\n};\n\nexport default sendEmail;\n","size_bytes":971},"qms-source/frontend-new/src/assets/theme-dark/components/stepper/stepLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme-dark/base/typography\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { size, fontWeightRegular } = typography;\nconst { white } = colors;\n\nconst stepLabel = {\n  styleOverrides: {\n    label: {\n      marginTop: `${pxToRem(8)} !important`,\n      fontWeight: fontWeightRegular,\n      fontSize: size.xs,\n      color: \"#9fc9ff\",\n      textTransform: \"uppercase\",\n\n      \"&.Mui-active\": {\n        fontWeight: `${fontWeightRegular} !important`,\n        color: `${rgba(white.main, 0.8)} !important`,\n      },\n\n      \"&.Mui-completed\": {\n        fontWeight: `${fontWeightRegular} !important`,\n        color: `${rgba(white.main, 0.8)} !important`,\n      },\n    },\n  },\n};\n\nexport default stepLabel;\n","size_bytes":1462},"frontend-new/src/assets/theme/components/menu/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport boxShadows from \"assets/theme/base/boxShadows\";\nimport typography from \"assets/theme/base/typography\";\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { lg } = boxShadows;\nconst { size } = typography;\nconst { text, white } = colors;\nconst { borderRadius } = borders;\n\nconst menu = {\n  defaultProps: {\n    disableAutoFocusItem: true,\n  },\n\n  styleOverrides: {\n    paper: {\n      minWidth: pxToRem(160),\n      boxShadow: lg,\n      padding: `${pxToRem(16)} ${pxToRem(8)}`,\n      fontSize: size.sm,\n      color: text.main,\n      textAlign: \"left\",\n      backgroundColor: `${white.main} !important`,\n      borderRadius: borderRadius.md,\n    },\n  },\n};\n\nexport default menu;\n","size_bytes":1398},"frontend-new/src/utils/Constants.js":{"content":"// eslint-disable-next-line no-undef\nexport const BASE_API_URL = import.meta.env.VITE_BASE_API_URL;","size_bytes":99},"frontend-new/src/assets/theme-dark/functions/boxShadow.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The boxShadow() function helps you to create a box shadow for an element\n */\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"assets/theme-dark/functions/rgba\";\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nfunction boxShadow(offset = [], radius = [], color, opacity, inset = \"\") {\n  const [x, y] = offset;\n  const [blur, spread] = radius;\n\n  return `${inset} ${pxToRem(x)} ${pxToRem(y)} ${pxToRem(blur)} ${pxToRem(spread)} ${rgba(\n    color,\n    opacity\n  )}`;\n}\n\nexport default boxShadow;\n","size_bytes":1051},"qms-source/frontend-new/src/styles/EditTask.css":{"content":"/* File Upload Section */\n.file-upload-section {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n  margin-top: 20px;\n  padding: 15px;\n  border: 2px dashed #b3b3b3;\n  border-radius: 10px;\n  background-color: #f7f7f7;\n  width: 100%;\n}\n\n.custom-file-input {\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n}\n\n.custom-file-input input[type=\"file\"] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n\n.custom-file-button {\n  display: inline-block;\n  padding: 10px 20px;\n  font-size: 16px;\n  font-weight: bold;\n  color: white;\n  background-color: #1976d2;\n  border-radius: 8px;\n  border: none;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.custom-file-button:hover {\n  background-color: #97c1ec;\n}\n\n/* Style for File Name Display */\n.file-name {\n  margin-top: 5px;\n  font-size: 14px;\n  color: #333;\n  font-weight: bold;\n}\n\n/* Button Group */\n.button-group {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 25px;\n}\n\n.button-group button {\n  width: 48%;\n  padding: 10px;\n  font-size: 16px;\n  font-weight: bold;\n}\n\n.MuiButton-containedPrimary {\n  background-color: #1976d2 !important;\n  color: white !important;\n  transition: 0.3s;\n}\n\n.MuiButton-containedPrimary:hover {\n  background-color: #509ce7 !important;\n}\n\n.MuiButton-outlinedSecondary {\n  color: #d32f2f !important;\n  border-color: #d32f2f !important;\n  transition: 0.3s;\n}\n\n.MuiButton-outlinedSecondary:hover {\n  background-color: #f8d7da !important;\n  border-color: #d32f2f !important;\n}\n\n.view-document-section {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 10px;\n}\n\n.view-document-button {\n  background-color: #1976d2;\n  color: white;\n  padding: 10px 15px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\n.view-document-button:hover {\n  background-color: #1565c0;\n}\n","size_bytes":1948},"frontend-new/src/assets/theme/components/button/outlined.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { transparent, light, info, secondary } = colors;\nconst { size } = typography;\n\nconst outlined = {\n  base: {\n    minHeight: pxToRem(40),\n    color: light.main,\n    borderColor: light.main,\n    padding: `${pxToRem(10)} ${pxToRem(24)}`,\n\n    \"&:hover\": {\n      opacity: 0.75,\n      backgroundColor: transparent.main,\n    },\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(16)} !important`,\n    },\n  },\n\n  small: {\n    minHeight: pxToRem(32),\n    padding: `${pxToRem(6)} ${pxToRem(16)}`,\n    fontSize: size.xs,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(12)} !important`,\n    },\n  },\n\n  large: {\n    minHeight: pxToRem(47),\n    padding: `${pxToRem(12)} ${pxToRem(28)}`,\n    fontSize: size.sm,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(22)} !important`,\n    },\n  },\n\n  primary: {\n    backgroundColor: transparent.main,\n    borderColor: info.main,\n\n    \"&:hover\": {\n      backgroundColor: transparent.main,\n    },\n  },\n\n  secondary: {\n    backgroundColor: transparent.main,\n    borderColor: secondary.main,\n\n    \"&:hover\": {\n      backgroundColor: transparent.main,\n    },\n  },\n};\n\nexport default outlined;\n","size_bytes":1991},"BackEnd/src/routes/taskChangeLogRoutes.js":{"content":"import express from 'express';\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\nimport {getTaskChangeLogs} from \"../controllers/taskChangeLogController.js\";\n\nconst router = express.Router();\n\nrouter.get(\"/:moduleId/:task_id\",authenticateUser,checkPermission(\"read\"),getTaskChangeLogs);\n\nexport default router;","size_bytes":398},"frontend-new/src/assets/theme-dark/components/divider.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"assets/theme-dark/functions/rgba\";\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { dark, transparent, white } = colors;\n\nconst divider = {\n  styleOverrides: {\n    root: {\n      backgroundColor: transparent.main,\n      backgroundImage: `linear-gradient(to right, ${rgba(dark.main, 0)}, ${white.main}, ${rgba(\n        dark.main,\n        0\n      )}) !important`,\n      height: pxToRem(1),\n      margin: `${pxToRem(16)} 0`,\n      borderBottom: \"none\",\n      opacity: 0.25,\n    },\n\n    vertical: {\n      backgroundColor: transparent.main,\n      backgroundImage: `linear-gradient(to bottom, ${rgba(dark.main, 0)}, ${white.main}, ${rgba(\n        dark.main,\n        0\n      )}) !important`,\n      width: pxToRem(1),\n      height: \"100%\",\n      margin: `0 ${pxToRem(16)}`,\n      borderRight: \"none\",\n    },\n\n    light: {\n      backgroundColor: transparent.main,\n      backgroundImage: `linear-gradient(to right, ${rgba(white.main, 0)}, ${rgba(\n        dark.main,\n        0.4\n      )}, ${rgba(white.main, 0)}) !important`,\n\n      \"&.MuiDivider-vertical\": {\n        backgroundImage: `linear-gradient(to bottom, ${rgba(white.main, 0)}, ${rgba(\n          dark.main,\n          0.4\n        )}, ${rgba(white.main, 0)}) !important`,\n      },\n    },\n  },\n};\n\nexport default divider;\n","size_bytes":1968},"qms-source/frontend-new/src/assets/theme-dark/components/container.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport breakpoints from \"assets/theme-dark/base/breakpoints\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst {\n  values: { sm, md, lg, xl, xxl },\n} = breakpoints;\n\nconst SM = `@media (min-width: ${sm}px)`;\nconst MD = `@media (min-width: ${md}px)`;\nconst LG = `@media (min-width: ${lg}px)`;\nconst XL = `@media (min-width: ${xl}px)`;\nconst XXL = `@media (min-width: ${xxl}px)`;\n\nconst sharedClasses = {\n  paddingRight: `${pxToRem(24)} !important`,\n  paddingLeft: `${pxToRem(24)} !important`,\n  marginRight: \"auto !important\",\n  marginLeft: \"auto !important\",\n  width: \"100% !important\",\n  position: \"relative\",\n};\n\nconst container = {\n  [SM]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"540px !important\",\n    },\n  },\n  [MD]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"720px !important\",\n    },\n  },\n  [LG]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"960px !important\",\n    },\n  },\n  [XL]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"1140px !important\",\n    },\n  },\n  [XXL]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"1320px !important\",\n    },\n  },\n};\n\nexport default container;\n","size_bytes":1848},"frontend-new/src/pages/Iteration/EditIteration.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport {\n  Paper,\n  CardContent,\n  TextField,\n  Button,\n  Typography,\n  Grid,\n  Box,\n} from \"@mui/material\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { parseISO, format } from \"date-fns\";\nimport { toast } from \"react-toastify\"; // <-- Import toast\n\nconst EditIteration = () => {\n  const { taskModuleId, iterationId } = useParams();\n  const navigate = useNavigate();\n\n  const [form, setForm] = useState({\n    name: \"\",\n    description: \"\",\n    startDate: \"\",\n    endDate: \"\",\n  });\n\n  const safeFormatDate = (dateStr) => {\n    try {\n      return format(parseISO(dateStr), \"yyyy-MM-dd\");\n    } catch {\n      return \"\";\n    }\n  };\n\n  useEffect(() => {\n    axiosInstance\n      .get(`/iteration/${taskModuleId}/${iterationId}`)\n      .then((res) => {\n        const data = res.data;\n        setForm({\n          name: data.name || \"\",\n          description: data.description || \"\",\n          startDate: safeFormatDate(data.start_date),\n          endDate: safeFormatDate(data.end_date),\n        });\n      })\n      .catch((err) => {\n        console.error(\"Error fetching iteration:\", err);\n      });\n  }, [taskModuleId, iterationId]);\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async () => {\n    try {\n      const payload = {\n        name: form.name,\n        description: form.description,\n        start_date: form.startDate,\n        end_date: form.endDate,\n      };\n\n      await axiosInstance.put(\n        `/iteration/${taskModuleId}/${iterationId}`,\n        payload\n      );\n\n      toast.success(\"Iteration updated successfully!\");\n      navigate(`/iteration/${taskModuleId}`);\n    } catch (err) {\n      console.error(\"Error updating iteration:\", err);\n      toast.error(\"Failed to update iteration.\");\n    }\n  };\n\n  const handleCancel = () => {\n    navigate(`/iteration/${taskModuleId}`);\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        marginRight: 2,\n        marginTop: 4,\n        mb: 2,\n      }}\n    >\n      <Typography variant=\"h5\" gutterBottom>\n        Edit Iteration\n      </Typography>\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <TextField\n            fullWidth\n            label=\"Name\"\n            name=\"name\"\n            value={form.name}\n            onChange={handleChange}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            fullWidth\n            label=\"Description\"\n            name=\"description\"\n            value={form.description}\n            onChange={handleChange}\n            multiline\n            rows={3}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            fullWidth\n            type=\"date\"\n            label=\"Start Date\"\n            name=\"startDate\"\n            InputLabelProps={{ shrink: true }}\n            value={form.startDate}\n            onChange={handleChange}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            fullWidth\n            type=\"date\"\n            label=\"End Date\"\n            name=\"endDate\"\n            InputLabelProps={{ shrink: true }}\n            value={form.endDate}\n            onChange={handleChange}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <Box display=\"flex\" justifyContent=\"flex-end\" gap={2}>\n            <Button\n             variant=\"contained\"\n             color=\"primary\"\n              onClick={handleSubmit}\n              >\n              Save Changes\n            </Button>\n            <Button\n             variant=\"contained\"\n              color=\"primary\"\n               onClick={handleCancel}\n               >\n              Cancel\n            </Button>\n          </Box>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default EditIteration;\n","size_bytes":3977},"qms-source/frontend-new/src/assets/theme-dark/components/icon.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst icon = {\n  defaultProps: {\n    baseClassName: \"material-icons-round\",\n    fontSize: \"inherit\",\n  },\n\n  styleOverrides: {\n    fontSizeInherit: {\n      fontSize: \"inherit !important\",\n    },\n\n    fontSizeSmall: {\n      fontSize: `${pxToRem(20)} !important`,\n    },\n\n    fontSizeLarge: {\n      fontSize: `${pxToRem(36)} !important`,\n    },\n  },\n};\n\nexport default icon;\n","size_bytes":1003},"qms-source/frontend-new/src/assets/theme/components/iconButton.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\n\nconst { transparent } = colors;\n\nconst iconButton = {\n  styleOverrides: {\n    root: {\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n    },\n  },\n};\n\nexport default iconButton;\n","size_bytes":813},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"qms-source/frontend-new/src/assets/theme-dark/components/form/select.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { transparent } = colors;\n\nconst select = {\n  styleOverrides: {\n    select: {\n      display: \"grid\",\n      alignItems: \"center\",\n      padding: `0 ${pxToRem(12)} !important`,\n\n      \"& .Mui-selected\": {\n        backgroundColor: transparent.main,\n      },\n    },\n\n    selectMenu: {\n      background: \"none\",\n      height: \"none\",\n      minHeight: \"none\",\n      overflow: \"unset\",\n    },\n\n    icon: {\n      display: \"none\",\n    },\n  },\n};\n\nexport default select;\n","size_bytes":1192},"BackEnd/src/models/GeneralDocument.js":{"content":"// models/GeneralDocument.js\nimport { DataTypes } from 'sequelize';\nimport sequelize from \"../config/db.js\";\nimport User from './User.js';\n\n\n\nconst GeneralDocument = sequelize.define('GeneralDocument', {\n  id: {\n    type: DataTypes.UUID,\n    defaultValue: DataTypes.UUIDV4,\n    primaryKey: true\n  },\n  company_id: {\n    type: DataTypes.UUID,\n    allowNull: false\n  },\n  folder_id: {\n    type: DataTypes.UUID,\n    allowNull: false\n  },\n  document_name: {\n    type: DataTypes.STRING(255),\n    allowNull: false\n  },\n  file_path: {\n    type: DataTypes.STRING(255),\n    allowNull: false\n  },\n  visibility_scope: {\n    type: DataTypes.ENUM('all', 'above', 'below', 'specific', 'private'),\n    allowNull: false\n  },\n  created_by_user_id: {\n    type: DataTypes.UUID,\n    allowNull: false\n  },\n  deleted_at: {\n    type: DataTypes.DATE,\n    allowNull: true\n  }\n}, {\n  tableName: 'general_document',\n  timestamps: true,\n  paranoid: true,\n  deletedAt: 'deleted_at'\n});\n\n\n\n\nexport default GeneralDocument;\n\n","size_bytes":994},"qms-source/frontend-new/src/assets/theme-dark/components/form/switchButton.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\n// import rgba from \"assets/theme-dark/functions/rgba\";\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport linearGradient from \"assets/theme-dark/functions/linearGradient\";\n\nconst { white, gradients, grey, transparent } = colors;\nconst { borderWidth } = borders;\nconst { md } = boxShadows;\n\nconst switchButton = {\n  defaultProps: {\n    disableRipple: false,\n  },\n\n  styleOverrides: {\n    switchBase: {\n      color: gradients.dark.main,\n\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n\n      \"&.Mui-checked\": {\n        color: gradients.dark.main,\n\n        \"&:hover\": {\n          backgroundColor: transparent.main,\n        },\n\n        \"& .MuiSwitch-thumb\": {\n          borderColor: `${gradients.dark.main} !important`,\n        },\n\n        \"& + .MuiSwitch-track\": {\n          backgroundColor: `${gradients.dark.main} !important`,\n          borderColor: `${gradients.dark.main} !important`,\n          opacity: 1,\n        },\n      },\n\n      \"&.Mui-disabled + .MuiSwitch-track\": {\n        opacity: \"0.3 !important\",\n      },\n\n      \"&.Mui-focusVisible .MuiSwitch-thumb\": {\n        backgroundImage: linearGradient(gradients.info.main, gradients.info.state),\n      },\n    },\n\n    thumb: {\n      backgroundColor: white.main,\n      boxShadow: md,\n      border: `${borderWidth[1]} solid ${grey[400]}`,\n    },\n\n    track: {\n      width: pxToRem(32),\n      height: pxToRem(15),\n      backgroundColor: grey[400],\n      border: `${borderWidth[1]} solid ${grey[400]}`,\n      opacity: 1,\n    },\n\n    checked: {},\n  },\n};\n\nexport default switchButton;\n","size_bytes":2352},"frontend-new/vite.config.js":{"content":"/* eslint-disable no-undef */\nimport { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react'\nimport path from 'path';\n\n// https://vite.dev/config/\nexport default defineConfig({\n  server: {\n    host: '0.0.0.0',\n    port: 3000,\n\tallowedHosts: ['ec2-13-233-161-146.ap-south-1.compute.amazonaws.com']\n  },\n  plugins: [react()],\n  resolve: {\n    alias: {\n      '@components': path.resolve(__dirname, 'src/components'),\n      '@utils': path.resolve(__dirname, 'src/utils'),\n      'assets': path.resolve(__dirname, 'src/assets'),\n      '@hooks': path.resolve(__dirname, 'src/hooks'),\n      // Add more aliases as needed\n    },\n  },\n})\n","size_bytes":642},"qms-source/frontend-new/src/assets/theme/functions/gradientChartLine.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The gradientChartLine() function helps you to create a gradient color for the chart line\n */\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"assets/theme/functions/rgba\";\n\nfunction gradientChartLine(chart, color, opacity = 0.2) {\n  const ctx = chart.getContext(\"2d\");\n  const gradientStroke = ctx.createLinearGradient(0, 230, 0, 50);\n  const primaryColor = rgba(color, opacity).toString();\n\n  gradientStroke.addColorStop(1, primaryColor);\n  gradientStroke.addColorStop(0.2, \"rgba(72, 72, 176, 0.0)\");\n  gradientStroke.addColorStop(0, \"rgba(203, 12, 159, 0)\");\n\n  return gradientStroke;\n}\n\nexport default gradientChartLine;\n","size_bytes":1170},"qms-source/frontend-new/src/assets/theme-dark/base/boxShadows.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base box-shadow styles for the Material Dashboard 2 React.\n * You can add new box-shadow using this file.\n * You can customized the box-shadow for the entire Material Dashboard 2 React using thie file.\n */\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React Helper Functions\nimport boxShadow from \"assets/theme-dark/functions/boxShadow\";\n\nconst { black, dark, tabs, coloredShadows } = colors;\n\nconst boxShadows = {\n  xs: boxShadow([0, 2], [9, -5], black.main, 0.15),\n  sm: boxShadow([0, 5], [10, 0], black.main, 0.12),\n  md: `${boxShadow([0, 2], [2, 0], black.main, 0.14)}, ${boxShadow(\n    [0, 3],\n    [1, -2],\n    black.main,\n    0.2\n  )}, ${boxShadow([0, 1], [5, 0], black.main, 0.12)}`,\n  lg: `${boxShadow([0, 10], [15, -3], black.main, 0.1)}, ${boxShadow(\n    [0, 4],\n    [6, -2],\n    black.main,\n    0.05\n  )}`,\n  xl: `${boxShadow([0, 20], [25, -5], black.main, 0.1)}, ${boxShadow(\n    [0, 10],\n    [10, -5],\n    black.main,\n    0.04\n  )}`,\n  xxl: boxShadow([0, 20], [27, 0], black.main, 0.05),\n  inset: boxShadow([0, 1], [2, 0], black.main, 0.075, \"inset\"),\n  colored: {\n    primary: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.primary,\n      0.4\n    )}`,\n    secondary: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.secondary,\n      0.4\n    )}`,\n    info: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.info,\n      0.4\n    )}`,\n    success: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.success,\n      0.4\n    )}`,\n    warning: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.warning,\n      0.4\n    )}`,\n    error: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.error,\n      0.4\n    )}`,\n    light: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.light,\n      0.4\n    )}`,\n    dark: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.dark,\n      0.4\n    )}`,\n  },\n\n  navbarBoxShadow: `${boxShadow([0, 0], [1, 1], dark.main, 0.9, \"inset\")}, ${boxShadow(\n    [0, 20],\n    [27, 0],\n    black.main,\n    0.05\n  )}`,\n  sliderBoxShadow: {\n    thumb: boxShadow([0, 1], [13, 0], black.main, 0.2),\n  },\n  tabsBoxShadow: {\n    indicator: boxShadow([0, 1], [5, 1], tabs.indicator.boxShadow, 1),\n  },\n};\n\nexport default boxShadows;\n","size_bytes":3270},"BackEnd/src/routes/iterationRoutes.js":{"content":"import express from 'express';\nimport iterationController from '../controllers/iterationController.js';\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post('/:moduleId',authenticateUser,checkPermission(\"write\"), iterationController.createIteration);      // Add a new module\nrouter.get('/:moduleId',authenticateUser, checkPermission(\"read\"),iterationController.getAllIterations);      // Get all modules\nrouter.get('/:moduleId/:id',authenticateUser, checkPermission(\"read\"),iterationController.getIterationById);   // Get module by ID\nrouter.put('/:moduleId/:id',authenticateUser, checkPermission(\"write\"),iterationController.updateIteration);    // Update a module\nrouter.delete('/:moduleId/:id',authenticateUser,checkPermission(\"delete\"), iterationController.deleteIteration); // Delete a module\n\nexport default router;","size_bytes":954},"frontend-new/src/assets/theme/components/breadcrumbs.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\n\nconst { grey } = colors;\nconst { size } = typography;\n\nconst breadcrumbs = {\n  styleOverrides: {\n    li: {\n      lineHeight: 0,\n    },\n\n    separator: {\n      fontSize: size.sm,\n      color: grey[600],\n    },\n  },\n};\n\nexport default breadcrumbs;\n","size_bytes":914},"QMS_SETUP_GUIDE.md":{"content":"# QMS Application - Setup Guide for Replit\n\n## Overview\nYour QMS (Quality Management System) application has been successfully cloned and configured to run on Replit. The only modification made was adapting the database from MySQL to PostgreSQL, as Replit doesn't support MySQL.\n\n## Application Structure\n\n```\nâ”œâ”€â”€ BackEnd/              # Express.js backend with Sequelize ORM\nâ”‚   â”œâ”€â”€ src/\nâ”‚   â”‚   â”œâ”€â”€ server.js     # Main entry point\nâ”‚   â”‚   â”œâ”€â”€ config/       # Database and Socket.IO configuration\nâ”‚   â”‚   â”œâ”€â”€ models/       # Sequelize models\nâ”‚   â”‚   â”œâ”€â”€ routes/       # API endpoints\nâ”‚   â”‚   â”œâ”€â”€ controllers/  # Business logic\nâ”‚   â”‚   â””â”€â”€ middlewares/  # Auth and permissions\nâ”‚   â””â”€â”€ package.json\nâ”‚\nâ”œâ”€â”€ frontend-new/         # React frontend with Vite and Material UI\nâ”‚   â”œâ”€â”€ src/\nâ”‚   â””â”€â”€ package.json\nâ”‚\nâ””â”€â”€ qms-runner.js         # Startup script to run both services\n```\n\n## What Was Modified\n\n### Database Configuration\n- **File**: `BackEnd/src/config/db.js`\n- **Change**: Sequelize dialect changed from `mysql` to `postgres`\n- **Reason**: Replit provides PostgreSQL, not MySQL\n- The app now uses the `DATABASE_URL` environment variable provided by Replit\n\n### Dependencies\n- **File**: `BackEnd/package.json`\n- **Change**: Replaced `mysql2` with `pg` and `pg-hstore`\n- **Reason**: PostgreSQL drivers for Sequelize\n\n### Environment Configuration\n- Created `BackEnd/.env` with necessary environment variables\n- Created `frontend-new/.env` with API URL configuration\n- Database credentials are automatically provided by Replit\n\n## Running the Application\n\n### Option 1: Using the Runner Script (Recommended)\n```bash\nnode qms-runner.js\n```\n\nThis script will:\n1. Install backend dependencies (if needed)\n2. Install frontend dependencies (if needed)\n3. Start the backend server on port 5000\n4. Start the frontend dev server on port 3000\n\n### Option 2: Manual Start\n\n#### Backend\n```bash\ncd BackEnd\nnpm install\nnpm run dev\n```\n\n#### Frontend (in a separate terminal)\n```bash\ncd frontend-new\nnpm install\nnpm run dev\n```\n\n## Access Points\n\n- **Backend API**: http://localhost:5000\n- **Frontend UI**: http://localhost:3000\n\n## Default Login Credentials\n\nAfter the first run, the system will bootstrap with default credentials:\n\n```\nEmail:    admin@idatum.com\nPassword: Admin@123\n```\n\n> **Note**: These credentials are created by the bootstrap script (`BackEnd/src/utils/bootstrapSystemSuperAdmin.js`) and are logged in the console when the backend starts for the first time.\n\n## Environment Variables\n\n### Backend (BackEnd/.env)\n```env\nPORT=5000\nNODE_ENV=development\nJWT_SECRET=<auto-configured>\nBOOTSTRAP_ON_SYNC=true\n```\n\n### Frontend (frontend-new/.env)\n```env\nVITE_BASE_API_URL=http://localhost:5000/api\n```\n\n### Database\nThe PostgreSQL database connection is automatically configured via `DATABASE_URL` environment variable provided by Replit.\n\n## Features\n\nThe QMS application includes:\n\n- âœ… **Authentication & Authorization**: JWT-based auth with role-based access control\n- âœ… **Module Permissions**: Granular permissions (read/write/delete) per role per module\n- âœ… **Task Management**: Create, assign, and track tasks with status updates\n- âœ… **Document Management**: Upload, version, and manage documents\n- âœ… **Real-time Notifications**: Socket.IO for live updates\n- âœ… **User & Department Management**: Organize users by department and role\n- âœ… **Company Management**: Multi-tenant support with company organization\n- âœ… **Audit Trail**: Task change logs and activity tracking\n\n## Database Bootstrap\n\nOn first run, the application automatically creates:\n1. Default company: \"IDATUM\"\n2. System Super Admin role\n3. Default modules (with UUIDs)\n4. Super admin user with credentials (see above)\n5. Full permissions for the super admin role\n\n## API Routes\n\nThe backend provides REST APIs under `/api/*`:\n- `/api/auth` - Authentication\n- `/api/users` - User management\n- `/api/roles` - Role management\n- `/api/modules` - Module registry\n- `/api/permissions` - Role-module permissions\n- `/api/tasks` - Task management\n- `/api/documents` - Document management\n- `/api/notifications` - Notifications\n- `/api/departments` - Department management\n- And more...\n\n## Development Notes\n\n### Database Sync\nThe application uses `sequelize.sync({ alter: true })` which automatically updates the database schema to match the models. This is convenient for development but should be replaced with proper migrations for production.\n\n### File Uploads\nUploaded files are stored in `BackEnd/uploads/` and served statically at `/api/uploads`.\n\n### Socket.IO\nReal-time features use Socket.IO configured in `BackEnd/src/config/socket.js`.\n\n## Troubleshooting\n\n### Backend won't start\n- Check if port 5000 is already in use\n- Verify DATABASE_URL environment variable is set\n- Check backend logs for database connection errors\n\n### Frontend can't connect to backend\n- Verify backend is running on port 5000\n- Check `frontend-new/.env` has correct VITE_BASE_API_URL\n- Check browser console for CORS errors\n\n### Database connection errors\n- The DATABASE_URL is automatically provided by Replit\n- If you see connection errors, check that PostgreSQL is enabled in your Replit\n\n## Next Steps\n\n1. Start the application using `node qms-runner.js`\n2. Access the frontend at http://localhost:3000\n3. Login with the default credentials\n4. Explore the QMS features\n5. For production deployment, use Replit's deployment features\n\n## Important Files\n\n- `BackEnd/src/server.js` - Backend entry point\n- `BackEnd/src/config/db.js` - Database configuration (modified for PostgreSQL)\n- `BackEnd/src/utils/bootstrapSystemSuperAdmin.js` - Bootstrap script\n- `frontend-new/src/App.jsx` - Frontend router and layout\n- `frontend-new/src/services/axiosinstance.js` - API client configuration\n\n## Original Documentation\n\nFor more details about the original architecture, see:\n- `README_DEV.md` - Original developer guide\n- `docs/architecture.md` - Detailed architecture documentation (in source repo)\n\n---\n\n**Note**: This is your existing QMS application running on Replit with minimal modifications (only database adapter change from MySQL to PostgreSQL). All original features and functionality are preserved.\n","size_bytes":6290},"frontend-new/src/assets/theme-dark/components/sidenav.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { background } = colors;\nconst { borderRadius } = borders;\n\nconst sidenav = {\n  styleOverrides: {\n    root: {\n      width: pxToRem(250),\n      whiteSpace: \"nowrap\",\n      border: \"none\",\n    },\n\n    paper: {\n      width: pxToRem(250),\n      backgroundColor: background.sidenav,\n      height: `calc(100vh - ${pxToRem(32)})`,\n      margin: pxToRem(16),\n      borderRadius: borderRadius.xl,\n      border: \"none\",\n    },\n\n    paperAnchorDockedLeft: {\n      borderRight: \"none\",\n    },\n  },\n};\n\nexport default sidenav;\n","size_bytes":1299},"qms-source/BackEnd/src/controllers/moduleController.js":{"content":"import Module from '../models/Module.js';\n\n// Create a new module\n const createModule = async (req, res) => {\n    try {\n        const { name, description } = req.body;\n        if (!name) return res.status(400).json({ error: 'Module name is required' });\n\n        const module = await Module.create({ name, description });\n        res.status(201).json({ message: 'Module created successfully', module });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Get all modules\n const getAllModules = async (req, res) => {\n    try {\n        const modules = await Module.findAll();\n        res.json(modules);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Get a single module by ID\n const getModuleById = async (req, res) => {\n    try {\n        const module = await Module.findByPk(req.params.id);\n        if (!module) return res.status(404).json({ error: 'Module not found' });\n\n        res.json(module);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Update a module\n const updateModule = async (req, res) => {\n    try {\n        const { name, description } = req.body;\n        const module = await Module.findByPk(req.params.id);\n        if (!module) return res.status(404).json({ error: 'Module not found' });\n\n        await module.update({ name, description });\n        res.json({ message: 'Module updated successfully', module });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Delete a module\n const deleteModule = async (req, res) => {\n    try {\n        const module = await Module.findByPk(req.params.id);\n        if (!module) return res.status(404).json({ error: 'Module not found' });\n\n        await module.destroy();\n        res.json({ message: 'Module deleted successfully' });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport default { createModule, getAllModules, getModuleById, updateModule, deleteModule };\n","size_bytes":2033},"qms-source/frontend-new/src/assets/theme/base/colors.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base colors for the Material Dashboard 2 React.\n * You can add new color using this file.\n * You can customized the colors for the entire Material Dashboard 2 React using thie file.\n */\n\nconst colors = {\n  background: {\n    default: \"#f0f2f5\",\n  },\n\n  text: {\n    main: \"#7b809a\",\n    focus: \"#7b809a\",\n  },\n\n  transparent: {\n    main: \"rgba(0, 0, 0, 0)\",\n  },\n\n  white: {\n    main: \"#ffffff\",\n    focus: \"#ffffff\",\n  },\n\n  black: {\n    light: \"#000000\",\n    main: \"#000000\",\n    focus: \"#000000\",\n  },\n\n  primary: {\n    main: \"#e91e63\",\n    focus: \"#e91e63\",\n  },\n\n  secondary: {\n    main: \"#7b809a\",\n    focus: \"#8f93a9\",\n  },\n\n  info: {\n    main: \"#1A73E8\",\n    focus: \"#1662C4\",\n  },\n\n  success: {\n    main: \"#4CAF50\",\n    focus: \"#67bb6a\",\n  },\n\n  warning: {\n    main: \"#fb8c00\",\n    focus: \"#fc9d26\",\n  },\n\n  error: {\n    main: \"#F44335\",\n    focus: \"#f65f53\",\n  },\n\n  light: {\n    main: \"#f0f2f5\",\n    focus: \"#f0f2f5\",\n  },\n\n  dark: {\n    main: \"#344767\",\n    focus: \"#2c3c58\",\n  },\n\n  grey: {\n    100: \"#f8f9fa\",\n    200: \"#f0f2f5\",\n    300: \"#dee2e6\",\n    400: \"#ced4da\",\n    500: \"#adb5bd\",\n    600: \"#6c757d\",\n    700: \"#495057\",\n    800: \"#343a40\",\n    900: \"#212529\",\n  },\n\n  gradients: {\n    primary: {\n      main: \"#EC407A\",\n      state: \"#D81B60\",\n    },\n\n    secondary: {\n      main: \"#747b8a\",\n      state: \"#495361\",\n    },\n\n    info: {\n      main: \"#49a3f1\",\n      state: \"#1A73E8\",\n    },\n\n    success: {\n      main: \"#66BB6A\",\n      state: \"#43A047\",\n    },\n\n    warning: {\n      main: \"#FFA726\",\n      state: \"#FB8C00\",\n    },\n\n    error: {\n      main: \"#EF5350\",\n      state: \"#E53935\",\n    },\n\n    light: {\n      main: \"#EBEFF4\",\n      state: \"#CED4DA\",\n    },\n\n    dark: {\n      main: \"#42424a\",\n      state: \"#191919\",\n    },\n  },\n\n  socialMediaColors: {\n    facebook: {\n      main: \"#3b5998\",\n      dark: \"#344e86\",\n    },\n\n    twitter: {\n      main: \"#55acee\",\n      dark: \"#3ea1ec\",\n    },\n\n    instagram: {\n      main: \"#125688\",\n      dark: \"#0e456d\",\n    },\n\n    linkedin: {\n      main: \"#0077b5\",\n      dark: \"#00669c\",\n    },\n\n    pinterest: {\n      main: \"#cc2127\",\n      dark: \"#b21d22\",\n    },\n\n    youtube: {\n      main: \"#e52d27\",\n      dark: \"#d41f1a\",\n    },\n\n    vimeo: {\n      main: \"#1ab7ea\",\n      dark: \"#13a3d2\",\n    },\n\n    slack: {\n      main: \"#3aaf85\",\n      dark: \"#329874\",\n    },\n\n    dribbble: {\n      main: \"#ea4c89\",\n      dark: \"#e73177\",\n    },\n\n    github: {\n      main: \"#24292e\",\n      dark: \"#171a1d\",\n    },\n\n    reddit: {\n      main: \"#ff4500\",\n      dark: \"#e03d00\",\n    },\n\n    tumblr: {\n      main: \"#35465c\",\n      dark: \"#2a3749\",\n    },\n  },\n\n  badgeColors: {\n    primary: {\n      background: \"#f8b3ca\",\n      text: \"#cc084b\",\n    },\n\n    secondary: {\n      background: \"#d7d9e1\",\n      text: \"#6c757d\",\n    },\n\n    info: {\n      background: \"#aecef7\",\n      text: \"#095bc6\",\n    },\n\n    success: {\n      background: \"#bce2be\",\n      text: \"#339537\",\n    },\n\n    warning: {\n      background: \"#ffd59f\",\n      text: \"#c87000\",\n    },\n\n    error: {\n      background: \"#fcd3d0\",\n      text: \"#f61200\",\n    },\n\n    light: {\n      background: \"#ffffff\",\n      text: \"#c7d3de\",\n    },\n\n    dark: {\n      background: \"#8097bf\",\n      text: \"#1e2e4a\",\n    },\n  },\n\n  coloredShadows: {\n    primary: \"#e91e62\",\n    secondary: \"#110e0e\",\n    info: \"#00bbd4\",\n    success: \"#4caf4f\",\n    warning: \"#ff9900\",\n    error: \"#f44336\",\n    light: \"#adb5bd\",\n    dark: \"#404040\",\n  },\n\n  inputBorderColor: \"#d2d6da\",\n\n  tabs: {\n    indicator: { boxShadow: \"#ddd\" },\n  },\n};\n\nexport default colors;\n","size_bytes":4086},"frontend-new/src/assets/theme-dark/components/popover.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\nimport borders from \"assets/theme-dark/base/borders\";\n\nconst { transparent } = colors;\nconst { md } = boxShadows;\nconst { borderRadius } = borders;\n\nconst popover = {\n  styleOverrides: {\n    paper: {\n      backgroundColor: transparent.main,\n      boxShadow: md,\n      padding: pxToRem(8),\n      borderRadius: borderRadius.md,\n    },\n  },\n};\n\nexport default popover;\n","size_bytes":1150},"qms-source/frontend-new/src/pages/TaskManagement/TaskUploadPage.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport {\n  Button,\n  Typography,\n  Select,\n  MenuItem,\n  Paper,\n  Grid2,\n  Box,\n  TextField,\n} from \"@mui/material\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport { useLocation } from \"react-router-dom\";\nimport UploadIcon from \"@mui/icons-material/Upload\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { format } from \"date-fns\";\n\nconst TaskUploadPage = () => {\n  const { moduleId } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const query = new URLSearchParams(location.search);\n\n  const iterationId = query.get(\"iterationId\") || \"\";\n  const selectedStandard = query.get(\"standard\");\n\n  const [tasks, setTasks] = useState([]);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const taskTypes = [\n    \"Control\",\n    \"Process\",\n    \"Procedure\",\n    \"Monitoring\",\n    \"Material\",\n  ];\n  const statuses = [\n    // \"FI\",\n    // \"PI\",\n    // \"NI\",\n    // \"NA\",\n    // \"TBD\",\n    // \"OFI\",\n    // \"Obs\",\n    // \"NC- Minor\",\n    // \"NC- Major\",\n    \"Not Done\",\n    \"Partially Done\",\n    \"In-Progress\",\n    \"Largely Done\",\n    \"Done\",\n    \"NA\",\n  ];\n  const auditeeOptions = [\n    \"CISO\",\n    \"HOD-HR\",\n    \"HOD-Facility Admin\",\n    \"HOD-IT\",\n    \"HOD-Purchase\",\n    \"IT Administration\",\n    \"Project Manager - SDLC\",\n  ];\n  const priorities = [\"High\", \"Medium\", \"Low\"];\n  const complianceOptions = [\"Yes\", \"No\", \"Partial\", \"Not Applicable\", \"\"];\n\n  const TypeofFinding = [\n    \"Compliance\",\n    \"Observation\",\n    \"Non-Compliance\",\n    \"Opportunity For Improvement\",\n  ];\n\n  // useEffect(() => {\n  //   const fetchIterations = async () => {\n  //     try {\n  //       const company_id = sessionStorage.getItem(\"selectedCompany\");\n  //       if (!company_id) {\n  //         toast.error(\"Company ID is required.\");\n  //         return;\n  //       }\n\n  //       const response = await axiosInstance.get(`/iteration/${moduleId}`, {\n  //         params: { company_id },\n  //         headers: {\n  //           Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n  //         },\n  //       });\n\n  //       setIterations(response.data || []);\n  //     } catch (error) {\n  //       const errorMsg =\n  //         error?.response?.data?.error ||\n  //         error?.response?.data?.message ||\n  //         error?.message ||\n  //         \"Unknown error\";\n\n  //       console.error(\"Error fetching iterations:\", errorMsg, error.response);\n  //       toast.error(`Failed to fetch iterations: ${errorMsg}`);\n  //     }\n  //   };\n\n  //   fetchIterations();\n  // }, []);\n\n  // Handle file selection\n  const handleFileChange = (event) => {\n    setSelectedFile(event.target.files[0]);\n  };\n\n  // Upload file and fetch tasks\n  const handleFileUpload = async () => {\n    if (!selectedFile) {\n      toast.error(\"Please select a file.\");\n      return;\n    }\n\n    const token = localStorage.getItem(\"jwtToken\");\n    if (!token) {\n      toast.error(\"Session expired. Please log in again.\");\n      return;\n    }\n\n    if (!iterationId || !selectedStandard) {\n      toast.error(\"Iteration or standard missing.\");\n      return;\n    }\n\n    if (!selectedStandard) {\n      toast.error(\"No standard selected. Please select a standard first.\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"file\", selectedFile);\n    formData.append(\"iteration_id\", iterationId);\n    formData.append(\"company_id\", sessionStorage.getItem(\"selectedCompany\"));\n    formData.append(\"standard\", selectedStandard);\n\n    try {\n      setLoading(true); // Start loading\n      const response = await axiosInstance.post(\n        `/tasks/upload-tasks/${moduleId}`,\n        formData,\n        {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      if (response.data.tasks) {\n        setTasks(\n          response.data.tasks.map((task, index) => ({\n            id: index + 1, // required for DataGrid\n            srNo: index + 1, // for Serial Number display\n            ...task,\n          }))\n        );\n        toast.success(\"File uploaded successfully!\");\n      }\n    } catch (error) {\n      console.error(\"Upload error:\", error.response?.data || error.message);\n      toast.error(error.response?.data?.message || \"Failed to upload file.\");\n    } finally {\n      setLoading(false); // Stop loading\n    }\n  };\n\n  // Insert approved tasks into the database\n  const handleInsertApprovedTasks = async () => {\n    console.log(\n      \"handleInsertApprovedTasks - selectedCompany:\",\n      sessionStorage.getItem(\"selectedCompany\")\n    );\n\n    if (tasks.length === 0) return;\n\n    const token = localStorage.getItem(\"jwtToken\");\n    if (!token) {\n      toast.error(\"Session expired. Please log in again.\");\n      navigate(\"/login\");\n      return;\n    }\n\n    try {\n      let company_id;\n      const base64Url = token.split(\".\")[1];\n      const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n      const decodedData = JSON.parse(atob(base64));\n      console.log(\" Decoded Token:\", decodedData);\n\n      const roleId = decodedData.role;\n      const companyFromToken = decodedData.company;\n      console.log(\" User Role ID:\", roleId);\n\n      // FETCH ROLE NAME BASED ON ROLE ID\n      const response = await axiosInstance.get(`/roles/${moduleId}/${roleId}`, {\n        params: { company_id: companyFromToken },\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      const roleName = response.data.name;\n      console.log(\" Resolved Role Name:\", roleName);\n\n      if (roleName === \"System Super Admin\") {\n        company_id = sessionStorage.getItem(\"selectedCompany\");\n        console.log(\" Company ID from Session (Super Admin):\", company_id);\n\n        if (!company_id) {\n          toast.error(\n            \"No company selected in session. Please select a company.\"\n          );\n          navigate(\"/SelectCompany\");\n          return;\n        }\n      } else {\n        company_id = companyFromToken;\n        console.log(\" Company ID from Token (non-Super Admin):\", company_id);\n      }\n\n      console.log(\"Sending company_id to backend:\", company_id);\n\n      await axiosInstance.post(\n        `/tasks/insert-approved-tasks/${moduleId}`,\n        { tasks, company_id, iteration_id: iterationId },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      toast.success(\"Approved tasks inserted successfully!\");\n      navigate(\"/tasks\");\n    } catch (error) {\n      const data = error.response?.data;\n      console.error(\"Insert Task Error:\", data || error.message);\n\n      if (data?.failed_tasks?.length) {\n        console.table(data.failed_tasks);\n        toast.error(\"Some tasks failed validation. Check console for details.\");\n      } else {\n        toast.error(data?.message || \"Failed to insert approved tasks.\");\n      }\n    }\n  };\n\n  const renderEditSelectCell = (params, options) => {\n    return (\n      <Select\n        value={params.value || \"\"}\n        onChange={(event) => {\n          params.api.setEditCellValue({\n            id: params.id,\n            field: params.field,\n            value: event.target.value,\n          });\n        }}\n        fullWidth\n      >\n        {options.map((option) => (\n          <MenuItem key={option} value={option}>\n            {option}\n          </MenuItem>\n        ))}\n      </Select>\n    );\n  };\n\n  const columns = [\n    {\n      field: \"srNo\",\n      headerName: \"Sr.No.\",\n      width: 80,\n      sortable: false,\n      filterable: false,\n    },\n    {\n      field: \"auditee\",\n      headerName: \"Auditee\",\n      width: 120,\n      editable: true,\n      renderEditCell: (params) => renderEditSelectCell(params, auditeeOptions),\n    },\n    { field: \"area\", headerName: \"Area\", width: 180 ,editable: true},\n    { field: \"Checklist_Item\", headerName: \"Checklist Item\", width: 180 ,editable: true},\n    { field: \"notes\", headerName: \"Notes\", width: 150 ,editable: true},\n    {\n      field: \"Type_of_Finding\",\n      headerName: \"Type of Finding\",\n      width: 180,\n      editable: true,\n      renderEditCell: (params) => renderEditSelectCell(params, TypeofFinding),\n    },\n    {\n      field: \"status\",\n      headerName: \"Status of action\",\n      width: 150,\n      editable: true,\n      renderEditCell: (params) => renderEditSelectCell(params, statuses),\n    },\n    { field: \"description\", headerName: \"Description\", width: 200 ,editable: true,},\n    { field: \"standard\", headerName: \"Standard\", width: 180 ,editable: true,},\n\n    {\n      field: \"priority\",\n      headerName: \"Priority\",\n      width: 120,\n      editable: true,\n      renderEditCell: (params) => renderEditSelectCell(params, priorities),\n    },\n\n    {\n      field: \"responsibility\",\n      headerName: \"Responsibility\",\n      width: 180,\n      editable: true,\n    },\n    {\n      field: \"RCA_Details\",\n      headerName: \"RCA Details\",\n      width: 220,\n      editable: true,\n    },\n    {\n      field: \"Planned_Completion_Date\",\n      headerName: \"Planned Completion Date\",\n      width: 180,\n      editable: true,\n      renderCell: (params) =>\n        params.value ? format(new Date(params.value), \"dd MMM yyyy\") : \"N/A\",\n    },\n    {\n      field: \"Actual_Completion_Date\",\n      headerName: \"Actual Completion Date\",\n      width: 180,\n      editable: true,\n      renderCell: (params) =>\n        params.value ? format(new Date(params.value), \"dd MMM yyyy\") : \"N/A\",\n    },\n\n    {\n      field: \"clause_number\",\n      headerName: \"Reference - Clause\",\n      width: 150,\n      editable: true,\n    },\n  ];\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{ borderRadius: \"0.5rem\", marginLeft: 4, marginRight: 2 }}\n    >\n      <Grid2 container  sx={{ padding: 2 }} spacing={2}>\n        {/* Left side - Heading */}\n        <Grid2 size={{ xs: 12, md: 6 }}>\n          <Typography sx={{ fontWeight: \"bold\" }} variant=\"h4\">\n            Task Upload\n          </Typography>\n        </Grid2>\n\n        {/* Right side - Iteration Dropdown + Insert Button */}\n        <Grid2\n          size={{ xs: 12, md: 6 }}\n          sx={{\n            display: \"flex\",\n            justifyContent: { xs: \"start\", md: \"end\" },\n            gap: 2,\n          }}\n        >\n          <Button\n            variant=\"contained\"\n            color=\"success\"\n            onClick={handleInsertApprovedTasks}\n            disabled={tasks.length === 0}\n          >\n            Insert Updated Tasks\n          </Button>\n        </Grid2>\n\n        {/* File input & upload */}\n        <Grid2 size={{ xs: 12, md: 12 }}>\n          <Box sx={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n            <input\n              type=\"file\"\n              id=\"fileInput\"\n              onChange={handleFileChange}\n              accept=\".xlsx, .xls\"\n              style={{ display: \"none\" }}\n            />\n            <label htmlFor=\"fileInput\">\n              <Button\n                variant=\"contained\"\n                component=\"span\"\n                startIcon={<UploadIcon />}\n                sx={{ marginRight: 2 }}\n              >\n                Choose File\n              </Button>\n            </label>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleFileUpload}\n              disabled={!selectedFile || !iterationId}\n            >\n              Upload Excel\n            </Button>\n          </Box>\n        </Grid2>\n\n        {/* File name display */}\n        <Grid2 size={{ xs: 12, md: 12 }}>\n          <Box sx={{ display: \"flex\", justifyContent: \"end\" }}>\n            {selectedFile && (\n              <Typography\n                variant=\"body2\"\n                color=\"textSecondary\"\n                sx={{ mt: 1, fontStyle: \"italic\" }}\n              >\n                Selected file: {selectedFile.name}\n              </Typography>\n            )}\n          </Box>\n        </Grid2>\n      </Grid2>\n\n      <Grid2\n        size={{ xs: 12, md: 12 }}\n        sx={{ maxWidth: \"100%\", overflow: \"hidden\", padding: 2 }}\n      >\n        <DataGrid\n          loading={loading}\n          rows={tasks}\n          columns={columns}\n          pageSize={10}\n          disableSelectionOnClick\n          processRowUpdate={(updatedRow) => {\n            setTasks((prevTasks) =>\n              prevTasks.map((task) =>\n                task.id === updatedRow.id ? { ...task, ...updatedRow } : task\n              )\n            );\n            return updatedRow;\n          }}\n        />\n      </Grid2>\n    </Paper>\n  );\n};\n\nexport default TaskUploadPage;\n","size_bytes":12786},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"qms-runner.js":{"content":"#!/usr/bin/env node\n\n/**\n * QMS Application Runner\n * This script installs dependencies and runs both backend and frontend services\n */\n\nimport { spawn, execSync } from 'child_process';\nimport { existsSync } from 'fs';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nconst BACKEND_DIR = path.join(__dirname, 'BackEnd');\nconst FRONTEND_DIR = path.join(__dirname, 'frontend-new');\n\n// Colors for console output\nconst colors = {\n  reset: '\\x1b[0m',\n  blue: '\\x1b[34m',\n  green: '\\x1b[32m',\n  yellow: '\\x1b[33m',\n  red: '\\x1b[31m',\n  cyan: '\\x1b[36m'\n};\n\nfunction log(message, color = 'reset') {\n  console.log(`${colors[color]}${message}${colors.reset}`);\n}\n\nfunction checkDependencies(dir) {\n  const nodeModules = path.join(dir, 'node_modules');\n  return existsSync(nodeModules);\n}\n\nfunction installDependencies(dir, name) {\n  return new Promise((resolve, reject) => {\n    log(`\\nðŸ“¦ Installing ${name} dependencies...`, 'blue');\n    \n    const npm = spawn('npm', ['install'], {\n      cwd: dir,\n      stdio: 'inherit',\n      shell: true\n    });\n\n    npm.on('close', (code) => {\n      if (code === 0) {\n        log(`âœ… ${name} dependencies installed successfully`, 'green');\n        resolve();\n      } else {\n        log(`âŒ Failed to install ${name} dependencies`, 'red');\n        reject(new Error(`npm install failed with code ${code}`));\n      }\n    });\n  });\n}\n\nasync function runService(dir, command, name, color) {\n  log(`\\nðŸš€ Starting ${name}...`, color);\n  \n  const [cmd, ...args] = command.split(' ');\n  const proc = spawn(cmd, args, {\n    cwd: dir,\n    stdio: 'inherit',\n    shell: true\n  });\n\n  proc.on('error', (err) => {\n    log(`âŒ Error starting ${name}: ${err.message}`, 'red');\n  });\n\n  return proc;\n}\n\nasync function main() {\n  try {\n    log('\\n' + '='.repeat(60), 'cyan');\n    log('ðŸ¥ QMS Application - Quality Management System', 'cyan');\n    log('='.repeat(60) + '\\n', 'cyan');\n\n    // Check and install backend dependencies\n    if (!checkDependencies(BACKEND_DIR)) {\n      await installDependencies(BACKEND_DIR, 'Backend');\n    } else {\n      log('âœ“ Backend dependencies already installed', 'green');\n    }\n\n    // Check and install frontend dependencies\n    if (!checkDependencies(FRONTEND_DIR)) {\n      await installDependencies(FRONTEND_DIR, 'Frontend');\n    } else {\n      log('âœ“ Frontend dependencies already installed', 'green');\n    }\n\n    log('\\n' + '='.repeat(60), 'cyan');\n    log('Starting services...', 'cyan');\n    log('='.repeat(60) + '\\n', 'cyan');\n\n    // Start backend\n    const backend = await runService(BACKEND_DIR, 'npm run dev', 'Backend Server', 'blue');\n\n    // Wait a bit for backend to start\n    await new Promise(resolve => setTimeout(resolve, 3000));\n\n    // Start frontend\n    const frontend = await runService(FRONTEND_DIR, 'npm run dev', 'Frontend', 'green');\n\n    // Display info\n    setTimeout(() => {\n      log('\\n' + '='.repeat(60), 'cyan');\n      log('âœ… QMS Application is running!', 'green');\n      log('='.repeat(60), 'cyan');\n      log('\\nðŸ“ Backend API:  http://localhost:5000', 'blue');\n      log('ðŸ“ Frontend UI:  http://localhost:3000', 'green');\n      log('\\nðŸ“§ Default Login Credentials:', 'yellow');\n      log('   Email:    admin@idatum.com', 'yellow');\n      log('   Password: Admin@123', 'yellow');\n      log('\\n' + '='.repeat(60) + '\\n', 'cyan');\n    }, 5000);\n\n    // Handle shutdown\n    process.on('SIGINT', () => {\n      log('\\n\\nðŸ›‘ Shutting down services...', 'yellow');\n      backend.kill();\n      frontend.kill();\n      process.exit(0);\n    });\n\n  } catch (error) {\n    log(`\\nâŒ Error: ${error.message}`, 'red');\n    process.exit(1);\n  }\n}\n\nmain();\n","size_bytes":3757},"qms-source/frontend-new/src/pages/user_management/CreateUser.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { jwtDecode } from \"jwt-decode\";\nimport {\n  Container,\n  Paper,\n  TextField,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Button,\n  CircularProgress,\n  Typography,\n  Box,\n} from \"@mui/material\";\n\nconst token = localStorage.getItem(\"jwtToken\");\nconst decodedToken = token ? jwtDecode(token) : null;\nconst superAdminCompanyId = decodedToken?.company || \"\";\nconst sessionCompanyId = sessionStorage.getItem(\"selectedCompany\");\n\nconst CreateUser = () => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [companyId, setCompanyId] = useState(\"\");\n  const [roleId, setRoleId] = useState(\"\");\n  const [reportTo, setReportTo] = useState(\"\");\n  const [roles, setRoles] = useState([]);\n  const [companies, setCompanies] = useState([]);\n  const [higherRoleUsers, setHigherRoleUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [departments, setDepartments] = useState([]);\n  const [departmentId, setDepartmentId] = useState(\"\");\n\n  const roleModuleId = \"971a88b8-461e-4cd2-9a06-fce42ad6b806\";\n  const companyModuleId = \"5d896834-fedd-4e0b-a882-8d05396fc346\";\n  const userModuleId = \"bd168912-e40c-48e3-b3d1-440a3e129d52\";\n  let company_id = sessionStorage.getItem(\"selectedCompany\");\n  \n  // Fetch Companies & Roles\n  useEffect(() => {\n    const sessionCompanyId = sessionStorage.getItem(\"selectedCompany\");\n    setCompanyId(sessionCompanyId);\n  }, []);\n\n  useEffect(() => {\n    axiosInstance\n      .get(`/companies/${companyModuleId}`)\n      .then((res) => {\n        setCompanies(res.data);\n        if (res.data.length > 0 && !superAdminCompanyId)\n          setCompanyId(res.data[0].id);\n      })\n      .catch(() => toast.error(\"Failed to load companies\"))\n      .finally(() => setLoading(false));\n\n    axiosInstance\n      .get(`/roles/${roleModuleId}`, {\n        params: company_id ? { company_id } : {}, // Pass company_id only if it exists\n      })\n\n      .then((res) => setRoles(res.data))\n      .catch(() => toast.error(\"Failed to load roles\"));\n  }, [companyId]);\n\n  // Fetch Higher Role Users when role is selected\n  useEffect(() => {\n    if (!roleId) {\n      setHigherRoleUsers([]);\n      return;\n    }\n\n    axiosInstance\n      .get(`/users/${userModuleId}//getUsersWithHigherRole`, {\n        params: { company_id: companyId, role_id: roleId },\n      })\n      .then((res) => {\n        if (res.data.length === 0) {\n          toast.info(\"No higher role exists for the selected role.\");\n        } else {\n          setHigherRoleUsers(res.data);\n        }\n      })\n      .catch(() => toast.error(\"Failed to load higher role users\"));\n  }, [roleId]);\n\n  useEffect(() => {\n    const loadDepartments = async () => {\n      if (!company_id) {\n        toast.error(\"Company ID is missing. Please select a company.\");\n        console.error(\"Missing company ID for department load\");\n        return;\n      }\n\n      try {\n        const config = {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n          },\n          params: {\n            company_id,\n          },\n        };\n\n        const res = await axiosInstance.get(\n          `/department/${userModuleId}`,\n          config\n        );\n        setDepartments(res.data || []);\n      } catch (error) {\n        const errorMsg =\n          error?.response?.data?.error ||\n          error?.response?.data?.message ||\n          error?.message ||\n          \"Unknown error\";\n\n        console.error(\"Error fetching departments:\", errorMsg, error.response);\n        toast.error(`Failed to fetch departments: ${errorMsg}`);\n      }\n    };\n\n    loadDepartments();\n  }, [companyId]);\n\n  const handleRoleChange = async (e) => {\n    const selectedRoleId = e.target.value;\n    setRoleId(selectedRoleId);\n    setReportTo(\"\"); // Reset Report To field when role changes\n\n    if (!companyId) {\n      toast.error(\"Company ID is required for System Super Admin.\");\n      console.warn(\"Missing companyId for System Super Admin.\");\n      return;\n    }\n\n    try {\n      console.log(\"Fetching users with higher role...\", {\n        company_id: companyId,\n        role_id: selectedRoleId,\n      });\n\n      const response = await axiosInstance.get(\n        `/users/${userModuleId}//getUsersWithHigherRole`,\n        {\n          params: { company_id: companyId, role_id: selectedRoleId },\n        }\n      );\n\n      console.log(\"API Response:\", response.data);\n\n      if (response.data?.length > 0) {\n        setHigherRoleUsers(response.data);\n      } else {\n        toast.info(\"No higher role users available for the selected role.\");\n        setHigherRoleUsers([]);\n      }\n    } catch (error) {\n      console.error(\n        \"Error fetching higher role users:\",\n        error.response?.data || error.message\n      );\n\n      // Extract the error message from API response\n      const errorMessage =\n        error.response?.data?.error || \"Failed to load higher role users.\";\n\n      if (errorMessage !== \"No higher role exists for the given Role ID.\") {\n        toast.error(errorMessage);\n      } else {\n        console.log(\"No higher role exists.\");\n      }\n      setHigherRoleUsers([]); // Clear state in case of API failure\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!name || !email || !companyId || !roleId) {\n      toast.error(\"All fields are required.\");\n      return;\n    }\n\n    setSubmitting(true);\n    try {\n      const response = await axiosInstance.post(`/users/${userModuleId}`, {\n        name,\n        email,\n        company_id: companyId,\n        role_id: roleId,\n        reportTo: reportTo || null, // Send null if not selected\n        department_id: departmentId || null,\n      });\n\n      toast.success(response.data.message || \"User created successfully!\");\n      setTimeout(() => {\n        handleCancel();\n      }, 1500);\n    } catch (error) {\n      if (error.response?.status === 409) {\n        toast.error(error.response.data.error); // Show backend message\n      } else {\n        toast.error(\n          error.response?.data?.error || \"An error occurred. Please try again.\"\n        );\n      }\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleCancel = () => {\n    window.history.back();\n  };\n\n  if (loading)\n    return (\n      <CircularProgress sx={{ display: \"block\", margin: \"auto\", mt: 5 }} />\n    );\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Paper\n        elevation={4}\n        sx={{\n          p: 4,\n          mx: 8,\n          borderRadius: 3,\n          bgcolor: \"#f9f9f9\",\n          boxShadow: \"0px 4px 12px rgba(0, 0, 0, 0.1)\",\n          mt: 4,\n        }}\n      >\n        <Typography\n          variant=\"h5\"\n          sx={{ fontWeight: 600, textAlign: \"center\", mb: 3 }}\n        >\n          Create New User\n        </Typography>\n\n        <form onSubmit={handleSubmit}>\n          <Box sx={{ display: \"grid\", gap: 2 }}>\n            <TextField\n              label=\"Name\"\n              variant=\"outlined\"\n              fullWidth\n              required\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            />\n\n            <TextField\n              label=\"Email\"\n              type=\"email\"\n              variant=\"outlined\"\n              fullWidth\n              required\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n\n            {/* Company Dropdown - Pre-selected for System Super Admin */}\n            <FormControl fullWidth variant=\"outlined\">\n              <InputLabel>Company</InputLabel>\n              <Select\n                value={companyId}\n                onChange={(e) => {\n                  setCompanyId(e.target.value);\n                  setRoleId(\"\");\n                  setReportTo(\"\");\n                  setRoles([]);\n                }}\n                label=\"Company\"\n                disabled={!!superAdminCompanyId}\n              >\n                {companies.map((company) => (\n                  <MenuItem key={company.id} value={company.id}>\n                    {company.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            {/* Role Dropdown */}\n            <FormControl fullWidth variant=\"outlined\">\n              <InputLabel>Role</InputLabel>\n              <Select\n                value={roleId}\n                onChange={handleRoleChange}\n                required\n                label=\"Role\"\n              >\n                <MenuItem value=\"\" disabled>\n                  Select Role\n                </MenuItem>\n                {roles.map((role) => (\n                  <MenuItem key={role.id} value={role.id}>\n                    {role.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            {/* Report To Dropdown - Fetches Higher Role Users */}\n            <FormControl fullWidth variant=\"outlined\">\n              <InputLabel>Report To</InputLabel>\n              <Select\n                value={reportTo}\n                onChange={(e) => setReportTo(e.target.value)}\n                label=\"Report To\"\n                disabled={higherRoleUsers.length === 0}\n              >\n                <MenuItem value=\"\">None</MenuItem>\n                {higherRoleUsers.map((user) => (\n                  <MenuItem key={user.id} value={user.id}>\n                    {user.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            {/* Department  Dropdown  */}\n            <FormControl fullWidth variant=\"outlined\">\n              <InputLabel>Department</InputLabel>\n              <Select\n                value={departmentId}\n                onChange={(e) => setDepartmentId(e.target.value)}\n                label=\"Department\"\n              >\n                <MenuItem value=\"\">None</MenuItem>\n                {departments.map((dept) => (\n                  <MenuItem key={dept.id} value={dept.id}>\n                    {dept.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Box>\n\n          <Box\n            sx={{\n              display: \"flex\",\n              flexDirection: { xs: \"column\", sm: \"row\" },\n              justifyContent: \"flex-end\",\n              gap: 2,\n              mt: 4,\n            }}\n          >\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={submitting}\n              sx={{\n                px: 4,\n                py: 1.5,\n                fontSize: \"16px\",\n                borderRadius: 2,\n                boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n                minWidth: \"140px\",\n              }}\n            >\n              {submitting ? (\n                <CircularProgress size={24} color=\"inherit\" />\n              ) : (\n                \"Create User\"\n              )}\n            </Button>\n\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={handleCancel}\n              disabled={submitting}\n              sx={{\n                px: 4,\n                py: 1.5,\n                fontSize: \"16px\",\n                borderRadius: 2,\n                borderWidth: \"2px\",\n                \":hover\": { borderWidth: \"2px\" },\n                minWidth: \"140px\",\n              }}\n            >\n              Cancel\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default CreateUser;\n","size_bytes":11685},"attached_assets/pnpm-lock_1762171986963.yaml":{"content":"lockfileVersion: '9.0'\n\nsettings:\n  autoInstallPeers: true\n  excludeLinksFromLockfile: false\n\nimporters:\n\n  .:\n    dependencies:\n      date-fns:\n        specifier: ^4.1.0\n        version: 4.1.0\n\npackages:\n\n  date-fns@4.1.0:\n    resolution: {integrity: sha512-Ukq0owbQXxa/U3EGtsdVBkR1w7KOQ5gIBqdH2hkvknzZPYvBxb/aa6E8L7tmjFtkwZBu3UXBbjIgPo/Ez4xaNg==}\n\nsnapshots:\n\n  date-fns@4.1.0: {}\n","size_bytes":383},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"BackEnd/src/middlewares/permissionsMiddlewares.js":{"content":"import RoleModulePermission from '../models/RoleModulesPermissions.js';\n\nconst checkPermission = (action) => {\n    return async (req, res, next) => {\n        try {\n           // const { roleId, moduleId } = req.body; // Expecting roleId and moduleId from frontend request\n                 const roleId = req.user.role;\n                 const moduleId = req.params.moduleId;\n                 console.log(`Role ID: ${roleId}, Module ID: ${moduleId}`);\n\n                 if (!moduleId || moduleId.length < 36) {  // Validate if moduleId is a proper UUID\n                     return res.status(403).json({ error: \"Invalid module ID format.\" });\n                 }\n                 \n            // if (!moduleId) {\n            //     return res.status(403).json({ error: \"Invalid request. Missing module ID.\" });\n            // }\n\n            // Fetch permissions for the given role and module\n            const permission = await RoleModulePermission.findOne({\n                where: {\n                    role_id: roleId,\n                    module_id: moduleId\n                }\n            });\n\n            if (!permission) {\n                return res.status(403).json({ error: \"No permission assigned for this module.\" });\n            }\n\n            // Check if the role has the required permission\n            if (action === \"read\" && !permission.can_read) {\n                return res.status(403).json({ error: \"Read access denied.\" });\n            }\n            if (action === \"write\" && !permission.can_write) {\n                return res.status(403).json({ error: \"Write access denied.\" });\n            }\n            if (action === \"delete\" && !permission.can_delete) {\n                return res.status(403).json({ error: \"Delete access denied.\" });\n            }\n\n            next(); // Allow request to proceed\n        } catch (error) {\n            res.status(500).json({ error: \"Internal Server Error: \" + error.message });\n        }\n    };\n};\n\nexport default checkPermission;\n\n\n\n// import RoleModulePermission from '../models/RoleModulesPermissions.js';\n// import Module from '../models/Module.js';\n\n// // Route-to-Module Mapping (Can be stored in DB or config file)\n// const routeToModule = {\n//     \"/api/companies\": \"Company\",\n//     \"/api/users\": \"User\",\n//     \"/api/roles\": \"Role\",\n//     \"/api/modules\": \"Module\",\n//     \"/api/permissions\": \"Role_Module_Permission\"\n// };\n\n// const checkPermission = (action) => {\n//     return async (req, res, next) => {\n//         try {\n//             const { roleId } = req.params; // Role ID must be passed in request params\n//             const baseRoute = Object.keys(routeToModule).find(route => req.originalUrl.startsWith(route));\n\n//             if (!roleId || !baseRoute) {\n//                 return res.status(403).json({ error: \"Invalid request. Missing role ID or unknown module.\" });\n//             }\n\n//             // Get the module name dynamically\n//             const moduleName = routeToModule[baseRoute];\n\n//             // Fetch module ID from database\n//             const module = await Module.findOne({ where: { name: moduleName } });\n//             if (!module) {\n//                 return res.status(403).json({ error: \"Module not found.\" });\n//             }\n\n//             // Fetch permissions for the given role and module\n//             const permission = await RoleModulePermission.findOne({\n//                 where: {\n//                     role_id: roleId,\n//                     module_id: module.id\n//                 }\n//             });\n\n//             if (!permission) {\n//                 return res.status(403).json({ error: \"No permission assigned for this module.\" });\n//             }\n\n//             // Check if the role has the required permission\n//             if (action === \"read\" && !permission.can_read) {\n//                 return res.status(403).json({ error: \"Read access denied.\" });\n//             }\n//             if (action === \"write\" && !permission.can_write) {\n//                 return res.status(403).json({ error: \"Write access denied.\" });\n//             }\n//             if (action === \"delete\" && !permission.can_delete) {\n//                 return res.status(403).json({ error: \"Delete access denied.\" });\n//             }\n\n//             next(); // Allow request to proceed\n//         } catch (error) {\n//             res.status(500).json({ error: \"Internal Server Error: \" + error.message });\n//         }\n//     };\n// };\n\n// export default checkPermission;\n","size_bytes":4483},"frontend-new/src/styles/AssignPermissions.css":{"content":"\n\n/* .permissions-container {\n  padding: 20px;\n  max-width: 900px;\n  margin: auto;\n  background: #fff;\n  border-radius: 10px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  text-align: center;\n}\n\nh2, h3 {\n  color: #333;\n  margin-bottom: 15px;\n} */\n\n/* Common table styling for both pages */\n/* .permissions-table, .role-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n} */\n\n/* .permissions-table th, \n.permissions-table td,\n.role-table th,\n.role-table td {\n  border: 1px solid #ddd;\n  padding: 10px;\n  text-align: left;\n} */\n\n/* .permissions-table th,\n.role-table th {\n  background-color: #f4f4f4;\n  font-weight: bold;\n}\n\n.permissions-table tr:hover,\n.role-table tr:hover {\n  background-color: #f1f1f1;\n} */\n\n/* Styling for checkboxes */\n/* input[type=\"checkbox\"] {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n} */\n\n/* Save Button */\n/* .save-btn {\n  display: block;\n  margin: 20px auto;\n  padding: 12px 20px;\n  background: #0d6efd;\n  color: white;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n  font-size: 16px;\n}\n\n.save-btn:hover {\n  background: #0b5ed7;\n} */\n\n/* Assign Button  */\n/* .assign-button {\n  margin-top: 10px;\n  padding: 10px 15px;\n  font-size: 16px;\n  background-color: #1d72b8;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: 0.3s ease;\n}\n\n.assign-button:hover {\n  background-color: #155a8a;\n} */\n\n/* Role Selection Section */\n/* .role-info {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n}\n\nselect {\n  padding: 10px;\n  width: 100%;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n} */\n\n/* Styling for the Roles Table */\n/* .roles-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\n.roles-table th, \n.roles-table td {\n  border: 1px solid #ddd;\n  padding: 10px;\n  text-align: left;\n}\n\n.roles-table th {\n  background-color: #f4f4f4;\n  font-weight: bold;\n}\n\n.roles-table tr:hover {\n  background-color: #f1f1f1;\n}\n\n\n.assign-button {\n  margin-top: 10px;\n  padding: 10px 15px;\n  font-size: 16px;\n  background-color: #1d72b8;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: 0.3s ease;\n}\n\n.assign-button:hover {\n  background-color: #155a8a;\n} */\n\n\n.permissions-container {\n  padding: 20px;\n  max-width: 900px;\n  margin: auto;\n  background: #ffffff;\n  border-radius: 10px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  text-align: center;\n}\n\nh2, h3 {\n  color: #222;\n  margin-bottom: 15px;\n}\n\n/* Common table styling for both pages */\n.permissions-table, .role-table, .roles-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n  border-radius: 8px;\n  overflow: hidden;\n  background: white;\n}\n\n.permissions-table th, \n.permissions-table td,\n.role-table th,\n.role-table td,\n.roles-table th,\n.roles-table td {\n  border: 1px solid #ddd;\n  padding: 12px;\n  text-align: left;\n}\n\n.permissions-table th,\n.role-table th,\n.roles-table th {\n  background-color: #34495e;\n  color: white;\n  font-weight: bold;\n  padding: 14px;\n}\n\n.permissions-table tr:nth-child(even),\n.role-table tr:nth-child(even),\n.roles-table tr:nth-child(even) {\n  background-color: #f9f9f9;\n}\n\n.permissions-table tr:hover,\n.role-table tr:hover,\n.roles-table tr:hover {\n  background-color: #f1f1f1;\n}\n\n/* Styling for checkboxes */\ninput[type=\"checkbox\"] {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n}\n\n/* Save Button */\n.save-btn {\n  display: block;\n  margin: 20px auto;\n  padding: 12px 20px;\n  background: #007bff;\n  color: white;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n  font-size: 16px;\n  transition: 0.3s ease-in-out;\n}\n\n.save-btn:hover {\n  background: #0056b3;\n  transform: scale(1.05);\n}\n\n/* Assign Button */\n.assign-button {\n  margin-top: 10px;\n  padding: 10px 15px;\n  font-size: 16px;\n  background-color: #1d72b8;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n}\n\n.assign-button:hover {\n  background-color: #155a8a;\n  transform: scale(1.05);\n}\n\n/* Role Selection Section */\n.role-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  background: #f8f9fa;\n  padding: 10px;\n  border-radius: 8px;\n}\n\nselect {\n  padding: 10px;\n  width: 100%;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  font-size: 14px;\n  background: white;\n  cursor: pointer;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .permissions-container {\n    width: 95%;\n  }\n\n  .permissions-table th, \n  .role-table th, \n  .roles-table th,\n  .permissions-table td,\n  .role-table td,\n  .roles-table td {\n    padding: 10px;\n    font-size: 14px;\n  }\n\n  .assign-button, .save-btn {\n    font-size: 14px;\n    padding: 8px 12px;\n  }\n}\n","size_bytes":4702},"qms-source/frontend-new/src/utils/Constants.js":{"content":"// eslint-disable-next-line no-undef\nexport const BASE_API_URL = import.meta.env.VITE_BASE_API_URL;","size_bytes":99},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"frontend-new/src/assets/theme-dark/components/list/listItem.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst listItem = {\n  defaultProps: {\n    disableGutters: true,\n  },\n\n  styleOverrides: {\n    root: {\n      paddingTop: 0,\n      paddingBottom: 0,\n    },\n  },\n};\n\nexport default listItem;\n","size_bytes":710},"qms-source/frontend-new/src/assets/theme-dark/components/table/tableHead.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { borderRadius } = borders;\n\nconst tableHead = {\n  styleOverrides: {\n    root: {\n      display: \"block\",\n      padding: `${pxToRem(16)} ${pxToRem(16)} 0  ${pxToRem(16)}`,\n      borderRadius: `${borderRadius.xl} ${borderRadius.xl} 0 0`,\n    },\n  },\n};\n\nexport default tableHead;\n","size_bytes":1011},"qms-source/BackEnd/src/models/Department.js":{"content":"import { DataTypes } from 'sequelize';\nimport sequelize from '../config/db.js';\n\nconst Department = sequelize.define('Department', {\n  id: {\n    type: DataTypes.UUID,\n    defaultValue: DataTypes.UUIDV4,\n    primaryKey: true\n  },\n  company_id: {\n    type: DataTypes.UUID,\n    allowNull: false,\n    references: {\n      model: 'Company',\n      key: 'id'\n    },\n    onDelete: 'CASCADE'\n  },\n  name: {\n    type: DataTypes.STRING,\n    allowNull: false\n  },\n  description: {\n    type: DataTypes.TEXT,\n    allowNull: true\n  },\n  is_active: {\n    type: DataTypes.BOOLEAN,\n    defaultValue: true\n  }\n}, {\n  tableName: 'department',\n  timestamps: true,\n  underscored: true\n});\n\nexport default Department;\n","size_bytes":694},"frontend-new/src/assets/theme-dark/components/list/listItemText.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst listItemText = {\n  styleOverrides: {\n    root: {\n      marginTop: 0,\n      marginBottom: 0,\n    },\n  },\n};\n\nexport default listItemText;\n","size_bytes":666},"BackEnd/src/models/RoleModulesPermissions.js":{"content":"import { DataTypes } from 'sequelize';\nimport sequelize from '../config/db.js';\nimport Role from './Role.js';\nimport Module from './Module.js';\n\nconst RoleModulePermission = sequelize.define('Role_Module_Permission', {\n    role_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n            model: 'Role',\n            key: 'id'\n        }\n    },\n    module_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n            model: 'Module',\n            key: 'id'\n        }\n    },\n    can_read: {\n        type: DataTypes.BOOLEAN,\n        defaultValue: false\n    },\n    can_write: {\n        type: DataTypes.BOOLEAN,\n        defaultValue: false\n    },\n    can_delete: {\n        type: DataTypes.BOOLEAN,\n        defaultValue: false\n    }\n}, {\n    timestamps: false\n});\n\n// Define relationships\nRoleModulePermission.belongsTo(Role, { foreignKey: 'role_id', targetKey: 'id' })\nRole.hasMany(RoleModulePermission, { foreignKey: 'role_id', onDelete: 'CASCADE' });\n\nRoleModulePermission.belongsTo(Module, { foreignKey: 'module_id', targetKey: 'id' })\nModule.hasMany(RoleModulePermission, { foreignKey: 'module_id', onDelete: 'CASCADE' });\n\nexport default RoleModulePermission;\n","size_bytes":1228},"frontend-new/src/assets/theme/components/stepper/stepConnector.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\nimport colors from \"assets/theme/base/colors\";\n\nconst { white } = colors;\nconst { borderWidth } = borders;\n\nconst stepConnector = {\n  styleOverrides: {\n    root: {\n      color: \"#9fc9ff\",\n      transition: \"all 200ms linear\",\n\n      \"&.Mui-active\": {\n        color: white.main,\n      },\n\n      \"&.Mui-completed\": {\n        color: white.main,\n      },\n    },\n\n    alternativeLabel: {\n      top: \"14%\",\n      left: \"-50%\",\n      right: \"50%\",\n    },\n\n    line: {\n      borderWidth: `${borderWidth[2]} !important`,\n      borderColor: \"currentColor\",\n      opacity: 0.5,\n    },\n  },\n};\n\nexport default stepConnector;\n","size_bytes":1227},"frontend-new/src/pages/onboarding/CompanyDetails.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { Container, TextField, Button, Paper, Typography,Box } from \"@mui/material\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axiosInstance from \"../../services/axiosinstance\";\nconst companyModuleId = \"5d896834-fedd-4e0b-a882-8d05396fc346\";\n\nconst CompanyDetails = () => {\n  const navigate = useNavigate();\n  const { state } = useLocation();\n\n  // Get companyId from location state OR sessionStorage\n  const companyId = state?.companyId || sessionStorage.getItem(\"companyId\");\n  const storedCompanyName = sessionStorage.getItem(\"companyName\");\n\n  useEffect(() => {\n    // Redirect if companyId is missing\n    if (!companyId) {\n      toast.warning(\"Organization not found. Redirecting...\");\n      setTimeout(() => navigate(\"/company-name\"), 2000);\n    } else {\n      fetchCompanyDetails();\n    }\n  }, [companyId, navigate]);\n\n  // Form state\n  const [formData, setFormData] = useState({\n    companyName: storedCompanyName || \"\",\n    industry: \"\",\n    domain: \"\",\n  });\n\n  const [loading, setLoading] = useState(false);\n\n  // Fetch existing company details\n  const fetchCompanyDetails = async () => {\n    try {\n      const response = await axiosInstance.get(\n        `/companies/${companyModuleId}/${encodeURIComponent(companyId)}`\n      );\n      if (response.data) {\n        setFormData((prev) => ({\n          ...prev,\n          industry: response.data.industry || \"\",\n          domain: response.data.domain || \"\",\n        }));\n      }\n    } catch (error) {\n      console.error(\"Error fetching company details:\", error);\n      toast.error(\"Failed to fetch company details. Please try again.\");\n    }\n  };\n\n  // Handle input changes\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!companyId) {\n      toast.error(\"Invalid company ID.\");\n      return;\n    }\n\n    if (!formData.industry.trim() || !formData.domain.trim()) {\n      toast.warning(\"All fields are required.\");\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const response = await axiosInstance.put(\n        `/companies/${companyModuleId}/${encodeURIComponent(companyId)}`,\n        {\n          companyName: formData.companyName, // Include all fields\n          industry: formData.industry,\n          domain: formData.domain,\n        }\n      );\n\n      toast.success(\n        response.data.message || \"Organization details updated successfully!\"\n      );\n\n      // Redirect based on where the user came from\n      if (state?.from === \"company-list\") {\n        navigate(\"/company-list\"); // Redirect to Company List\n      } else {\n        navigate(\"/dashboard\"); // Default redirect to Dashboard\n      }\n    } catch (error) {\n      console.error(\"Error updating organization details:\", error);\n      const errorMessage =\n        error.response?.data?.error || \"Failed to update organization details.\";\n      toast.error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ py: 4 }}>\n      <Paper\n        elevation={3}\n        sx={{\n          p: { xs: 2, sm: 3 },\n          borderRadius: 2,\n          boxShadow: 3,\n        }}\n      >\n        <Typography variant=\"h5\" fontWeight={600} mb={3}>\n          Update organization Details\n        </Typography>\n\n        <form onSubmit={handleSubmit}>\n          <TextField\n            label=\"organization Name\"\n            variant=\"outlined\"\n            fullWidth\n            disabled\n            value={formData.companyName}\n            sx={{ mb: 2 }}\n          />\n\n          <TextField\n            label=\"Industry\"\n            name=\"industry\"\n            variant=\"outlined\"\n            fullWidth\n            required\n            value={formData.industry}\n            onChange={handleChange}\n            sx={{ mb: 2 }}\n          />\n\n          <TextField\n            label=\"Domain\"\n            name=\"domain\"\n            variant=\"outlined\"\n            fullWidth\n            required\n            value={formData.domain}\n            onChange={handleChange}\n            sx={{ mb: 3 }}\n          />\n\n          <Box display=\"flex\" justifyContent=\"flex-end\" gap={2}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              type=\"submit\"\n              disabled={loading}\n              sx={{\n                px: 3,\n                py: 1.2,\n                fontSize: \"14px\",\n                borderRadius: 2,\n                minWidth: \"120px\",\n                boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n              }}\n            >\n              {loading ? \"Submitting...\" : \"Submit\"}\n            </Button>\n\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => navigate(-1)}\n              disabled={loading}\n              sx={{\n                px: 3,\n                py: 1.2,\n                fontSize: \"14px\",\n                borderRadius: 2,\n                minWidth: \"120px\",\n              }}\n            >\n              Cancel\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default CompanyDetails;\n","size_bytes":5373},"frontend-new/src/styles/ModuleList.css":{"content":"/* Module List Container */\n.module-list-container {\n  padding: 20px;\n  background: #f4f4f4;\n  border-radius: 8px;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n}\n\n/* Table Styling */\n.module-table {\n  width: 100%;\n  border-collapse: collapse;\n  background: white;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);\n}\n\n/* Table Header */\n.module-table th {\n  padding: 14px;\n  background-color: #007bff;\n  color: white;\n  text-align: left;\n  font-weight: bold;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n/* Table Rows */\n.module-table td {\n  padding: 14px;\n  border-bottom: 1px solid #ddd;\n  text-align: left;\n  font-size: 14px;\n}\n\n/* Alternate Row Coloring */\n.module-table tr:nth-child(even) {\n  background-color: #f8f9fa;\n}\n\n/* Hover Effect */\n.module-table tr:hover {\n  background-color: #e9ecef;\n  transition: background 0.2s ease-in-out;\n}\n\n/* Buttons Container */\n.module-action-buttons {\n  display: flex;\n  gap: 10px;\n}\n\n/* Edit Button */\n.edit-module-btn {\n  background-color: #007bff;\n  color: white;\n  padding: 8px 14px;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n  font-size: 14px;\n  transition: background 0.3s ease-in-out, transform 0.2s ease-in-out;\n}\n\n.edit-module-btn:hover {\n  background-color: #0056b3;\n  transform: scale(1.05);\n}\n\n/* Delete Button */\n.delete-module-btn {\n  background-color: #dc3545;\n  color: white;\n  padding: 8px 14px;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n  font-size: 14px;\n  transition: background 0.3s ease-in-out, transform 0.2s ease-in-out;\n}\n\n.delete-module-btn:hover {\n  background-color: #b02a37;\n  transform: scale(1.05);\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .module-table th, .module-table td {\n      padding: 10px;\n      font-size: 12px;\n  }\n\n  .edit-module-btn, .delete-module-btn {\n      padding: 6px 10px;\n      font-size: 12px;\n  }\n}\n.module-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 20px;\n  border-bottom: 2px solid #ddd;\n}\n\n.add-module-btn {\n  background-color: #1e3a8a; /* Dark blue */\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n  padding: 8px 16px;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: background 0.3s ease;\n}\n\n.add-module-btn:hover {\n  background-color: #172554; \n}\n","size_bytes":2330},"qms-source/BackEnd/src/models/Iteration.js":{"content":"// models/iteration.model.js\n\nimport { DataTypes } from 'sequelize';\nimport sequelize from '../config/db.js';\nimport Company from './Company.js';\nimport User from './User.js'; \nimport Task from './Task.js';\n\nconst Iteration = sequelize.define('Iteration', {\n  id: {\n    type: DataTypes.UUID,\n    defaultValue: DataTypes.UUIDV4,\n    primaryKey: true,\n  },\n  company_id: {\n    type: DataTypes.UUID,\n    allowNull: false,\n    references: {\n      model: 'Company',\n      key: 'id',\n    },\n    onDelete: 'CASCADE',\n  },\n  creator_id: {\n    type: DataTypes.UUID,\n    allowNull: true,\n    references: {\n      model: 'User',\n      key: 'id'\n    },\n    onDelete: 'SET NULL',\n    onUpdate: 'CASCADE'\n  },\n  name: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n  start_date: {\n    type: DataTypes.DATE,\n    allowNull: false,\n  },\n  end_date: {\n    type: DataTypes.DATE,\n    allowNull: false,\n  },\n  is_active: {\n    type: DataTypes.BOOLEAN,\n    defaultValue: true,\n  },\n  description: {\n    type: DataTypes.TEXT,\n    allowNull: true,\n  },\n  is_excel_uploaded:{\n    type: DataTypes.BOOLEAN,\n    defaultValue:false,\n  }\n}, {\n  tableName: 'iteration',\n  timestamps: true,              // Enables createdAt, updatedAt\n  underscored: true              // Converts to created_at, updated_at\n});\n\n// Associations\nCompany.hasMany(Iteration, { foreignKey: 'company_id' });\nIteration.belongsTo(Company, { foreignKey: 'company_id' });\n\nUser.hasMany(Iteration, { foreignKey: 'creator_id' });\nIteration.belongsTo(User, { foreignKey: 'creator_id' });\nexport default Iteration;\n","size_bytes":1562},"qms-source/frontend-new/src/index.css":{"content":"body {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n","size_bytes":366},"frontend-new/src/index.css":{"content":"body {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n","size_bytes":366},"frontend-new/src/pages/department/DepartmentForm.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { TextField, Button, Typography, Box, Paper, Grid } from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst DepartmentForm = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [department, setDepartment] = useState({ name: \"\", description: \"\" });\n  const company_id = sessionStorage.getItem(\"selectedCompany\");\n  const UserModuleId = \"bd168912-e40c-48e3-b3d1-440a3e129d52\";\n\n  useEffect(() => {\n    if (id) {\n      axiosInstance\n        .get(`/department/${UserModuleId}/${id}`)\n        .then((res) => setDepartment(res.data))\n        .catch((err) => {\n          console.error(\"Failed to fetch department:\", err);\n          toast.error(\"Failed to fetch department\");\n        });\n    }\n  }, [id]);\n\n  const handleChange = (e) => {\n    setDepartment({ ...department, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!company_id) {\n      toast.error(\"Company ID is required.\");\n      return;\n    }\n\n    const dataToSend = { ...department, company_id };\n\n    try {\n      const token = localStorage.getItem(\"jwtToken\");\n      if (!token) {\n        toast.error(\"JWT Token is missing.\");\n        return;\n      }\n\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      };\n\n      if (id) {\n        await axiosInstance.put(\n          `/department/${UserModuleId}/${id}`,\n          dataToSend,\n          config\n        );\n      } else {\n        await axiosInstance.post(\n          `/department/${UserModuleId}`,\n          dataToSend,\n          config\n        );\n      }\n\n      toast.success(\"Department saved successfully!\");\n      navigate(\"/departments\"); // Redirect to departments list page after save\n    } catch (err) {\n      console.error(\"Failed to save department:\", err);\n      toast.error(\"Failed to save department\");\n    }\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        marginRight: 2,\n        marginTop: 4,\n        mb: 2,\n      }}\n    >\n      <Typography variant=\"h5\" gutterBottom>\n        {id ? \"Edit Department\" : \"Create Department\"}\n      </Typography>\n      <form onSubmit={handleSubmit}>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <TextField\n              label=\"Name\"\n              name=\"name\"\n              fullWidth\n              required\n              margin=\"normal\"\n              value={department.name}\n              onChange={handleChange}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              label=\"Description\"\n              name=\"description\"\n              fullWidth\n              margin=\"normal\"\n              value={department.description}\n              onChange={handleChange}\n            />\n          </Grid>\n          <Grid item xs={12} container justifyContent=\"flex-end\" mt={2}>\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              sx={{ mr: 2 }}\n            >\n              Save\n            </Button>\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => navigate(\"/departments\")}\n            >\n              Cancel\n            </Button>\n          </Grid>\n        </Grid>\n      </form>\n    </Paper>\n  );\n};\n\nexport default DepartmentForm;\n","size_bytes":3609},"qms-source/frontend-new/src/assets/theme/components/breadcrumbs.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\n\nconst { grey } = colors;\nconst { size } = typography;\n\nconst breadcrumbs = {\n  styleOverrides: {\n    li: {\n      lineHeight: 0,\n    },\n\n    separator: {\n      fontSize: size.sm,\n      color: grey[600],\n    },\n  },\n};\n\nexport default breadcrumbs;\n","size_bytes":914},"BackEnd/src/models/TaskChangeLog.js":{"content":"\n\nimport { DataTypes } from \"sequelize\";\nimport sequelize from \"../config/db.js\";\nimport Task from \"../models/Task.js\";\nimport User from \"./User.js\"; \nimport Role from \"./Role.js\";\nimport TaskAssignment from \"./TaskAssignment.js\"\nimport Notification from \"./Notification.js\"; // Import the Notification model\nimport { getSocket } from \"../config/socket.js\";\nimport { VALID_TASK_CHANGE_FIELDS } from \"../config/constants.js\"; // âœ… Import ENUM values\n\nexport const TaskChangeLog = sequelize.define(\"TaskChangeLog\", {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    task_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: Task, key: \"id\" }\n    },\n    changed_by: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: User, key: \"id\" }\n    },\n    field_changed: {\n        type: DataTypes.ENUM(...VALID_TASK_CHANGE_FIELDS), // âœ… Use ENUM from constants.js\n        allowNull: false\n    },\n    old_value: {\n        type: DataTypes.STRING,\n        allowNull: true\n    },\n    new_value: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    changed_at: {\n        type: DataTypes.DATE,\n        defaultValue: DataTypes.NOW\n    }\n}, { timestamps: false });\n\n\n\n// âœ… Define relationships\nTaskChangeLog.belongsTo(Task, { foreignKey: \"task_id\" });\nTaskChangeLog.belongsTo(User, { foreignKey: \"changed_by\", as: \"Changer\" });\n\nTask.hasMany(TaskChangeLog, { foreignKey: \"task_id\", onDelete: 'CASCADE' });\nUser.hasMany(TaskChangeLog, { foreignKey: \"changed_by\", as: \"ChangesMade\", onDelete: 'CASCADE' });\n\n\n\n\nTaskChangeLog.afterCreate(async (log) => {\n    try {\n        console.log(\"ðŸ”¥ TaskChangeLog entry detected:\", log.dataValues);\n\n        const io = getSocket();\n        const { task_id, changed_by, field_changed, new_value, old_value } = log;\n\n        let notifications = [];\n\n        const task = await Task.findByPk(task_id, { attributes: [\"Checklist_Item\", \"company_id\"] });\n\n        if (!task || !task.company_id) {\n            console.log(\"âŒ Task or Company not found:\", task_id);\n            return;\n        }\n\n        const company_id = task.company_id;\n\n        const superAdmins = await User.findAll({\n            include: { model: Role, where: { name: \"Super Admin\" }, attributes: [] },\n            where: { company_id },\n            attributes: [\"id\"]\n        });\n        const superAdminIds = superAdmins.map(user => user.id);\n\n        const systemSuperAdmins = await User.findAll({\n            include: { model: Role, where: { name: \"System Super Admin\" }, attributes: [] },\n            attributes: [\"id\"]\n        });\n        const systemSuperAdminIds = new Set(systemSuperAdmins.map(user => user.id));\n\n        const taskAssignments = await TaskAssignment.findAll({\n            where: { task_id },\n            attributes: [\"user_ids\", \"assign_by\"]\n        });\n\n        let assigneeIds = [];\n        let assignerIds = new Set();\n\n        taskAssignments.forEach(assignment => {\n            assigneeIds.push(...assignment.user_ids);\n            assignerIds.add(assignment.assign_by);\n        });\n\n        const taskCreator = await Task.findByPk(task_id, { attributes: [\"createdBy\"] });\n\n        const recipients = new Set(superAdminIds);\n        assigneeIds.forEach(userId => recipients.add(userId));\n        assignerIds.forEach(userId => recipients.add(userId));\n        if (taskCreator) recipients.add(taskCreator.createdBy);\n\n        superAdminIds.forEach(userId => recipients.add(userId));\n        systemSuperAdminIds.forEach(userId => recipients.delete(userId));\n        recipients.delete(changed_by);\n\n        if (recipients.size === 0) {\n            console.log(\"âš ï¸ No recipients found for task:\", task_id);\n            return;\n        }\n\n        const taskName = task ? task.Checklist_Item : `Task ID: ${task_id}`;\n        let message = `Task \"${taskName}\" updated: ${field_changed} changed from \"${old_value}\" to \"${new_value}\"`;\n\n        if (field_changed === \"assignment\") {\n            const oldAssignees = JSON.parse(old_value || \"[]\");\n            const newAssignees = JSON.parse(new_value || \"[]\");\n\n            const unassignedUsers = oldAssignees.filter(userId => !newAssignees.includes(userId));\n            const newlyAssignedUsers = newAssignees.filter(userId => !oldAssignees.includes(userId));\n            const remainedAssignedUsers = newAssignees.filter(userId => oldAssignees.includes(userId));\n\n            superAdminIds.forEach(userId => recipients.add(userId));\n            recipients.delete(changed_by);\n\n            // ðŸ” Create & Emit Notifications for assignment changes\n            const emitStructured = (notification) => {\n                io.to(notification.user_id).emit(\"new_notification\", {\n                    id: null,\n                    user_id: notification.user_id,\n                    task_id: notification.task_id,\n                    type: notification.type,\n                    message: notification.message,\n                    is_seen: false,\n                    created_at: new Date()\n                });\n            };\n\n            newlyAssignedUsers.forEach(userId => {\n                if (!systemSuperAdminIds.has(userId) && userId !== changed_by) {\n                    const note = {\n                        user_id: userId,\n                        task_id,\n                        type: field_changed,\n                        message: `You have been assigned to task: ${task.Checklist_Item}`,\n                        seen: false\n                    };\n                    notifications.push(note);\n                    //emitStructured(note);\n                }\n            });\n\n            unassignedUsers.forEach(userId => {\n                if (!systemSuperAdminIds.has(userId) && userId !== changed_by) {\n                    const note = {\n                        user_id: userId,\n                        task_id,\n                        type: field_changed,\n                        message: `You have been unassigned from task: ${task.Checklist_Item}`,\n                        seen: false\n                    };\n                    notifications.push(note);\n                    //emitStructured(note);\n                }\n            });\n\n            if (newlyAssignedUsers.length > 0) {\n                remainedAssignedUsers.forEach(userId => {\n                    if (!systemSuperAdminIds.has(userId) && userId !== changed_by) {\n                        const note = {\n                            user_id: userId,\n                            task_id,\n                            type: field_changed,\n                            message: `New user(s) assigned to task: ${task.Checklist_Item}`,\n                            seen: false\n                        };\n                        notifications.push(note);\n                      //  emitStructured(note);\n                    }\n                });\n            }\n\n            superAdminIds.forEach(userId => {\n                if (userId !== changed_by && !newAssignees.includes(userId)) {\n                    const note = {\n                        user_id: userId,\n                        task_id,\n                        type: field_changed,\n                        message: `Task assignment updated: ${task.Checklist_Item}`,\n                        seen: false\n                    };\n                    notifications.push(note);\n                    //emitStructured(note);\n                }\n            });\n\n        } else {\n            // ðŸ” General Field Update Notifications\n            notifications = Array.from(recipients).map(userId => ({\n                user_id: userId,\n                task_id,\n                type: field_changed,\n                message,\n                seen: false\n            }));\n\n          \n\n\n            // // Structured emit for general field change\n            // notifications.forEach(note => {\n            //     io.to(note.user_id).emit(\"new_notification\", {\n            //         id: null,\n            //         user_id: note.user_id,\n            //         task_id: note.task_id,\n            //         type: note.type,\n            //         message: note.message,\n            //         is_seen: false,\n            //         created_at: new Date()\n            //     });\n            // });\n        }\n\n      \n\n\n        if (notifications.length > 0) {\n         \n            const createdNotifications = await Notification.bulkCreate(notifications, { returning: true });\n            console.log(\"âœ… Notifications created successfully:\", createdNotifications.map(n => n.toJSON()));\n\n            createdNotifications.forEach(notification => {\n                io.to(notification.user_id).emit(\"new_notification\", {\n                    id: notification.id,\n                    user_id: notification.user_id,\n                    task_id: notification.task_id,\n                    type: notification.type,\n                    message: notification.message,\n                    is_seen: notification.seen,\n                    created_at: notification.createdAt\n                });\n            });\n        }\n\n    } catch (error) {\n        console.error(\"âŒ Error creating notification:\", error);\n    }\n});\n\nexport default TaskChangeLog;\n","size_bytes":9258},"qms-source/frontend-new/src/pages/standard/SelectStandard.jsx":{"content":"import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport {\n  Container,\n  Paper,\n  Typography,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Button,\n  Box,\n} from \"@mui/material\";\n\nconst VALID_STANDARDS = [\"ISO_9001\", \"ISO_27001\"];\nconst query = new URLSearchParams(location.search);\nconst iterationId = query.get(\"iterationId\");\n\nconst SelectStandard = () => {\n  const [selectedStandard, setSelectedStandard] = useState(\"\");\n  const navigate = useNavigate();\n  const location = useLocation();\n  const query = new URLSearchParams(location.search);\n  const iterationId = query.get(\"iterationId\");\n  const moduleId = query.get(\"moduleId\");\n\n  const handleSelectChange = (e) => {\n    setSelectedStandard(e.target.value);\n  };\n\n  const handleNext = () => {\n    if (!selectedStandard) {\n      toast.error(\"Please select a standard!\");\n      return;\n    }\n\n    toast.success(`Standard selected: ${selectedStandard}`);\n\n    // Optional delay for toast visibility\n    setTimeout(() => {\n      navigate(\n        `/upload-tasks/${moduleId}?iterationId=${iterationId}&standard=${selectedStandard}`\n      );\n    }, 800);\n  };\n\n  const handleBack = () => {\n    navigate(-1);\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        marginRight: 2,\n        marginTop: 4,\n        mb: 2,\n      }}\n    >\n      <Typography\n        variant=\"h5\"\n        sx={{ fontWeight: 600, mb: 3, textAlign: \"left\" }}\n      >\n        Select a Standard\n      </Typography>\n\n      <FormControl fullWidth sx={{ mb: 3 }}>\n        <InputLabel>Select a Standard</InputLabel>\n        <Select\n          value={selectedStandard}\n          onChange={handleSelectChange}\n          label=\"Select a Standard\"\n        >\n          {VALID_STANDARDS.map((standard) => (\n            <MenuItem key={standard} value={standard}>\n              {standard}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n\n      <Box display=\"flex\" justifyContent=\"flex-end\" gap={2}>\n        <Button\n          variant=\"contained\"\n          onClick={handleBack}\n          sx={{\n            px: 3,\n            py: 1.2,\n            fontSize: \"14px\",\n            borderRadius: 2,\n            minWidth: \"140px\",\n            boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n            fontWeight: \"bold\",\n          }\n        }\n        >\n          Back\n        </Button>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={handleNext}\n          sx={{\n            px: 3,\n            py: 1.2,\n            fontSize: \"14px\",\n            borderRadius: 2,\n            minWidth: \"140px\",\n            boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n            fontWeight: \"bold\",\n          }}\n        >\n          Next\n        </Button>\n      </Box>\n    </Paper>\n  );\n};\n\nexport default SelectStandard;\n","size_bytes":2989},"qms-source/BackEnd/src/controllers/companyController.js":{"content":"import Company from \"../models/Company.js\";\nimport User from \"../models/User.js\";\nimport bcrypt from \"bcryptjs\";\nimport sequelize from \"../config/db.js\";\nimport { v4 as uuidv4 } from 'uuid';\nimport Role from '../models/Role.js';\nimport Module from '../models/Module.js';\nimport RoleModulePermission from '../models/RoleModulesPermissions.js';\nimport generateRandomPassword from '../utils/generateRandomPassword.js';\nimport sendEmail from '../utils/sendEmail.js';\nimport { Op } from 'sequelize';\n\nimport{defaultCompanyName} from '../utils/bootstrapSystemSuperAdmin.js'\n\nimport userController from '../controllers/userController.js';\n\nconst defaultCompany = defaultCompanyName\nexport const createCompany = async (req, res) => {\n    const transaction = await sequelize.transaction();\n\n    try {\n        const { name, email, adminName } = req.body;\n        if (!name || !email || !adminName) {\n            await transaction.rollback();\n            return res.status(400).json({ error: \"Company name, admin email, and admin name are required\" });\n        }\n\n        // ðŸš« Check for existing ACTIVE user with same email\n        const existingActiveUser = await User.findOne({\n            where: {\n                email,\n                is_active: true\n            }\n        });\n\n        if (existingActiveUser) {\n            await transaction.rollback();\n            return res.status(409).json({\n                error: \"An active user already exists with this email. Please use a different admin email.\"\n            });\n        }\n\n        // Continue with creation\n        const companyId = uuidv4();\n\n        const company = await Company.create(\n            { id: companyId, name },\n            { transaction }\n        );\n\n        let superAdminRole = await Role.findOne({\n            where: { name: \"Super Admin\", company_id: companyId },\n            transaction\n        });\n\n        if (!superAdminRole) {\n            superAdminRole = await Role.create({\n                name: \"Super Admin\",\n                company_id: companyId,\n                description: \"The Super Admin role is responsible for all events within the company.\"\n            }, { transaction });\n        }\n\n        const role_id = superAdminRole.id;\n\n        const generatedPassword = generateRandomPassword();\n\n        console.log(\"Attempting to create User with:\", {\n            email, adminName, companyId, role_id, generatedPassword\n        });\n\n        const newUser = await User.create({\n            email,\n            name: adminName,\n            company_id: companyId,\n            role_id,\n            password_hash: generatedPassword\n        }, { transaction });\n\n        console.log(\"âœ… User successfully created:\", newUser);\n\n        const subject = 'Welcome to Our Platform - Your Login Credentials';\n        const message = `\n            Hello ${name},\n            \\nYour account has been created successfully. Below are your login credentials:\\n\n            Email: ${email}\n            Password: ${generatedPassword}\n            \\nPlease change your password after logging in.\\n\n            Regards,\n            Your Team\n        `;\n\n        await sendEmail(email, subject, message);\n\n        const modules = await Module.findAll({ transaction });\n        if (!modules.length) {\n            throw new Error(\"No modules found. Please check the Modules table.\");\n        }\n\n        for (const module of modules) {\n            await RoleModulePermission.create({\n                role_id: superAdminRole.id,\n                module_id: module.id,\n                can_read: true,\n                can_write: true,\n                can_delete: true\n            }, { transaction });\n        }\n\n        await transaction.commit();\n\n        return res.status(201).json({\n            message: \"Company created successfully with Super Admin\",\n            companyId: company.id,\n            superAdminEmail: email\n        });\n    } catch (error) {\n        await transaction.rollback();\n\n        console.error(\"âŒ Error in createCompany:\", error);\n        if (!res.headersSent) {\n            return res.status(500).json({ error: error.message });\n        }\n    }\n};\n\n\n\nconst updateCompanyDetails = async (req, res) => {\n    try {\n        const { name, industry, domain } = req.body;\n        const { id } = req.params;\n\n        const company = await Company.findByPk(id);\n        if (!company) return res.status(404).json({ error: \"Company not found\" });\n\n        // Update only provided fields\n        const updatedData = {};\n      \n        if (name !== undefined) updatedData.name = name;\n        if (industry !== undefined) updatedData.industry = industry;\n        if (domain !== undefined) updatedData.domain = domain;\n\n        await company.update(updatedData);\n\n        res.json({ message: \"Company details updated successfully\", company });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n\nconst getCompanyDetails = async (req, res) => {\n    try {\n        let company;\n        if (req.params.id) {\n            company = await Company.findByPk(req.params.id);\n            if (!company) return res.status(404).json({ error: 'Company not found' });\n        } else {\n            company = await Company.findAll({\n                where: {\n                    name: { [Op.ne]: defaultCompany } // Exclude 'Bonaventure'\n                },\n                order: [['name', 'ASC']] // Sort by name alphabetically\n            });\n        }\n        \n        res.json(company);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n\n\n\n\nconst softDeleteCompany = async (req, res) => {\n    try {\n        const { id } = req.params;\n        const { confirmed } = req.body;\n\n   \n\n        // Fetch the role name using role_id\n        const role = await Role.findByPk(req.user.role);\n        console.log(`role of user going to delete Company is ${role.name}`);\n        if (!role || role.name !== 'System Super Admin') {\n            return res.status(403).json({ error: 'Only System Super Admin can delete companies' });\n        }\n\n        const company = await Company.scope('all').findByPk(id);\n\n        if (!company) {\n            return res.status(404).json({ error: \"Company not found\" });\n        }\n\n        if (company.is_active === false) {\n            return res.status(400).json({ error: \"Company is already deactivated\" });\n        }\n\n        // Double confirmation required\n        if (!confirmed) {\n            return res.status(400).json({ \n                error: \"Please confirm deletion by sending { confirmed: true } in request body\" \n            });\n        }\n\n        company.is_active = false;\n        await company.save();\n\n               // Deactivate all users in this company\n               await User.update({ is_active: false }, {\n                where: { company_id: company.id }\n            });\n    \n            res.json({ message: \"Company and associated users deactivated successfully.\" });\n\n        \n\n    } catch (error) {\n        console.error(\"âŒ Error soft deleting company:\", error);\n        res.status(500).json({ error: \"Internal Server Error\" });\n    }\n};\n\n\nexport default { createCompany, updateCompanyDetails, getCompanyDetails, softDeleteCompany };","size_bytes":7221},"frontend-new/src/assets/theme/components/form/inputLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\n\nconst { text, info } = colors;\nconst { size } = typography;\n\nconst inputLabel = {\n  styleOverrides: {\n    root: {\n      fontSize: size.sm,\n      color: text.main,\n      lineHeight: 0.9,\n\n      \"&.Mui-focused\": {\n        color: info.main,\n      },\n\n      \"&.MuiInputLabel-shrink\": {\n        lineHeight: 1.5,\n        fontSize: size.md,\n\n        \"~ .MuiInputBase-root .MuiOutlinedInput-notchedOutline legend\": {\n          fontSize: \"0.85em\",\n        },\n      },\n    },\n\n    sizeSmall: {\n      fontSize: size.xs,\n      lineHeight: 1.625,\n\n      \"&.MuiInputLabel-shrink\": {\n        lineHeight: 1.6,\n        fontSize: size.sm,\n\n        \"~ .MuiInputBase-root .MuiOutlinedInput-notchedOutline legend\": {\n          fontSize: \"0.72em\",\n        },\n      },\n    },\n  },\n};\n\nexport default inputLabel;\n","size_bytes":1457},"frontend-new/src/assets/theme-dark/components/form/formControlLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { white } = colors;\nconst { size, fontWeightBold } = typography;\n\nconst formControlLabel = {\n  styleOverrides: {\n    root: {\n      display: \"block\",\n      minHeight: pxToRem(24),\n      marginBottom: pxToRem(2),\n    },\n\n    label: {\n      display: \"inline-block\",\n      fontSize: size.sm,\n      fontWeight: fontWeightBold,\n      color: white.main,\n      lineHeight: 1,\n      transform: `translateY(${pxToRem(1)})`,\n      marginLeft: pxToRem(4),\n\n      \"&.Mui-disabled\": {\n        color: white.main,\n      },\n    },\n  },\n};\n\nexport default formControlLabel;\n","size_bytes":1347},"qms-source/frontend-new/src/assets/theme-dark/functions/hexToRgb.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The hexToRgb() function helps you to change the hex color code to rgb\n  using chroma-js library.\n */\n\n// chroma-js is a library for all kinds of color conversions and color scales.\nimport chroma from \"chroma-js\";\n\nfunction hexToRgb(color) {\n  return chroma(color).rgb().join(\", \");\n}\n\nexport default hexToRgb;\n","size_bytes":839},"qms-source/frontend-new/src/assets/theme/components/flatpickr.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"assets/theme/functions/rgba\";\n\nconst { info, white, gradients } = colors;\n\nconst flatpickr = {\n  \".flatpickr-day:hover, .flatpickr-day:focus, .flatpickr-day.nextMonthDay:hover, .flatpickr-day.nextMonthDay:focus\":\n    {\n      background: rgba(info.main, 0.28),\n      border: \"none\",\n    },\n\n  \".flatpickr-day.today\": {\n    background: info.main,\n    color: white.main,\n    border: \"none\",\n\n    \"&:hover, &:focus\": {\n      background: `${info.focus} !important`,\n    },\n  },\n\n  \".flatpickr-day.selected, .flatpickr-day.selected:hover, .flatpickr-day.nextMonthDay.selected, .flatpickr-day.nextMonthDay.selected:hover, .flatpickr-day.nextMonthDay.selected:focus\":\n    {\n      background: `${gradients.info.state} !important`,\n      color: white.main,\n      border: \"none\",\n    },\n\n  \".flatpickr-months .flatpickr-next-month:hover svg, .flatpickr-months .flatpickr-prev-month:hover svg\":\n    {\n      color: `${info.main} !important`,\n      fill: `${info.main} !important`,\n    },\n};\n\nexport default flatpickr;\n","size_bytes":1683},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"qms-source/README_DEV.md":{"content":"# Developer quickstart â€” Backend + Frontend (Windows PowerShell examples)\n\nThis file contains the minimal commands and environment guidance to run the project locally for development. It assumes you are on Windows (PowerShell) as detected in your environment.\n\n1) Prerequisites\n- Node.js (v18+ recommended)\n- MySQL server accessible locally or via Docker\n- pnpm/npm (this repo contains npm lockfiles; use whichever you prefer)\n- (Optional) Docker and docker-compose for containerized local runs\n\n2) Backend (BackEnd)\n\nSet environment variables (PowerShell example):\n\n```powershell\n# from project root\nSet-Item -Path Env:DB_NAME -Value \"qms_db\"\nSet-Item -Path Env:DB_USER -Value \"root\"\nSet-Item -Path Env:DB_PASS -Value \"password\"\nSet-Item -Path Env:DB_HOST -Value \"localhost\"\nSet-Item -Path Env:JWT_SECRET -Value \"a_very_secret_string\"\nSet-Item -Path Env:VITE_BASE_API_URL -Value \"http://localhost:5000/api\"\n```\n\nInstall dependencies and run backend:\n\n```powershell\ncd BackEnd\nnpm install\n# dev mode with auto-restart\nnpm run dev\n\n# or run production server\nnpm start\n```\n\nNotes:\n- `server.js` calls `sequelize.sync({ alter: true })` and then `bootstrapSystemSuperAdmin()` â€” this will attempt to seed modules and a super-admin user. Ensure `BOOTSTRAP_ON_SYNC` and `MAIL_*` environment variables are set appropriately.\n\n3) Frontend (frontend-new)\n\nSet Vite env (PowerShell example):\n\n```powershell\nSet-Item -Path Env:VITE_BASE_API_URL -Value \"http://localhost:5000/api\"\n```\n\nInstall and run:\n\n```powershell\ncd frontend-new\nnpm install\nnpm run dev\n\n# build for production\nnpm run build\n```\n\n4) Docker (optional local compose)\n\nIf you prefer containerized local dev, edit `docker-compose.yml` at repo root to include proper env or a `.env` file and then:\n\n```powershell\ndocker compose up --build\n```\n\n5) Quick checks\n- To test login and API connectivity, use the frontend login page or tools like Postman/curl to call `POST http://localhost:5000/api/auth/login`.\n- Check the backend console for DB sync messages: `\"âœ… Database & tables synced\"` and bootstrap logs.\n\n6) Safety tips\n- Do not commit `.env` to source control. Use `.env.example` as a template (we added one at project root).\n- On production, replace `sequelize.sync({ alter: true })` with a proper migration strategy.\n","size_bytes":2283},"qms-source/frontend-new/src/assets/theme-dark/components/sidenav.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { background } = colors;\nconst { borderRadius } = borders;\n\nconst sidenav = {\n  styleOverrides: {\n    root: {\n      width: pxToRem(250),\n      whiteSpace: \"nowrap\",\n      border: \"none\",\n    },\n\n    paper: {\n      width: pxToRem(250),\n      backgroundColor: background.sidenav,\n      height: `calc(100vh - ${pxToRem(32)})`,\n      margin: pxToRem(16),\n      borderRadius: borderRadius.xl,\n      border: \"none\",\n    },\n\n    paperAnchorDockedLeft: {\n      borderRight: \"none\",\n    },\n  },\n};\n\nexport default sidenav;\n","size_bytes":1299},"frontend-new/src/assets/theme/components/button/root.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport typography from \"assets/theme/base/typography\";\nimport borders from \"assets/theme/base/borders\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { fontWeightBold, size } = typography;\nconst { borderRadius } = borders;\n\nconst root = {\n  display: \"inline-flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  fontSize: size.xs,\n  fontWeight: fontWeightBold,\n  borderRadius: borderRadius.lg,\n  padding: `${pxToRem(6.302)} ${pxToRem(16.604)}`,\n  lineHeight: 1.4,\n  textAlign: \"center\",\n  textTransform: \"uppercase\",\n  userSelect: \"none\",\n  backgroundSize: \"150% !important\",\n  backgroundPositionX: \"25% !important\",\n  transition: \"all 150ms ease-in\",\n\n  \"&:disabled\": {\n    pointerEvent: \"none\",\n    opacity: 0.65,\n  },\n\n  \"& .material-icons\": {\n    fontSize: pxToRem(15),\n    marginTop: pxToRem(-2),\n  },\n};\n\nexport default root;\n","size_bytes":1467},"qms-source/frontend-new/vite.config.js":{"content":"/* eslint-disable no-undef */\nimport { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react'\nimport path from 'path';\n\n// https://vite.dev/config/\nexport default defineConfig({\n  server: {\n    host: '0.0.0.0',\n    port: 3000,\n\tallowedHosts: ['ec2-13-233-161-146.ap-south-1.compute.amazonaws.com']\n  },\n  plugins: [react()],\n  resolve: {\n    alias: {\n      '@components': path.resolve(__dirname, 'src/components'),\n      '@utils': path.resolve(__dirname, 'src/utils'),\n      'assets': path.resolve(__dirname, 'src/assets'),\n      '@hooks': path.resolve(__dirname, 'src/hooks'),\n      // Add more aliases as needed\n    },\n  },\n})\n","size_bytes":642},"frontend-new/src/assets/theme-dark/base/colors.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base colors for the Material Dashboard 2 React.\n * You can add new color using this file.\n * You can customized the colors for the entire Material Dashboard 2 React using thie file.\n */\n\nconst colors = {\n  background: {\n    default: \"#1a2035\",\n    sidenav: \"#1f283e\",\n    card: \"#202940\",\n  },\n\n  text: {\n    main: \"#ffffffcc\",\n    focus: \"#ffffffcc\",\n  },\n\n  transparent: {\n    main: \"rgba(0, 0, 0, 0)\",\n  },\n\n  white: {\n    main: \"#ffffff\",\n    focus: \"#ffffff\",\n  },\n\n  black: {\n    light: \"#000000\",\n    main: \"#000000\",\n    focus: \"#000000\",\n  },\n\n  primary: {\n    main: \"#e91e63\",\n    focus: \"#e91e63\",\n  },\n\n  secondary: {\n    main: \"#7b809a\",\n    focus: \"#8f93a9\",\n  },\n\n  info: {\n    main: \"#1A73E8\",\n    focus: \"#1662C4\",\n  },\n\n  success: {\n    main: \"#4CAF50\",\n    focus: \"#67bb6a\",\n  },\n\n  warning: {\n    main: \"#fb8c00\",\n    focus: \"#fc9d26\",\n  },\n\n  error: {\n    main: \"#F44335\",\n    focus: \"#f65f53\",\n  },\n\n  light: {\n    main: \"#f0f2f566\",\n    focus: \"#f0f2f566\",\n  },\n\n  dark: {\n    main: \"#344767\",\n    focus: \"#2c3c58\",\n  },\n\n  grey: {\n    100: \"#f8f9fa\",\n    200: \"#f0f2f5\",\n    300: \"#dee2e6\",\n    400: \"#ced4da\",\n    500: \"#adb5bd\",\n    600: \"#6c757d\",\n    700: \"#495057\",\n    800: \"#343a40\",\n    900: \"#212529\",\n  },\n\n  gradients: {\n    primary: {\n      main: \"#EC407A\",\n      state: \"#D81B60\",\n    },\n\n    secondary: {\n      main: \"#747b8a\",\n      state: \"#495361\",\n    },\n\n    info: {\n      main: \"#49a3f1\",\n      state: \"#1A73E8\",\n    },\n\n    success: {\n      main: \"#66BB6A\",\n      state: \"#43A047\",\n    },\n\n    warning: {\n      main: \"#FFA726\",\n      state: \"#FB8C00\",\n    },\n\n    error: {\n      main: \"#EF5350\",\n      state: \"#E53935\",\n    },\n\n    light: {\n      main: \"#EBEFF4\",\n      state: \"#CED4DA\",\n    },\n\n    dark: {\n      main: \"#323a54\",\n      state: \"#1a2035\",\n    },\n  },\n\n  socialMediaColors: {\n    facebook: {\n      main: \"#3b5998\",\n      dark: \"#344e86\",\n    },\n\n    twitter: {\n      main: \"#55acee\",\n      dark: \"#3ea1ec\",\n    },\n\n    instagram: {\n      main: \"#125688\",\n      dark: \"#0e456d\",\n    },\n\n    linkedin: {\n      main: \"#0077b5\",\n      dark: \"#00669c\",\n    },\n\n    pinterest: {\n      main: \"#cc2127\",\n      dark: \"#b21d22\",\n    },\n\n    youtube: {\n      main: \"#e52d27\",\n      dark: \"#d41f1a\",\n    },\n\n    vimeo: {\n      main: \"#1ab7ea\",\n      dark: \"#13a3d2\",\n    },\n\n    slack: {\n      main: \"#3aaf85\",\n      dark: \"#329874\",\n    },\n\n    dribbble: {\n      main: \"#ea4c89\",\n      dark: \"#e73177\",\n    },\n\n    github: {\n      main: \"#24292e\",\n      dark: \"#171a1d\",\n    },\n\n    reddit: {\n      main: \"#ff4500\",\n      dark: \"#e03d00\",\n    },\n\n    tumblr: {\n      main: \"#35465c\",\n      dark: \"#2a3749\",\n    },\n  },\n\n  badgeColors: {\n    primary: {\n      background: \"#f8b3ca\",\n      text: \"#cc084b\",\n    },\n\n    secondary: {\n      background: \"#d7d9e1\",\n      text: \"#6c757d\",\n    },\n\n    info: {\n      background: \"#aecef7\",\n      text: \"#095bc6\",\n    },\n\n    success: {\n      background: \"#bce2be\",\n      text: \"#339537\",\n    },\n\n    warning: {\n      background: \"#ffd59f\",\n      text: \"#c87000\",\n    },\n\n    error: {\n      background: \"#fcd3d0\",\n      text: \"#f61200\",\n    },\n\n    light: {\n      background: \"#ffffff\",\n      text: \"#c7d3de\",\n    },\n\n    dark: {\n      background: \"#8097bf\",\n      text: \"#1e2e4a\",\n    },\n  },\n\n  coloredShadows: {\n    primary: \"#e91e62\",\n    secondary: \"#110e0e\",\n    info: \"#00bbd4\",\n    success: \"#4caf4f\",\n    warning: \"#ff9900\",\n    error: \"#f44336\",\n    light: \"#adb5bd\",\n    dark: \"#404040\",\n  },\n\n  inputBorderColor: \"#d2d6da\",\n\n  tabs: {\n    indicator: { boxShadow: \"#ddd\" },\n  },\n};\n\nexport default colors;\n","size_bytes":4139},"qms-source/BackEnd/src/routes/departmentRoutes.js":{"content":"import express from 'express';\nimport departmentController from '../controllers/departmentController.js'\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post('/:moduleId',authenticateUser,checkPermission(\"write\"), departmentController.createDepartment);     \nrouter.get('/:moduleId',authenticateUser, checkPermission(\"read\"),departmentController.getAllDepartments);     \nrouter.get('/:moduleId/:id',authenticateUser, checkPermission(\"read\"),departmentController.getDepartmentById);   \nrouter.put('/:moduleId/:id',authenticateUser, checkPermission(\"write\"),departmentController.updateDepartment);    \nrouter.delete('/:moduleId/:id',authenticateUser,checkPermission(\"delete\"),departmentController.deleteDepartment); \n\nexport default router;","size_bytes":870},"frontend-new/src/assets/theme/components/link.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst link = {\n  defaultProps: {\n    underline: \"none\",\n    color: \"inherit\",\n  },\n};\n\nexport default link;\n","size_bytes":631},"qms-source/frontend-new/src/assets/theme-dark/components/card/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\n\n// Material Dashboard 2 React Helper Function\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { black, background } = colors;\nconst { borderWidth, borderRadius } = borders;\nconst { md } = boxShadows;\n\nconst card = {\n  styleOverrides: {\n    root: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      position: \"relative\",\n      minWidth: 0,\n      wordWrap: \"break-word\",\n      backgroundImage: \"none\",\n      backgroundColor: background.card,\n      backgroundClip: \"border-box\",\n      border: `${borderWidth[0]} solid ${rgba(black.main, 0.125)}`,\n      borderRadius: borderRadius.xl,\n      boxShadow: md,\n      overflow: \"visible\",\n    },\n  },\n};\n\nexport default card;\n","size_bytes":1420},"BackEnd/src/controllers/iterationController.js":{"content":"import Iteration from '../models/Iteration.js';\nimport User from '../models/User.js';\nimport Role from '../models/Role.js';\n\n// Create a new iteration\nconst createIteration = async (req, res) => {\n    try {\n        const {name, start_date, end_date, description, is_active } = req.body;\n\n        if (!name || !start_date || !end_date) {\n            return res.status(400).json({ error: 'Missing required fields: name, start_date, end_date' });\n        }\n        const creator_id=req.user.id;\n         // Fetch user's role and company ID\n         const user = await User.findByPk(creator_id, {\n            include: [{ model: Role, attributes: [\"name\"], required: true }]\n        });\n\n        if (!user) {\n            return res.status(404).json({ error: \"User not found\" });\n        }\n\n        const userRole = user.Role ? user.Role.name : null;\n        let company_id;\n\n        if (userRole === \"System Super Admin\") {\n            company_id = req.body.company_id;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n            }\n        } else {\n            company_id = req.user.company;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n            }\n        }\n         \n        const iteration = await Iteration.create({\n            company_id,\n            creator_id,\n            name,\n            start_date,\n            end_date,\n            description,\n            is_active\n        });\n\n        res.status(201).json({ message: 'Iteration created successfully', iteration });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Get all active iterations\nconst getAllIterations = async (req, res) => {\n    const creator_id=req.user.id;\n    // Fetch user's role and company ID\n    const user = await User.findByPk(creator_id, {\n       include: [{ model: Role, attributes: [\"name\"], required: true }]\n   });\n\n   if (!user) {\n       return res.status(404).json({ error: \"User not found\" });\n   }\n\n   const userRole = user.Role ? user.Role.name : null;\n   let company_id;\n\n   if (userRole === \"System Super Admin\") {\n       company_id = req.query.company_id;\n       if (!company_id) {\n           return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n       }\n   } else {\n       company_id = req.user.company;\n       if (!company_id) {\n           return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n       }\n   }\n\n    try {\n        const iterations = await Iteration.findAll({\n            where: { is_active: true ,company_id}\n        });\n        res.json(iterations);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n\n// Get a single iteration by ID\nconst getIterationById = async (req, res) => {\n    try {\n        const iteration = await Iteration.findByPk(req.params.id);\n        if (!iteration) return res.status(404).json({ error: 'Iteration not found' });\n\n        res.json(iteration);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Update an iteration\nconst updateIteration = async (req, res) => {\n    try {\n        const { name, start_date, end_date, description, is_active } = req.body;\n        const iteration = await Iteration.findByPk(req.params.id);\n        if (!iteration) return res.status(404).json({ error: 'Iteration not found' });\n\n        await iteration.update({\n            name,\n            start_date,\n            end_date,\n            description,\n            is_active\n        });\n\n        res.json({ message: 'Iteration updated successfully', iteration });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Soft delete an iteration\nconst deleteIteration = async (req, res) => {\n    try {\n        const iteration = await Iteration.findByPk(req.params.id);\n        if (!iteration) {\n            return res.status(404).json({ error: 'Iteration not found' });\n        }\n\n        // Soft delete: mark as inactive\n        iteration.is_active = false;\n        await iteration.save();\n\n        res.json({ message: 'Iteration soft deleted successfully' });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n\nexport default {\n    createIteration,\n    getAllIterations,\n    getIterationById,\n    updateIteration,\n    deleteIteration\n};\n","size_bytes":4549},"qms-source/frontend-new/src/App.jsx":{"content":"import React, { useState } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  useLocation,\n} from \"react-router-dom\";\n\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n// MUI\nimport { ThemeProvider } from \"@mui/material/styles\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport Icon from \"@mui/material/Icon\";\nimport { Box } from \"@mui/material\";\n\n// MUI context\nimport { useMaterialUIController } from \"./context\";\n\n// MUI themes\nimport theme from \"./assets/theme\";\nimport themeDark from \"./assets/theme-dark\";\n\n// Relevant page components\nimport Sidebar from \"./Components/Sidebar\";\nimport CompanyName from \"./pages/onboarding/CompanyName\";\nimport CompanyDetails from \"./pages/onboarding/CompanyDetails\";\nimport Dashboard from \"./dashboard/Dashboard\";\nimport CompanyList from \"./pages/onboarding/CompanyList\";\nimport Analytics from \"./dashboard/Analytics\";\nimport RoleList from \"./pages/role_management/RoleList\";\nimport RoleForm from \"./pages/role_management/RoleForm\";\nimport RoleUpdate from \"./pages/role_management/RoleUpdate\";\nimport ModuleList from \"./pages/module_management/ModuleList\";\nimport ModuleForm from \"./pages/module_management/ModuleForm\";\nimport AssignPermissions from \"./pages/role_management/AssignPermissions\";\nimport AssignPermissionstoRole from \"./pages/role_management/AssignPermissionstoRole\";\nimport CreateUser from \"./pages/user_management/CreateUser\";\nimport LoginPage from \"./pages/auth/Login\";\nimport ChangePassword from \"./pages/user_management/changePassword\";\nimport TaskList from \"./pages/TaskManagement/TaskList\";\nimport CreateTask from \"./pages/TaskManagement/CreateTask\";\nimport EditTask from \"./pages/TaskManagement/EditTask\";\nimport BulkTaskAssignment from \"./pages/TaskManagement/BulkTaskAssignment\";\nimport AssignedTaskPage from \"./pages/TaskManagement/AssignedTaskPage\";\nimport UserTaskAssignment from \"./pages/TaskManagement/UserTaskAssignment\";\nimport TaskUploadPage from \"./pages/TaskManagement/TaskUploadPage\";\nimport SelectCompany from \"./pages/TaskManagement/SelectCompany\";\nimport UserList from \"./pages/user_management/UserList\";\nimport UpdateUser from \"./pages/user_management/UpdateUser\";\nimport Header from \"./Components/Header\";\nimport DocumentManagementPage from \"./pages/DocumentManagement/DocumentManagementPage\";\nimport IterationList from \"./pages/Iteration/IterationList\";\nimport CreateIteration from \"./pages/Iteration/CreateIteration\";\nimport EditIteration from \"./pages/Iteration/EditIteration\";\nimport DepartmentList from \"./pages/department/DepartmentList\";\nimport DepartmentForm from \"./pages/department/DepartmentForm\";\nimport SelectStandard from './pages/standard/SelectStandard';\nimport SelectIterationPage from \"./pages/Iteration/SelectIterationPage\";\n\nconst AppLayout = () => {\n  const location = useLocation();\n  const hideSidebarRoutes = [\"/\", \"/company-details\", \"/login\"];\n  const isSidebarHidden = hideSidebarRoutes.includes(location.pathname);\n  const [, setSelectedCompany] = useState(null);\n\n  const [controller, dispatch] = useMaterialUIController();\n  const { darkMode, sidebarOpen } = controller;\n\n  return (\n    <ThemeProvider theme={darkMode ? themeDark : theme}>\n      <CssBaseline />\n\n      <Box sx={{ display: \"flex\", position: \"relative\" }}>\n        {!isSidebarHidden && <Sidebar />}\n\n        <Box\n          sx={{\n            flex: 1,\n            padding: hideSidebarRoutes ? 0 : 2,\n            width: \"calc(100% - 250px)\",\n            // marginX: hideSidebarRoutes ? 0 : 2,\n            ...(!hideSidebarRoutes && { marginLeft: sidebarOpen ? 4 : 2 }),\n          }}\n        >\n          {!isSidebarHidden && <Header />}\n          <Routes>\n            <Route path=\"/\" element={<LoginPage />} />\n            <Route path=\"/login\" element={<LoginPage />} />\n\n            {/* Onboarding */}\n            <Route path=\"/company-details\" element={<CompanyDetails />} />\n            <Route path=\"/company-name\" element={<CompanyName />} />\n\n            {/* Dashboard */}\n            <Route path=\"/dashboard/*\" element={<Dashboard />} />\n            <Route path=\"/company-list\" element={<CompanyList />} />\n            <Route path=\"/analytics\" element={<Analytics />} />\n\n            {/* Role Management */}\n            <Route path=\"/roles\" element={<RoleList />} />\n            <Route path=\"/roles/create\" element={<RoleForm />} />\n            <Route path=\"/roles/edit/:id\" element={<RoleUpdate />} />\n            <Route path=\"/assign-permissions\" element={<AssignPermissions />} />\n            <Route\n              path=\"/assignpermissionstorole/:roleId\"\n              element={<AssignPermissionstoRole />}\n            />\n\n            {/* Module Management */}\n            <Route path=\"/modules\" element={<ModuleList />} />\n            <Route path=\"/modules/new\" element={<ModuleForm />} />\n            <Route path=\"/modules/:id\" element={<ModuleForm />} />\n\n            {/* User Management */}\n            <Route path=\"/users\" element={<UserList />} />\n            <Route path=\"/users/create\" element={<CreateUser />} />\n            <Route path=\"/changePassword\" element={<ChangePassword />} />\n            <Route path=\"/users/update/:id\" element={<UpdateUser />} />\n\n            {/* Task Management */}\n            <Route path=\"/tasks\" element={<TaskList />} />\n            <Route path=\"/create-task\" element={<CreateTask />} />\n            <Route path=\"/edit-task/:moduleId/:taskId\" element={<EditTask />} />\n            <Route\n              path=\"/BulkTaskAssignment\"\n              element={<BulkTaskAssignment />}\n            />\n            <Route\n              path=\"/UserTaskAssignment\"\n              element={<UserTaskAssignment />}\n            />\n            <Route path=\"/assigned-tasks\" element={<AssignedTaskPage />} />\n            <Route\n              path=\"/upload-tasks/:moduleId\"\n              element={<TaskUploadPage />}\n            />\n\n            {/* Document Management */}\n            <Route\n              path=\"/document-management\"\n              element={<DocumentManagementPage />}\n            />\n\n            {/* Iteration Management */}\n            <Route\n              path=\"/iteration/:taskModuleId\"\n              element={<IterationList />}\n            />\n            <Route\n              path=\"/iteration/create/:taskModuleId\"\n              element={<CreateIteration />}\n            />\n            <Route\n              path=\"/iteration/edit/:taskModuleId/:iterationId\"\n              element={<EditIteration />}\n            />\n            <Route path=\"/select-iteration\" element={<SelectIterationPage />} />\n\n\n            <Route\n              path=\"/SelectCompany\"\n              element={\n                <SelectCompany setSelectedCompany={setSelectedCompany} />\n              }\n            />\n\n            {/* Department Management */}\n            <Route path=\"/departments\" element={<DepartmentList />} />\n            <Route\n              path=\"/departments/new\"\n              element={<DepartmentForm />}\n            />\n            <Route\n              path=\"/departments/edit/:id\"\n              element={<DepartmentForm />}\n            />\n\n            <Route path=\"/select-standard\" element={<SelectStandard />} />\n\n          </Routes>\n        </Box>\n      </Box>\n    </ThemeProvider>\n  );\n};\n\nfunction App() {\n  return (\n    <Router>\n      <ToastContainer position=\"top-right\" autoClose={3000} />\n      <AppLayout />\n    </Router>\n  );\n}\n\nexport default App;\n","size_bytes":7452},"qms-source/frontend-new/src/pages/onboarding/CompanyName.jsx":{"content":"import React, { useState } from \"react\";\nimport {\n  Container,\n  TextField,\n  Button,\n  Paper,\n  Typography,\n  Box,\n} from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axiosInstance from \"../../services/axiosinstance\";\nconst companyModuleId = \"5d896834-fedd-4e0b-a882-8d05396fc346\";\n\nconst CompanyName = () => {\n  const navigate = useNavigate();\n  const [companyName, setCompanyName] = useState(\"\");\n  const [superAdminName, setSuperAdminName] = useState(\"\");\n  const [superAdminEmail, setSuperAdminEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n  \n    // Validate input fields\n    if (!companyName.trim()) return toast.warning(\"organization Name is required.\");\n    if (!superAdminName.trim())\n      return toast.warning(\"Super Admin Name is required.\");\n    if (!superAdminEmail.trim())\n      return toast.warning(\"Super Admin Email is required.\");\n  \n    setLoading(true);\n  \n    const requestData = {\n      name: companyName,\n      email: superAdminEmail,\n      adminName: superAdminName,\n    };\n  \n    console.log(\"Sending Data:\", requestData);\n  \n    try {\n      const response = await axiosInstance.post(\n        `/companies/${companyModuleId}`,\n        requestData\n      );\n      console.log(\"Response:\", response.data);\n  \n      const { companyId } = response.data;\n      toast.success(`Organization \"${companyName}\" created successfully!`);\n  \n      sessionStorage.setItem(\"companyId\", companyId); // Store company details in sessionStorage\n      sessionStorage.setItem(\"companyName\", companyName);\n  \n      navigate(\"/company-details\", { state: { companyId } });\n    } catch (error) {\n      console.log(\"âŒ Entered catch block\");\n      console.error(\"Error:\", error.response?.data || error);\n  \n      if (!error.response) {\n        toast.error(\"Network issue detected. Please check your internet connection.\");\n        return;\n      }\n  \n      const errorData = error.response.data;\n  \n      // Handle multiple validation errors from backend\n      if (typeof errorData === \"object\" && errorData.errors) {\n        const errorMessages = Object.values(errorData.errors).flat();\n        // Use a Set to avoid duplicate error messages\n        const uniqueErrorMessages = new Set(errorMessages);\n        uniqueErrorMessages.forEach((msg) => toast.error(msg));\n        return;\n      }\n  \n      const backendMessage =\n        errorData?.error || errorData?.message || \"An unexpected error occurred. Please try again.\";\n      \n      // Show the error message only once\n      toast.error(backendMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n\n  // Handle navigation to company details page\n  const handleNext = (companyId, companyName) => {\n    sessionStorage.setItem(\"companyId\", companyId); // Store company details\n    sessionStorage.setItem(\"companyName\", companyName);\n    navigate(\"/company-details\", { state: { companyId } });\n  };\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ py: 4 }}>\n      <Paper\n        elevation={3}\n        sx={{\n          p: { xs: 2, sm: 3 },\n          mx: 4,\n          borderRadius: 2,\n          boxShadow: 3,\n        }}\n      >\n        <Typography\n          variant=\"h5\"\n          sx={{ fontWeight: 600, mb: 3, textAlign: \"left\" }}\n        >\n          Organization Onboarding\n        </Typography>\n\n        <form onSubmit={handleSubmit}>\n          <TextField\n            label=\"organization Name\"\n            variant=\"outlined\"\n            fullWidth\n            value={companyName}\n            onChange={(e) => setCompanyName(e.target.value)}\n            sx={{ mb: 2 }}\n          />\n\n          <TextField\n            label=\"System Admin Name\"\n            variant=\"outlined\"\n            fullWidth\n            value={superAdminName}\n            onChange={(e) => setSuperAdminName(e.target.value)}\n            sx={{ mb: 2 }}\n          />\n\n          <TextField\n            label=\"System Admin Email\"\n            variant=\"outlined\"\n            fullWidth\n            type=\"email\"\n            value={superAdminEmail}\n            onChange={(e) => setSuperAdminEmail(e.target.value)}\n            sx={{ mb: 3 }}\n          />\n\n          <Box display=\"flex\" justifyContent=\"flex-end\">\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              disabled={loading}\n              sx={{\n                px: 3,\n                py: 1.2,\n                fontSize: \"14px\",\n                borderRadius: 2,\n                minWidth: \"140px\",\n                boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n              }}\n            >\n              {loading ? \"Processing...\" : \"Create organization\"}\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default CompanyName;\n","size_bytes":4926},"qms-source/frontend-new/src/assets/theme-dark/base/breakpoints.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base breakpoints for the Material Dashboard 2 React.\n * You can add new breakpoints using this file.\n * You can customized the breakpoints for the entire Material Dashboard 2 React using thie file.\n */\n\nconst breakpoints = {\n  values: {\n    xs: 0,\n    sm: 576,\n    md: 768,\n    lg: 992,\n    xl: 1200,\n    xxl: 1400,\n  },\n};\n\nexport default breakpoints;\n","size_bytes":887},"frontend-new/src/styles/UploadPopup.css":{"content":".popup-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.popup-container {\n  background: #fff;\n  padding: 20px;\n  border-radius: 8px;\n  width: 350px;\n  text-align: center;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);\n}\n\n.file-input {\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n}\n\n.comment-input {\n  width: 100%;\n  height: 80px;\n  padding: 10px;\n  margin-bottom: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  resize: none;\n}\n\n.upload-btn, .close-btn {\n  width: 100%;\n  padding: 10px;\n  margin-top: 5px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.upload-btn {\n  background: #4CAF50;\n  color: white;\n}\n\n.upload-btn:disabled {\n  background: #cccccc;\n  cursor: not-allowed;\n}\n\n.close-btn {\n  background: #f44336;\n  color: white;\n}\n\n.message {\n  margin-top: 10px;\n  color: red;\n  font-size: 14px;\n}\n","size_bytes":1057},"frontend-new/src/assets/theme/functions/linearGradient.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The linearGradient() function helps you to create a linear gradient color background\n */\n\nfunction linearGradient(color, colorState, angle = 195) {\n  return `linear-gradient(${angle}deg, ${color}, ${colorState})`;\n}\n\nexport default linearGradient;\n","size_bytes":777},"qms-source/frontend-new/src/assets/theme/base/breakpoints.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base breakpoints for the Material Dashboard 2 React.\n * You can add new breakpoints using this file.\n * You can customized the breakpoints for the entire Material Dashboard 2 React using thie file.\n */\n\nconst breakpoints = {\n  values: {\n    xs: 0,\n    sm: 576,\n    md: 768,\n    lg: 992,\n    xl: 1200,\n    xxl: 1400,\n  },\n};\n\nexport default breakpoints;\n","size_bytes":887},"qms-source/BackEnd/src/controllers/taskAssignmentController.js":{"content":"import TaskAssignment from \"../models/TaskAssignment.js\";\nimport { Op } from \"sequelize\";\nimport User from \"../models/User.js\";\nimport Role from \"../models/Role.js\";\nimport Task from \"../models/Task.js\";\nimport TaskChangeLog from \"../models/TaskChangeLog.js\";\nimport { Sequelize } from 'sequelize';\nimport { getAllReportToUsers } from \"../utils/getHigherRoleUserRecurcievly.js\";\n\n\n\nexport const assignTasks = async (req, res) => {\n    try {\n        const { assignments, user_id, task_ids } = req.body;\n        const assign_by = req.user.id;\n\n        if (!assignments && (!user_id || !Array.isArray(task_ids) || task_ids.length === 0)) {\n            return res.status(400).json({ error: \"Either provide assignments or user_id with task_ids.\" });\n        }\n\n        const taskAssignments = [];\n\n        // âœ… Scenario 1: Bulk assignment { task_id, user_ids[] }\n        if (Array.isArray(assignments) && assignments.length > 0) {\n            for (const { task_id, user_ids } of assignments) {\n                if (!task_id || !Array.isArray(user_ids) || user_ids.length === 0) {\n                    return res.status(400).json({ error: \"Each assignment must include a valid task_id and a non-empty user_ids array.\" });\n                }\n\n                // ðŸ§  Build complete user list including managers\n                let allUserIds = [...user_ids];\n                for (const uid of user_ids) {\n                    const hierarchy = await getAllReportToUsers(uid);\n                    allUserIds.push(...hierarchy);\n                }\n                const uniqueUsers = [...new Set(allUserIds)];\n\n                const existingAssignment = await TaskAssignment.findOne({ where: { task_id } });\n                const previousUsers = existingAssignment ? existingAssignment.user_ids || [] : [];\n\n                if (existingAssignment) {\n                    await existingAssignment.update({ user_ids: uniqueUsers });\n                } else {\n                    await TaskAssignment.create({\n                        task_id,\n                        user_ids: uniqueUsers,\n                        assign_by,\n                    });\n                }\n\n                // ðŸ“ Log the change\n                await TaskChangeLog.create({\n                    task_id,\n                    changed_by: assign_by,\n                    field_changed: \"assignment\",\n                    old_value: JSON.stringify(previousUsers),\n                    new_value: JSON.stringify(uniqueUsers)\n                });\n\n                taskAssignments.push({ task_id, user_ids: uniqueUsers });\n            }\n        }\n\n        // âœ… Scenario 2: Single user to multiple tasks\n        else if (user_id && Array.isArray(task_ids)) {\n            // ðŸ§  Resolve full hierarchy once\n            let allUserIds = [user_id, ...(await getAllReportToUsers(user_id))];\n            const uniqueUsers = [...new Set(allUserIds)];\n\n            for (const task_id of task_ids) {\n                const existingAssignment = await TaskAssignment.findOne({ where: { task_id } });\n                const previousUsers = existingAssignment ? existingAssignment.user_ids || [] : [];\n\n                if (existingAssignment) {\n                    await existingAssignment.update({ user_ids: uniqueUsers });\n                } else {\n                    await TaskAssignment.create({\n                        task_id,\n                        user_ids: uniqueUsers,\n                        assign_by,\n                    });\n                }\n\n                await TaskChangeLog.create({\n                    task_id,\n                    changed_by: assign_by,\n                    field_changed: \"assignment\",\n                    old_value: JSON.stringify(previousUsers),\n                    new_value: JSON.stringify(uniqueUsers)\n                });\n\n                taskAssignments.push({ task_id, user_ids: uniqueUsers });\n            }\n        }\n\n        res.status(201).json({ message: \"Tasks assigned successfully\", taskAssignments });\n\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n\n\n\n// export const assignTasks = async (req, res) => {\n//     try {\n//         const { assignments, user_id, task_ids } = req.body;\n//         const assign_by = req.user.id;\n\n//         if (!assignments && (!user_id || !Array.isArray(task_ids) || task_ids.length === 0)) {\n//             return res.status(400).json({ error: \"Either provide assignments or user_id with task_ids.\" });\n//         }\n\n//         const taskAssignments = [];\n\n//         // ðŸŸ¢ **Scenario 1: Assign multiple users to tasks (Bulk Assignment)**\n//         if (Array.isArray(assignments) && assignments.length > 0) {\n//             for (const { task_id, user_ids } of assignments) {\n//                 if (!task_id || !Array.isArray(user_ids) || user_ids.length === 0) {\n//                     return res.status(400).json({ error: \"Each assignment must include a valid task_id and a non-empty user_ids array.\" });\n//                 }\n\n//                 let taskAssignment = await TaskAssignment.findOne({ where: { task_id } });\n\n//                 if (!taskAssignment) {\n//                     // Create a new task assignment\n//                     taskAssignment = await TaskAssignment.create({ task_id, user_ids: [...new Set(user_ids)], assign_by });\n\n//                     // âœ… Log new assignment\n//                     await TaskChangeLog.create({\n//                         task_id,\n//                         changed_by: assign_by,\n//                         field_changed: \"assignment\",\n//                         old_value: null,\n//                         new_value: JSON.stringify([...new Set(user_ids)])\n//                     });\n//                 } else {\n//                     // const previousUsers = taskAssignment.user_ids || [];\n//                     // const uniqueUsers = [...new Set([...previousUsers, ...user_ids])]; // Remove duplicates\n//                     const previousUsers = taskAssignment.user_ids || [];\n//                     const uniqueUsers = [...new Set(user_ids)]; \n\n//                     if (JSON.stringify(previousUsers.sort()) !== JSON.stringify(uniqueUsers.sort())) {\n//                         await taskAssignment.update({ user_ids: uniqueUsers });\n\n//                         // âœ… Log the update\n//                         await TaskChangeLog.create({\n//                             task_id,\n//                             changed_by: assign_by,\n//                             field_changed: \"assignment\",\n//                             old_value: JSON.stringify(previousUsers),\n//                             new_value: JSON.stringify(uniqueUsers)\n//                         });\n//                     }\n//                 }\n\n//                 taskAssignments.push(taskAssignment);\n//             }\n//         }\n\n//         // ðŸŸ¢ **Scenario 2: Assign a single user to multiple tasks**\n//         else if (user_id && Array.isArray(task_ids) && task_ids.length > 0) {\n//             for (const task_id of task_ids) {\n//                 let taskAssignment = await TaskAssignment.findOne({ where: { task_id } });\n\n//                 if (!taskAssignment) {\n//                     // Create a new assignment\n//                     taskAssignment = await TaskAssignment.create({ task_id, user_ids: [user_id], assign_by });\n\n//                     // âœ… Log new assignment\n//                     await TaskChangeLog.create({\n//                         task_id,\n//                         changed_by: assign_by,\n//                         field_changed: \"assignment\",\n//                         old_value: null,\n//                         new_value: JSON.stringify([user_id])\n//                     });\n//                 } else {\n//                     const previousUsers = taskAssignment.user_ids || [];\n\n//                     if (!previousUsers.includes(user_id)) {\n//                         const uniqueUsers = [...new Set([...previousUsers, user_id])];\n\n//                         await taskAssignment.update({ user_ids: uniqueUsers });\n\n//                         // âœ… Log the update\n//                         await TaskChangeLog.create({\n//                             task_id,\n//                             changed_by: assign_by,\n//                             field_changed: \"assignment\",\n//                             old_value: JSON.stringify(previousUsers),\n//                             new_value: JSON.stringify(uniqueUsers)\n//                         });\n//                     }\n//                 }\n\n//                 taskAssignments.push(taskAssignment);\n//             }\n//         }\n\n//         res.status(201).json({ message: \"Tasks assigned successfully\", taskAssignments });\n\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\n\n// export const assignTask = async (req, res) => {\n//     try {\n//         const { task_id, user_ids} = req.body;\n//          const assign_by = req.user.id;\n//         if (!Array.isArray(user_ids) || user_ids.length === 0) {\n//             return res.status(400).json({ error: \"user_ids must be a non-empty array\" });\n//         }\n\n//         // Check if a record for this task already exists\n//         let taskAssignment = await TaskAssignment.findOne({ where: { task_id } });\n\n//         if (!taskAssignment) {\n//             // Create new task assignment with user_ids array\n//             taskAssignment = await TaskAssignment.create({ task_id, user_ids, assign_by });\n\n//             // âœ… Log the assignment in TaskChangeLog\n//             await TaskChangeLog.create({\n//                 task_id,\n//                 changed_by: assign_by,\n//                 field_changed: \"assignment\",\n//                 old_value: null,\n//                 new_value: `Assigned to users: ${JSON.stringify(user_ids)}`\n//             });\n\n//         } else {\n//             // Existing assignment: update user_ids (merge new users)\n//             const previousUsers = taskAssignment.user_ids || [];\n//             const newUsers = [...new Set([...previousUsers, ...user_ids])]; // Merge and remove duplicates\n\n//             await taskAssignment.update({ user_ids: newUsers });\n\n//             // âœ… Log the update in TaskChangeLog\n//             await TaskChangeLog.create({\n//                 task_id,\n//                 changed_by: assign_by,\n//                 field_changed: \"assignment\",\n//                 old_value: JSON.stringify(previousUsers),\n//                 new_value: JSON.stringify(newUsers)\n//             });\n//         }\n\n//         res.status(201).json(taskAssignment);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// export const getAllTaskAssignments = async (req, res) => {\n//     try {\n//         const user_id = req.user.id; // Assuming `req.user` contains the logged-in user details\n        \n//         // Fetch the user's role by including Role in the query\n//         const user = await User.findByPk(user_id, {\n//             include: [{ model: Role, attributes: [\"name\"] }] // Fetch role name\n//         });\n\n//         if (!user) {\n//             return res.status(404).json({ error: \"User not found\" });\n//         }\n\n//         let assignments;\n\n//         if (user.Role?.name === \"Super Admin\") {\n//             // Super Admin gets all task assignments\n//             assignments = await TaskAssignment.findAll({\n//                 include: [\n//                     { model: Task },\n//                     { model: User, as: \"Assigner\", attributes: [\"id\", \"name\", \"email\"] } // Assigner user details\n//                 ]\n//             });\n//         } else {\n//             // Regular users only see tasks where they are assigned or assigned by them\n//             assignments = await TaskAssignment.findAll({\n//                 where: {\n//                     [Op.or]: [\n//                         { assign_by: user_id },  // Tasks assigned by the user\n//                     ]\n//                 },\n//                 include: [\n//                     { model: Task },\n//                     { model: User, as: \"Assigner\", attributes: [\"id\", \"name\", \"email\"] }\n//                 ]\n//             });\n//         }\n\n//         // Fetch Assignees for each assignment\n//         for (let assignment of assignments) {\n//             if (assignment.user_ids && assignment.user_ids.length > 0) {\n//                 const assignees = await User.findAll({\n//                     where: { id: { [Op.in]: assignment.user_ids } },\n//                     attributes: [\"id\", \"name\", \"email\"]\n//                 });\n//                 assignment.dataValues.Assignees = assignees; // Add the assignee list to response\n//             } else {\n//                 assignment.dataValues.Assignees = []; // Ensure response structure remains consistent\n//             }\n//         }\n\n//         res.json(assignments);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\nexport const getAllTaskAssignments = async (req, res) => {\n    try {\n        const user_id = req.user.id;\n        let company_id = req.user.company; // Default: fetch from token\n\n        // Fetch the user's role\n        const user = await User.findByPk(user_id, {\n            include: [{ model: Role, attributes: [\"name\"] }]\n        });\n\n        if (!user) {\n            return res.status(404).json({ error: \"User not found\" });\n        }\n\n        const isSystemSuperAdmin = user.Role?.name === \"System Super Admin\";\n\n        // If system super admin, require company_id from query param\n        if (isSystemSuperAdmin) {\n            company_id = req.query.company_id;\n            if (!company_id) {\n                return res.status(400).json({ error: \"company_id is required for System Super Admin\" });\n            }\n        }\n\n        let whereClause = { \"$Task.company_id$\": company_id };\n\n        if (!isSystemSuperAdmin) {\n            whereClause[Op.or] = [\n                { assign_by: user_id },\n                Sequelize.literal(`JSON_CONTAINS(user_ids, '[\"${user_id}\"]')`) // âœ… MySQL JSON column check\n            ];\n        }\n\n        const assignments = await TaskAssignment.findAll({\n            where: whereClause,\n            include: [\n                { model: Task },\n                { model: User, as: \"Assigner\", attributes: [\"id\", \"name\", \"email\"] }\n            ]\n        });\n\n        // Fetch Assignees\n        for (let assignment of assignments) {\n            if (assignment.user_ids && assignment.user_ids.length > 0) {\n                const assignees = await User.findAll({\n                    where: { id: { [Op.in]: assignment.user_ids } },\n                    attributes: [\"id\", \"name\", \"email\"]\n                });\n                assignment.dataValues.Assignees = assignees;\n            } else {\n                assignment.dataValues.Assignees = [];\n            }\n        }\n\n        res.json(assignments);\n    } catch (error) {\n        console.error(\"âŒ Error in getAllTaskAssignments:\", error);\n        res.status(500).json({ error: error.message });\n    }\n};\n\n\nexport const getTaskAssignments = async (req, res) => {\n    try {\n        const { task_id } = req.params;\n\n        // Fetch task assignments for the given task_id\n        const assignments = await TaskAssignment.findAll({\n            where: { task_id },\n            include: [\n                { model: Task },  // Include task details\n                { model: User.scope('all'), as: \"Assigner\", attributes: [\"id\", \"name\", \"email\",\"is_active\"] } // Include assigner details\n            ]\n        });\n\n        // Fetch Assignees for each assignment\n        for (let assignment of assignments) {\n            if (assignment.user_ids && assignment.user_ids.length > 0) {\n                const assignees = await User.scope('all').findAll({\n                    where: { id: { [Op.in]: assignment.user_ids } },\n                    attributes: [\"id\", \"name\", \"email\",\"is_active\"]\n                });\n                assignment.dataValues.Assignees = assignees; // Add assignees to response\n            } else {\n                assignment.dataValues.Assignees = []; // Ensure structure consistency\n            }\n        }\n\n        res.json(assignments);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport const unassignTask = async (req, res) => {\n    try {\n        const { task_id, user_id  } = req.body;\n         const changed_by =req.user.id;\n        // Find the assignment\n        const taskAssignment = await TaskAssignment.findOne({ where: { task_id } });\n\n        if (!taskAssignment) {\n            return res.status(404).json({ error: \"Task assignment not found\" });\n        }\n\n        const previousUsers = taskAssignment.user_ids || [];\n        const newUsers = previousUsers.filter(id => id !== user_id); // Remove the user\n\n        if (newUsers.length === 0) {\n            // If no users left, delete the assignment record\n            await taskAssignment.destroy();\n        } else {\n            // Update with new user list\n            await taskAssignment.update({ user_ids: newUsers });\n        }\n\n        // âœ… Log the removal in TaskChangeLog\n        await TaskChangeLog.create({\n            task_id,\n            changed_by,\n            field_changed: \"assignment\",\n            old_value: JSON.stringify(previousUsers),\n            new_value: JSON.stringify(newUsers)\n        });\n\n        res.json({ message: `User ${user_id} unassigned from task successfully` });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport const changeAssignee = async (req, res) => {\n    try {\n        const { task_id, new_assignees } = req.body;\n        const changed_by = req.user.id;\n\n        if (!task_id || !Array.isArray(new_assignees) || new_assignees.length === 0) {\n            return res.status(400).json({ error: \"task_id and non-empty new_assignees array are required.\" });\n        }\n\n        // ðŸ§  Rebuild full user list based on current selection\n        let allUserIds = [...new_assignees];\n        for (const uid of new_assignees) {\n            const higherUps = await getAllReportToUsers(uid);\n            allUserIds.push(...higherUps);\n        }\n\n        const uniqueUsers = [...new Set(allUserIds)];\n\n        const existingAssignment = await TaskAssignment.findOne({ where: { task_id } });\n\n        let oldUsers = existingAssignment ? existingAssignment.user_ids || [] : [];\n\n        if (existingAssignment) {\n            await existingAssignment.update({ user_ids: uniqueUsers });\n\n        } else {\n            await TaskAssignment.create({\n                task_id,\n                user_ids: uniqueUsers,\n                assign_by: changed_by,\n            });\n        }\n\n        // Log change\n        await TaskChangeLog.create({\n            task_id,\n            changed_by,\n            field_changed: \"assignment\",\n            old_value: JSON.stringify(oldUsers),\n            new_value: JSON.stringify(uniqueUsers),\n        });\n\n        res.status(200).json({ message: \"Assignees updated successfully\", new_assignees: uniqueUsers });\n\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n\n// export const changeAssignee = async (req, res) => {\n//     try {\n//         const { task_id, new_assignees } = req.body; // Expect array of new assignees\n//         const changed_by = req.user.id;\n\n//         let existingAssignment = await TaskAssignment.findOne({ where: { task_id } });\n\n//         let oldUsers = [];\n//         let updatedAssignees = [];\n\n//         if (existingAssignment) {\n//             oldUsers = existingAssignment.user_ids || [];\n\n//             // Filter out user IDs that already exist\n//             const newUniqueUsers = new_assignees.filter(\n//                 (userId) => !oldUsers.includes(userId)\n//             );\n\n//             // Merge and deduplicate\n//             updatedAssignees = [...new Set([...oldUsers, ...newUniqueUsers])];\n\n//             await existingAssignment.update({ user_ids: updatedAssignees });\n//         } else {\n//             // No previous assignment, just store unique users\n//             updatedAssignees = [...new Set(new_assignees)];\n\n//             existingAssignment = await TaskAssignment.create({\n//                 task_id,\n//                 user_ids: updatedAssignees,\n//                 assign_by: changed_by,\n//             });\n//         }\n\n//         await TaskChangeLog.create({\n//             task_id,\n//             changed_by,\n//             field_changed: \"assignment\",\n//             old_value: JSON.stringify(oldUsers),\n//             new_value: JSON.stringify(updatedAssignees),\n//         });\n\n//         res.status(200).json({ message: \"Assignees saved successfully\", new_assignees: updatedAssignees });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// export const changeAssignee = async (req, res) => {\n//     try {\n//         const { task_id, new_assignees } = req.body; // Expect array of new assignees\n//         const changed_by = req.user.id;\n\n//         // Try to find existing task assignment\n//         let existingAssignment = await TaskAssignment.findOne({ where: { task_id } });\n\n//         let oldUsers = [];\n\n//         if (existingAssignment) {\n//             // Store old users\n//             oldUsers = existingAssignment.user_ids || [];\n\n//             // Update the existing assignment\n//             await existingAssignment.update({ user_ids: new_assignees });\n//         } else {\n//             // Create a new assignment with assign_by included\n//             existingAssignment = await TaskAssignment.create({\n//                 task_id,\n//                 user_ids: new_assignees,\n//                 assign_by: changed_by, // âœ… Required field\n//             });\n//         }\n\n//         // Log the change\n//         await TaskChangeLog.create({\n//             task_id,\n//             changed_by,\n//             field_changed: \"assignment\",\n//             old_value: JSON.stringify(oldUsers),\n//             new_value: JSON.stringify(new_assignees),\n//         });\n\n//         res.status(200).json({ message: \"Assignees saved successfully\", new_assignees });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\n\n\n","size_bytes":22357},"qms-source/frontend-new/src/assets/theme/components/table/tableHead.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { borderRadius } = borders;\n\nconst tableHead = {\n  styleOverrides: {\n    root: {\n      display: \"block\",\n      padding: `${pxToRem(16)} ${pxToRem(16)} 0  ${pxToRem(16)}`,\n      borderRadius: `${borderRadius.xl} ${borderRadius.xl} 0 0`,\n    },\n  },\n};\n\nexport default tableHead;\n","size_bytes":1001},"qms-source/frontend-new/src/assets/theme/components/dialog/dialogActions.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst dialogActions = {\n  styleOverrides: {\n    root: {\n      padding: pxToRem(16),\n    },\n  },\n};\n\nexport default dialogActions;\n","size_bytes":755},"qms-source/BackEnd/src/config/constants.js":{"content":"//export const VALID_STATUS_VALUES = [\"Backlog\", \"Overdue\", \"In Progress\", \"Approved\", \"In Review\", \"FI\", \"PI\", \"NI\", \"NA\", \"TBD\", \"OFI\", \"Obs\", \"NC- Minor\", \"NC- Major\"];\n\nexport const VALID_STATUS_VALUES = [\"Not Done\", \"Partially Done\", \"In-Progress\", \"Largely Done\", \"Done\", \"NA\"];\nexport const VALID_PRIORITY_VALUES = [\"High\", \"Medium\", \"Low\"];\nexport const VALID_TASK_TYPES = [\"Control\", \"Process\", \"Procedure\", \"Monitoring\", \"Material\"];\nexport const VALID_TASK_CHANGE_FIELDS = [\"status\", \"priority\", \"assignment\",\"document\",\"task\"];\nexport const VALID_COMPLIANCE_VALUES = [\"Yes\", \"No\", \"Partial\", \"Not Applicable\"];\nexport const VALID_TYPE_OF_FINDING = [\"Compliance\",\"Observation\",\"Non-Compliance\",\"Opportunity For Improvement\"];\nexport const VALID_STANDARDS =[\"ISO_9001\",\"ISO_27001\"];\n\nexport const  VALID_STATUSWEIGHTAGE =  {\n    \"Not Done\": 0,\n    \"Partially Done\": 25,\n    \"In-Progress\": 50,\n    \"Largely Done\":75,\n    \"Done\":100,\n    \"NA\":100,    \n  }","size_bytes":963},"BackEnd/src/routes/userRoutes.js":{"content":"import express from 'express';\nimport userController from '../controllers/userController.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nconst router = express.Router();\n\nrouter.post('/:moduleId',authenticateUser,checkPermission(\"write\"), userController.createUser);  // Create user\nrouter.get('/:moduleId',authenticateUser,checkPermission(\"read\"), userController.getUserDetails);  // Get all users\nrouter.get('/:moduleId/getAssignableUser',authenticateUser,checkPermission(\"read\"), userController.getAssignableUsers);\nrouter.get('/:moduleId/getUsersWithHigherRole',authenticateUser,checkPermission(\"read\"), userController.getUsersWithHigherRole);\nrouter.put('/:moduleId/:id',authenticateUser, checkPermission(\"write\"),userController.updateUserDetails);  // Update user details\nrouter.get('/:moduleId/:id',authenticateUser,checkPermission(\"read\"), userController.getUserDetails);  // Get user by ID\nrouter.delete('/:moduleId/:id',authenticateUser,checkPermission(\"delete\"), userController.softDeleteUser)\n\nexport default router;\n","size_bytes":1124},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"qms-source/frontend-new/src/pages/TaskManagement/EditTask.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate, useLocation } from \"react-router-dom\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast } from \"react-toastify\";\nimport {\n  TextField,\n  Button,\n  Paper,\n  MenuItem,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Autocomplete,\n  Chip,\n  Grid2,\n  Box,\n  Tooltip,\n  Typography,\n  IconButton,\n} from \"@mui/material\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport { Edit as EditIcon, Delete as DeleteIcon } from \"@mui/icons-material\";\nimport \"../../styles/EditTask.css\";\nlet Doc_moduleId = \"cb5010bc-83fd-4409-9845-bbba4ceda9c8\";\nlet taskAssignment_ModuleId = \"8530da98-7369-4ab7-9400-37cf4019e148\";\nlet User_Moduleid = \"bd168912-e40c-48e3-b3d1-440a3e129d52\";\nlet Task_moduleId = \"1f0f190d-3a83-421c-af98-5d081100230e\";\n\nconst EditTask = () => {\n  const { moduleId, taskId } = useParams();\n  const navigate = useNavigate();\n  const [documents, setDocuments] = useState({});\n  const [isViewDocumentsPopupOpen, setIsViewDocumentsPopupOpen] =\n    useState(false);\n  const [files, setFiles] = useState([]);\n  const [fileComment, setFileComment] = useState(\"\");\n  const [originalTask, setOriginalTask] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [assignedUsers, setAssignedUsers] = useState([]);\n  const [allUsers, setAllUsers] = useState([]);\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [taskAssignments, setTaskAssignments] = useState({});\n  const location = useLocation();\n  const selectedIterationId = location.state?.iterationId || \"\";\n  const [selectedDocument, setSelectedDocument] = useState(null);\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n\n  let company_id = sessionStorage.getItem(\"selectedCompany\"); // Get company_id from sessionStorage\n\n  const [task, setTask] = useState({\n    auditee: \"\",\n    area: \"\",\n    name: \"\",\n    notes: \"\",\n    description: \"\",\n    standard: \"\",\n    task_type: \" \",\n    // expected_artifact: \"\",\n    // actual: \" \",\n    compliance: \"\",\n    status: \"\",\n    priority: \"\",\n    responsibility: \"\",\n    action_to_be_taken: \"\",\n    document_reference: \"\",\n    document: \"\",\n    Checklist_Item: \"\",\n    Type_of_Finding: \"\",\n    RCA_Details: \"\",\n    Planned_Completion_Date: \"\",\n    Actual_Completion_Date: \"\",\n    clause_number: \"\",\n  });\n\n  // Fetch task details\n  useEffect(() => {\n    if (!taskId || !moduleId) {\n      toast.error(\"Invalid task details.\");\n      navigate(\"/tasks\");\n      return;\n    }\n\n    const fetchTask = async () => {\n      const token = localStorage.getItem(\"jwtToken\");\n      if (!token) {\n        toast.error(\"Session expired. Please log in again.\");\n        navigate(\"/login\");\n        return;\n      }\n\n      try {\n        const response = await axiosInstance.get(\n          `/tasks/${moduleId}/${taskId}`,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n        setTask(response.data);\n        setOriginalTask(response.data);\n      } catch (error) {\n        toast.error(\"Failed to load task details.\");\n      }\n    };\n\n    fetchTask();\n  }, [taskId, moduleId, navigate]);\n\n  // Handle input change\n  const handleChange = (e) => {\n    setTask({ ...task, [e.target.name]: e.target.value });\n  };\n\n  // Handle file change\n  const handleFileChange = (e) => {\n    setFiles(Array.from(e.target.files));\n  };\n\n  // Handle file comment change\n  const handleFileCommentChange = (e) => {\n    setFileComment(e.target.value);\n  };\n\n  const handleUpdate = async (e) => {\n    e.preventDefault();\n    const token = localStorage.getItem(\"jwtToken\");\n    const userId = localStorage.getItem(\"userId\");\n\n    if (!token) {\n      toast.error(\"Session expired. Please log in again.\");\n      navigate(\"/login\");\n      return;\n    }\n\n    try {\n      const isTaskChanged =\n        JSON.stringify(task) !== JSON.stringify(originalTask);\n      const isAssigneeChanged =\n        JSON.stringify(selectedUsers.map((user) => user.id)) !==\n        JSON.stringify(assignedUsers.map((user) => user.id));\n      console.log(\"Selected Users:\", selectedUsers);\n      console.log(\"Task update check:\", { isTaskChanged, isAssigneeChanged });\n\n      // 1. Task Update\n      if (isTaskChanged) {\n        const { assigned_users, ...taskWithoutAssignments } = task;\n\n        const cleanedTaskPayload = Object.fromEntries(\n          Object.entries(taskWithoutAssignments).filter(\n            ([, value]) => value !== null && value !== undefined && value !== \"\"\n          )\n        );\n\n        await axiosInstance.put(\n          `/tasks/${Task_moduleId}/${taskId}`,\n          cleanedTaskPayload,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n\n        console.log(\" Task updated:\", cleanedTaskPayload);\n      }\n\n      // 2. Assignee Update - always try if changed\n      try {\n        if (isAssigneeChanged && selectedUsers.length > 0) {\n          const user_ids = selectedUsers.map((user) => user.id);\n          const assignees =\n            selectedUsers.length > 0\n              ? selectedUsers.map((user) => user.id)\n              : assignedUsers.map((user) => user.id); // fallback\n\n          console.log(\" Updating assignees:\", user_ids);\n          console.log(\" Updating assignees:\", assignees);\n\n          if (assignees.length === 0) {\n            console.warn(\" No assignees selected!\");\n          }\n          console.log(\"taskId:\", taskId);\n          console.log(\"taskAssignment_ModuleId:\", taskAssignment_ModuleId);\n\n          await axiosInstance.put(\n            `/task-assignments/${taskAssignment_ModuleId}`,\n            {\n              task_id: taskId,\n              new_assignees: assignees,\n            },\n            {\n              headers: { Authorization: `Bearer ${token}` },\n            }\n          );\n\n          console.log(\" Assignees updated\");\n        }\n      } catch (err) {\n        console.error(\" Failed to update assignees:\", {\n          message: err.message,\n          status: err.response?.status,\n          data: err.response?.data,\n          full: err,\n        });\n        toast.error(err.response?.data?.error || \"Failed to update assignees\");\n      }\n\n      // 3. File Upload - always try if file exists\n      try {\n        if (files.length > 0) {\n          const fileFormData = new FormData();\n          files.forEach((file) => fileFormData.append(\"documents\", file)); // updated key name\n          fileFormData.append(\"task_id\", taskId);\n          fileFormData.append(\"user_id\", userId);\n          fileFormData.append(\"remark\", fileComment || \"\");\n          fileFormData.append(\"company_id\", company_id);\n\n          console.log(\" Uploading file:\", {\n            task_id: taskId,\n            user_id: userId,\n            file_name: files.name,\n            remark: fileComment,\n          });\n\n          await axiosInstance.post(`/documents/${Doc_moduleId}`, fileFormData, {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n            params: { company_id },\n          });\n\n          console.log(\" File uploaded\");\n\n          // Clear uploaded files and comment\n          setFiles([]);\n          setFileComment(\"\");\n        }\n      } catch (err) {\n        console.error(\" Failed to upload file:\", err);\n      }\n\n      toast.success(\"Task updated successfully\");\n      navigate(\"/tasks\", { state: { iterationId: selectedIterationId } });\n    } catch (error) {\n      console.error(\" Error updating task:\", {\n        message: error.message,\n        status: error.response?.status,\n        data: error.response?.data,\n        full: error,\n      });\n\n      toast.error(error.response?.data?.error || \"Failed to update task\");\n    }\n  };\n\n  const fetchDocumentsByTask = async (taskId) => {\n    console.log(\"Fetching documents for task ID:\", taskId);\n\n    // Ensure taskId is valid before making the request\n    if (!taskId) {\n      console.error(\"Task ID is missing or undefined\");\n      return [];\n    }\n\n    try {\n      let token = localStorage.getItem(\"jwtToken\");\n      console.log(\"Doc Module ID:\", Doc_moduleId);\n      console.log(\"Authorization Token:\", token ? \"Present\" : \"Missing\");\n\n      const response = await axiosInstance.get(\n        `/documents/${Doc_moduleId}/${taskId}`,\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      // Ensure response and data exist\n      if (response && response.data) {\n        const data = response.data;\n        setDocuments(Array.isArray(data) ? data : []);\n        console.log(\"Documents fetched successfully:\", data);\n        return data;\n      } else {\n        console.error(\"No data received from API\");\n        setDocuments([]);\n        return [];\n      }\n    } catch (error) {\n      console.error(\n        \"Error fetching documents:\",\n        error.response?.data || error.message\n      );\n      setDocuments([]);\n      return [];\n    }\n  };\n\n  const handleViewDocuments = async () => {\n    console.log(\"Opening View Documents Dialog\"); // Debugging log\n    setIsViewDocumentsPopupOpen(true);\n    await fetchDocumentsByTask(taskId); // Fetch documents before opening\n  };\n\n  const handleDelete = async (taskId, documentId) => {\n    if (!Doc_moduleId || !documentId) {\n      toast.error(\"Missing document module ID or document ID.\");\n      return;\n    }\n\n    let token = localStorage.getItem(\"jwtToken\");\n    if (!token) {\n      toast.error(\"Session expired. Please log in again.\");\n      navigate(\"/login\");\n      return;\n    }\n\n    try {\n      const headers = { Authorization: `Bearer ${token}` };\n\n      console.log(\"Deleting document:\", { Doc_moduleId, documentId });\n\n      await axiosInstance.delete(`/documents/${Doc_moduleId}/${documentId}`, {\n        headers,\n      });\n\n      toast.success(\"Document deleted successfully!\");\n\n      // Remove the deleted document from the state\n      setDocuments((prevDocuments) =>\n        prevDocuments.filter((doc) => doc.id !== documentId)\n      );\n\n      setOpen(false);\n    } catch (error) {\n      console.error(\"Error deleting document:\", error.response?.data || error);\n      toast.error(\"Failed to delete document.\");\n    }\n  };\n\n  const fetchAssignedUsers = async (taskId) => {\n    try {\n      let token = localStorage.getItem(\"jwtToken\");\n      if (!token) {\n        console.error(\"No token found in localStorage\");\n        return;\n      }\n\n      console.log(\"Fetching assigned users for task:\", taskId);\n      console.log(\"Using token:\", token);\n      console.log(\"Task Assignment Module ID:\", taskAssignment_ModuleId);\n      console.log(\"Company ID:\", company_id);\n\n      const response = await axiosInstance.get(\n        `/task-assignments/${taskAssignment_ModuleId}/${taskId}`,\n        {\n          headers: { Authorization: `Bearer ${token}` },\n          params: { company_id },\n        }\n      );\n\n      console.log(\"Assigned Users Response:\", response.data);\n\n      const assignedUsers = response.data[0]?.Assignees || [];\n\n      // setTaskAssignments((prev) => ({\n      //   ...prev,\n      //   [taskId]: assignedUsers,\n      // }));\n\n      // setAssignedUsers(assignedUsers);\n\n      const enrichedUsers = assignedUsers.map((assigned) => {\n        if (!assigned.id) return assigned;\n        const fullUser = allUsers.find((u) => u.id === assigned.id);\n        return fullUser ? { ...fullUser, ...assigned } : assigned;\n      });\n\n      setAssignedUsers(enrichedUsers);\n      setSelectedUsers(enrichedUsers);\n\n      setTaskAssignments((prev) => ({\n        ...prev,\n        [taskId]: enrichedUsers,\n      }));\n\n      {\n        assignedUsers && assignedUsers.length > 0 ? (\n          assignedUsers.map((user) => (\n            <Chip\n              key={user.id}\n              label={user.name || \"Unknown\"}\n              style={{ margin: \"2px\" }}\n            />\n          ))\n        ) : (\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            No assigned users\n          </Typography>\n        );\n      }\n\n      console.log(\"API Response Keys:\", Object.keys(response.data));\n\n      console.log(\"Extracted Assigned Users:\", assignedUsers);\n    } catch (error) {\n      console.error(\"Error fetching assigned users:\", error);\n    }\n  };\n\n  const fetchUsers = async () => {\n    let token = localStorage.getItem(\"jwtToken\");\n\n    try {\n      const response = await axiosInstance.get(\n        `/users/${User_Moduleid}//getAssignableUser`,\n        {\n          headers: { Authorization: `Bearer ${token}` },\n          params: { company_id },\n        }\n      );\n      setAllUsers(response.data);\n      console.log(\"All Users:\", response.data);\n    } catch (error) {\n      console.error(\"Error fetching users:\", error);\n    }\n  };\n\n  const handleUserChange = (newValue) => {\n    setSelectedUsers(newValue);\n  };\n\n  useEffect(() => {\n    const loadUsersAndAssignments = async () => {\n      await fetchUsers(); // sets allUsers\n    };\n\n    if (task.id) {\n      loadUsersAndAssignments();\n    }\n  }, [task.id]);\n\n  useEffect(() => {\n    if (task.id && allUsers.length > 0 && assignedUsers.length === 0) {\n      fetchAssignedUsers(task.id);\n    }\n  }, [task.id, allUsers]);\n\n  const handleEditClick = (doc) => {\n    const parsedDate =\n      doc.issue_date && !isNaN(new Date(doc.issue_date).getTime())\n        ? new Date(doc.issue_date).toISOString().split(\"T\")[0]\n        : \"\";\n    setSelectedDocument({ ...doc, issue_date: parsedDate });\n    setEditDialogOpen(true);\n  };\n\n  const handleSaveEdit = async () => {\n    try {\n      const { id, remark, issue_date, module_id } = selectedDocument;\n      const token = localStorage.getItem(\"jwtToken\");\n\n      await axiosInstance.put(\n        `/documents/${Doc_moduleId}/${id}`,\n        { remark, issue_date },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      toast.success(\"Document updated successfully\");\n\n      // Refresh document list after edit\n      const updatedDocs = await fetchDocumentsByTask(task.id);\n      setDocuments(updatedDocs);\n      setEditDialogOpen(false);\n    } catch (error) {\n      console.error(\"Failed to update document\", error);\n      toast.error(\"Failed to update document\");\n    }\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        mb: 2,\n        marginRight: 2,\n      }}\n    >\n      <Typography\n        variant=\"h3\"\n        fontWeight={\"'bold\"}\n        sx={{ textAlign: \"center\" }}\n      >\n        Update Task\n      </Typography>\n\n      <form onSubmit={handleUpdate}>\n        <Grid2 container spacing={4} mt={2}>\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              select\n              label=\"Auditee\"\n              name=\"auditee\"\n              value={task.auditee}\n              onChange={handleChange}\n              margin=\"normal\"\n              required\n            >\n              {[\n                \"CISO\",\n                \"HOD-HR\",\n                \"HOD-Facility Admin\",\n                \"HOD-IT\",\n                \"HOD-Purchase\",\n                \"IT Administration\",\n                \"Project Manager - SDLC\",\n              ].map((auditee) => (\n                <MenuItem key={auditee} value={auditee}>\n                  {auditee}\n                </MenuItem>\n              ))}\n            </TextField>\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Area\"\n              name=\"area\"\n              value={task.area}\n              onChange={handleChange}\n              margin=\"normal\"\n              required\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Checklist Item\"\n              name=\"Checklist_Item\"\n              value={task.Checklist_Item}\n              onChange={handleChange}\n              margin=\"normal\"\n              required\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Notes\"\n              name=\"notes\"\n              value={task.notes}\n              onChange={handleChange}\n              margin=\"normal\"\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              select\n              label=\"Type of Finding\"\n              name=\"Type_of_Finding\"\n              value={task.Type_of_Finding}\n              onChange={handleChange}\n              margin=\"normal\"\n              required\n            >\n              {[\n                \"Compliance\",\n                \"Observation\",\n                \"Non-Compliance\",\n                \"Opportunity For Improvement\",\n              ].map((option) => (\n                <MenuItem key={option} value={option}>\n                  {option}\n                </MenuItem>\n              ))}\n            </TextField>\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              select\n              label=\"Status\"\n              name=\"status\"\n              value={task.status}\n              onChange={handleChange}\n              margin=\"normal\"\n            >\n              {[\n                // \"FI\",\n                // \"PI\",\n                // \"NI\",\n                // \"NA\",\n                // \"TBD\",\n                // \"OFI\",\n                // \"Obs\",\n                // \"NC- Minor\",\n                // \"NC- Major\",\n                \"Not Done\",\n                \"Partially Done\",\n                \"In-Progress\",\n                \"Largely Done\",\n                \"Done\",\n                \"NA\",\n              ].map((status) => (\n                <MenuItem key={status} value={status}>\n                  {status}\n                </MenuItem>\n              ))}\n            </TextField>\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Description\"\n              name=\"description\"\n              value={task.description}\n              onChange={handleChange}\n              margin=\"normal\"\n              multiline\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Standard\"\n              name=\"standard\"\n              value={task.standard}\n              onChange={handleChange}\n              margin=\"normal\"\n              required\n              disabled\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              select\n              label=\"Priority\"\n              name=\"priority\"\n              value={task.priority}\n              onChange={handleChange}\n              margin=\"normal\"\n            >\n              {[\"High\", \"Medium\", \"Low\"].map((priority) => (\n                <MenuItem key={priority} value={priority}>\n                  {priority}\n                </MenuItem>\n              ))}\n            </TextField>\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Responsibility\"\n              name=\"responsibility\"\n              value={task.responsibility}\n              onChange={handleChange}\n              margin=\"normal\"\n              sx={{ mb: 2 }}\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"RCA Details\"\n              name=\"RCA_Details\"\n              value={task.RCA_Details}\n              onChange={handleChange}\n              margin=\"normal\"\n              multiline\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              type=\"date\"\n              label=\"Planned Completion Date\"\n              name=\"Planned_Completion_Date\"\n              value={\n                task.Planned_Completion_Date\n                  ? new Date(task.Planned_Completion_Date)\n                      .toISOString()\n                      .split(\"T\")[0]\n                  : \"\"\n              }\n              onChange={handleChange}\n              margin=\"normal\"\n              InputLabelProps={{ shrink: true }}\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              type=\"date\"\n              label=\"Actual Completion Date\"\n              name=\"Actual_Completion_Date\"\n              value={\n                task.Actual_Completion_Date\n                  ? new Date(task.Actual_Completion_Date)\n                      .toISOString()\n                      .split(\"T\")[0]\n                  : \"\"\n              }\n              onChange={handleChange}\n              margin=\"normal\"\n              InputLabelProps={{ shrink: true }}\n            />\n          </Grid2>\n\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <TextField\n              fullWidth\n              label=\"Reference - Clause\"\n              name=\"clause_number\"\n              value={task.clause_number}\n              onChange={handleChange}\n              margin=\"normal\"\n            />\n          </Grid2>\n\n          {/* Assigned Users Dropdown */}\n          <Grid2 size={{ xs: 12, md: 6 }}>\n            <Autocomplete\n              multiple\n              options={allUsers || []}\n              getOptionLabel={(user) =>\n                user?.name\n                  ? `${user.name}${\n                      user.department?.name ? ` (${user.department.name})` : \"\"\n                    }${user.is_active ? \"\" : \" (Inactive)\"}`\n                  : user?.email || \"Unknown User\"\n              }\n              isOptionEqualToValue={(option, value) => option.id === value.id}\n              value={selectedUsers}\n              onChange={(event, newValue) => {\n                setSelectedUsers(newValue);\n              }}\n              renderOption={(props, option) => (\n                <li\n                  {...props}\n                  style={{\n                    color: option.is_active ? \"inherit\" : \"#888\",\n                    fontStyle: option.is_active ? \"normal\" : \"italic\",\n                  }}\n                >\n                  {option.name || option.email}\n                  {option.department?.name\n                    ? ` (${option.department.name})`\n                    : \"\"}\n                  {!option.is_active && \" (Inactive)\"}\n                </li>\n              )}\n              renderTags={(value, getTagProps) =>\n                value.filter(Boolean).map((option, index) => {\n                  const tagProps = getTagProps({ index });\n                  const { key, ...restTagProps } = tagProps;\n\n                  return (\n                    <Chip\n                      key={option.id || key}\n                      label={`${option.name || option.email}${\n                        option.department?.name\n                          ? ` (${option.department.name})`\n                          : \"\"\n                      }${option.is_active === false ? \" (Inactive)\" : \"\"}`}\n                      style={{\n                        backgroundColor:\n                          option.is_active === false ? \"#ddd\" : undefined,\n                        color: option.is_active === false ? \"#555\" : undefined,\n                        fontStyle:\n                          option.is_active === false ? \"italic\" : \"normal\",\n                      }}\n                      {...restTagProps}\n                    />\n                  );\n                })\n              }\n              renderInput={(params) => (\n                <TextField\n                  {...params}\n                  label=\"Assign Users\"\n                  variant=\"outlined\"\n                  fullWidth\n                />\n              )}\n              style={{ minWidth: \"250px\" }}\n            />\n          </Grid2>\n\n          {/* File Upload Section */}\n          <div className=\"file-upload-section\">\n            <label className=\"custom-file-input\">\n              <input type=\"file\" multiple onChange={handleFileChange} />\n              <span className=\"custom-file-button\">Choose File</span>\n            </label>\n            {files.length > 0 && (\n              <span className=\"file-name\">\n                {files.map((file) => file.name).join(\", \")}\n              </span>\n            )}\n            <TextField\n              fullWidth\n              label=\"File Comment\"\n              value={fileComment}\n              onChange={handleFileCommentChange}\n              margin=\"normal\"\n              placeholder=\"Enter a comment for the uploaded file\"\n            />\n          </div>\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={async () => {\n              const docs = await fetchDocumentsByTask(task.id);\n\n              if (!docs || docs.length === 0) {\n                // Show alert toast instead of opening popup\n                toast.warning(\"No documents available.\");\n                return;\n              }\n\n              setDocuments(docs || []);\n              setSelectedTask(task.id);\n              setIsViewDocumentsPopupOpen(true);\n            }}\n          >\n            View Document\n          </Button>\n\n          <Grid2 size={{ xs: 12 }}>\n            <Box display=\"flex\" justifyContent=\"flex-end\" gap={2}>\n              <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n                Update Task\n              </Button>\n\n              <Button\n                variant=\"outlined\"\n                color=\"secondary\"\n                onClick={() =>\n                  navigate(\"/tasks\", {\n                    state: { iterationId: selectedIterationId },\n                  })\n                }\n              >\n                Cancel\n              </Button>\n            </Box>\n          </Grid2>\n        </Grid2>\n      </form>\n\n      {isViewDocumentsPopupOpen && (\n        <Dialog\n          open={isViewDocumentsPopupOpen}\n          onClose={() => setIsViewDocumentsPopupOpen(false)}\n          fullWidth\n          maxWidth=\"xl\"\n          style={{ maxWidth: \"90vw\" }}\n        >\n          <DialogTitle>View Uploaded Documents</DialogTitle>\n\n          <DialogContent>\n            {documents && Array.isArray(documents) && documents.length > 0 ? (\n              <Box sx={{ width: \"100%\" }}>\n                <DataGrid\n                  rows={documents.map((doc, index) => ({\n                    id: doc.id || index,\n                    file_name: doc.file_name,\n                    remark: doc.remark || \"No remark provided\",\n                    uploader: doc.uploader?.name || \"Unknown\",\n                    uploaded_at: doc.uploaded_at\n                      ? new Date(doc.uploaded_at).toLocaleString()\n                      : \"N/A\",\n                    issue_version:\n                      doc.issue_version ||\n                      (doc.file_name?.match(/_v(\\d+)_/)?.[1]\n                        ? `v${doc.file_name.match(/_v(\\d+)_/)[1]}`\n                        : \"N/A\"),\n                    issue_date: doc.issue_date\n                      ? new Date(doc.issue_date).toLocaleDateString()\n                      : \"N/A\",\n                    file_url: doc.file_url,\n                    module_id: doc.module_id,\n                  }))}\n                  columns={[\n                    {\n                      field: \"file_name\",\n                      headerName: \"Document File Name\",\n                      flex: 1,\n                    },\n                    {\n                      field: \"remark\",\n                      headerName: \"Remark\",\n                      flex: 1,\n                    },\n                    {\n                      field: \"uploader\",\n                      headerName: \"Uploaded by\",\n                      flex: 1,\n                    },\n                    {\n                      field: \"uploaded_at\",\n                      headerName: \"Uploaded on date\",\n                      flex: 1,\n                    },\n                    {\n                      field: \"file_url\",\n                      headerName: \"File Link\",\n                      flex: 1,\n                      renderCell: (params) => (\n                        <a\n                          href={params.value}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          style={{ color: \"#1976d2\", textDecoration: \"none\" }}\n                        >\n                          Open File\n                        </a>\n                      ),\n                    },\n                    {\n                      field: \"actions\",\n                      headerName: \"Actions\",\n                      flex: 1,\n                      renderCell: (params) => (\n                        <>\n                          <Tooltip title=\"Edit\">\n                            <IconButton\n                              onClick={() => handleEditClick(params.row)}\n                              color=\"primary\"\n                            >\n                              <EditIcon />\n                            </IconButton>\n                          </Tooltip>\n                          <Tooltip title=\"Delete\">\n                            <IconButton\n                              onClick={() =>\n                                handleDelete(\n                                  params.row.module_id,\n                                  params.row.id\n                                )\n                              }\n                              color=\"error\"\n                            >\n                              <DeleteIcon />\n                            </IconButton>\n                          </Tooltip>\n                        </>\n                      ),\n                    },\n\n                    {\n                      field: \"id\",\n                      headerName: \"Document ID\",\n                      flex: 1,\n                      renderCell: (params) => {\n                        const fullId = params.value || \"N/A\";\n                        const truncatedId =\n                          fullId.length > 16\n                            ? `${fullId.slice(0, 8)}...${fullId.slice(-6)}`\n                            : fullId;\n\n                        return (\n                          <Tooltip title={fullId} arrow>\n                            <Typography\n                              variant=\"body2\"\n                              sx={{\n                                fontFamily: \"monospace\",\n                                whiteSpace: \"nowrap\",\n                                overflow: \"hidden\",\n                                textOverflow: \"ellipsis\",\n                                width: \"100%\",\n                              }}\n                            >\n                              {truncatedId}\n                            </Typography>\n                          </Tooltip>\n                        );\n                      },\n                    },\n                    {\n                      field: \"issue_version\",\n                      headerName: \"Document Issue Version\",\n                      flex: 1,\n                    },\n                    {\n                      field: \"issue_date\",\n                      headerName: \"Document Issue Date\",\n                      flex: 1,\n                    },\n                  ]}\n                  initialState={{\n                    pagination: {\n                      paginationModel: { pageSize: 5, page: 0 },\n                    },\n                  }}\n                  pageSizeOptions={[5, 10, 25]}\n                  disableRowSelectionOnClick\n                />\n              </Box>\n            ) : (\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                No documents available.\n              </Typography>\n            )}\n          </DialogContent>\n\n          <DialogActions className=\"button-group\">\n            <Button\n              className=\"MuiButton-outlinedSecondary\"\n              onClick={() => setIsViewDocumentsPopupOpen(false)}\n            >\n              Close\n            </Button>\n          </DialogActions>\n        </Dialog>\n      )}\n\n      <Dialog open={editDialogOpen} onClose={() => setEditDialogOpen(false)}>\n        <DialogTitle>Edit Document</DialogTitle>\n        <DialogContent>\n          <TextField\n            label=\"Remark\"\n            fullWidth\n            margin=\"dense\"\n            value={selectedDocument?.remark || \"\"}\n            onChange={(e) =>\n              setSelectedDocument({\n                ...selectedDocument,\n                remark: e.target.value,\n              })\n            }\n          />\n          <TextField\n            label=\"Issue Date\"\n            type=\"date\"\n            fullWidth\n            margin=\"dense\"\n            InputLabelProps={{ shrink: true }}\n            value={selectedDocument?.issue_date || \"\"}\n            onChange={(e) =>\n              setSelectedDocument({\n                ...selectedDocument,\n                issue_date: e.target.value,\n              })\n            }\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setEditDialogOpen(false)}>Cancel</Button>\n          <Button variant=\"contained\" onClick={handleSaveEdit}>\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Paper>\n  );\n};\n\nexport default EditTask;\n","size_bytes":33412},"frontend-new/src/Components/Sidebar/SidebarRoot.jsx":{"content":"/* eslint-disable react-refresh/only-export-components */\n\n// @mui material components\nimport Drawer from \"@mui/material/Drawer\";\nimport { styled } from \"@mui/material/styles\";\n\nexport default styled(Drawer)(({ theme, ownerState }) => {\n  const { palette, boxShadows, transitions, breakpoints, functions } = theme;\n  const { transparentSidenav, whiteSidenav, miniSidenav, darkMode } = ownerState;\n\n  const sidebarWidth = 250;\n  const { transparent, gradients, white, background } = palette;\n  const { xxl } = boxShadows;\n  const { pxToRem, linearGradient } = functions;\n\n  let backgroundValue = darkMode\n    ? background.sidenav\n    : linearGradient(gradients.dark.main, gradients.dark.state);\n\n  if (transparentSidenav) {\n    backgroundValue = transparent.main;\n  } else if (whiteSidenav) {\n    backgroundValue = white.main;\n  }\n\n  // styles for the sidenav when miniSidenav={false}\n  const drawerOpenStyles = () => ({\n    background: backgroundValue,\n    transform: \"translateX(0)\",\n    transition: transitions.create(\"transform\", {\n      easing: transitions.easing.sharp,\n      duration: transitions.duration.shorter,\n    }),\n\n    [breakpoints.up(\"xl\")]: {\n      boxShadow: transparentSidenav ? \"none\" : xxl,\n      marginBottom: transparentSidenav ? 0 : \"inherit\",\n      left: \"0\",\n      width: sidebarWidth,\n      transform: \"translateX(0)\",\n      transition: transitions.create([\"width\", \"background-color\"], {\n        easing: transitions.easing.sharp,\n        duration: transitions.duration.enteringScreen,\n      }),\n    },\n  });\n\n  // styles for the sidenav when miniSidenav={true}\n  const drawerCloseStyles = () => ({\n    background: backgroundValue,\n    transform: `translateX(${pxToRem(-320)})`,\n    transition: transitions.create(\"transform\", {\n      easing: transitions.easing.sharp,\n      duration: transitions.duration.shorter,\n    }),\n\n    [breakpoints.up(\"xl\")]: {\n      boxShadow: transparentSidenav ? \"none\" : xxl,\n      marginBottom: transparentSidenav ? 0 : \"inherit\",\n      left: \"0\",\n      width: pxToRem(96),\n      overflowX: \"hidden\",\n      transform: \"translateX(0)\",\n      transition: transitions.create([\"width\", \"background-color\"], {\n        easing: transitions.easing.sharp,\n        duration: transitions.duration.shorter,\n      }),\n    },\n  });\n\n  return {\n    \"& .MuiDrawer-paper\": {\n      boxShadow: xxl,\n      border: \"none\",\n\n      ...(miniSidenav ? drawerCloseStyles() : drawerOpenStyles()),\n    },\n  };\n});\n","size_bytes":2444},"qms-source/frontend-new/src/assets/theme-dark/functions/pxToRem.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The pxToRem() function helps you to convert a px unit into a rem unit, \n */\n\nfunction pxToRem(number, baseNumber = 16) {\n  return `${number / baseNumber}rem`;\n}\n\nexport default pxToRem;\n","size_bytes":715},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"frontend-new/src/assets/theme/base/typography.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base typography styles for the Material Dashboard 2 React.\n * You can add new typography style using this file.\n * You can customized the typography styles for the entire Material Dashboard 2 React using thie file.\n */\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"../../../assets/theme/base/colors\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"../../../assets/theme/functions/pxToRem\";\n\nconst { dark } = colors;\n\nconst baseProperties = {\n  fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n  fontWeightLighter: 100,\n  fontWeightLight: 300,\n  fontWeightRegular: 400,\n  fontWeightMedium: 600,\n  fontWeightBold: 700,\n  fontSizeXXS: pxToRem(10.4),\n  fontSizeXS: pxToRem(12),\n  fontSizeSM: pxToRem(14),\n  fontSizeMD: pxToRem(16),\n  fontSizeLG: pxToRem(18),\n  fontSizeXL: pxToRem(20),\n  fontSize2XL: pxToRem(24),\n  fontSize3XL: pxToRem(30),\n};\n\nconst baseHeadingProperties = {\n  fontFamily: baseProperties.fontFamily,\n  color: dark.main,\n  fontWeight: baseProperties.fontWeightBold,\n};\n\nconst baseDisplayProperties = {\n  fontFamily: baseProperties.fontFamily,\n  color: dark.main,\n  fontWeight: baseProperties.fontWeightLight,\n  lineHeight: 1.2,\n};\n\nconst typography = {\n  fontFamily: baseProperties.fontFamily,\n  fontWeightLighter: baseProperties.fontWeightLighter,\n  fontWeightLight: baseProperties.fontWeightLight,\n  fontWeightRegular: baseProperties.fontWeightRegular,\n  fontWeightMedium: baseProperties.fontWeightMedium,\n  fontWeightBold: baseProperties.fontWeightBold,\n\n  h1: {\n    fontSize: pxToRem(48),\n    lineHeight: 1.25,\n    ...baseHeadingProperties,\n  },\n\n  h2: {\n    fontSize: pxToRem(36),\n    lineHeight: 1.3,\n    ...baseHeadingProperties,\n  },\n\n  h3: {\n    fontSize: pxToRem(30),\n    lineHeight: 1.375,\n    ...baseHeadingProperties,\n  },\n\n  h4: {\n    fontSize: pxToRem(24),\n    lineHeight: 1.375,\n    ...baseHeadingProperties,\n  },\n\n  h5: {\n    fontSize: pxToRem(20),\n    lineHeight: 1.375,\n    ...baseHeadingProperties,\n  },\n\n  h6: {\n    fontSize: pxToRem(16),\n    lineHeight: 1.625,\n    ...baseHeadingProperties,\n  },\n\n  subtitle1: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeXL,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.625,\n  },\n\n  subtitle2: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeMD,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.6,\n  },\n\n  body1: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeXL,\n    fontWeight: baseProperties.fontWeightRegular,\n    lineHeight: 1.625,\n  },\n\n  body2: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeMD,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.6,\n  },\n\n  button: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeSM,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.5,\n    textTransform: \"uppercase\",\n  },\n\n  caption: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeXS,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.25,\n  },\n\n  overline: {\n    fontFamily: baseProperties.fontFamily,\n  },\n\n  d1: {\n    fontSize: pxToRem(80),\n    ...baseDisplayProperties,\n  },\n\n  d2: {\n    fontSize: pxToRem(72),\n    ...baseDisplayProperties,\n  },\n\n  d3: {\n    fontSize: pxToRem(64),\n    ...baseDisplayProperties,\n  },\n\n  d4: {\n    fontSize: pxToRem(56),\n    ...baseDisplayProperties,\n  },\n\n  d5: {\n    fontSize: pxToRem(48),\n    ...baseDisplayProperties,\n  },\n\n  d6: {\n    fontSize: pxToRem(40),\n    ...baseDisplayProperties,\n  },\n\n  size: {\n    xxs: baseProperties.fontSizeXXS,\n    xs: baseProperties.fontSizeXS,\n    sm: baseProperties.fontSizeSM,\n    md: baseProperties.fontSizeMD,\n    lg: baseProperties.fontSizeLG,\n    xl: baseProperties.fontSizeXL,\n    \"2xl\": baseProperties.fontSize2XL,\n    \"3xl\": baseProperties.fontSize3XL,\n  },\n\n  lineHeight: {\n    sm: 1.25,\n    md: 1.5,\n    lg: 2,\n  },\n};\n\nexport default typography;\n","size_bytes":4570},"frontend-new/src/assets/theme/components/stepper/stepLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme/base/typography\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport rgba from \"assets/theme/functions/rgba\";\n\nconst { size, fontWeightRegular } = typography;\nconst { white } = colors;\n\nconst stepLabel = {\n  styleOverrides: {\n    label: {\n      marginTop: `${pxToRem(8)} !important`,\n      fontWeight: fontWeightRegular,\n      fontSize: size.xs,\n      color: \"#9fc9ff\",\n      textTransform: \"uppercase\",\n\n      \"&.Mui-active\": {\n        fontWeight: `${fontWeightRegular} !important`,\n        color: `${rgba(white.main, 0.8)} !important`,\n      },\n\n      \"&.Mui-completed\": {\n        fontWeight: `${fontWeightRegular} !important`,\n        color: `${rgba(white.main, 0.8)} !important`,\n      },\n    },\n  },\n};\n\nexport default stepLabel;\n","size_bytes":1442},"qms-source/BackEnd/src/models/User.js":{"content":"import { DataTypes } from 'sequelize';\nimport sequelize from '../config/db.js';\nimport bcrypt from 'bcryptjs';\nimport Company from './Company.js';\nimport Role from './Role.js';\nimport Department from './Department.js';\nimport GeneralDocument from './GeneralDocument.js';\nimport GeneralDocumentFolder from './GeneralDocumentFolder.js';\n\n\nconst User = sequelize.define('User', {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    company_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n            model: 'Company',\n            key: 'id'\n        }\n    },\n    email: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: false\n    },\n    name: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    role_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n            model: 'Role',\n            key: 'id'\n        }\n    },\n    reportTo: {\n        type: DataTypes.UUID,\n        allowNull: true,\n        references: {\n            model: 'User',\n            key: 'id'\n        }\n    },\n    password_hash: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    is_active: {\n        type: DataTypes.BOOLEAN,\n        defaultValue: true\n    },\n    department_id: {\n        type: DataTypes.UUID,\n        allowNull: true,\n        references: {\n          model: 'department',\n          key: 'id'\n        },\n        onDelete: 'SET NULL'\n      },\n      \n}, {\n    timestamps: true,\n    freezeTableName: true,\n    defaultScope: {\n        where: {\n            is_active: true\n        }\n    },\n    scopes: {\n        all: {} // Use `User.scope('all')` to get both active & inactive users\n    }\n}\n\n);\n\n// Password is already hashed in bootstrapSystemSuperAdmin.js and authController.js\nUser.beforeCreate(async (user) => {\n    // Skip hashing as it's already hashed\n});\n\n// Define relationships\nUser.belongsTo(Company, { foreignKey: 'company_id', targetKey: 'id' });\nCompany.hasMany(User, { foreignKey: 'company_id', onDelete: 'CASCADE' });\n\nUser.belongsTo(Role, { foreignKey: 'role_id', targetKey: 'id' });\nRole.hasMany(User, { foreignKey: 'role_id' });\n\nUser.belongsTo(User, { as: 'Manager', foreignKey: 'reportTo' });\nUser.hasMany(User, { as: 'Subordinates', foreignKey: 'reportTo' });  \n\nUser.belongsTo(Department, { as: 'department', foreignKey: 'department_id' });\nDepartment.hasMany(User, { foreignKey: 'department_id' });\n\nexport default User;\n\n","size_bytes":2514},"qms-source/frontend-new/src/assets/theme/components/tooltip.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// @mui material components\nimport Fade from \"@mui/material/Fade\";\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\nimport borders from \"assets/theme/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { black, light } = colors;\nconst { size, fontWeightRegular } = typography;\nconst { borderRadius } = borders;\n\nconst tooltip = {\n  defaultProps: {\n    arrow: true,\n    TransitionComponent: Fade,\n  },\n\n  styleOverrides: {\n    tooltip: {\n      maxWidth: pxToRem(200),\n      backgroundColor: black.main,\n      color: light.main,\n      fontSize: size.sm,\n      fontWeight: fontWeightRegular,\n      textAlign: \"center\",\n      borderRadius: borderRadius.md,\n      opacity: 0.7,\n      padding: `${pxToRem(5)} ${pxToRem(8)} ${pxToRem(4)}`,\n    },\n\n    arrow: {\n      color: black.main,\n    },\n  },\n};\n\nexport default tooltip;\n","size_bytes":1510},"qms-source/BackEnd/src/models/Document.js":{"content":"import { DataTypes } from \"sequelize\";\nimport sequelize from \"../config/db.js\";\nimport Task from \"./Task.js\";  // Import Task model\nimport User from \"./User.js\";  // Import User model\n\n\nconst Document = sequelize.define(\"Document\", {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    task_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: Task, key: \"id\" }  // Task model is now imported\n    },\n    user_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: User, key: \"id\" }  // User model is now imported\n    },\n    file_name: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    file_path: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    remark: {\n        type: DataTypes.STRING,\n        allowNull: true\n    },\n    uploaded_at: {\n        type: DataTypes.DATE,\n        defaultValue: DataTypes.NOW\n    },\n    issue_date: {\n        type: DataTypes.DATE,\n        allowNull: true  \n    },\n    is_deleted: {\n        type: DataTypes.BOOLEAN,\n        defaultValue: false\n    }\n}, { timestamps: false });\n\nDocument.belongsTo(User, { foreignKey: \"user_id\", as: \"uploader\" });\n\n\n// Document.afterCreate(async (doc) => {\n//     try {\n//         console.log(\"ðŸ“‚ New document uploaded:\", doc.dataValues);\n\n//         const io = getSocket();\n//         const { task_id, user_id, file_name } = doc;\n\n//         // âœ… Fetch task details\n//         const task = await Task.findByPk(task_id, { attributes: [\"name\", \"company_id\", \"createdBy\"] });\n\n//         if (!task || !task.company_id) {\n//             console.log(\"âŒ Task or Company not found for document:\", task_id);\n//             return;\n//         }\n\n//         const company_id = task.company_id;\n\n//         // âœ… Get Super Admins of the same company\n//         const superAdmins = await User.findAll({\n//             include: { model: Role, where: { name: \"Super Admin\" }, attributes: [] },\n//             where: { company_id },\n//             attributes: [\"id\"]\n//         });\n\n//         const superAdminIds = superAdmins.map(user => user.id);\n\n//         // âœ… Get System Super Admins (to be excluded)\n//         const systemSuperAdmins = await User.findAll({\n//             include: { model: Role, where: { name: \"System Super Admin\" }, attributes: [] },\n//             attributes: [\"id\"]\n//         });\n\n//         const systemSuperAdminIds = new Set(systemSuperAdmins.map(user => user.id));\n\n//         // âœ… Get Assignees & Assigners\n//         const taskAssignments = await TaskAssignment.findAll({\n//             where: { task_id },\n//             attributes: [\"user_ids\", \"assign_by\"]\n//         });\n\n//         let assigneeIds = [];\n//         let assignerIds = new Set();\n\n//         taskAssignments.forEach(assignment => {\n//             assigneeIds.push(...assignment.user_ids);\n//             assignerIds.add(assignment.assign_by);\n//         });\n\n//         // âœ… Get Task Creator\n//         const taskCreatorId = task.createdBy;\n\n//         console.log(`Super Admins: ${superAdminIds}`);\n//         console.log(`System Super Admins (excluded): ${Array.from(systemSuperAdminIds)}`);\n\n//         // âœ… Recipients (Super Admins, Assignees, Assigners, Task Creator)\n//         const recipients = new Set([...superAdminIds, ...assigneeIds, ...assignerIds, taskCreatorId]);\n\n//         // âœ… Remove uploader and System Super Admins from notifications\n//         recipients.delete(user_id);\n//         systemSuperAdminIds.forEach((sysAdminId) => recipients.delete(sysAdminId));\n\n//         if (recipients.size === 0) {\n//             console.log(\"âš ï¸ No recipients found for document upload in task:\", task_id);\n//             return;\n//         }\n\n//         // âœ… Notification message\n//         const taskName = task.name || `Task ID: ${task_id}`;\n//         const message = `New document \"${file_name}\" uploaded for task: ${taskName}`;\n\n//         // âœ… Create notifications\n//         const notifications = Array.from(recipients).map(userId => ({\n//             user_id: userId,\n//             task_id,\n//             type: \"document_upload\",\n//             message,\n//             seen: false\n//         }));\n\n//         // âœ… Save notifications to DB\n//         if (notifications.length > 0) {\n//             // ðŸ” Create notifications\n//             const createdNotifications = await Notification.bulkCreate(notifications, { returning: true });\n        \n//             console.log(\"âœ… Notifications created successfully:\", createdNotifications.map(n => n.toJSON()));\n        \n//             // ðŸ” Emit each full notification individually\n//             createdNotifications.forEach(notification => {\n//                 io.to(notification.user_id).emit(\"new_notification\", {\n//                     id: notification.id,\n//                     user_id: notification.user_id,\n//                     task_id: notification.task_id,\n//                     type: notification.type,\n//                     message: notification.message,\n//                     is_seen: notification.seen, // assuming your DB column is `seen`, but frontend expects `is_seen`\n//                     created_at: notification.createdAt\n//                 });\n//             });\n//         }\n        \n\n//     } catch (error) {\n//         console.error(\"âŒ Error creating document upload notification:\", error);\n//     }\n// });\n\n\nexport default Document;\n\n","size_bytes":5495},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"qms-source/frontend-new/src/assets/theme/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// @mui material components\nimport { createTheme } from \"@mui/material/styles\";\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport breakpoints from \"assets/theme/base/breakpoints\";\nimport typography from \"assets/theme/base/typography\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\nimport borders from \"assets/theme/base/borders\";\nimport globals from \"assets/theme/base/globals\";\n\n// Material Dashboard 2 React helper functions\nimport boxShadow from \"assets/theme/functions/boxShadow\";\nimport hexToRgb from \"assets/theme/functions/hexToRgb\";\nimport linearGradient from \"assets/theme/functions/linearGradient\";\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport rgba from \"assets/theme/functions/rgba\";\n\n// Material Dashboard 2 React components base styles for @mui material components\nimport sidenav from \"assets/theme/components/sidenav\";\nimport list from \"assets/theme/components/list\";\nimport listItem from \"assets/theme/components/list/listItem\";\nimport listItemText from \"assets/theme/components/list/listItemText\";\nimport card from \"assets/theme/components/card\";\nimport cardMedia from \"assets/theme/components/card/cardMedia\";\nimport cardContent from \"assets/theme/components/card/cardContent\";\nimport button from \"assets/theme/components/button\";\nimport iconButton from \"assets/theme/components/iconButton\";\nimport input from \"assets/theme/components/form/input\";\nimport inputLabel from \"assets/theme/components/form/inputLabel\";\nimport inputOutlined from \"assets/theme/components/form/inputOutlined\";\nimport textField from \"assets/theme/components/form/textField\";\nimport menu from \"assets/theme/components/menu\";\nimport menuItem from \"assets/theme/components/menu/menuItem\";\nimport switchButton from \"assets/theme/components/form/switchButton\";\nimport divider from \"assets/theme/components/divider\";\nimport tableContainer from \"assets/theme/components/table/tableContainer\";\nimport tableHead from \"assets/theme/components/table/tableHead\";\nimport tableCell from \"assets/theme/components/table/tableCell\";\nimport linearProgress from \"assets/theme/components/linearProgress\";\nimport breadcrumbs from \"assets/theme/components/breadcrumbs\";\nimport slider from \"assets/theme/components/slider\";\nimport avatar from \"assets/theme/components/avatar\";\nimport tooltip from \"assets/theme/components/tooltip\";\nimport appBar from \"assets/theme/components/appBar\";\nimport tabs from \"assets/theme/components/tabs\";\nimport tab from \"assets/theme/components/tabs/tab\";\nimport stepper from \"assets/theme/components/stepper\";\nimport step from \"assets/theme/components/stepper/step\";\nimport stepConnector from \"assets/theme/components/stepper/stepConnector\";\nimport stepLabel from \"assets/theme/components/stepper/stepLabel\";\nimport stepIcon from \"assets/theme/components/stepper/stepIcon\";\nimport select from \"assets/theme/components/form/select\";\nimport formControlLabel from \"assets/theme/components/form/formControlLabel\";\nimport formLabel from \"assets/theme/components/form/formLabel\";\nimport checkbox from \"assets/theme/components/form/checkbox\";\nimport radio from \"assets/theme/components/form/radio\";\nimport autocomplete from \"assets/theme/components/form/autocomplete\";\nimport container from \"assets/theme/components/container\";\nimport popover from \"assets/theme/components/popover\";\nimport buttonBase from \"assets/theme/components/buttonBase\";\nimport icon from \"assets/theme/components/icon\";\nimport svgIcon from \"assets/theme/components/svgIcon\";\nimport link from \"assets/theme/components/link\";\nimport dialog from \"assets/theme/components/dialog\";\nimport dialogTitle from \"assets/theme/components/dialog/dialogTitle\";\nimport dialogContent from \"assets/theme/components/dialog/dialogContent\";\nimport dialogContentText from \"assets/theme/components/dialog/dialogContentText\";\nimport dialogActions from \"assets/theme/components/dialog/dialogActions\";\n\nexport default createTheme({\n  breakpoints: { ...breakpoints },\n  palette: { ...colors },\n  typography: { ...typography },\n  boxShadows: { ...boxShadows },\n  borders: { ...borders },\n  functions: {\n    boxShadow,\n    hexToRgb,\n    linearGradient,\n    pxToRem,\n    rgba,\n  },\n\n  components: {\n    MuiCssBaseline: {\n      styleOverrides: {\n        ...globals,\n        ...container,\n      },\n    },\n    MuiDrawer: { ...sidenav },\n    MuiList: { ...list },\n    MuiListItem: { ...listItem },\n    MuiListItemText: { ...listItemText },\n    MuiCard: { ...card },\n    MuiCardMedia: { ...cardMedia },\n    MuiCardContent: { ...cardContent },\n    MuiButton: { ...button },\n    MuiIconButton: { ...iconButton },\n    MuiInput: { ...input },\n    MuiInputLabel: { ...inputLabel },\n    MuiOutlinedInput: { ...inputOutlined },\n    MuiTextField: { ...textField },\n    MuiMenu: { ...menu },\n    MuiMenuItem: { ...menuItem },\n    MuiSwitch: { ...switchButton },\n    MuiDivider: { ...divider },\n    MuiTableContainer: { ...tableContainer },\n    MuiTableHead: { ...tableHead },\n    MuiTableCell: { ...tableCell },\n    MuiLinearProgress: { ...linearProgress },\n    MuiBreadcrumbs: { ...breadcrumbs },\n    MuiSlider: { ...slider },\n    MuiAvatar: { ...avatar },\n    MuiTooltip: { ...tooltip },\n    MuiAppBar: { ...appBar },\n    MuiTabs: { ...tabs },\n    MuiTab: { ...tab },\n    MuiStepper: { ...stepper },\n    MuiStep: { ...step },\n    MuiStepConnector: { ...stepConnector },\n    MuiStepLabel: { ...stepLabel },\n    MuiStepIcon: { ...stepIcon },\n    MuiSelect: { ...select },\n    MuiFormControlLabel: { ...formControlLabel },\n    MuiFormLabel: { ...formLabel },\n    MuiCheckbox: { ...checkbox },\n    MuiRadio: { ...radio },\n    MuiAutocomplete: { ...autocomplete },\n    MuiPopover: { ...popover },\n    MuiButtonBase: { ...buttonBase },\n    MuiIcon: { ...icon },\n    MuiSvgIcon: { ...svgIcon },\n    MuiLink: { ...link },\n    MuiDialog: { ...dialog },\n    MuiDialogTitle: { ...dialogTitle },\n    MuiDialogContent: { ...dialogContent },\n    MuiDialogContentText: { ...dialogContentText },\n    MuiDialogActions: { ...dialogActions },\n  },\n});\n","size_bytes":6553},"frontend-new/src/pages/auth/Login.jsx":{"content":"// top level imports\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n// MUI\nimport {\n  Box,\n  Grid2,\n  Card,\n  Typography,\n  Button,\n  Switch,\n  TextField,\n} from \"@mui/material\";\nimport { Facebook, GitHub, Google } from \"@mui/icons-material\";\n\nimport { toast } from \"react-toastify\";\nimport { jwtDecode } from \"jwt-decode\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport \"../../styles/LoginPage.css\";\n\n// Component definition\nexport default function LoginPage({ background = \"default\" }) {\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [showForgotModal, setShowForgotModal] = useState(false);\n  const [forgotEmail, setForgotEmail] = useState(\"\");\n  const [forgotLoading, setForgotLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!email.trim()) return toast.warning(\"Email is required.\");\n    if (!password.trim()) return toast.warning(\"Password is required.\");\n\n    setLoading(true);\n\n    try {\n      // Authenticate user and get token\n      const response = await axiosInstance.post(\"/auth/login\", {\n        email,\n        password,\n      });\n\n      const token = response.data.token;\n      if (!token) throw new Error(\"No token received\");\n\n      // Decode token to extract user details\n      const decodedToken = jwtDecode(token);\n      const userId = decodedToken?.id || null;\n      const roleId = decodedToken?.role || null;\n      const name = decodedToken?.name || \"User\"; // Extract name\n      const company_id = decodedToken?.company;\n\n      if (!userId) {\n        console.error(\"Error: userId is missing in token\");\n        toast.error(\"Login failed: User ID not found\");\n        return;\n      }\n\n      sessionStorage.clear();\n\n      // Store token and user details\n      localStorage.setItem(\"jwtToken\", token);\n      localStorage.setItem(\"userId\", userId);\n      localStorage.setItem(\"userEmail\", email);\n      localStorage.setItem(\"name\", name);\n      sessionStorage.setItem(\"selectedCompany\", company_id);\n\n      if (userId) localStorage.setItem(\"userId\", userId);\n      console.log(\"Stored userId:\", userId);\n      let roleName = \"\";\n\n      if (roleId) {\n        try {\n          // Fetch user role using token and roleModuleId\n          const roleModuleId = \"971a88b8-461e-4cd2-9a06-fce42ad6b806\"; // Role module ID\n          const roleResponse = await axiosInstance.get(\n            `/roles/${roleModuleId}/${roleId}`,\n            {\n              headers: { Authorization: `Bearer ${token}` },\n              params: { company_id: company_id },\n            },\n          );\n\n          roleName = roleResponse.data.name; // Using name instead of roleName to match API response\n          localStorage.setItem(\"userRole\", roleName);\n          sessionStorage.setItem(\"selectedCompany\", company_id);\n          // Store role name and redirect to dashboard (sidebar will handle menu visibility)\n          localStorage.setItem(\"userRole\", roleName);\n          navigate(\"/dashboard\");\n        } catch (error) {\n          console.error(\"Error fetching role:\", error.response?.data || error);\n          toast.error(\"Failed to fetch user role.\");\n          navigate(\"/dashboard\");\n        }\n      } else {\n        navigate(\"/dashboard\");\n      }\n\n      toast.success(`Welcome, ${name}!`);\n    } catch (error) {\n      console.error(\"Login Error:\", error.response?.data || error);\n      const backendError =\n        error.response?.data?.error || error.response?.data?.message;\n      switch (backendError) {\n        case \"User not found. Please check your email.\":\n        case \"User is deactivated. Please contact admin.\":\n        case \"Company is deactivated. Please contact admin.\":\n        case \"Incorrect password. Please try again.\":\n          toast.error(backendError);\n          break;\n        default:\n          toast.error(\"Login failed. Please try again.\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleForgotPassword = async () => {\n    if (!forgotEmail.trim()) return toast.warning(\"Please enter your email.\");\n\n    setForgotLoading(true);\n    try {\n      const res = await axiosInstance.post(\"/auth/forgotPassword\", {\n        email: forgotEmail,\n      });\n\n      toast.success(res.data.message || \"Check your inbox.\");\n      setShowForgotModal(false);\n      setForgotEmail(\"\");\n    } catch (err) {\n      console.error(err);\n      toast.error(err.response?.data?.error || \"Something went wrong.\");\n    } finally {\n      setForgotLoading(false);\n    }\n  };\n\n  // main renderer\n  return (\n    <Box\n      width=\"100vw\"\n      height=\"100%\"\n      minHeight=\"100vh\"\n      bgColor={background}\n      sx={{ overflowX: \"hidden\" }}\n    >\n      {/* <Box\n        position=\"absolute\"\n        width=\"100%\"\n        minHeight=\"100vh\"\n        sx={{\n          backgroundImage: ({\n            functions: { linearGradient, rgba },\n            palette: { gradients },\n          }) =>\n            `${linearGradient(\n              rgba(gradients.dark.main, 0.6),\n              rgba(gradients.dark.state, 0.6)\n            )}, url('/bg-sign-in-basic.jpeg')`,\n          backgroundSize: \"cover\",\n          backgroundPosition: \"center\",\n          backgroundRepeat: \"no-repeat\",\n        }}\n      /> */}\n\n      <Box\n        position=\"absolute\"\n        width=\"100%\"\n        minHeight=\"100vh\"\n        sx={{\n          backgroundColor: \"#191970\", // solid midnight blue\n        }}\n      />\n\n      <Box px={1} width=\"100%\" height=\"100vh\" mx=\"auto\">\n        <Grid2\n          container\n          spacing={1}\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          height=\"100%\"\n        >\n          <Grid2\n            size={{\n              xs: 11,\n              sm: 9,\n              md: 5,\n              lg: 4,\n              xl: 3,\n            }}\n          >\n            <Card>\n              <Box\n                mx={2}\n                mt={-3}\n                p={2}\n                mb={1}\n                textAlign=\"center\"\n                sx={{\n                  background: \"linear-gradient(195deg, #49a3f1, #1A73E8)\",\n                  borderRadius: \"0.5rem\",\n                }}\n              >\n                <Typography\n                  variant=\"h4\"\n                  fontWeight=\"medium\"\n                  color=\"white\"\n                  mt={1}\n                >\n                  Sign in\n                </Typography>\n                {/* <Grid2\n                  container\n                  spacing={3}\n                  justifyContent=\"center\"\n                  sx={{ mt: 1, mb: 2 }}\n                >\n                  <Grid2 sx={{ xs: 2 }}>\n                    <Typography href=\"#\" variant=\"body1\" color=\"white\">\n                      <Facebook color=\"inherit\" />\n                    </Typography>\n                  </Grid2>\n                  <Grid2 sx={{ xs: 2 }}>\n                    <Typography href=\"#\" variant=\"body1\" color=\"white\">\n                      <GitHub color=\"inherit\" />\n                    </Typography>\n                  </Grid2>\n                  <Grid2 sx={{ xs: 2 }}>\n                    <Typography href=\"#\" variant=\"body1\" color=\"white\">\n                      <Google color=\"inherit\" />\n                    </Typography>\n                  </Grid2>\n                </Grid2> */}\n              </Box>\n              <Box pt={4} pb={3} px={3}>\n                <Box component=\"form\" role=\"form\" onSubmit={handleSubmit}>\n                  <Box mb={2}>\n                    <TextField\n                      label=\"Email\"\n                      variant=\"outlined\"\n                      fullWidth\n                      type=\"email\"\n                      value={email}\n                      onChange={(e) => setEmail(e.target.value)}\n                      className=\"login-input\"\n                      autoComplete=\"email\"\n                    />\n                  </Box>\n                  <Box mb={2}>\n                    <TextField\n                      label=\"Password\"\n                      variant=\"outlined\"\n                      fullWidth\n                      type=\"password\"\n                      value={password}\n                      onChange={(e) => setPassword(e.target.value)}\n                      className=\"login-input\"\n                      autoComplete=\"current-password\"\n                    />\n                  </Box>\n\n                  <Box mb={1} textAlign=\"right\">\n                    <Typography\n                      variant=\"body2\"\n                      sx={{ cursor: \"pointer\", color: \"#1A73E8\" }}\n                      onClick={() => setShowForgotModal(true)}\n                    >\n                      Forgot Password?\n                    </Typography>\n                  </Box>\n\n                  {/* <Box display=\"flex\" alignItems=\"center\" ml={-1}>\n                    <Switch />\n                    <Typography\n                      variant=\"button\"\n                      fontWeight=\"regular\"\n                      color=\"text\"\n                      sx={{ cursor: \"pointer\", userSelect: \"none\", ml: -1 }}\n                    >\n                      &nbsp;&nbsp;Remember me\n                    </Typography>\n                  </Box> */}\n\n                  <Box mt={4} mb={1}>\n                    <Button\n                      type=\"submit\"\n                      className=\"login-button\"\n                      disabled={loading || !email || !password}\n                      fullWidth\n                    >\n                      {loading ? \"Logging in...\" : \"Login\"}\n                    </Button>\n                  </Box>\n                </Box>\n              </Box>\n            </Card>\n          </Grid2>\n        </Grid2>\n      </Box>\n\n      {showForgotModal && (\n        <Box\n          position=\"fixed\"\n          top={0}\n          left={0}\n          width=\"100vw\"\n          height=\"100vh\"\n          bgcolor=\"rgba(0, 0, 0, 0.5)\"\n          display=\"flex\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          zIndex={1300}\n          sx={{ backdropFilter: \"blur(4px)\" }}\n        >\n          <Card sx={{ width: { xs: \"90%\", sm: 400 }, p: 3, borderRadius: 3 }}>\n            <Typography variant=\"h5\" fontWeight=\"medium\" mb={2}>\n              Forgot Password\n            </Typography>\n            <Typography variant=\"body2\" mb={2}>\n              Enter your email to receive your new password.\n            </Typography>\n            <TextField\n              label=\"Email Address\"\n              type=\"email\"\n              fullWidth\n              value={forgotEmail}\n              onChange={(e) => setForgotEmail(e.target.value)}\n              sx={{ mb: 2 }}\n            />\n            <Box display=\"flex\" justifyContent=\"flex-end\" gap={1}>\n              <Button\n                onClick={() => setShowForgotModal(false)}\n                color=\"secondary\"\n              >\n                Cancel\n              </Button>\n              <Button\n                variant=\"contained\"\n                onClick={handleForgotPassword}\n                disabled={forgotLoading || !forgotEmail}\n              >\n                {forgotLoading ? \"Sending...\" : \"Send New Password\"}\n              </Button>\n            </Box>\n          </Card>\n        </Box>\n      )}\n    </Box>\n  );\n}\n","size_bytes":11291},"qms-source/BackEnd/src/models/GeneralDocument.js":{"content":"// models/GeneralDocument.js\nimport { DataTypes } from 'sequelize';\nimport sequelize from \"../config/db.js\";\nimport User from './User.js';\n\n\n\nconst GeneralDocument = sequelize.define('GeneralDocument', {\n  id: {\n    type: DataTypes.UUID,\n    defaultValue: DataTypes.UUIDV4,\n    primaryKey: true\n  },\n  company_id: {\n    type: DataTypes.UUID,\n    allowNull: false\n  },\n  folder_id: {\n    type: DataTypes.UUID,\n    allowNull: false\n  },\n  document_name: {\n    type: DataTypes.STRING(255),\n    allowNull: false\n  },\n  file_path: {\n    type: DataTypes.STRING(255),\n    allowNull: false\n  },\n  visibility_scope: {\n    type: DataTypes.ENUM('all', 'above', 'below', 'specific', 'private'),\n    allowNull: false\n  },\n  created_by_user_id: {\n    type: DataTypes.UUID,\n    allowNull: false\n  },\n  deleted_at: {\n    type: DataTypes.DATE,\n    allowNull: true\n  }\n}, {\n  tableName: 'general_document',\n  timestamps: true,\n  paranoid: true,\n  deletedAt: 'deleted_at'\n});\n\n\n\n\nexport default GeneralDocument;\n\n","size_bytes":994},"qms-source/BackEnd/src/controllers/taskController.js":{"content":"import Task from \"../models/Task.js\";\nimport TaskAssignments from \"../models/TaskAssignment.js\";\nimport Department from \"../models/Department.js\"\nimport User from \"../models/User.js\";\nimport Role from \"../models/Role.js\";\nimport { Op, where } from \"sequelize\";\nimport TaskChangeLog from \"../models/TaskChangeLog.js\";\nimport sequelize from \"../config/db.js\";\nimport { VALID_STATUS_VALUES, VALID_PRIORITY_VALUES,VALID_TASK_TYPES,VALID_COMPLIANCE_VALUES,VALID_STANDARDS,VALID_STATUSWEIGHTAGE, VALID_TYPE_OF_FINDING } from \"../config/constants.js\"; \nimport multer from \"multer\";\nimport Iteration from \"../models/Iteration.js\"\nimport { v4 as uuidv4 } from \"uuid\";\nimport ExcelJS from \"exceljs\";\nimport { parse } from 'date-fns'; // Optional: using date-fns for safe parsing\nimport fs from \"fs\"; // Import the File System module\n\n// Create a new Task\nexport const createTask = async (req, res) => {\n    try {\n        const { \n            Checklist_Item, \n            description, \n            standard,              \n            parent_task_id, \n            clause_number, \n            area, \n            expected_artifact, \n            actual_artifact, \n            compliance, \n            status, \n            priority, \n            responsibility, \n            RCA_Details, \n            notes, \n            auditee,\n            iteration_id ,\n            Planned_Completion_Date,\n            Actual_Completion_Date,\n            Type_of_Finding\n        } = req.body;\n\n        const createdBy = req.user.id;\n\n        // Fetch user's role and company ID\n        const user = await User.findByPk(createdBy, {\n            include: [{ model: Role, attributes: [\"name\"], required: true }]\n        });\n\n        if (!user) {\n            return res.status(404).json({ error: \"User not found\" });\n        }\n\n        const userRole = user.Role ? user.Role.name : null;\n        let company_id;\n\n        if (userRole === \"System Super Admin\") {\n            company_id = req.body.company_id;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n            }\n        } else {\n            company_id = req.user.company;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n            }\n        }\n\n        // Validate required fields\n        if (!Checklist_Item || !description || !standard) {\n            return res.status(400).json({ error: \"Checklist_Item, description and standard are required.\" });\n        }\n\n        if (!VALID_STANDARDS.includes(standard)) {\n            return res.status(400).json({ \n                error: `Invalid standard provided: \"${standard}\". Allowed values: ${VALID_STANDARDS.join(\", \")}` \n            });\n        }\n\n        // if (!VALID_TASK_TYPES.includes(task_type)) {\n        //     return res.status(400).json({ error: `Invalid task type. Allowed: ${VALID_TASK_TYPES.join(\", \")}` });\n        // }\n\n        if (status && !VALID_STATUS_VALUES.includes(status)) {\n            return res.status(400).json({ error: `Invalid status. Allowed: ${VALID_STATUS_VALUES.join(\", \")}` });\n        }\n\n        if (priority && !VALID_PRIORITY_VALUES.includes(priority)) {\n            return res.status(400).json({ error: `Invalid priority. Allowed: ${VALID_PRIORITY_VALUES.join(\", \")}` });\n        }\n\n        if (compliance && !VALID_COMPLIANCE_VALUES.includes(compliance)) {\n            return res.status(400).json({ error: `Invalid compliance. Allowed: ${VALID_COMPLIANCE_VALUES.join(\", \")}` });\n        }\n\n        if (Type_of_Finding && !VALID_TYPE_OF_FINDING.includes(Type_of_Finding)) {\n                errors.push(`Invalid Type of Finding. Allowed: ${VALID_TYPE_OF_FINDING.join(\", \")}`);\n        }\n\n        // âœ… Optional: Validate iteration ID if provided\n        if (iteration_id) {\n            const iteration = await Iteration.findByPk(iteration_id);\n            if (!iteration || iteration.is_active === false) {\n                return res.status(400).json({ error: \"Invalid or inactive iteration_id.\" });\n            }\n        }\n\n        // Create the task\n        const task = await Task.create({\n            Checklist_Item,\n            description,\n            standard,\n            task_type: \"Process\",\n            parent_task_id: parent_task_id || null,\n            clause_number: clause_number || null,\n            area: area || null,\n            expected_artifact: expected_artifact || null,\n            actual_artifact: actual_artifact || null,\n            compliance: compliance || \"Not Applicable\",\n            status: status || \"Not Done\",\n            priority: priority || \"Medium\",\n            responsibility: responsibility || null,\n            RCA_Details: RCA_Details || null,\n            notes: notes || null,\n            auditee: auditee || null,\n            iteration_id: iteration_id || null, // âœ… New field\n            company_id,\n            createdBy,\n            Planned_Completion_Date,\n            Actual_Completion_Date,\n            Type_of_Finding: Type_of_Finding || \"Non-Compliance\"\n        });\n\n        res.status(201).json({ message: \"Task created successfully\", task });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Get all tasks\nexport const getAllTasks = async (req, res) => {\n    try {\n        const user_id = req.user.id;\n        const iteration_id = req.query.iteration_id; // âœ… Read iteration_id from query params\n        const company_id_from_query = req.query.company_id;\n\n        // Fetch user with role details\n        const user = await User.findByPk(user_id, {\n            include: [{ model: Role, attributes: [\"name\"], required: true }]\n        });\n\n        if (!user) {\n            return res.status(404).json({ error: \"User not found\" });\n        }\n\n        const userRole = user.Role?.name;\n        let tasks;\n        let company_id;\n\n        // âœ… Common where clause object\n        const baseWhere = { is_active: true };\n        if (iteration_id) {\n            baseWhere.iteration_id = iteration_id; // Add filter only if passed\n        }\n\n        if (userRole === \"System Super Admin\") {\n            company_id = company_id_from_query;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n            }\n\n            tasks = await Task.findAll({\n                where: { ...baseWhere, company_id }\n            });\n\n        } else if (userRole === \"Super Admin\") {\n            company_id = req.user.company;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is required for Super Admin\" });\n            }\n\n            tasks = await Task.findAll({\n                where: { ...baseWhere, company_id }\n            });\n\n        } else {\n            // For regular users\n            const assignedTaskIds = await TaskAssignments.findAll({\n                where: sequelize.literal(`JSON_CONTAINS(user_ids, '\"${user_id}\"')`),\n                attributes: [\"task_id\"],\n                raw: true\n            });\n\n            const assignedTaskIdList = assignedTaskIds.map(task => task.task_id);\n\n            tasks = await Task.findAll({\n                where: {\n                    ...baseWhere,\n                    [Op.or]: [\n                        { createdBy: user_id },\n                        assignedTaskIdList.length > 0 ? { id: { [Op.in]: assignedTaskIdList } } : null\n                    ].filter(Boolean)\n                }\n            });\n        }\n\n        res.json(tasks);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// export const getAllTasks = async (req, res) => {\n//     try {\n//         const user_id = req.user.id;\n\n//         // Fetch user with role details\n//         const user = await User.findByPk(user_id, {\n//             include: [{ model: Role, attributes: [\"name\"], required: true }]\n//         });\n\n//         if (!user) {\n//             return res.status(404).json({ error: \"User not found\" });\n//         }\n\n//         const userRole = user.Role ? user.Role.name : null;\n//         let tasks;\n//         let company_id;\n\n//         if (userRole === \"System Super Admin\") {\n//             // Require company_id from the request body\n//             company_id = req.query.company_id || req.body.company_id; // Accept from query or body\n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//             }\n\n//             // Fetch all tasks related to the specified company\n//             tasks = await Task.findAll({\n//                 where: { company_id,is_active:true }\n//             });\n\n//         } else if (userRole === \"Super Admin\") {\n//             // Fetch tasks related to the user's company\n//             const company_id = req.user.company;\n\n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is required for Super Admin\" });\n//             }\n\n//             tasks = await Task.findAll({\n//                 where: { company_id ,is_active:true}\n//             });\n\n//         } else {\n//             // Fetch tasks assigned to or created by the user\n//             const assignedTaskIds = await TaskAssignments.findAll({\n//                 where: sequelize.literal(`JSON_CONTAINS(user_ids, '\"${user_id}\"')`),\n//                 attributes: [\"task_id\"],\n//                 raw: true\n//             });\n\n//             const assignedTaskIdList = assignedTaskIds.map(task => task.task_id);\n\n//             tasks = await Task.findAll({\n//                 where: {\n//                     is_active:true,\n//                     [Op.or]: [\n//                         { createdBy: user_id },\n//                         { id: assignedTaskIdList.length > 0 ? { [Op.in]: assignedTaskIdList } : null }\n//                     ]\n//                 }\n//             });\n//         }\n\n//         res.json(tasks);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// Get a single task by ID\nexport const getTaskById = async (req, res) => {\n    try {\n        const { id } = req.params;\n        const task = await Task.findByPk(id);\n        if (!task) return res.status(404).json({ error: \"Task not found\" });\n        res.json(task);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Update a Task\nexport const updateTask = async (req, res) => {\n    try {\n        const { id } = req.params;\n        const { status, priority, standard, task_type, compliance, company_id, ...otherUpdates } = req.body;\n        const createdBy = req.user?.id;\n\n        // Fetch user's role and company ID\n        const user = await User.findByPk(createdBy, {\n            include: [{ model: Role, attributes: [\"name\"], required: true }]\n        });\n\n        if (!user) {\n            return res.status(404).json({ error: \"User not found.\" });\n        }\n\n        const userRole = user.Role ? user.Role.name : null;\n\n        // Fetch the existing task\n        const task = await Task.findByPk(id);\n        if (!task) return res.status(404).json({ error: \"Task not found.\" });\n\n        let logs = [];\n\n        // Validate ENUM fields\n        if (standard && !VALID_STANDARDS.includes(standard)) {\n            return res.status(400).json({ error: `Invalid standard. Allowed values: ${VALID_STANDARDS.join(\", \")}` });\n        }\n        if (task_type && !VALID_TASK_TYPES.includes(task_type)) {\n            return res.status(400).json({ error: `Invalid task type. Allowed values: ${VALID_TASK_TYPES.join(\", \")}` });\n        }\n        if (status && !VALID_STATUS_VALUES.includes(status)) {\n            return res.status(400).json({ error: `Invalid status. Allowed values: ${VALID_STATUS_VALUES.join(\", \")}` });\n        }\n        if (priority && !VALID_PRIORITY_VALUES.includes(priority)) {\n            return res.status(400).json({ error: `Invalid priority. Allowed values: ${VALID_PRIORITY_VALUES.join(\", \")}` });\n        }\n        if (compliance && !VALID_COMPLIANCE_VALUES.includes(compliance)) {\n            return res.status(400).json({ error: `Invalid compliance. Allowed values: ${VALID_COMPLIANCE_VALUES.join(\", \")}` });\n        }\n\n        // Prevent company_id modification\n        if (company_id && company_id !== task.company_id) {\n            return res.status(403).json({ error: \"Company ID modification is not allowed.\" });\n        }\n\n        // ðŸ” Restrict Priority Change\n        const isPriorityChanging = priority && task.priority !== priority;\n        const isAllowedToChangePriority =\n            userRole === 'Super Admin' ||\n            userRole === 'System Super Admin' ||\n            createdBy === task.created_by;\n\n        if (isPriorityChanging && !isAllowedToChangePriority) {\n            return res.status(403).json({\n                error: \"You are not authorized to change the task priority. Only Super Admin, System Super Admin, or the Task Creator can perform this action.\"\n            });\n        }\n\n        // Log status change\n        if (status && task.status !== status) {\n            logs.push({\n                task_id: id,\n                changed_by: createdBy,\n                field_changed: \"status\",\n                old_value: task.status,\n                new_value: status\n            });\n        }\n\n        // Log priority change (if authorized and changed)\n        if (isPriorityChanging && isAllowedToChangePriority) {\n            logs.push({\n                task_id: id,\n                changed_by: createdBy,\n                field_changed: \"priority\",\n                old_value: task.priority,\n                new_value: priority\n            });\n        }\n\n        // Update the task\n        const updated = await Task.update(req.body, { where: { id } });\n        if (!updated[0]) return res.status(400).json({ error: \"Task update failed.\" });\n\n        // Save logs\n        if (logs.length > 0) {\n            await TaskChangeLog.bulkCreate(logs, { individualHooks: true });\n        }\n\n        res.json({ message: \"Task updated successfully.\" });\n\n    } catch (error) {\n        console.error(\"Error updating task:\", error);\n        res.status(500).json({ error: \"Internal server error.\" });\n    }\n};\n\n// Get Child Tasks for a Given Task ID\nexport const getChildTasks = async (req, res) => {\n    try {\n        const { task_id } = req.params;\n\n        // First check if the parent task exists and is active\n        const parentTask = await Task.findOne({\n            where: { id: task_id, is_active: true }\n        });\n\n        if (!parentTask) {\n            return res.status(404).json({ message: \"Parent task not found or has been deleted.\" });\n        }\n\n        // Fetch only active child tasks\n        const childTasks = await Task.findAll({\n            where: {\n                parent_task_id: task_id,\n                is_active: true\n            }\n        });\n\n        res.json(childTasks);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Configure multer for file upload\nexport const upload = multer({ dest: \"uploads/\" });\n\n// Utility: Convert dd-mm-yyyy to JS Date\nconst parseExcelDate = (dateStr) => {\n    console.log(`DateStr : ${dateStr}`);\n    if (!dateStr) return null;\n\n    const [ddStr, mmStr, yyyyStr] = dateStr.split(\"-\");\n    let dd = parseInt(ddStr, 10);\n    let mm = parseInt(mmStr, 10);\n    let yyyy = parseInt(yyyyStr, 10);\n\n    // Fix 2-digit year to 20xx\n    if (yyyy < 100) {\n        yyyy += 2000;\n    }\n\n    if (!dd || !mm || !yyyy) return null;\n\n    const jsDate = new Date(yyyy, mm - 1, dd); // JS months are 0-indexed\n    console.log(`Return date for ${dateStr} is as : ${jsDate}`);\n    return jsDate;\n};\n\n//get data from excel make it in form of json and return for Approval\n\nexport const uploadTasksFromExcel = async (req, res) => {\n    try {\n        if (!req.file) {\n            return res.status(400).json({ error: \"No file uploaded\" });\n        }\n\n        const { standard, iteration_id } = req.body;\n\n        if (!VALID_STANDARDS.includes(standard)) {\n            return res.status(400).json({\n                error: `Invalid or missing standard. Must be one of: ${VALID_STANDARDS.join(\", \")}.`\n            });\n        }\n\n        if (!iteration_id) {\n            return res.status(400).json({ error: \"Iteration ID is required in request body.\" });\n        }\n\n        const iteration = await Iteration.findByPk(iteration_id);\n        if (!iteration || iteration.is_active === false) {\n            return res.status(400).json({ error: \"Invalid or inactive iteration_id.\" });\n        }\n\n        const filePath = req.file.path;\n        const workbook = new ExcelJS.Workbook();\n        await workbook.xlsx.readFile(filePath);\n        const worksheet = workbook.worksheets[0];\n\n        const headerRow = worksheet.getRow(1).values.map(cell => cell?.toString().trim());\n        const colMap = {};\n        headerRow.forEach((val, index) => {\n            if (val) colMap[val] = index;\n        });\n\n        const createdBy = req.user.id;\n        const company_id = req.user.role === \"System Super Admin\"\n            ? req.body.company_id\n            : req.user.company;\n\n        if (!company_id) {\n            return res.status(400).json({ error: \"Company ID is required or not assigned.\" });\n        }\n\n        const tasks = [];\n\n        worksheet.eachRow((row, rowNumber) => {\n            if (rowNumber === 1) return;\n\n            const getCell = (header) => {\n                const col = colMap[header];\n                return col ? (row.getCell(col).value?.toString().trim() || \"\") : \"\";\n            };\n\n            const plannedDateStr = getCell(\"Planned Completion Date\");\n            const actualDateStr = getCell(\"Actual Completion Date\");\n\n            tasks.push({\n                id: uuidv4(),\n                Checklist_Item: getCell(\"Checklist Item\") || \"Unnamed Task\",\n                description: getCell(\"Description\") || \"\",\n                standard,\n                task_type: \"Process\",\n                parent_task_id: null,\n                clause_number: getCell(\"Reference - Clause / Control\") || null,\n                area: getCell(\"Area\") || null,\n                expected_artifact: null,\n                actual_artifact: \"\",\n                compliance: null,\n                status: VALID_STATUS_VALUES.includes(getCell(\"Status of action\")) ? getCell(\"Status of action\") : \"Not Done\",\n                priority: VALID_PRIORITY_VALUES.includes(getCell(\"Priority\")) ? getCell(\"Priority\") : \"Medium\",\n                responsibility: getCell(\"Responsibility\") || null,\n                RCA_Details: getCell(\"RCA Details\") || null,\n                notes: getCell(\"Notes\") || null,\n                auditee: getCell(\"Auditee Department / Project\") || null,\n                Planned_Completion_Date: parseExcelDate(plannedDateStr),\n                Actual_Completion_Date: parseExcelDate(actualDateStr),\n                Type_of_Finding:getCell(\"Type of Finding\") || \"Non-Compliance\",\n                createdBy,\n                company_id,\n                iteration_id\n            });\n        });\n\n        fs.unlink(filePath, (err) => {\n            if (err) console.error(\"Error deleting file:\", err);\n        });\n\n        res.status(200).json({ message: \"Preview data generated\", tasks });\n    } catch (error) {\n        console.error(\"Error processing Excel upload:\", error);\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// export const uploadTasksFromExcel = async (req, res) => {\n//     try {\n//         if (!req.file) {\n//             return res.status(400).json({ error: \"No file uploaded\" });\n//         }\n\n//         const { standard, iteration_id } = req.body;\n\n//         if (!VALID_STANDARDS.includes(standard)) {\n//             return res.status(400).json({\n//                 error: `Invalid or missing standard. Must be one of: ${VALID_STANDARDS.join(\", \")}.`\n//             });\n//         }\n\n//         if (!iteration_id) {\n//             return res.status(400).json({ error: \"Iteration ID is required in request body.\" });\n//         }\n\n//         const iteration = await Iteration.findByPk(iteration_id);\n//         if (!iteration || iteration.is_active === false) {\n//             return res.status(400).json({ error: \"Invalid or inactive iteration_id.\" });\n//         }\n\n//         const filePath = req.file.path;\n//         const workbook = new ExcelJS.Workbook();\n//         await workbook.xlsx.readFile(filePath);\n        \n//         const worksheet = workbook.worksheets[0]; \n//         const sheetName = worksheet.name.trim();\n//         console.log(`Processing sheet: ${sheetName}`);\n\n//         const createdBy = req.user.id;\n//         let company_id;\n\n//         if (req.user.role === \"System Super Admin\") {\n//             company_id = req.body.company_id; \n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//             }\n//         } else {\n//             company_id = req.user.company; \n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n//             }\n//         }\n\n//         const tasks = [];\n//         const tasksMap = {}; // Store parent-child relationships\n\n//         if (standard === \"ISO_9001\" && sheetName === \"Gap Analysis\") {\n//             worksheet.eachRow((row, rowNumber) => {\n//                 if (rowNumber === 1) return;\n\n//                 const [clause, description, expectedArtifact, compliance, actualArtifact] = row.values.slice(1);\n//                 if (!clause || !description) return;\n\n//                 let parentTaskId = null;\n//                 const clauseStr = String(clause).trim();\n//                 const clauseParts = clauseStr.split(\".\");\n//                 if (clauseParts.length > 1) {\n//                     const parentClause = clauseParts.slice(0, -1).join(\".\");\n//                     parentTaskId = tasksMap[parentClause] || null;\n//                 }\n\n//                 const taskId = uuidv4();\n//                 tasks.push({\n//                     id: taskId,\n//                     name: description,\n//                     description,\n//                     standard,\n//                     task_type: \"Process\",\n//                     priority: \"Medium\",\n//                     parent_task_id: parentTaskId,\n//                     clause_number: clause || null,\n//                     expected_artifact: expectedArtifact || null,\n//                     compliance: compliance || null,\n//                     actual_artifact: actualArtifact || \"\",\n//                     createdBy,\n//                     company_id,\n//                     iteration_id\n//                 });\n\n//                 tasksMap[clause] = taskId;\n//             });\n//         }\n\n//         else if (standard === \"ISO_27001\" && sheetName === \"ISMS Checklist\") {\n//             const headerRow = worksheet.getRow(1).values.map(v => (v ? String(v).trim() : \"\")); \n//             if (headerRow.length === 0) {\n//                 return res.status(400).json({ error: \"Invalid or empty header row in the ISMS Checklist sheet.\" });\n//             }\n\n//             const columnMapping = {\n//                 \"Sr. No.\": \"sr_no\",\n//                 \"Auditee\": \"auditee\",\n//                 \"Area\": \"area\",\n//                 \"Checklist Item\": \"name\",\n//                 \"Notes\": \"notes\",\n//                 \"Status FI/PI/NI/NA/TBD\": \"status\",\n//                 \"Action to be taken\": \"action_to_be_taken\",\n//                 \"Responsibility\": \"responsibility\",\n//                 \"Status of action\": \"status\",\n//                 \"Document Reference\": \"document_reference\"\n//             };\n\n//             const colIndexes = {};\n//             for (let i = 1; i < headerRow.length; i++) {\n//                 if (headerRow[i] && columnMapping[headerRow[i]]) {\n//                     colIndexes[columnMapping[headerRow[i]]] = i;\n//                 }\n//             }\n\n//             worksheet.eachRow((row, rowNumber) => {\n//                 if (rowNumber === 1) return;\n\n//                 const taskId = uuidv4();\n//                 const taskType = \"Process\";\n//                 const parentTaskId = null;\n\n//                 const statusValue = row.getCell(colIndexes[\"status\"])?.value?.toString().trim() || \"NI\";\n//                 const mappedStatus = VALID_STATUS_VALUES.includes(statusValue) ? statusValue : \"NI\";\n\n//                 tasks.push({\n//                     id: taskId,\n//                     name: row.getCell(colIndexes[\"name\"])?.value?.toString().trim() || \"Unnamed Task\",\n//                     description: row.getCell(colIndexes[\"notes\"])?.value?.toString().trim() || \"\",\n//                     standard,\n//                     priority: \"Medium\",\n//                     task_type: taskType,\n//                     parent_task_id: parentTaskId,\n//                     area: row.getCell(colIndexes[\"area\"])?.value?.toString().trim() || null,\n//                     expected_artifact: row.getCell(colIndexes[\"action_to_be_taken\"])?.value?.toString().trim() || null,\n//                     actual_artifact: \"\",\n//                     responsibility: row.getCell(colIndexes[\"responsibility\"])?.value?.toString().trim() || null,\n//                     action_to_be_taken: row.getCell(colIndexes[\"action_to_be_taken\"])?.value?.toString().trim() || null,\n//                     notes: row.getCell(colIndexes[\"notes\"])?.value?.toString().trim() || null,\n//                     auditee: row.getCell(colIndexes[\"auditee\"])?.value?.toString().trim() || null,\n//                     status: mappedStatus,\n//                     createdBy,\n//                     company_id,\n//                     iteration_id\n//                 });\n//             });\n//         }\n\n//         else {\n//             return res.status(400).json({ error: \"Unsupported sheet or standard type.\" });\n//         }\n\n//         fs.unlink(filePath, (err) => {\n//             if (err) console.error(\"Error deleting file:\", err);\n//         });\n\n//         res.status(200).json({ message: \"Preview data generated\", tasks });\n\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\n// export const uploadTasksFromExcel = async (req, res) => {\n//     try {\n//         if (!req.file) {\n//             return res.status(400).json({ error: \"No file uploaded\" });\n//         }\n\n//         const filePath = req.file.path;\n//         const workbook = new ExcelJS.Workbook();\n//         await workbook.xlsx.readFile(filePath);\n        \n//         const worksheet = workbook.worksheets[0]; \n//         const sheetName = worksheet.name.trim();\n\n//         console.log(`Processing sheet: ${sheetName}`);\n\n//         const createdBy = req.user.id;\n//         let company_id;\n\n//         // Determine company_id based on user role\n//         if (req.user.role === \"System Super Admin\") {\n//             company_id = req.body.company_id; \n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//             }\n//         } else {\n//             company_id = req.user.company; \n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n//             }\n//         }\n\n//         const tasks = [];\n//         const tasksMap = {}; // Store parent-child relationships\n\n//         const iteration_id = req.body.iteration_id;\n//            // âœ… Step 1: Validate iteration_id presence\n//            if (!iteration_id) {\n//             return res.status(400).json({ error: \"Iteration ID is required in request body.\" });\n//         }\n\n//            // âœ… Optional: Validate iteration ID if provided\n//            if (iteration_id) {\n//             const iteration = await Iteration.findByPk(iteration_id);\n//             if (!iteration || iteration.is_active === false) {\n//                 return res.status(400).json({ error: \"Invalid or inactive iteration_id.\" });\n//             }\n//         }\n//         if (sheetName === \"Gap Analysis\") {\n//             worksheet.eachRow((row, rowNumber) => {\n//                 if (rowNumber === 1) return; // Skip header row\n\n//                 const [clause, description, expectedArtifact, compliance, actualArtifact] = row.values.slice(1);\n\n//                 if (!clause || !description) return; // Skip invalid rows\n\n//                 let parentTaskId = null;\n\n//                 if (clause) {\n//                     const clauseStr = String(clause).trim();\n//                     const clauseParts = clauseStr.split(\".\");\n\n//                     if (clauseParts.length > 1) {\n//                         const parentClause = clauseParts.slice(0, -1).join(\".\");\n//                         parentTaskId = tasksMap[parentClause] || null;\n//                     }\n//                 }\n\n//                 const taskId = uuidv4();\n\n//                 tasks.push({\n//                     id: taskId,\n//                     name: description,\n//                     description,\n//                     standard: \"ISO_9001\",\n//                     task_type: \"Process\",\n//                     priority:\"Medium\",\n//                     parent_task_id: parentTaskId,\n//                     clause_number: clause || null,\n//                     expected_artifact: expectedArtifact || null,\n//                     compliance: compliance || null,\n//                     actual_artifact: actualArtifact || \"\",\n//                     createdBy,\n//                     company_id,\n//                     iteration_id\n//                 });\n\n//                 tasksMap[clause] = taskId;\n//             });\n//         } \n        \n//         else if (sheetName === \"ISMS Checklist\") {\n\n            \n//             const headerRow = worksheet.getRow(1).values.map(v => (v ? String(v).trim() : \"\")); \n//             console.log(`header row ${headerRow}`);\n            \n//             if (headerRow.length === 0) {\n//                 return res.status(400).json({ error: \"Invalid or empty header row in the ISMS Checklist sheet.\" });\n//             }\n            \n//             // Define column mapping\n//             const columnMapping = {\n//                 \"Sr. No.\": \"sr_no\",  // Not stored, used for reference\n//                 \"Auditee\": \"auditee\",\n//                 \"Area\": \"area\",\n//                 \"Checklist Item\": \"name\",\n//                 \"Notes\": \"notes\",\n//                 \"Status FI/PI/NI/NA/TBD\": \"status\",\n//                 \"Action to be taken\": \"action_to_be_taken\",\n//                 \"Responsibility\": \"responsibility\",\n//                 \"Status of action\": \"status\",\n//                 \"Document Reference\": \"document_reference\" // Not stored, can be used for reference\n//             };\n        \n//             // Store column indexes dynamically\n//             const colIndexes = {};\n//             for (let i = 1; i < headerRow.length; i++) {\n//                 if (headerRow[i] && columnMapping[headerRow[i]]) {\n//                     colIndexes[columnMapping[headerRow[i]]] = i;\n//                 }\n//             }\n            \n//             worksheet.eachRow((row, rowNumber) => {\n//                 if (rowNumber === 1) return; // Skip header row\n            \n//                 const taskId = uuidv4(); \n//                 const parentTaskId = null;  \n//                 const taskType = \"Process\";  \n//                 const standard = \"ISO_27001\"; \n            \n//                 // Extract values from the row based on column indexes\n//                 const statusValue = row.getCell(colIndexes[\"status\"])?.value?.toString().trim() || \"Not Done\";\n//                 const mappedStatus = VALID_STATUS_VALUES.includes(statusValue) ? statusValue : \"Not Done\";\n            \n//                 // Create a task object\n//                 const taskData = {\n//                     id: taskId,\n//                     name: row.getCell(colIndexes[\"name\"])?.value?.toString().trim() || \"Unnamed Task\",\n//                     description: row.getCell(colIndexes[\"notes\"])?.value?.toString().trim() || \"\",\n//                     standard,\n//                     priority:\"Medium\",\n//                     task_type: taskType,\n//                     parent_task_id: parentTaskId,\n//                     area: row.getCell(colIndexes[\"area\"])?.value?.toString().trim() || null,\n//                     expected_artifact: row.getCell(colIndexes[\"action_to_be_taken\"])?.value?.toString().trim() || null,\n//                    // compliance: mappedStatus,  // Now storing correct status\n//                     actual_artifact: \"\",  \n//                     responsibility: row.getCell(colIndexes[\"responsibility\"])?.value?.toString().trim() || null,\n//                     action_to_be_taken: row.getCell(colIndexes[\"action_to_be_taken\"])?.value?.toString().trim() || null,\n//                     notes: row.getCell(colIndexes[\"notes\"])?.value?.toString().trim() || null,\n//                     auditee: row.getCell(colIndexes[\"auditee\"])?.value?.toString().trim() || null,\n//                     status: mappedStatus,  // Assigning status properly\n//                     createdBy,\n//                     company_id,\n//                     iteration_id\n//                 };\n            \n//                 tasks.push(taskData);\n//             });\n//         } \n        \n//         else {\n//             return res.status(400).json({ error: \"Unsupported sheet name.\" });\n//         }\n\n//         // Delete the file after reading\n//         fs.unlink(filePath, (err) => {\n//             if (err) console.error(\"Error deleting file:\", err);\n//         });\n        \n//         // Return parsed tasks for preview\n//         res.status(200).json({ message: \"Preview data generated\", tasks });\n\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\nexport const insertApprovedTasks = async (req, res) => {\n    try {\n        const { tasks, company_id: providedCompanyId } = req.body;\n\n        if (!tasks || tasks.length === 0) {\n            return res.status(400).json({ error: \"No tasks to insert\" });\n        }\n\n        // Fetch role name using role ID from the database\n        const role = await Role.findByPk(req.user.role);\n        if (!role) {\n            return res.status(403).json({ error: \"Invalid role\" });\n        }\n\n        let company_id;\n\n        if (role.name === \"System Super Admin\") {\n            company_id = providedCompanyId;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n            }\n        } else {\n            company_id = req.user.company;\n            if (!company_id) {\n                return res.status(400).json({ error: \"User must be associated with a company to insert tasks\" });\n            }\n        }\n\n        // Array to store validation errors\n        const failedTasks = [];\n\n const isExcelUploaded = async (iterationId) => {\n  try {\n    const iteration = await Iteration.findByPk(iterationId, {\n      attributes: ['is_excel_uploaded']\n    });\n\n    if (!iteration) {\n      console.warn(`Iteration not found for ID: ${iterationId}`);\n      return false;\n    }\n\n    return iteration.is_excel_uploaded === true;\n  } catch (error) {\n    console.error(`Error checking Excel upload status for iteration ${iterationId}:`, error);\n    throw error;\n  }\n};\n\n        const iterationUsed = await isExcelUploaded(tasks[0].iteration_id); // <-- add await\nconsole.log(`isExcelUploaded : ${iterationUsed}`);\n\nif (iterationUsed) {\n  return res.status(400).json({\n    message: \"Please select another Iteration, this iteration is already used for uploading Excel.\",\n    failed_tasks: failedTasks,\n  });\n}\n        // Validate all tasks first\n        const validatedTasks = tasks.map((task, index) => {\n            let errors = [];\n\n            // Check required fields (Removed description validation)\n            if (!task.Checklist_Item || !task.standard || !task.task_type) {\n                errors.push(\"Missing required fields: Checklist_Item, standard, task_type.\");\n            }\n\n            if (task.standard && !VALID_STANDARDS.includes(task.standard)) {\n                errors.push(`Invalid standard. Allowed: ${VALID_STANDARDS.join(\", \")}`);\n            }\n\n            if (task.compliance && !VALID_COMPLIANCE_VALUES.includes(task.compliance)) {\n                errors.push(`Invalid compliance value. Allowed: ${VALID_COMPLIANCE_VALUES.join(\", \")}`);\n            }\n\n            if (task.status && !VALID_STATUS_VALUES.includes(task.status)) {\n                errors.push(`Invalid status. Allowed: ${VALID_STATUS_VALUES.join(\", \")}`);\n            }\n\n            if (task.priority && !VALID_PRIORITY_VALUES.includes(task.priority)) {\n                errors.push(`Invalid priority. Allowed: ${VALID_PRIORITY_VALUES.join(\", \")}`);\n            }\n\n            if (task.Type_of_Finding && !VALID_TYPE_OF_FINDING.includes(task.Type_of_Finding)) {\n                errors.push(`Invalid Type of Finding. Allowed: ${VALID_TYPE_OF_FINDING.join(\", \")}`);\n            }\n\n            if (errors.length > 0) {\n                failedTasks.push({ row: index + 1, task, errors });\n                return null; // Mark this task as invalid\n            }\n\n            // Return validated task (Allowing description to be null)\n            return {\n                ...task,\n                description: task.description || null, // Allow null value\n                company_id,\n                status: task.status || \"Not Done\",\n                priority: task.priority || \"Medium\",\n                createdBy: req.user.id,\n            };\n        });\n\n        // If there are validation errors, return them before inserting anything\n        if (failedTasks.length > 0) {\n            return res.status(400).json({\n                message: \"Validation failed. Please correct the errors and re-upload.\",\n                failed_tasks: failedTasks,\n            });\n        }\n\n        // Insert all validated tasks at once\n        const createdTasks = await Task.bulkCreate(validatedTasks, { returning: true });\n        const isExcelUploade = await Iteration.update({is_excel_uploaded:true},{where:{id:tasks[0].iteration_id}})\n\n        res.status(201).json({\n            message: \"All tasks inserted successfully\",\n            inserted_tasks: createdTasks,\n        });\n\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport const deleteTask = async (req, res) => {\n    try {\n        const { id } = req.params;\n        const userId = req.user.id; // Assuming user ID is attached to the request via middleware\n\n        // âœ… Find the task\n        const task = await Task.findOne({ where: { id, is_active: true } });\n        if (!task) {\n            return res.status(404).json({ error: \"Task not found\" });\n        }\n\n        // âœ… Soft delete the main task\n        task.is_active = false;\n        await task.save();\n\n        // âœ… Log the task deletion\n        await TaskChangeLog.create({\n            task_id: id,\n            field_changed: \"task\",\n            previous_value: task.name,\n            new_value: \"Task Deleted\",\n            changed_by: userId,\n            changed_at: new Date(),\n        });\n\n        // âœ… Soft delete child tasks\n        const childTasks = await Task.findAll({ where: { parent_task_id: id, is_active: true } });\n\n        for (const child of childTasks) {\n            child.is_active = false;\n            await child.save();\n\n            // âœ… Log each child task deletion\n            await TaskChangeLog.create({\n                task_id: child.id,\n                field_changed: \"task\",\n                previous_value: child.name,\n                new_value: \"Task Deleted because Parent Task deleted\",\n                changed_by: userId,\n                changed_at: new Date(),\n            });\n        }\n\n        res.json({ message: \"Task and child tasks soft-deleted successfully\" });\n    } catch (error) {\n        console.error(\"Error deleting task:\", error);\n        res.status(500).json({ error: error.message });\n    }\n};\n\nconst getDepartmentWiseSummary = (tasks, taskAssignments, userMap) => {\n  const taskMap = new Map(tasks.map(task => [task.id, task]));\n  const departmentTaskMap = {};\n\n  taskAssignments.forEach(assign => {\n    const task = taskMap.get(assign.task_id);\n    if (!task) return;\n\n    const seenDepartments = new Set();\n\n    (assign.user_ids || []).forEach(uid => {\n      const user = userMap[uid];\n      if (user && user.department && !seenDepartments.has(user.department.id)) {\n        seenDepartments.add(user.department.id);\n        if (!departmentTaskMap[user.department.id]) {\n          departmentTaskMap[user.department.id] = {\n            department: user.department,\n            tasks: []\n          };\n        }\n        departmentTaskMap[user.department.id].tasks.push(task);\n      }\n    });\n  });\n\n  return Object.values(departmentTaskMap).map(entry => {\n    const statusSummary = {};\n    entry.tasks.forEach(task => {\n      const status = task.status;\n      statusSummary[status] = (statusSummary[status] || 0) + 1;\n    });\n\n    return {\n      department: entry.department,\n      total_tasks: entry.tasks.length,\n      status_summary: statusSummary\n    };\n  });\n};\n\nexport const getTaskSummary = async (req, res) => {\n  try {\n    const { iteration_id } = req.body;\n    const statusWeightage = VALID_STATUSWEIGHTAGE;\n    const user_id = req.user.id;\n\n    const user = await User.findByPk(user_id, {\n      include: [{ model: Role, attributes: [\"name\"], required: true }]\n    });\n\n    if (!user) {\n      return res.status(404).json({ error: \"User not found\" });\n    }\n\n    const userRole = user.Role?.name;\n    let company_id;\n\n    if (userRole === \"System Super Admin\") {\n      company_id = req.body.company_id;\n      if (!company_id) {\n        return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n      }\n    } else {\n      company_id = req.user.company;\n      if (!company_id) {\n        return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n      }\n    }\n\n    const calculateSummary = (tasks) => {\n      const summary = {};\n      let totalWeight = 0;\n      let totalTasks = tasks.length;\n\n      VALID_STATUS_VALUES.forEach(status => {\n        summary[status] = 0;\n      });\n\n      tasks.forEach(task => {\n        const status = task.status;\n        summary[status] = (summary[status] || 0) + 1;\n\n        if (statusWeightage && statusWeightage[status] !== undefined) {\n          totalWeight += statusWeightage[status];\n        }\n      });\n\n      const percentageCompleted = totalTasks > 0 && Object.keys(statusWeightage).length > 0\n        ? parseFloat((totalWeight / (totalTasks * 100)) * 100).toFixed(2)\n        : null;\n\n      return {\n        total_tasks: totalTasks,\n        status_summary: summary,\n        percentage_completed: percentageCompleted\n      };\n    };\n\n const calculateTypeOfFindingSummary = (tasks) => {\n  const summary = {};\n  let totalTasksWithFinding = 0;\n\n  VALID_TYPE_OF_FINDING.forEach(type => {\n    summary[type] = 0;\n  });\n\n  tasks.forEach(task => {\n    const findingType = task.Type_of_Finding; // Ensure this matches your task field\n    if (VALID_TYPE_OF_FINDING.includes(findingType)) {\n      summary[findingType] += 1;\n      totalTasksWithFinding += 1;\n    }\n  });\n\n  return {\n    total_with_type_of_finding: totalTasksWithFinding,\n    type_of_finding_summary: summary\n  };\n};\n\n\n    // Common fetch: get all tasks\n    const tasks = await Task.findAll({\n      where: {\n        company_id,\n        ...(iteration_id ? { iteration_id } : {}),\n        is_active: true\n      },\n      include: [{\n        model: Iteration,\n        as: 'Iteration',\n        attributes: ['id', 'name', 'start_date', 'end_date']\n      }]\n    });\n\n    // Fetch all assignments in one go\n    const taskAssignments = await TaskAssignments.findAll({\n      where: { task_id: tasks.map(t => t.id) }\n    });\n\n    // Build user map for departments\n    const allUserIds = new Set();\n    taskAssignments.forEach(ta => {\n      (ta.user_ids || []).forEach(uid => allUserIds.add(uid));\n    });\n\n    const users = await User.findAll({\n      where: { id: [...allUserIds] },\n      attributes: ['id', 'department_id'],\n      include: [{\n        model: Department,\n        as: 'department',\n        attributes: ['id', 'name']\n      }]\n    });\n\n    const userMap = {};\n    users.forEach(user => {\n      if (user.department) {\n        userMap[user.id] = {\n          id: user.id,\n          department: user.department\n        };\n      }\n    });\n\n    // ðŸ”¹ Case 1: Single iteration summary\n    if (iteration_id) {\n      const iteration = await Iteration.findOne({\n        where: { id: iteration_id },\n        attributes: ['id', 'name', 'start_date', 'end_date']\n      });\n\n      const departmentSummary = getDepartmentWiseSummary(tasks, taskAssignments, userMap);\n      const summary = calculateSummary(tasks);\n      const typeOfFindingSummary = calculateTypeOfFindingSummary(tasks);\n\n      return res.status(200).json({\n        iteration: iteration ? {\n          id: iteration.id,\n          name: iteration.name,\n          start_date: iteration.start_date,\n          end_date: iteration.end_date\n        } : null,\n        ...summary,\n        standard:tasks[0].standard,\n        Type_of_Finding_Summary: typeOfFindingSummary,\n        department_summary: departmentSummary\n      });\n    }\n\n    // ðŸ”¹ Case 2: Group by iteration and calculate summary + department_summary per iteration\n    const grouped = {};\n    tasks.forEach(task => {\n      const iterId = task.iteration_id || \"no_iteration\";\n      if (!grouped[iterId]) {\n        grouped[iterId] = {\n          iteration: task.Iteration ? {\n            id: task.Iteration.id,\n            name: task.Iteration.name,\n            start_date: task.Iteration.start_date,\n            end_date: task.Iteration.end_date\n          } : {\n            id: null,\n            name: \"Unassigned\",\n            start_date: null,\n            end_date: null\n          },\n          tasks: [],\n          assignments: []\n        };\n      }\n      grouped[iterId].tasks.push(task);\n    });\n\n    // Group assignments per iteration\n    taskAssignments.forEach(assign => {\n      const task = tasks.find(t => t.id === assign.task_id);\n      const iterId = task?.iteration_id || \"no_iteration\";\n      if (grouped[iterId]) {\n        grouped[iterId].assignments.push(assign);\n      }\n    });\n\n    const iterations = Object.keys(grouped).map(iterId => {\n      const group = grouped[iterId];\n      const summary = calculateSummary(group.tasks);\n      const departmentSummary = getDepartmentWiseSummary(group.tasks, group.assignments, userMap);\n      const typeOfFindingSummary = calculateTypeOfFindingSummary(group.tasks);\n      return {\n        iteration: group.iteration,\n        ...summary,\n        Type_of_Finding_Summary: typeOfFindingSummary,\n        department_summary: departmentSummary,\n        standard:group.tasks[0].standard\n      };\n    });\n\n    return res.status(200).json({\n      iterations\n    });\n\n  } catch (error) {\n    console.error(\"Error in getTaskSummary:\", error);\n    res.status(500).json({ message: \"Server error\", error: error.message });\n  }\n};\n\n// export const getTaskSummary = async (req, res) => {\n//     try {\n//       const { iteration_id } = req.body;\n//       const statusWeightage = VALID_STATUSWEIGHTAGE;\n//       const user_id = req.user.id;\n  \n//       const user = await User.findByPk(user_id, {\n//         include: [{ model: Role, attributes: [\"name\"], required: true }]\n//       });\n  \n//       if (!user) {\n//         return res.status(404).json({ error: \"User not found\" });\n//       }\n  \n//       const userRole = user.Role?.name;\n//       let company_id;\n  \n//       if (userRole === \"System Super Admin\") {\n//         company_id = req.body.company_id;\n//         if (!company_id) {\n//           return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//         }\n//       } else {\n//         company_id = req.user.company;\n//         if (!company_id) {\n//           return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n//         }\n//       }\n  \n//       const calculateSummary = (tasks) => {\n//         const summary = {};\n//         let totalWeight = 0;\n//         let totalTasks = tasks.length;\n  \n//         VALID_STATUS_VALUES.forEach(status => {\n//           summary[status] = 0;\n//         });\n  \n//         tasks.forEach(task => {\n//           const status = task.status;\n//           summary[status] = (summary[status] || 0) + 1;\n  \n//           if (statusWeightage && statusWeightage[status] !== undefined) {\n//             totalWeight += statusWeightage[status];\n//           }\n//         });\n  \n//         const percentageCompleted = totalTasks > 0 && Object.keys(statusWeightage).length > 0\n//           ? parseFloat((totalWeight / (totalTasks * 100)) * 100).toFixed(2)\n//           : null;\n  \n//         return {\n//           total_tasks: totalTasks,\n//           status_summary: summary,\n//           percentage_completed: percentageCompleted\n//         };\n//       };\n  \n//       // ðŸ”¹ Case 1: iteration_id is provided\n//       if (iteration_id) {\n//         const tasks = await Task.findAll({\n//           where: {\n//             company_id,\n//             iteration_id,\n//             is_active: true\n//           }\n//         });\n  \n//         const iteration = await Iteration.findOne({\n//           where: { id: iteration_id },\n//           attributes: ['id', 'name', 'start_date', 'end_date']\n//         });\n  \n//         const summary = calculateSummary(tasks);\n  \n//         return res.status(200).json({\n//           iteration: iteration ? {\n//             id: iteration.id,\n//             name: iteration.name,\n//             start_date: iteration.start_date,\n//             end_date: iteration.end_date\n//           } : null,\n//           ...summary\n//         });\n//       }\n  \n//       // ðŸ”¹ Case 2: No iteration_id â€” group by iteration\n//       const tasks = await Task.findAll({\n//         where: {\n//           company_id,\n//           is_active: true\n//         },\n//         include: [{\n//           model: Iteration,\n//           as: 'Iteration',\n//           attributes: ['id', 'name', 'start_date', 'end_date']\n//         }]\n//       });\n  \n//       // ðŸ”¸ Fetch TaskAssignments with user_ids\n//       const taskAssignments = await TaskAssignments.findAll({\n//         where: { task_id: tasks.map(t => t.id) }\n//       });\n  \n//       // ðŸ”¸ Collect all user_ids from assignments\n//       const allUserIds = new Set();\n//       taskAssignments.forEach(ta => {\n//         (ta.user_ids || []).forEach(uid => allUserIds.add(uid));\n//       });\n  \n//       // ðŸ”¸ Get User + Department details\n//       const users = await User.findAll({\n//         where: { id: [...allUserIds] },\n//         attributes: ['id', 'department_id'],\n//         include: [{\n//           model: Department,\n//           as: 'department',\n//           attributes: ['id', 'name']\n//         }]\n//       });\n  \n//       const userMap = {};\n//       users.forEach(user => {\n//         if (user.department) {\n//           userMap[user.id] = {\n//             id: user.id,\n//             department: user.department\n//           };\n//         }\n//       });\n  \n//       // ðŸ”¸ Map department-wise tasks\n//       const taskMap = new Map(tasks.map(task => [task.id, task]));\n//       const departmentTaskMap = {};\n  \n//       taskAssignments.forEach(assign => {\n//         const task = taskMap.get(assign.task_id);\n//         if (!task) return;\n  \n//         const departmentsSeen = new Set();\n  \n//         (assign.user_ids || []).forEach(uid => {\n//           const user = userMap[uid];\n//           if (user && !departmentsSeen.has(user.department.id)) {\n//             departmentsSeen.add(user.department.id);\n//             if (!departmentTaskMap[user.department.id]) {\n//               departmentTaskMap[user.department.id] = {\n//                 department: user.department,\n//                 tasks: []\n//               };\n//             }\n//             departmentTaskMap[user.department.id].tasks.push(task);\n//           }\n//         });\n//       });\n  \n//       const departmentSummary = Object.values(departmentTaskMap).map(entry => {\n//         const summary = calculateSummary(entry.tasks);\n//         return {\n//           department: entry.department,\n//           ...summary\n//         };\n//       });\n  \n//       // ðŸ”¸ Group tasks by iteration\n//       const grouped = {};\n//       tasks.forEach(task => {\n//         const iterId = task.iteration_id || \"no_iteration\";\n//         if (!grouped[iterId]) {\n//           grouped[iterId] = {\n//             iteration: task.Iteration ? {\n//               id: task.Iteration.id,\n//               name: task.Iteration.name,\n//               start_date: task.Iteration.start_date,\n//               end_date: task.Iteration.end_date\n//             } : {\n//               id: null,\n//               name: \"Unassigned\",\n//               start_date: null,\n//               end_date: null\n//             },\n//             tasks: []\n//           };\n//         }\n//         grouped[iterId].tasks.push(task);\n//       });\n  \n//       const iterations = Object.keys(grouped).map(key => {\n//         const group = grouped[key];\n//         const summary = calculateSummary(group.tasks);\n//         return {\n//           iteration: group.iteration,\n//           ...summary\n//         };\n//       });\n  \n//       return res.status(200).json({\n//         iterations,\n//         department_summary: departmentSummary\n//       });\n  \n//     } catch (error) {\n//       console.error(\"Error in getTaskSummary:\", error);\n//       res.status(500).json({ message: \"Server error\", error: error.message });\n//     }\n//   };\n  \n  \n  \n\n// export const getTaskSummary = async (req, res) => {\n//     try {\n//       const {  iteration_id } = req.body;\n//           const statusWeightage =    VALID_STATUSWEIGHTAGE;                //req.body.status_weightage || {}; // Optional\n  \n//       const user_id = req.user.id;\n  \n//           // Fetch user's role and company ID\n//           const user = await User.findByPk(user_id, {\n//               include: [{ model: Role, attributes: [\"name\"], required: true }]\n//           });\n  \n//           if (!user) {\n//               return res.status(404).json({ error: \"User not found\" });\n//           }\n  \n//           const userRole = user.Role ? user.Role.name : null;\n//           let company_id;\n  \n//           if (userRole === \"System Super Admin\") {\n//               company_id = req.body.company_id;\n//               if (!company_id) {\n//                   return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//               }\n//           } else {\n//               company_id = req.user.company;\n//               if (!company_id) {\n//                   return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n//               }\n//           }\n   \n  \n  \n//       // Helper function to calculate status summary and weighted percentage\n//       const calculateSummary = (tasks) => {\n//         const summary = {};\n//         let totalWeight = 0;\n//         let totalTasks = tasks.length;\n  \n//         VALID_STATUS_VALUES.forEach(status => {\n//           summary[status] = 0;\n//         });\n  \n//         tasks.forEach(task => {\n//           const status = task.status;\n//           summary[status] = (summary[status] || 0) + 1;\n  \n//           // Apply weightage if provided\n//           if (statusWeightage && statusWeightage[status] !== undefined) {\n//             totalWeight += statusWeightage[status];\n//           }\n//         });\n  \n//         const percentageCompleted = totalTasks > 0 && Object.keys(statusWeightage).length > 0\n//           ? parseFloat((totalWeight / (totalTasks * 100)) * 100).toFixed(2)\n//           : null;\n  \n//         return {\n//           total_tasks: totalTasks,\n//           status_summary: summary,\n//           percentage_completed: percentageCompleted\n//         };\n//       };\n  \n//       // Case 1: Specific iteration_id provided\n//       if (iteration_id) {\n//         const tasks = await Task.findAll({\n//           where: {\n//             company_id,\n//             iteration_id,\n//             is_active: true\n//           }\n//         });\n  \n//         const iteration = await Iteration.findOne({\n//           where: { id: iteration_id },\n//           attributes: ['id', 'name', 'start_date', 'end_date']\n//         });\n  \n//         const summary = calculateSummary(tasks);\n  \n//         return res.status(200).json({\n//           iteration: iteration ? {\n//             id: iteration.id,\n//             name: iteration.name,\n//             start_date: iteration.start_date,\n//             end_date: iteration.end_date\n//           } : null,\n//           ...summary\n//         });\n//       }\n  \n//       // Case 2: No iteration_id â†’ group by iteration\n//       const tasks = await Task.findAll({\n//         where: {\n//           company_id,\n//           is_active: true\n//         },\n//         include: [{\n//           model: Iteration,\n//            as: 'Iteration',\n//           attributes: ['id', 'name', 'start_date', 'end_date']\n//         }]\n//       });\n  \n\n\n//      // Step: Department-wise summary\n// const tasksWithAssignees = await Task.findAll({\n//     where: {\n//       company_id,\n//       is_active: true,\n//       ...(iteration_id ? { iteration_id } : {})\n//     },\n//     include: [\n//       {\n//         model: TaskAssignments,\n//         as: 'Assignees',\n//         include: [\n//           {\n//             model: User,\n//             as: 'user',\n//             attributes: ['id', 'department_id'],\n//             include: [\n//               {\n//                 model: Department,\n//                 as: 'department',\n//                 attributes: ['id', 'name']\n//               }\n//             ]\n//           }\n//         ]\n//       }\n//     ]\n//   });\n  \n//   const departmentTaskMap = {};\n  \n//   tasksWithAssignees.forEach(task => {\n//     const departmentsSeen = new Set();\n  \n//     task.assignees.forEach(assignee => {\n//       const dept = assignee.user?.department;\n//       if (dept && !departmentsSeen.has(dept.id)) {\n//         departmentsSeen.add(dept.id);\n//         if (!departmentTaskMap[dept.id]) {\n//           departmentTaskMap[dept.id] = {\n//             department: {\n//               id: dept.id,\n//               name: dept.name\n//             },\n//             tasks: []\n//           };\n//         }\n//         departmentTaskMap[dept.id].tasks.push(task);\n//       }\n//     });\n//   });\n  \n//   const departmentSummary = Object.values(departmentTaskMap).map(entry => {\n//     const summary = calculateSummary(entry.tasks);\n//     return {\n//       department: entry.department,\n//       ...summary\n//     };\n//   });\n  \n\n//       // Group tasks by iteration_id\n//       const grouped = {};\n  \n//       tasks.forEach(task => {\n//         const iterId = task.iteration_id || \"no_iteration\";\n//         if (!grouped[iterId]) {\n//           grouped[iterId] = {\n//             iteration: task.Iteration ? {\n//               id: task.Iteration.id,\n//               name: task.Iteration.name,\n//               start_date: task.Iteration.start_date,\n//               end_date: task.Iteration.end_date\n//             } : {\n//               id: null,\n//               name: \"Unassigned\",\n//               start_date: null,\n//               end_date: null\n//             },\n//             tasks: []\n//           };\n//         }\n//         grouped[iterId].tasks.push(task);\n//       });\n  \n//       const iterations = Object.keys(grouped).map(key => {\n//         const group = grouped[key];\n//         const summary = calculateSummary(group.tasks);\n//         return {\n//           iteration: group.iteration,\n//           ...summary\n//         };\n//       });\n      \n//       return res.status(200).json({\n//         iterations,\n//         department_summary: departmentSummary\n//       });\n      \n  \n  \n//     } catch (error) {\n//       console.error(\"Error in getTaskSummary:\", error);\n//       res.status(500).json({ message: \"Server error\", error: error.message });\n//     }\n//   };\n\n// export const getTaskSummary = async (req, res) => {\n//   try {\n//     const {  iteration_id } = req.body;\n//         const statusWeightage =    VALID_STATUSWEIGHTAGE;                //req.body.status_weightage || {}; // Optional\n\n//     const user_id = req.user.id;\n\n//         // Fetch user's role and company ID\n//         const user = await User.findByPk(user_id, {\n//             include: [{ model: Role, attributes: [\"name\"], required: true }]\n//         });\n\n//         if (!user) {\n//             return res.status(404).json({ error: \"User not found\" });\n//         }\n\n//         const userRole = user.Role ? user.Role.name : null;\n//         let company_id;\n\n//         if (userRole === \"System Super Admin\") {\n//             company_id = req.body.company_id;\n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//             }\n//         } else {\n//             company_id = req.user.company;\n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n//             }\n//         }\n \n\n\n//     // Helper function to calculate status summary and weighted percentage\n//     const calculateSummary = (tasks) => {\n//       const summary = {};\n//       let totalWeight = 0;\n//       let totalTasks = tasks.length;\n\n//       VALID_STATUS_VALUES.forEach(status => {\n//         summary[status] = 0;\n//       });\n\n//       tasks.forEach(task => {\n//         const status = task.status;\n//         summary[status] = (summary[status] || 0) + 1;\n\n//         // Apply weightage if provided\n//         if (statusWeightage && statusWeightage[status] !== undefined) {\n//           totalWeight += statusWeightage[status];\n//         }\n//       });\n\n//       const percentageCompleted = totalTasks > 0 && Object.keys(statusWeightage).length > 0\n//         ? parseFloat((totalWeight / (totalTasks * 100)) * 100).toFixed(2)\n//         : null;\n\n//       return {\n//         total_tasks: totalTasks,\n//         status_summary: summary,\n//         percentage_completed: percentageCompleted\n//       };\n//     };\n\n//     // Case 1: Specific iteration_id provided\n//     if (iteration_id) {\n//       const tasks = await Task.findAll({\n//         where: {\n//           company_id,\n//           iteration_id,\n//           is_active: true\n//         }\n//       });\n\n//       const iteration = await Iteration.findOne({\n//         where: { id: iteration_id },\n//         attributes: ['id', 'name', 'start_date', 'end_date']\n//       });\n\n//       const summary = calculateSummary(tasks);\n\n//       return res.status(200).json({\n//         iteration: iteration ? {\n//           id: iteration.id,\n//           name: iteration.name,\n//           start_date: iteration.start_date,\n//           end_date: iteration.end_date\n//         } : null,\n//         ...summary\n//       });\n//     }\n\n//     // Case 2: No iteration_id â†’ group by iteration\n//     const tasks = await Task.findAll({\n//       where: {\n//         company_id,\n//         is_active: true\n//       },\n//       include: [{\n//         model: Iteration,\n//          as: 'Iteration',\n//         attributes: ['id', 'name', 'start_date', 'end_date']\n//       }]\n//     });\n\n//     // Group tasks by iteration_id\n//     const grouped = {};\n\n//     tasks.forEach(task => {\n//       const iterId = task.iteration_id || \"no_iteration\";\n//       if (!grouped[iterId]) {\n//         grouped[iterId] = {\n//           iteration: task.Iteration ? {\n//             id: task.Iteration.id,\n//             name: task.Iteration.name,\n//             start_date: task.Iteration.start_date,\n//             end_date: task.Iteration.end_date\n//           } : {\n//             id: null,\n//             name: \"Unassigned\",\n//             start_date: null,\n//             end_date: null\n//           },\n//           tasks: []\n//         };\n//       }\n//       grouped[iterId].tasks.push(task);\n//     });\n\n//     const iterations = Object.keys(grouped).map(key => {\n//       const group = grouped[key];\n//       const summary = calculateSummary(group.tasks);\n//       return {\n//         iteration: group.iteration,\n//         ...summary\n//       };\n//     });\n\n//     return res.status(200).json({ iterations });\n\n//   } catch (error) {\n//     console.error(\"Error in getTaskSummary:\", error);\n//     res.status(500).json({ message: \"Server error\", error: error.message });\n//   }\n// };\n\n\n\n// export const getTaskSummary = async (req, res) => {\n//   try {\n//     const { iteration_id } = req.query;\n//     const statusWeightage =    VALID_STATUSWEIGHTAGE;                //req.body.status_weightage || {}; // Optional\n\n//     const user_id = req.user.id;\n\n//         // Fetch user's role and company ID\n//         const user = await User.findByPk(user_id, {\n//             include: [{ model: Role, attributes: [\"name\"], required: true }]\n//         });\n\n//         if (!user) {\n//             return res.status(404).json({ error: \"User not found\" });\n//         }\n\n//         const userRole = user.Role ? user.Role.name : null;\n//         let company_id;\n\n//         if (userRole === \"System Super Admin\") {\n//             company_id = req.body.company_id;\n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//             }\n//         } else {\n//             company_id = req.user.company;\n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n//             }\n//         }\n \n\n//     // Fetch tasks\n//     const whereClause = {\n//       company_id,\n//       is_active: true\n//     };\n//     if (iteration_id) whereClause.iteration_id = iteration_id;\n\n//     const tasks = await Task.findAll({ where: whereClause });\n\n//     // 1. Status-wise count\n//     const statusSummary = {};\n//     let weightedSum = 0;\n//     for (const status of VALID_STATUS_VALUES) {\n//       statusSummary[status] = 0;\n//     }\n\n//     for (const task of tasks) {\n//       const status = task.status || \"TBD\";\n//       statusSummary[status] = (statusSummary[status] || 0) + 1;\n\n//       if (statusWeightage[status] !== undefined) {\n//         weightedSum += statusWeightage[status];\n//       }\n//     }\n\n//     // 2. Completion Percentage\n//     let completionPercentage = 0;\n//     if (tasks.length > 0 && Object.keys(statusWeightage).length > 0) {\n//       completionPercentage = weightedSum / tasks.length;\n//     }\n\n//     // 3. Iteration Timeline\n//     let iterationTimeline = null;\n//     if (iteration_id) {\n//       const iteration = await Iteration.findByPk(iteration_id);\n//       if (iteration) {\n//         iterationTimeline = {\n//           start: iteration.start_date,\n//           end: iteration.end_date\n//         };\n//       }\n//     }\n\n//     return res.json({\n//       statusSummary,\n//       totalTasks: tasks.length,\n//       completionPercentage: +completionPercentage.toFixed(2),\n//       iterationTimeline\n//     });\n\n//   } catch (error) {\n//     console.error(\"Error in getTaskSummary:\", error);\n//     res.status(500).json({ error: \"Internal Server Error\" });\n//   }\n// };\n\n\n\n// export const deleteTask = async (req, res) => {\n//     try {\n//         const { id } = req.params;\n\n//         // âœ… Delete related records first\n//         await TaskAssignments.destroy({ where: { task_id: id } });\n//         await TaskChangeLog.destroy({ where: { task_id: id } });\n\n//         // âœ… Delete child tasks recursively\n//         await Task.destroy({ where: { parent_task_id: id } });\n\n//         // âœ… Delete the main task\n//         const deleted = await Task.destroy({ where: { id } });\n\n//         if (!deleted) {\n//             return res.status(404).json({ error: \"Task not found\" });\n//         }\n\n//         res.json({ message: \"Task and related records deleted successfully\" });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\n// Route for inserting approved tasks\n//router.post(\"/insert-approved-tasks\", insertApprovedTasks);\n\n\n\n\n// import Task from \"../models/Task.js\";\n// import TaskAssignments from \"../models/TaskAssignment.js\";\n// import User from \"../models/User.js\";\n// import Role from \"../models/Role.js\"\n// import { Op } from \"sequelize\";\n\n\n// // Create a new Task\n// export const createTask = async (req, res) => {\n//     try {\n//         const { name, description, task_type, parent_task_id,createdBy } = req.body;\n//         const task = await Task.create({ name, description, task_type, parent_task_id,createdBy });\n//         res.status(201).json(task);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// // Get all tasks\n// export const getAllTasks = async (req, res) => {\n//     try {\n//         const { user_id } = req.body; // Extract user_id from request body\n\n//         // Fetch user role\n//         const user = await User.findByPk(user_id, {\n//             include: [{ model: Role, attributes: [\"name\"], required: true }]  // Ensure role is included\n//         });\n\n        \n\n//         if (!user) {\n//             return res.status(404).json({ error: \"User not found\" });\n//         }\n\n//         const userRole = user.Role ? user.Role.name : null;\n\n\n//         console.log(`userRole ${userRole}`);\n\n//         let tasks;\n\n//         if (userRole === \"Super Admin\") {\n//             // Super Admin gets all tasks\n//             tasks = await Task.findAll();\n//         } else {\n//             // Get task IDs where the user is either an assignee or an assigner\n//             const assignedTaskIds = await TaskAssignments.findAll({\n//                 where: {\n//                     [Op.or]: [\n//                         { user_id },     // Tasks assigned to the user\n//                         { assign_by: user_id }  // Tasks assigned by the user\n//                     ]\n//                 },\n//                 attributes: [\"task_id\"], // Get only task_id\n//                 raw: true\n//             });\n\n//             // Extract task IDs from TaskAssignment results\n//             const assignedTaskIdList = assignedTaskIds.map(task => task.task_id);\n\n//             // Fetch tasks where:\n//             // - User is the creator\n//             // - User has assigned the task or was assigned a task\n//             tasks = await Task.findAll({\n//                 where: {\n//                     [Op.or]: [\n//                         { createdBy: user_id },\n//                         { id: assignedTaskIdList.length > 0 ? { [Op.in]: assignedTaskIdList } : null }\n//                     ]\n//                 }\n//             });\n//         }\n\n//         res.json(tasks);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// // Get a single task by ID\n// export const getTaskById = async (req, res) => {\n//     try {\n//         const { id } = req.params;\n//         const task = await Task.findByPk(id);\n//         if (!task) return res.status(404).json({ error: \"Task not found\" });\n//         res.json(task);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// // Update a Task\n// export const updateTask = async (req, res) => {\n//     try {\n//         const { id } = req.params;\n//         const updated = await Task.update(req.body, { where: { id } });\n//         if (!updated[0]) return res.status(404).json({ error: \"Task not found\" });\n//         res.json({ message: \"Task updated successfully\" });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// // Delete a Task\n// export const deleteTask = async (req, res) => {\n//     try {\n//         const { id } = req.params;\n//         const deleted = await Task.destroy({ where: { id } });\n//         if (!deleted) return res.status(404).json({ error: \"Task not found\" });\n//         res.json({ message: \"Task deleted successfully\" });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\n// import TaskAssignment from \"../models/TaskAssignment.js\";\n// import TaskChangeLog from \"../models/TaskChangeLog.js\";\n// import { Op } from \"sequelize\";\n// import User from \"../models/User.js\";\n// import Role from \"../models/Role.js\";\n// import Task from \"../models/Task.js\";\n\n// export const assignTask = async (req, res) => {\n//     try {\n//         const { task_id, user_ids } = req.body; // Expecting an array of user IDs\n//         const assign_by=req.user.id;\n\n//         if (!Array.isArray(user_ids) || user_ids.length === 0) {\n//             return res.status(400).json({ error: \"user_id must be a non-empty array\" });\n//         }\n\n//         const assignments = await Promise.all(\n//             user_ids.map(async (user_id) => {\n//                 // Check if the assignment already exists\n//                 const existingAssignment = await TaskAssignment.findOne({\n//                     where: { task_id, user_id }\n//                 });\n\n//                 if (!existingAssignment) {\n//                     const newAssignment = await TaskAssignment.create({ task_id, user_id, assign_by });\n\n//                     // âœ… Log task assignment in TaskChangeLog\n//                     await TaskChangeLog.create({\n//                         task_id,\n//                         changed_by: assign_by,\n//                         field_changed: \"assignment\",\n//                         old_value: null,\n//                         new_value: `Assigned to user ${user_id}`,\n//                     });\n\n//                     return newAssignment;\n//                 }\n\n//                 return existingAssignment; // If it exists, return the existing assignment\n//             })\n//         );\n\n//         res.status(201).json(assignments);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// export const changeAssignee = async (req, res) => {\n//     try {\n//         const { task_id, old_assignee, new_assignee } = req.body;\n//         const changed_by=req.user.id;\n//         // Ensure task assignment exists for old assignee\n//         const existingAssignment = await TaskAssignment.findOne({\n//             where: { task_id, user_id: old_assignee }\n//         });\n\n//         if (!existingAssignment) {\n//             return res.status(404).json({ error: \"Old assignee not found for this task\" });\n//         }\n\n//         // Remove old assignee\n//         await TaskAssignment.destroy({ where: { task_id, user_id: old_assignee } });\n\n//         // Assign new assignee\n//         const newAssignment = await TaskAssignment.create({\n//             task_id,\n//             user_id: new_assignee,\n//             assign_by: changed_by\n//         });\n\n//         // âœ… Log the change in TaskChangeLog\n//         await TaskChangeLog.create({\n//             task_id,\n//             changed_by,\n//             field_changed: \"assignment\",\n//             old_value: `Assigned to user ${old_assignee}`,\n//             new_value: `Assigned to user ${new_assignee}`,\n//         });\n\n//         res.status(200).json({ message: \"Assignee changed successfully\", newAssignment });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// export const getAllTaskAssignments = async (req, res) => {\n//     try {\n//         const user_id = req.user.id; // Assuming `req.user` contains the logged-in user details\n\n//         // Fetch the user's role by including Role in the query\n//         const user = await User.findByPk(user_id, {\n//             include: [{ model: Role, attributes: [\"name\"] }] // Fetch role name\n//         });\n\n//         if (!user) {\n//             return res.status(404).json({ error: \"User not found\" });\n//         }\n\n//         let assignments;\n\n//         if (user.Role?.name === \"Super Admin\") {\n//             // Super Admin gets all task assignments\n//             assignments = await TaskAssignment.findAll({\n//                 include: [\n//                     { model: Task },\n//                     { model: User, as: \"Assignee\", attributes: [\"id\", \"name\", \"email\"] }, // Assigned user details\n//                     { model: User, as: \"Assigner\", attributes: [\"id\", \"name\", \"email\"] } // Assigner user details\n//                 ]\n//             });\n//         } else {\n//             // Regular users only see tasks where they are assigned (user_id) or assigned by (assign_by)\n//             assignments = await TaskAssignment.findAll({\n//                 where: {\n//                     [Op.or]: [\n//                         { user_id }, // User is assigned this task\n//                         { assign_by: user_id } // User assigned this task\n//                     ]\n//                 },\n//                 include: [\n//                     { model: Task },\n//                     { model: User, as: \"Assignee\", attributes: [\"id\", \"name\", \"email\"] },\n//                     { model: User, as: \"Assigner\", attributes: [\"id\", \"name\", \"email\"] }\n//                 ]\n//             });\n//         }\n\n//         res.json(assignments);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// export const getTaskAssignments = async (req, res) => {\n//     try {\n//         const { task_id } = req.params;\n//         const assignments = await TaskAssignment.findAll({\n//             where: { task_id },\n//             include: [\n//                 { model: User, as: \"Assignee\", attributes: [\"id\", \"name\", \"email\"] },\n//                 { model: User, as: \"Assigner\", attributes: [\"id\", \"name\", \"email\"] }\n//             ]\n//         });\n//         res.json(assignments);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// export const unassignTask = async (req, res) => {\n//     try {\n//         const { id } = req.params;\n//         const assignment = await TaskAssignment.findByPk(id);\n\n//         if (!assignment) {\n//             return res.status(404).json({ error: \"Assignment not found\" });\n//         }\n\n//         // âœ… Log task unassignment in TaskChangeLog\n//         await TaskChangeLog.create({\n//             task_id: assignment.task_id,\n//             changed_by: assignment.assign_by,\n//             field_changed: \"assignment\",\n//             old_value: `Assigned to user ${assignment.user_id}`,\n//             new_value: \"Unassigned\",\n//         });\n\n//         // Delete the assignment\n//         await TaskAssignment.destroy({ where: { id } });\n\n//         res.json({ message: \"User unassigned from task successfully\" });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n","size_bytes":79601},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"frontend-new/src/assets/theme-dark/functions/hexToRgb.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The hexToRgb() function helps you to change the hex color code to rgb\n  using chroma-js library.\n */\n\n// chroma-js is a library for all kinds of color conversions and color scales.\nimport chroma from \"chroma-js\";\n\nfunction hexToRgb(color) {\n  return chroma(color).rgb().join(\", \");\n}\n\nexport default hexToRgb;\n","size_bytes":839},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":483},"qms-source/frontend-new/src/assets/theme-dark/components/form/formLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\n\nconst { text } = colors;\n\nconst formLabel = {\n  styleOverrides: {\n    root: {\n      color: text.main,\n    },\n  },\n};\n\nexport default formLabel;\n","size_bytes":762},"qms-source/BackEnd/src/routes/generalDocumentsRoutes.js":{"content":"import express from \"express\";\nimport { createFolder, uploadGeneralDocument, listDocuments,deleteDocument,deleteFolder,updateFolder,updateDocument } from \"../controllers/generalDocumentController.js\";\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post(\"/folder/:moduleId\",authenticateUser,checkPermission(\"write\"), createFolder);\nrouter.post(\"/document/:moduleId\",authenticateUser,checkPermission(\"write\"), uploadGeneralDocument);\n//router.post(\"/uploadFolder/:moduleId\",authenticateUser,checkPermission(\"write\"), uploadFolder);\nrouter.put(\"/folder/:moduleId\",authenticateUser,checkPermission(\"write\"), updateFolder);\nrouter.put(\"/document/:moduleId\",authenticateUser,checkPermission(\"write\"), updateDocument);\nrouter.get(\"/:moduleId/:folderId\",authenticateUser,checkPermission(\"read\"), listDocuments);\nrouter.delete(\"/document/:moduleId/:document_id\",authenticateUser, checkPermission(\"delete\"),deleteDocument);\nrouter.delete(\"/folder/:moduleId/:folder_id\",authenticateUser, checkPermission(\"delete\"),deleteFolder);\n\nexport default router;","size_bytes":1174},"frontend-new/src/assets/theme-dark/components/avatar.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\n\nconst { borderRadius } = borders;\n\nconst avatar = {\n  styleOverrides: {\n    root: {\n      transition: \"all 200ms ease-in-out\",\n    },\n\n    rounded: {\n      borderRadius: borderRadius.lg,\n    },\n\n    img: {\n      height: \"auto\",\n    },\n  },\n};\n\nexport default avatar;\n","size_bytes":887},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"frontend-new/src/assets/theme-dark/components/tabs/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { background } = colors;\nconst { borderRadius } = borders;\nconst { md } = boxShadows;\n\nconst tabs = {\n  styleOverrides: {\n    root: {\n      position: \"relative\",\n      backgroundColor: background.card,\n      borderRadius: borderRadius.xl,\n      minHeight: \"unset\",\n      padding: pxToRem(4),\n    },\n\n    flexContainer: {\n      height: \"100%\",\n      position: \"relative\",\n      zIndex: 10,\n    },\n\n    fixed: {\n      overflow: \"unset !important\",\n      overflowX: \"unset !important\",\n    },\n\n    vertical: {\n      \"& .MuiTabs-indicator\": {\n        width: \"100%\",\n      },\n    },\n\n    indicator: {\n      height: \"100%\",\n      borderRadius: borderRadius.lg,\n      backgroundColor: background.default,\n      boxShadow: md,\n      transition: \"all 500ms ease\",\n    },\n  },\n};\n\nexport default tabs;\n","size_bytes":1637},"frontend-new/src/App.jsx":{"content":"import React, { useState } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  useLocation,\n} from \"react-router-dom\";\n\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n// MUI\nimport { ThemeProvider } from \"@mui/material/styles\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport Icon from \"@mui/material/Icon\";\nimport { Box } from \"@mui/material\";\n\n// MUI context\nimport { useMaterialUIController } from \"./context\";\n\n// MUI themes\nimport theme from \"./assets/theme\";\nimport themeDark from \"./assets/theme-dark\";\n\n// Relevant page components\nimport Sidebar from \"./Components/Sidebar\";\nimport CompanyName from \"./pages/onboarding/CompanyName\";\nimport CompanyDetails from \"./pages/onboarding/CompanyDetails\";\nimport Dashboard from \"./dashboard/Dashboard\";\nimport CompanyList from \"./pages/onboarding/CompanyList\";\nimport Analytics from \"./dashboard/Analytics\";\nimport RoleList from \"./pages/role_management/RoleList\";\nimport RoleForm from \"./pages/role_management/RoleForm\";\nimport RoleUpdate from \"./pages/role_management/RoleUpdate\";\nimport ModuleList from \"./pages/module_management/ModuleList\";\nimport ModuleForm from \"./pages/module_management/ModuleForm\";\nimport AssignPermissions from \"./pages/role_management/AssignPermissions\";\nimport AssignPermissionstoRole from \"./pages/role_management/AssignPermissionstoRole\";\nimport CreateUser from \"./pages/user_management/CreateUser\";\nimport LoginPage from \"./pages/auth/Login\";\nimport ChangePassword from \"./pages/user_management/changePassword\";\nimport TaskList from \"./pages/TaskManagement/TaskList\";\nimport CreateTask from \"./pages/TaskManagement/CreateTask\";\nimport EditTask from \"./pages/TaskManagement/EditTask\";\nimport BulkTaskAssignment from \"./pages/TaskManagement/BulkTaskAssignment\";\nimport AssignedTaskPage from \"./pages/TaskManagement/AssignedTaskPage\";\nimport UserTaskAssignment from \"./pages/TaskManagement/UserTaskAssignment\";\nimport TaskUploadPage from \"./pages/TaskManagement/TaskUploadPage\";\nimport SelectCompany from \"./pages/TaskManagement/SelectCompany\";\nimport UserList from \"./pages/user_management/UserList\";\nimport UpdateUser from \"./pages/user_management/UpdateUser\";\nimport Header from \"./Components/Header\";\nimport DocumentManagementPage from \"./pages/DocumentManagement/DocumentManagementPage\";\nimport IterationList from \"./pages/Iteration/IterationList\";\nimport CreateIteration from \"./pages/Iteration/CreateIteration\";\nimport EditIteration from \"./pages/Iteration/EditIteration\";\nimport DepartmentList from \"./pages/department/DepartmentList\";\nimport DepartmentForm from \"./pages/department/DepartmentForm\";\nimport SelectStandard from './pages/standard/SelectStandard';\nimport SelectIterationPage from \"./pages/Iteration/SelectIterationPage\";\n\nconst AppLayout = () => {\n  const location = useLocation();\n  const hideSidebarRoutes = [\"/\", \"/company-details\", \"/login\"];\n  const isSidebarHidden = hideSidebarRoutes.includes(location.pathname);\n  const [, setSelectedCompany] = useState(null);\n\n  const [controller, dispatch] = useMaterialUIController();\n  const { darkMode, sidebarOpen } = controller;\n\n  return (\n    <ThemeProvider theme={darkMode ? themeDark : theme}>\n      <CssBaseline />\n\n      <Box sx={{ display: \"flex\", position: \"relative\" }}>\n        {!isSidebarHidden && <Sidebar />}\n\n        <Box\n          sx={{\n            flex: 1,\n            padding: hideSidebarRoutes ? 0 : 2,\n            width: \"calc(100% - 250px)\",\n            // marginX: hideSidebarRoutes ? 0 : 2,\n            ...(!hideSidebarRoutes && { marginLeft: sidebarOpen ? 4 : 2 }),\n          }}\n        >\n          {!isSidebarHidden && <Header />}\n          <Routes>\n            <Route path=\"/\" element={<LoginPage />} />\n            <Route path=\"/login\" element={<LoginPage />} />\n\n            {/* Onboarding */}\n            <Route path=\"/company-details\" element={<CompanyDetails />} />\n            <Route path=\"/company-name\" element={<CompanyName />} />\n\n            {/* Dashboard */}\n            <Route path=\"/dashboard/*\" element={<Dashboard />} />\n            <Route path=\"/company-list\" element={<CompanyList />} />\n            <Route path=\"/analytics\" element={<Analytics />} />\n\n            {/* Role Management */}\n            <Route path=\"/roles\" element={<RoleList />} />\n            <Route path=\"/roles/create\" element={<RoleForm />} />\n            <Route path=\"/roles/edit/:id\" element={<RoleUpdate />} />\n            <Route path=\"/assign-permissions\" element={<AssignPermissions />} />\n            <Route\n              path=\"/assignpermissionstorole/:roleId\"\n              element={<AssignPermissionstoRole />}\n            />\n\n            {/* Module Management */}\n            <Route path=\"/modules\" element={<ModuleList />} />\n            <Route path=\"/modules/new\" element={<ModuleForm />} />\n            <Route path=\"/modules/:id\" element={<ModuleForm />} />\n\n            {/* User Management */}\n            <Route path=\"/users\" element={<UserList />} />\n            <Route path=\"/users/create\" element={<CreateUser />} />\n            <Route path=\"/changePassword\" element={<ChangePassword />} />\n            <Route path=\"/users/update/:id\" element={<UpdateUser />} />\n\n            {/* Task Management */}\n            <Route path=\"/tasks\" element={<TaskList />} />\n            <Route path=\"/create-task\" element={<CreateTask />} />\n            <Route path=\"/edit-task/:moduleId/:taskId\" element={<EditTask />} />\n            <Route\n              path=\"/BulkTaskAssignment\"\n              element={<BulkTaskAssignment />}\n            />\n            <Route\n              path=\"/UserTaskAssignment\"\n              element={<UserTaskAssignment />}\n            />\n            <Route path=\"/assigned-tasks\" element={<AssignedTaskPage />} />\n            <Route\n              path=\"/upload-tasks/:moduleId\"\n              element={<TaskUploadPage />}\n            />\n\n            {/* Document Management */}\n            <Route\n              path=\"/document-management\"\n              element={<DocumentManagementPage />}\n            />\n\n            {/* Iteration Management */}\n            <Route\n              path=\"/iteration/:taskModuleId\"\n              element={<IterationList />}\n            />\n            <Route\n              path=\"/iteration/create/:taskModuleId\"\n              element={<CreateIteration />}\n            />\n            <Route\n              path=\"/iteration/edit/:taskModuleId/:iterationId\"\n              element={<EditIteration />}\n            />\n            <Route path=\"/select-iteration\" element={<SelectIterationPage />} />\n\n\n            <Route\n              path=\"/SelectCompany\"\n              element={\n                <SelectCompany setSelectedCompany={setSelectedCompany} />\n              }\n            />\n\n            {/* Department Management */}\n            <Route path=\"/departments\" element={<DepartmentList />} />\n            <Route\n              path=\"/departments/new\"\n              element={<DepartmentForm />}\n            />\n            <Route\n              path=\"/departments/edit/:id\"\n              element={<DepartmentForm />}\n            />\n\n            <Route path=\"/select-standard\" element={<SelectStandard />} />\n\n          </Routes>\n        </Box>\n      </Box>\n    </ThemeProvider>\n  );\n};\n\nfunction App() {\n  return (\n    <Router>\n      <ToastContainer position=\"top-right\" autoClose={3000} />\n      <AppLayout />\n    </Router>\n  );\n}\n\nexport default App;\n","size_bytes":7452},"qms-source/frontend-new/src/assets/theme-dark/components/divider.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"assets/theme-dark/functions/rgba\";\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { dark, transparent, white } = colors;\n\nconst divider = {\n  styleOverrides: {\n    root: {\n      backgroundColor: transparent.main,\n      backgroundImage: `linear-gradient(to right, ${rgba(dark.main, 0)}, ${white.main}, ${rgba(\n        dark.main,\n        0\n      )}) !important`,\n      height: pxToRem(1),\n      margin: `${pxToRem(16)} 0`,\n      borderBottom: \"none\",\n      opacity: 0.25,\n    },\n\n    vertical: {\n      backgroundColor: transparent.main,\n      backgroundImage: `linear-gradient(to bottom, ${rgba(dark.main, 0)}, ${white.main}, ${rgba(\n        dark.main,\n        0\n      )}) !important`,\n      width: pxToRem(1),\n      height: \"100%\",\n      margin: `0 ${pxToRem(16)}`,\n      borderRight: \"none\",\n    },\n\n    light: {\n      backgroundColor: transparent.main,\n      backgroundImage: `linear-gradient(to right, ${rgba(white.main, 0)}, ${rgba(\n        dark.main,\n        0.4\n      )}, ${rgba(white.main, 0)}) !important`,\n\n      \"&.MuiDivider-vertical\": {\n        backgroundImage: `linear-gradient(to bottom, ${rgba(white.main, 0)}, ${rgba(\n          dark.main,\n          0.4\n        )}, ${rgba(white.main, 0)}) !important`,\n      },\n    },\n  },\n};\n\nexport default divider;\n","size_bytes":1968},"BackEnd/src/controllers/taskController.js":{"content":"import Task from \"../models/Task.js\";\nimport TaskAssignments from \"../models/TaskAssignment.js\";\nimport Department from \"../models/Department.js\"\nimport User from \"../models/User.js\";\nimport Role from \"../models/Role.js\";\nimport { Op, where } from \"sequelize\";\nimport TaskChangeLog from \"../models/TaskChangeLog.js\";\nimport sequelize from \"../config/db.js\";\nimport { VALID_STATUS_VALUES, VALID_PRIORITY_VALUES,VALID_TASK_TYPES,VALID_COMPLIANCE_VALUES,VALID_STANDARDS,VALID_STATUSWEIGHTAGE, VALID_TYPE_OF_FINDING } from \"../config/constants.js\"; \nimport multer from \"multer\";\nimport Iteration from \"../models/Iteration.js\"\nimport { v4 as uuidv4 } from \"uuid\";\nimport ExcelJS from \"exceljs\";\nimport { parse } from 'date-fns'; // Optional: using date-fns for safe parsing\nimport fs from \"fs\"; // Import the File System module\n\n// Create a new Task\nexport const createTask = async (req, res) => {\n    try {\n        const { \n            Checklist_Item, \n            description, \n            standard,              \n            parent_task_id, \n            clause_number, \n            area, \n            expected_artifact, \n            actual_artifact, \n            compliance, \n            status, \n            priority, \n            responsibility, \n            RCA_Details, \n            notes, \n            auditee,\n            iteration_id ,\n            Planned_Completion_Date,\n            Actual_Completion_Date,\n            Type_of_Finding\n        } = req.body;\n\n        const createdBy = req.user.id;\n\n        // Fetch user's role and company ID\n        const user = await User.findByPk(createdBy, {\n            include: [{ model: Role, attributes: [\"name\"], required: true }]\n        });\n\n        if (!user) {\n            return res.status(404).json({ error: \"User not found\" });\n        }\n\n        const userRole = user.Role ? user.Role.name : null;\n        let company_id;\n\n        if (userRole === \"System Super Admin\") {\n            company_id = req.body.company_id;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n            }\n        } else {\n            company_id = req.user.company;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n            }\n        }\n\n        // Validate required fields\n        if (!Checklist_Item || !description || !standard) {\n            return res.status(400).json({ error: \"Checklist_Item, description and standard are required.\" });\n        }\n\n        if (!VALID_STANDARDS.includes(standard)) {\n            return res.status(400).json({ \n                error: `Invalid standard provided: \"${standard}\". Allowed values: ${VALID_STANDARDS.join(\", \")}` \n            });\n        }\n\n        // if (!VALID_TASK_TYPES.includes(task_type)) {\n        //     return res.status(400).json({ error: `Invalid task type. Allowed: ${VALID_TASK_TYPES.join(\", \")}` });\n        // }\n\n        if (status && !VALID_STATUS_VALUES.includes(status)) {\n            return res.status(400).json({ error: `Invalid status. Allowed: ${VALID_STATUS_VALUES.join(\", \")}` });\n        }\n\n        if (priority && !VALID_PRIORITY_VALUES.includes(priority)) {\n            return res.status(400).json({ error: `Invalid priority. Allowed: ${VALID_PRIORITY_VALUES.join(\", \")}` });\n        }\n\n        if (compliance && !VALID_COMPLIANCE_VALUES.includes(compliance)) {\n            return res.status(400).json({ error: `Invalid compliance. Allowed: ${VALID_COMPLIANCE_VALUES.join(\", \")}` });\n        }\n\n        if (Type_of_Finding && !VALID_TYPE_OF_FINDING.includes(Type_of_Finding)) {\n                errors.push(`Invalid Type of Finding. Allowed: ${VALID_TYPE_OF_FINDING.join(\", \")}`);\n        }\n\n        // âœ… Optional: Validate iteration ID if provided\n        if (iteration_id) {\n            const iteration = await Iteration.findByPk(iteration_id);\n            if (!iteration || iteration.is_active === false) {\n                return res.status(400).json({ error: \"Invalid or inactive iteration_id.\" });\n            }\n        }\n\n        // Create the task\n        const task = await Task.create({\n            Checklist_Item,\n            description,\n            standard,\n            task_type: \"Process\",\n            parent_task_id: parent_task_id || null,\n            clause_number: clause_number || null,\n            area: area || null,\n            expected_artifact: expected_artifact || null,\n            actual_artifact: actual_artifact || null,\n            compliance: compliance || \"Not Applicable\",\n            status: status || \"Not Done\",\n            priority: priority || \"Medium\",\n            responsibility: responsibility || null,\n            RCA_Details: RCA_Details || null,\n            notes: notes || null,\n            auditee: auditee || null,\n            iteration_id: iteration_id || null, // âœ… New field\n            company_id,\n            createdBy,\n            Planned_Completion_Date,\n            Actual_Completion_Date,\n            Type_of_Finding: Type_of_Finding || \"Non-Compliance\"\n        });\n\n        res.status(201).json({ message: \"Task created successfully\", task });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Get all tasks\nexport const getAllTasks = async (req, res) => {\n    try {\n        const user_id = req.user.id;\n        const iteration_id = req.query.iteration_id; // âœ… Read iteration_id from query params\n        const company_id_from_query = req.query.company_id;\n\n        // Fetch user with role details\n        const user = await User.findByPk(user_id, {\n            include: [{ model: Role, attributes: [\"name\"], required: true }]\n        });\n\n        if (!user) {\n            return res.status(404).json({ error: \"User not found\" });\n        }\n\n        const userRole = user.Role?.name;\n        let tasks;\n        let company_id;\n\n        // âœ… Common where clause object\n        const baseWhere = { is_active: true };\n        if (iteration_id) {\n            baseWhere.iteration_id = iteration_id; // Add filter only if passed\n        }\n\n        if (userRole === \"System Super Admin\") {\n            company_id = company_id_from_query;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n            }\n\n            tasks = await Task.findAll({\n                where: { ...baseWhere, company_id }\n            });\n\n        } else if (userRole === \"Super Admin\") {\n            company_id = req.user.company;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is required for Super Admin\" });\n            }\n\n            tasks = await Task.findAll({\n                where: { ...baseWhere, company_id }\n            });\n\n        } else {\n            // For regular users\n            const assignedTaskIds = await TaskAssignments.findAll({\n                where: sequelize.literal(`JSON_CONTAINS(user_ids, '\"${user_id}\"')`),\n                attributes: [\"task_id\"],\n                raw: true\n            });\n\n            const assignedTaskIdList = assignedTaskIds.map(task => task.task_id);\n\n            tasks = await Task.findAll({\n                where: {\n                    ...baseWhere,\n                    [Op.or]: [\n                        { createdBy: user_id },\n                        assignedTaskIdList.length > 0 ? { id: { [Op.in]: assignedTaskIdList } } : null\n                    ].filter(Boolean)\n                }\n            });\n        }\n\n        res.json(tasks);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// export const getAllTasks = async (req, res) => {\n//     try {\n//         const user_id = req.user.id;\n\n//         // Fetch user with role details\n//         const user = await User.findByPk(user_id, {\n//             include: [{ model: Role, attributes: [\"name\"], required: true }]\n//         });\n\n//         if (!user) {\n//             return res.status(404).json({ error: \"User not found\" });\n//         }\n\n//         const userRole = user.Role ? user.Role.name : null;\n//         let tasks;\n//         let company_id;\n\n//         if (userRole === \"System Super Admin\") {\n//             // Require company_id from the request body\n//             company_id = req.query.company_id || req.body.company_id; // Accept from query or body\n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//             }\n\n//             // Fetch all tasks related to the specified company\n//             tasks = await Task.findAll({\n//                 where: { company_id,is_active:true }\n//             });\n\n//         } else if (userRole === \"Super Admin\") {\n//             // Fetch tasks related to the user's company\n//             const company_id = req.user.company;\n\n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is required for Super Admin\" });\n//             }\n\n//             tasks = await Task.findAll({\n//                 where: { company_id ,is_active:true}\n//             });\n\n//         } else {\n//             // Fetch tasks assigned to or created by the user\n//             const assignedTaskIds = await TaskAssignments.findAll({\n//                 where: sequelize.literal(`JSON_CONTAINS(user_ids, '\"${user_id}\"')`),\n//                 attributes: [\"task_id\"],\n//                 raw: true\n//             });\n\n//             const assignedTaskIdList = assignedTaskIds.map(task => task.task_id);\n\n//             tasks = await Task.findAll({\n//                 where: {\n//                     is_active:true,\n//                     [Op.or]: [\n//                         { createdBy: user_id },\n//                         { id: assignedTaskIdList.length > 0 ? { [Op.in]: assignedTaskIdList } : null }\n//                     ]\n//                 }\n//             });\n//         }\n\n//         res.json(tasks);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// Get a single task by ID\nexport const getTaskById = async (req, res) => {\n    try {\n        const { id } = req.params;\n        const task = await Task.findByPk(id);\n        if (!task) return res.status(404).json({ error: \"Task not found\" });\n        res.json(task);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Update a Task\nexport const updateTask = async (req, res) => {\n    try {\n        const { id } = req.params;\n        const { status, priority, standard, task_type, compliance, company_id, ...otherUpdates } = req.body;\n        const createdBy = req.user?.id;\n\n        // Fetch user's role and company ID\n        const user = await User.findByPk(createdBy, {\n            include: [{ model: Role, attributes: [\"name\"], required: true }]\n        });\n\n        if (!user) {\n            return res.status(404).json({ error: \"User not found.\" });\n        }\n\n        const userRole = user.Role ? user.Role.name : null;\n\n        // Fetch the existing task\n        const task = await Task.findByPk(id);\n        if (!task) return res.status(404).json({ error: \"Task not found.\" });\n\n        let logs = [];\n\n        // Validate ENUM fields\n        if (standard && !VALID_STANDARDS.includes(standard)) {\n            return res.status(400).json({ error: `Invalid standard. Allowed values: ${VALID_STANDARDS.join(\", \")}` });\n        }\n        if (task_type && !VALID_TASK_TYPES.includes(task_type)) {\n            return res.status(400).json({ error: `Invalid task type. Allowed values: ${VALID_TASK_TYPES.join(\", \")}` });\n        }\n        if (status && !VALID_STATUS_VALUES.includes(status)) {\n            return res.status(400).json({ error: `Invalid status. Allowed values: ${VALID_STATUS_VALUES.join(\", \")}` });\n        }\n        if (priority && !VALID_PRIORITY_VALUES.includes(priority)) {\n            return res.status(400).json({ error: `Invalid priority. Allowed values: ${VALID_PRIORITY_VALUES.join(\", \")}` });\n        }\n        if (compliance && !VALID_COMPLIANCE_VALUES.includes(compliance)) {\n            return res.status(400).json({ error: `Invalid compliance. Allowed values: ${VALID_COMPLIANCE_VALUES.join(\", \")}` });\n        }\n\n        // Prevent company_id modification\n        if (company_id && company_id !== task.company_id) {\n            return res.status(403).json({ error: \"Company ID modification is not allowed.\" });\n        }\n\n        // ðŸ” Restrict Priority Change\n        const isPriorityChanging = priority && task.priority !== priority;\n        const isAllowedToChangePriority =\n            userRole === 'Super Admin' ||\n            userRole === 'System Super Admin' ||\n            createdBy === task.created_by;\n\n        if (isPriorityChanging && !isAllowedToChangePriority) {\n            return res.status(403).json({\n                error: \"You are not authorized to change the task priority. Only Super Admin, System Super Admin, or the Task Creator can perform this action.\"\n            });\n        }\n\n        // Log status change\n        if (status && task.status !== status) {\n            logs.push({\n                task_id: id,\n                changed_by: createdBy,\n                field_changed: \"status\",\n                old_value: task.status,\n                new_value: status\n            });\n        }\n\n        // Log priority change (if authorized and changed)\n        if (isPriorityChanging && isAllowedToChangePriority) {\n            logs.push({\n                task_id: id,\n                changed_by: createdBy,\n                field_changed: \"priority\",\n                old_value: task.priority,\n                new_value: priority\n            });\n        }\n\n        // Update the task\n        const updated = await Task.update(req.body, { where: { id } });\n        if (!updated[0]) return res.status(400).json({ error: \"Task update failed.\" });\n\n        // Save logs\n        if (logs.length > 0) {\n            await TaskChangeLog.bulkCreate(logs, { individualHooks: true });\n        }\n\n        res.json({ message: \"Task updated successfully.\" });\n\n    } catch (error) {\n        console.error(\"Error updating task:\", error);\n        res.status(500).json({ error: \"Internal server error.\" });\n    }\n};\n\n// Get Child Tasks for a Given Task ID\nexport const getChildTasks = async (req, res) => {\n    try {\n        const { task_id } = req.params;\n\n        // First check if the parent task exists and is active\n        const parentTask = await Task.findOne({\n            where: { id: task_id, is_active: true }\n        });\n\n        if (!parentTask) {\n            return res.status(404).json({ message: \"Parent task not found or has been deleted.\" });\n        }\n\n        // Fetch only active child tasks\n        const childTasks = await Task.findAll({\n            where: {\n                parent_task_id: task_id,\n                is_active: true\n            }\n        });\n\n        res.json(childTasks);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Configure multer for file upload\nexport const upload = multer({ dest: \"uploads/\" });\n\n// Utility: Convert dd-mm-yyyy to JS Date\nconst parseExcelDate = (dateStr) => {\n    console.log(`DateStr : ${dateStr}`);\n    if (!dateStr) return null;\n\n    const [ddStr, mmStr, yyyyStr] = dateStr.split(\"-\");\n    let dd = parseInt(ddStr, 10);\n    let mm = parseInt(mmStr, 10);\n    let yyyy = parseInt(yyyyStr, 10);\n\n    // Fix 2-digit year to 20xx\n    if (yyyy < 100) {\n        yyyy += 2000;\n    }\n\n    if (!dd || !mm || !yyyy) return null;\n\n    const jsDate = new Date(yyyy, mm - 1, dd); // JS months are 0-indexed\n    console.log(`Return date for ${dateStr} is as : ${jsDate}`);\n    return jsDate;\n};\n\n//get data from excel make it in form of json and return for Approval\n\nexport const uploadTasksFromExcel = async (req, res) => {\n    try {\n        if (!req.file) {\n            return res.status(400).json({ error: \"No file uploaded\" });\n        }\n\n        const { standard, iteration_id } = req.body;\n\n        if (!VALID_STANDARDS.includes(standard)) {\n            return res.status(400).json({\n                error: `Invalid or missing standard. Must be one of: ${VALID_STANDARDS.join(\", \")}.`\n            });\n        }\n\n        if (!iteration_id) {\n            return res.status(400).json({ error: \"Iteration ID is required in request body.\" });\n        }\n\n        const iteration = await Iteration.findByPk(iteration_id);\n        if (!iteration || iteration.is_active === false) {\n            return res.status(400).json({ error: \"Invalid or inactive iteration_id.\" });\n        }\n\n        const filePath = req.file.path;\n        const workbook = new ExcelJS.Workbook();\n        await workbook.xlsx.readFile(filePath);\n        const worksheet = workbook.worksheets[0];\n\n        const headerRow = worksheet.getRow(1).values.map(cell => cell?.toString().trim());\n        const colMap = {};\n        headerRow.forEach((val, index) => {\n            if (val) colMap[val] = index;\n        });\n\n        const createdBy = req.user.id;\n        const company_id = req.user.role === \"System Super Admin\"\n            ? req.body.company_id\n            : req.user.company;\n\n        if (!company_id) {\n            return res.status(400).json({ error: \"Company ID is required or not assigned.\" });\n        }\n\n        const tasks = [];\n\n        worksheet.eachRow((row, rowNumber) => {\n            if (rowNumber === 1) return;\n\n            const getCell = (header) => {\n                const col = colMap[header];\n                return col ? (row.getCell(col).value?.toString().trim() || \"\") : \"\";\n            };\n\n            const plannedDateStr = getCell(\"Planned Completion Date\");\n            const actualDateStr = getCell(\"Actual Completion Date\");\n\n            tasks.push({\n                id: uuidv4(),\n                Checklist_Item: getCell(\"Checklist Item\") || \"Unnamed Task\",\n                description: getCell(\"Description\") || \"\",\n                standard,\n                task_type: \"Process\",\n                parent_task_id: null,\n                clause_number: getCell(\"Reference - Clause / Control\") || null,\n                area: getCell(\"Area\") || null,\n                expected_artifact: null,\n                actual_artifact: \"\",\n                compliance: null,\n                status: VALID_STATUS_VALUES.includes(getCell(\"Status of action\")) ? getCell(\"Status of action\") : \"Not Done\",\n                priority: VALID_PRIORITY_VALUES.includes(getCell(\"Priority\")) ? getCell(\"Priority\") : \"Medium\",\n                responsibility: getCell(\"Responsibility\") || null,\n                RCA_Details: getCell(\"RCA Details\") || null,\n                notes: getCell(\"Notes\") || null,\n                auditee: getCell(\"Auditee Department / Project\") || null,\n                Planned_Completion_Date: parseExcelDate(plannedDateStr),\n                Actual_Completion_Date: parseExcelDate(actualDateStr),\n                Type_of_Finding:getCell(\"Type of Finding\") || \"Non-Compliance\",\n                createdBy,\n                company_id,\n                iteration_id\n            });\n        });\n\n        fs.unlink(filePath, (err) => {\n            if (err) console.error(\"Error deleting file:\", err);\n        });\n\n        res.status(200).json({ message: \"Preview data generated\", tasks });\n    } catch (error) {\n        console.error(\"Error processing Excel upload:\", error);\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// export const uploadTasksFromExcel = async (req, res) => {\n//     try {\n//         if (!req.file) {\n//             return res.status(400).json({ error: \"No file uploaded\" });\n//         }\n\n//         const { standard, iteration_id } = req.body;\n\n//         if (!VALID_STANDARDS.includes(standard)) {\n//             return res.status(400).json({\n//                 error: `Invalid or missing standard. Must be one of: ${VALID_STANDARDS.join(\", \")}.`\n//             });\n//         }\n\n//         if (!iteration_id) {\n//             return res.status(400).json({ error: \"Iteration ID is required in request body.\" });\n//         }\n\n//         const iteration = await Iteration.findByPk(iteration_id);\n//         if (!iteration || iteration.is_active === false) {\n//             return res.status(400).json({ error: \"Invalid or inactive iteration_id.\" });\n//         }\n\n//         const filePath = req.file.path;\n//         const workbook = new ExcelJS.Workbook();\n//         await workbook.xlsx.readFile(filePath);\n        \n//         const worksheet = workbook.worksheets[0]; \n//         const sheetName = worksheet.name.trim();\n//         console.log(`Processing sheet: ${sheetName}`);\n\n//         const createdBy = req.user.id;\n//         let company_id;\n\n//         if (req.user.role === \"System Super Admin\") {\n//             company_id = req.body.company_id; \n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//             }\n//         } else {\n//             company_id = req.user.company; \n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n//             }\n//         }\n\n//         const tasks = [];\n//         const tasksMap = {}; // Store parent-child relationships\n\n//         if (standard === \"ISO_9001\" && sheetName === \"Gap Analysis\") {\n//             worksheet.eachRow((row, rowNumber) => {\n//                 if (rowNumber === 1) return;\n\n//                 const [clause, description, expectedArtifact, compliance, actualArtifact] = row.values.slice(1);\n//                 if (!clause || !description) return;\n\n//                 let parentTaskId = null;\n//                 const clauseStr = String(clause).trim();\n//                 const clauseParts = clauseStr.split(\".\");\n//                 if (clauseParts.length > 1) {\n//                     const parentClause = clauseParts.slice(0, -1).join(\".\");\n//                     parentTaskId = tasksMap[parentClause] || null;\n//                 }\n\n//                 const taskId = uuidv4();\n//                 tasks.push({\n//                     id: taskId,\n//                     name: description,\n//                     description,\n//                     standard,\n//                     task_type: \"Process\",\n//                     priority: \"Medium\",\n//                     parent_task_id: parentTaskId,\n//                     clause_number: clause || null,\n//                     expected_artifact: expectedArtifact || null,\n//                     compliance: compliance || null,\n//                     actual_artifact: actualArtifact || \"\",\n//                     createdBy,\n//                     company_id,\n//                     iteration_id\n//                 });\n\n//                 tasksMap[clause] = taskId;\n//             });\n//         }\n\n//         else if (standard === \"ISO_27001\" && sheetName === \"ISMS Checklist\") {\n//             const headerRow = worksheet.getRow(1).values.map(v => (v ? String(v).trim() : \"\")); \n//             if (headerRow.length === 0) {\n//                 return res.status(400).json({ error: \"Invalid or empty header row in the ISMS Checklist sheet.\" });\n//             }\n\n//             const columnMapping = {\n//                 \"Sr. No.\": \"sr_no\",\n//                 \"Auditee\": \"auditee\",\n//                 \"Area\": \"area\",\n//                 \"Checklist Item\": \"name\",\n//                 \"Notes\": \"notes\",\n//                 \"Status FI/PI/NI/NA/TBD\": \"status\",\n//                 \"Action to be taken\": \"action_to_be_taken\",\n//                 \"Responsibility\": \"responsibility\",\n//                 \"Status of action\": \"status\",\n//                 \"Document Reference\": \"document_reference\"\n//             };\n\n//             const colIndexes = {};\n//             for (let i = 1; i < headerRow.length; i++) {\n//                 if (headerRow[i] && columnMapping[headerRow[i]]) {\n//                     colIndexes[columnMapping[headerRow[i]]] = i;\n//                 }\n//             }\n\n//             worksheet.eachRow((row, rowNumber) => {\n//                 if (rowNumber === 1) return;\n\n//                 const taskId = uuidv4();\n//                 const taskType = \"Process\";\n//                 const parentTaskId = null;\n\n//                 const statusValue = row.getCell(colIndexes[\"status\"])?.value?.toString().trim() || \"NI\";\n//                 const mappedStatus = VALID_STATUS_VALUES.includes(statusValue) ? statusValue : \"NI\";\n\n//                 tasks.push({\n//                     id: taskId,\n//                     name: row.getCell(colIndexes[\"name\"])?.value?.toString().trim() || \"Unnamed Task\",\n//                     description: row.getCell(colIndexes[\"notes\"])?.value?.toString().trim() || \"\",\n//                     standard,\n//                     priority: \"Medium\",\n//                     task_type: taskType,\n//                     parent_task_id: parentTaskId,\n//                     area: row.getCell(colIndexes[\"area\"])?.value?.toString().trim() || null,\n//                     expected_artifact: row.getCell(colIndexes[\"action_to_be_taken\"])?.value?.toString().trim() || null,\n//                     actual_artifact: \"\",\n//                     responsibility: row.getCell(colIndexes[\"responsibility\"])?.value?.toString().trim() || null,\n//                     action_to_be_taken: row.getCell(colIndexes[\"action_to_be_taken\"])?.value?.toString().trim() || null,\n//                     notes: row.getCell(colIndexes[\"notes\"])?.value?.toString().trim() || null,\n//                     auditee: row.getCell(colIndexes[\"auditee\"])?.value?.toString().trim() || null,\n//                     status: mappedStatus,\n//                     createdBy,\n//                     company_id,\n//                     iteration_id\n//                 });\n//             });\n//         }\n\n//         else {\n//             return res.status(400).json({ error: \"Unsupported sheet or standard type.\" });\n//         }\n\n//         fs.unlink(filePath, (err) => {\n//             if (err) console.error(\"Error deleting file:\", err);\n//         });\n\n//         res.status(200).json({ message: \"Preview data generated\", tasks });\n\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\n// export const uploadTasksFromExcel = async (req, res) => {\n//     try {\n//         if (!req.file) {\n//             return res.status(400).json({ error: \"No file uploaded\" });\n//         }\n\n//         const filePath = req.file.path;\n//         const workbook = new ExcelJS.Workbook();\n//         await workbook.xlsx.readFile(filePath);\n        \n//         const worksheet = workbook.worksheets[0]; \n//         const sheetName = worksheet.name.trim();\n\n//         console.log(`Processing sheet: ${sheetName}`);\n\n//         const createdBy = req.user.id;\n//         let company_id;\n\n//         // Determine company_id based on user role\n//         if (req.user.role === \"System Super Admin\") {\n//             company_id = req.body.company_id; \n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//             }\n//         } else {\n//             company_id = req.user.company; \n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n//             }\n//         }\n\n//         const tasks = [];\n//         const tasksMap = {}; // Store parent-child relationships\n\n//         const iteration_id = req.body.iteration_id;\n//            // âœ… Step 1: Validate iteration_id presence\n//            if (!iteration_id) {\n//             return res.status(400).json({ error: \"Iteration ID is required in request body.\" });\n//         }\n\n//            // âœ… Optional: Validate iteration ID if provided\n//            if (iteration_id) {\n//             const iteration = await Iteration.findByPk(iteration_id);\n//             if (!iteration || iteration.is_active === false) {\n//                 return res.status(400).json({ error: \"Invalid or inactive iteration_id.\" });\n//             }\n//         }\n//         if (sheetName === \"Gap Analysis\") {\n//             worksheet.eachRow((row, rowNumber) => {\n//                 if (rowNumber === 1) return; // Skip header row\n\n//                 const [clause, description, expectedArtifact, compliance, actualArtifact] = row.values.slice(1);\n\n//                 if (!clause || !description) return; // Skip invalid rows\n\n//                 let parentTaskId = null;\n\n//                 if (clause) {\n//                     const clauseStr = String(clause).trim();\n//                     const clauseParts = clauseStr.split(\".\");\n\n//                     if (clauseParts.length > 1) {\n//                         const parentClause = clauseParts.slice(0, -1).join(\".\");\n//                         parentTaskId = tasksMap[parentClause] || null;\n//                     }\n//                 }\n\n//                 const taskId = uuidv4();\n\n//                 tasks.push({\n//                     id: taskId,\n//                     name: description,\n//                     description,\n//                     standard: \"ISO_9001\",\n//                     task_type: \"Process\",\n//                     priority:\"Medium\",\n//                     parent_task_id: parentTaskId,\n//                     clause_number: clause || null,\n//                     expected_artifact: expectedArtifact || null,\n//                     compliance: compliance || null,\n//                     actual_artifact: actualArtifact || \"\",\n//                     createdBy,\n//                     company_id,\n//                     iteration_id\n//                 });\n\n//                 tasksMap[clause] = taskId;\n//             });\n//         } \n        \n//         else if (sheetName === \"ISMS Checklist\") {\n\n            \n//             const headerRow = worksheet.getRow(1).values.map(v => (v ? String(v).trim() : \"\")); \n//             console.log(`header row ${headerRow}`);\n            \n//             if (headerRow.length === 0) {\n//                 return res.status(400).json({ error: \"Invalid or empty header row in the ISMS Checklist sheet.\" });\n//             }\n            \n//             // Define column mapping\n//             const columnMapping = {\n//                 \"Sr. No.\": \"sr_no\",  // Not stored, used for reference\n//                 \"Auditee\": \"auditee\",\n//                 \"Area\": \"area\",\n//                 \"Checklist Item\": \"name\",\n//                 \"Notes\": \"notes\",\n//                 \"Status FI/PI/NI/NA/TBD\": \"status\",\n//                 \"Action to be taken\": \"action_to_be_taken\",\n//                 \"Responsibility\": \"responsibility\",\n//                 \"Status of action\": \"status\",\n//                 \"Document Reference\": \"document_reference\" // Not stored, can be used for reference\n//             };\n        \n//             // Store column indexes dynamically\n//             const colIndexes = {};\n//             for (let i = 1; i < headerRow.length; i++) {\n//                 if (headerRow[i] && columnMapping[headerRow[i]]) {\n//                     colIndexes[columnMapping[headerRow[i]]] = i;\n//                 }\n//             }\n            \n//             worksheet.eachRow((row, rowNumber) => {\n//                 if (rowNumber === 1) return; // Skip header row\n            \n//                 const taskId = uuidv4(); \n//                 const parentTaskId = null;  \n//                 const taskType = \"Process\";  \n//                 const standard = \"ISO_27001\"; \n            \n//                 // Extract values from the row based on column indexes\n//                 const statusValue = row.getCell(colIndexes[\"status\"])?.value?.toString().trim() || \"Not Done\";\n//                 const mappedStatus = VALID_STATUS_VALUES.includes(statusValue) ? statusValue : \"Not Done\";\n            \n//                 // Create a task object\n//                 const taskData = {\n//                     id: taskId,\n//                     name: row.getCell(colIndexes[\"name\"])?.value?.toString().trim() || \"Unnamed Task\",\n//                     description: row.getCell(colIndexes[\"notes\"])?.value?.toString().trim() || \"\",\n//                     standard,\n//                     priority:\"Medium\",\n//                     task_type: taskType,\n//                     parent_task_id: parentTaskId,\n//                     area: row.getCell(colIndexes[\"area\"])?.value?.toString().trim() || null,\n//                     expected_artifact: row.getCell(colIndexes[\"action_to_be_taken\"])?.value?.toString().trim() || null,\n//                    // compliance: mappedStatus,  // Now storing correct status\n//                     actual_artifact: \"\",  \n//                     responsibility: row.getCell(colIndexes[\"responsibility\"])?.value?.toString().trim() || null,\n//                     action_to_be_taken: row.getCell(colIndexes[\"action_to_be_taken\"])?.value?.toString().trim() || null,\n//                     notes: row.getCell(colIndexes[\"notes\"])?.value?.toString().trim() || null,\n//                     auditee: row.getCell(colIndexes[\"auditee\"])?.value?.toString().trim() || null,\n//                     status: mappedStatus,  // Assigning status properly\n//                     createdBy,\n//                     company_id,\n//                     iteration_id\n//                 };\n            \n//                 tasks.push(taskData);\n//             });\n//         } \n        \n//         else {\n//             return res.status(400).json({ error: \"Unsupported sheet name.\" });\n//         }\n\n//         // Delete the file after reading\n//         fs.unlink(filePath, (err) => {\n//             if (err) console.error(\"Error deleting file:\", err);\n//         });\n        \n//         // Return parsed tasks for preview\n//         res.status(200).json({ message: \"Preview data generated\", tasks });\n\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\nexport const insertApprovedTasks = async (req, res) => {\n    try {\n        const { tasks, company_id: providedCompanyId } = req.body;\n\n        if (!tasks || tasks.length === 0) {\n            return res.status(400).json({ error: \"No tasks to insert\" });\n        }\n\n        // Fetch role name using role ID from the database\n        const role = await Role.findByPk(req.user.role);\n        if (!role) {\n            return res.status(403).json({ error: \"Invalid role\" });\n        }\n\n        let company_id;\n\n        if (role.name === \"System Super Admin\") {\n            company_id = providedCompanyId;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n            }\n        } else {\n            company_id = req.user.company;\n            if (!company_id) {\n                return res.status(400).json({ error: \"User must be associated with a company to insert tasks\" });\n            }\n        }\n\n        // Array to store validation errors\n        const failedTasks = [];\n\n const isExcelUploaded = async (iterationId) => {\n  try {\n    const iteration = await Iteration.findByPk(iterationId, {\n      attributes: ['is_excel_uploaded']\n    });\n\n    if (!iteration) {\n      console.warn(`Iteration not found for ID: ${iterationId}`);\n      return false;\n    }\n\n    return iteration.is_excel_uploaded === true;\n  } catch (error) {\n    console.error(`Error checking Excel upload status for iteration ${iterationId}:`, error);\n    throw error;\n  }\n};\n\n        const iterationUsed = await isExcelUploaded(tasks[0].iteration_id); // <-- add await\nconsole.log(`isExcelUploaded : ${iterationUsed}`);\n\nif (iterationUsed) {\n  return res.status(400).json({\n    message: \"Please select another Iteration, this iteration is already used for uploading Excel.\",\n    failed_tasks: failedTasks,\n  });\n}\n        // Validate all tasks first\n        const validatedTasks = tasks.map((task, index) => {\n            let errors = [];\n\n            // Check required fields (Removed description validation)\n            if (!task.Checklist_Item || !task.standard || !task.task_type) {\n                errors.push(\"Missing required fields: Checklist_Item, standard, task_type.\");\n            }\n\n            if (task.standard && !VALID_STANDARDS.includes(task.standard)) {\n                errors.push(`Invalid standard. Allowed: ${VALID_STANDARDS.join(\", \")}`);\n            }\n\n            if (task.compliance && !VALID_COMPLIANCE_VALUES.includes(task.compliance)) {\n                errors.push(`Invalid compliance value. Allowed: ${VALID_COMPLIANCE_VALUES.join(\", \")}`);\n            }\n\n            if (task.status && !VALID_STATUS_VALUES.includes(task.status)) {\n                errors.push(`Invalid status. Allowed: ${VALID_STATUS_VALUES.join(\", \")}`);\n            }\n\n            if (task.priority && !VALID_PRIORITY_VALUES.includes(task.priority)) {\n                errors.push(`Invalid priority. Allowed: ${VALID_PRIORITY_VALUES.join(\", \")}`);\n            }\n\n            if (task.Type_of_Finding && !VALID_TYPE_OF_FINDING.includes(task.Type_of_Finding)) {\n                errors.push(`Invalid Type of Finding. Allowed: ${VALID_TYPE_OF_FINDING.join(\", \")}`);\n            }\n\n            if (errors.length > 0) {\n                failedTasks.push({ row: index + 1, task, errors });\n                return null; // Mark this task as invalid\n            }\n\n            // Return validated task (Allowing description to be null)\n            return {\n                ...task,\n                description: task.description || null, // Allow null value\n                company_id,\n                status: task.status || \"Not Done\",\n                priority: task.priority || \"Medium\",\n                createdBy: req.user.id,\n            };\n        });\n\n        // If there are validation errors, return them before inserting anything\n        if (failedTasks.length > 0) {\n            return res.status(400).json({\n                message: \"Validation failed. Please correct the errors and re-upload.\",\n                failed_tasks: failedTasks,\n            });\n        }\n\n        // Insert all validated tasks at once\n        const createdTasks = await Task.bulkCreate(validatedTasks, { returning: true });\n        const isExcelUploade = await Iteration.update({is_excel_uploaded:true},{where:{id:tasks[0].iteration_id}})\n\n        res.status(201).json({\n            message: \"All tasks inserted successfully\",\n            inserted_tasks: createdTasks,\n        });\n\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport const deleteTask = async (req, res) => {\n    try {\n        const { id } = req.params;\n        const userId = req.user.id; // Assuming user ID is attached to the request via middleware\n\n        // âœ… Find the task\n        const task = await Task.findOne({ where: { id, is_active: true } });\n        if (!task) {\n            return res.status(404).json({ error: \"Task not found\" });\n        }\n\n        // âœ… Soft delete the main task\n        task.is_active = false;\n        await task.save();\n\n        // âœ… Log the task deletion\n        await TaskChangeLog.create({\n            task_id: id,\n            field_changed: \"task\",\n            previous_value: task.name,\n            new_value: \"Task Deleted\",\n            changed_by: userId,\n            changed_at: new Date(),\n        });\n\n        // âœ… Soft delete child tasks\n        const childTasks = await Task.findAll({ where: { parent_task_id: id, is_active: true } });\n\n        for (const child of childTasks) {\n            child.is_active = false;\n            await child.save();\n\n            // âœ… Log each child task deletion\n            await TaskChangeLog.create({\n                task_id: child.id,\n                field_changed: \"task\",\n                previous_value: child.name,\n                new_value: \"Task Deleted because Parent Task deleted\",\n                changed_by: userId,\n                changed_at: new Date(),\n            });\n        }\n\n        res.json({ message: \"Task and child tasks soft-deleted successfully\" });\n    } catch (error) {\n        console.error(\"Error deleting task:\", error);\n        res.status(500).json({ error: error.message });\n    }\n};\n\nconst getDepartmentWiseSummary = (tasks, taskAssignments, userMap) => {\n  const taskMap = new Map(tasks.map(task => [task.id, task]));\n  const departmentTaskMap = {};\n\n  taskAssignments.forEach(assign => {\n    const task = taskMap.get(assign.task_id);\n    if (!task) return;\n\n    const seenDepartments = new Set();\n\n    (assign.user_ids || []).forEach(uid => {\n      const user = userMap[uid];\n      if (user && user.department && !seenDepartments.has(user.department.id)) {\n        seenDepartments.add(user.department.id);\n        if (!departmentTaskMap[user.department.id]) {\n          departmentTaskMap[user.department.id] = {\n            department: user.department,\n            tasks: []\n          };\n        }\n        departmentTaskMap[user.department.id].tasks.push(task);\n      }\n    });\n  });\n\n  return Object.values(departmentTaskMap).map(entry => {\n    const statusSummary = {};\n    entry.tasks.forEach(task => {\n      const status = task.status;\n      statusSummary[status] = (statusSummary[status] || 0) + 1;\n    });\n\n    return {\n      department: entry.department,\n      total_tasks: entry.tasks.length,\n      status_summary: statusSummary\n    };\n  });\n};\n\nexport const getTaskSummary = async (req, res) => {\n  try {\n    const { iteration_id } = req.body;\n    const statusWeightage = VALID_STATUSWEIGHTAGE;\n    const user_id = req.user.id;\n\n    const user = await User.findByPk(user_id, {\n      include: [{ model: Role, attributes: [\"name\"], required: true }]\n    });\n\n    if (!user) {\n      return res.status(404).json({ error: \"User not found\" });\n    }\n\n    const userRole = user.Role?.name;\n    let company_id;\n\n    if (userRole === \"System Super Admin\") {\n      company_id = req.body.company_id;\n      if (!company_id) {\n        return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n      }\n    } else {\n      company_id = req.user.company;\n      if (!company_id) {\n        return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n      }\n    }\n\n    const calculateSummary = (tasks) => {\n      const summary = {};\n      let totalWeight = 0;\n      let totalTasks = tasks.length;\n\n      VALID_STATUS_VALUES.forEach(status => {\n        summary[status] = 0;\n      });\n\n      tasks.forEach(task => {\n        const status = task.status;\n        summary[status] = (summary[status] || 0) + 1;\n\n        if (statusWeightage && statusWeightage[status] !== undefined) {\n          totalWeight += statusWeightage[status];\n        }\n      });\n\n      const percentageCompleted = totalTasks > 0 && Object.keys(statusWeightage).length > 0\n        ? parseFloat((totalWeight / (totalTasks * 100)) * 100).toFixed(2)\n        : null;\n\n      return {\n        total_tasks: totalTasks,\n        status_summary: summary,\n        percentage_completed: percentageCompleted\n      };\n    };\n\n const calculateTypeOfFindingSummary = (tasks) => {\n  const summary = {};\n  let totalTasksWithFinding = 0;\n\n  VALID_TYPE_OF_FINDING.forEach(type => {\n    summary[type] = 0;\n  });\n\n  tasks.forEach(task => {\n    const findingType = task.Type_of_Finding; // Ensure this matches your task field\n    if (VALID_TYPE_OF_FINDING.includes(findingType)) {\n      summary[findingType] += 1;\n      totalTasksWithFinding += 1;\n    }\n  });\n\n  return {\n    total_with_type_of_finding: totalTasksWithFinding,\n    type_of_finding_summary: summary\n  };\n};\n\n\n    // Common fetch: get all tasks\n    const tasks = await Task.findAll({\n      where: {\n        company_id,\n        ...(iteration_id ? { iteration_id } : {}),\n        is_active: true\n      },\n      include: [{\n        model: Iteration,\n        as: 'Iteration',\n        attributes: ['id', 'name', 'start_date', 'end_date']\n      }]\n    });\n\n    // Fetch all assignments in one go\n    const taskAssignments = await TaskAssignments.findAll({\n      where: { task_id: tasks.map(t => t.id) }\n    });\n\n    // Build user map for departments\n    const allUserIds = new Set();\n    taskAssignments.forEach(ta => {\n      (ta.user_ids || []).forEach(uid => allUserIds.add(uid));\n    });\n\n    const users = await User.findAll({\n      where: { id: [...allUserIds] },\n      attributes: ['id', 'department_id'],\n      include: [{\n        model: Department,\n        as: 'department',\n        attributes: ['id', 'name']\n      }]\n    });\n\n    const userMap = {};\n    users.forEach(user => {\n      if (user.department) {\n        userMap[user.id] = {\n          id: user.id,\n          department: user.department\n        };\n      }\n    });\n\n    // ðŸ”¹ Case 1: Single iteration summary\n    if (iteration_id) {\n      const iteration = await Iteration.findOne({\n        where: { id: iteration_id },\n        attributes: ['id', 'name', 'start_date', 'end_date']\n      });\n\n      const departmentSummary = getDepartmentWiseSummary(tasks, taskAssignments, userMap);\n      const summary = calculateSummary(tasks);\n      const typeOfFindingSummary = calculateTypeOfFindingSummary(tasks);\n\n      return res.status(200).json({\n        iteration: iteration ? {\n          id: iteration.id,\n          name: iteration.name,\n          start_date: iteration.start_date,\n          end_date: iteration.end_date\n        } : null,\n        ...summary,\n        standard:tasks[0].standard,\n        Type_of_Finding_Summary: typeOfFindingSummary,\n        department_summary: departmentSummary\n      });\n    }\n\n    // ðŸ”¹ Case 2: Group by iteration and calculate summary + department_summary per iteration\n    const grouped = {};\n    tasks.forEach(task => {\n      const iterId = task.iteration_id || \"no_iteration\";\n      if (!grouped[iterId]) {\n        grouped[iterId] = {\n          iteration: task.Iteration ? {\n            id: task.Iteration.id,\n            name: task.Iteration.name,\n            start_date: task.Iteration.start_date,\n            end_date: task.Iteration.end_date\n          } : {\n            id: null,\n            name: \"Unassigned\",\n            start_date: null,\n            end_date: null\n          },\n          tasks: [],\n          assignments: []\n        };\n      }\n      grouped[iterId].tasks.push(task);\n    });\n\n    // Group assignments per iteration\n    taskAssignments.forEach(assign => {\n      const task = tasks.find(t => t.id === assign.task_id);\n      const iterId = task?.iteration_id || \"no_iteration\";\n      if (grouped[iterId]) {\n        grouped[iterId].assignments.push(assign);\n      }\n    });\n\n    const iterations = Object.keys(grouped).map(iterId => {\n      const group = grouped[iterId];\n      const summary = calculateSummary(group.tasks);\n      const departmentSummary = getDepartmentWiseSummary(group.tasks, group.assignments, userMap);\n      const typeOfFindingSummary = calculateTypeOfFindingSummary(group.tasks);\n      return {\n        iteration: group.iteration,\n        ...summary,\n        Type_of_Finding_Summary: typeOfFindingSummary,\n        department_summary: departmentSummary,\n        standard:group.tasks[0].standard\n      };\n    });\n\n    return res.status(200).json({\n      iterations\n    });\n\n  } catch (error) {\n    console.error(\"Error in getTaskSummary:\", error);\n    res.status(500).json({ message: \"Server error\", error: error.message });\n  }\n};\n\n// export const getTaskSummary = async (req, res) => {\n//     try {\n//       const { iteration_id } = req.body;\n//       const statusWeightage = VALID_STATUSWEIGHTAGE;\n//       const user_id = req.user.id;\n  \n//       const user = await User.findByPk(user_id, {\n//         include: [{ model: Role, attributes: [\"name\"], required: true }]\n//       });\n  \n//       if (!user) {\n//         return res.status(404).json({ error: \"User not found\" });\n//       }\n  \n//       const userRole = user.Role?.name;\n//       let company_id;\n  \n//       if (userRole === \"System Super Admin\") {\n//         company_id = req.body.company_id;\n//         if (!company_id) {\n//           return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//         }\n//       } else {\n//         company_id = req.user.company;\n//         if (!company_id) {\n//           return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n//         }\n//       }\n  \n//       const calculateSummary = (tasks) => {\n//         const summary = {};\n//         let totalWeight = 0;\n//         let totalTasks = tasks.length;\n  \n//         VALID_STATUS_VALUES.forEach(status => {\n//           summary[status] = 0;\n//         });\n  \n//         tasks.forEach(task => {\n//           const status = task.status;\n//           summary[status] = (summary[status] || 0) + 1;\n  \n//           if (statusWeightage && statusWeightage[status] !== undefined) {\n//             totalWeight += statusWeightage[status];\n//           }\n//         });\n  \n//         const percentageCompleted = totalTasks > 0 && Object.keys(statusWeightage).length > 0\n//           ? parseFloat((totalWeight / (totalTasks * 100)) * 100).toFixed(2)\n//           : null;\n  \n//         return {\n//           total_tasks: totalTasks,\n//           status_summary: summary,\n//           percentage_completed: percentageCompleted\n//         };\n//       };\n  \n//       // ðŸ”¹ Case 1: iteration_id is provided\n//       if (iteration_id) {\n//         const tasks = await Task.findAll({\n//           where: {\n//             company_id,\n//             iteration_id,\n//             is_active: true\n//           }\n//         });\n  \n//         const iteration = await Iteration.findOne({\n//           where: { id: iteration_id },\n//           attributes: ['id', 'name', 'start_date', 'end_date']\n//         });\n  \n//         const summary = calculateSummary(tasks);\n  \n//         return res.status(200).json({\n//           iteration: iteration ? {\n//             id: iteration.id,\n//             name: iteration.name,\n//             start_date: iteration.start_date,\n//             end_date: iteration.end_date\n//           } : null,\n//           ...summary\n//         });\n//       }\n  \n//       // ðŸ”¹ Case 2: No iteration_id â€” group by iteration\n//       const tasks = await Task.findAll({\n//         where: {\n//           company_id,\n//           is_active: true\n//         },\n//         include: [{\n//           model: Iteration,\n//           as: 'Iteration',\n//           attributes: ['id', 'name', 'start_date', 'end_date']\n//         }]\n//       });\n  \n//       // ðŸ”¸ Fetch TaskAssignments with user_ids\n//       const taskAssignments = await TaskAssignments.findAll({\n//         where: { task_id: tasks.map(t => t.id) }\n//       });\n  \n//       // ðŸ”¸ Collect all user_ids from assignments\n//       const allUserIds = new Set();\n//       taskAssignments.forEach(ta => {\n//         (ta.user_ids || []).forEach(uid => allUserIds.add(uid));\n//       });\n  \n//       // ðŸ”¸ Get User + Department details\n//       const users = await User.findAll({\n//         where: { id: [...allUserIds] },\n//         attributes: ['id', 'department_id'],\n//         include: [{\n//           model: Department,\n//           as: 'department',\n//           attributes: ['id', 'name']\n//         }]\n//       });\n  \n//       const userMap = {};\n//       users.forEach(user => {\n//         if (user.department) {\n//           userMap[user.id] = {\n//             id: user.id,\n//             department: user.department\n//           };\n//         }\n//       });\n  \n//       // ðŸ”¸ Map department-wise tasks\n//       const taskMap = new Map(tasks.map(task => [task.id, task]));\n//       const departmentTaskMap = {};\n  \n//       taskAssignments.forEach(assign => {\n//         const task = taskMap.get(assign.task_id);\n//         if (!task) return;\n  \n//         const departmentsSeen = new Set();\n  \n//         (assign.user_ids || []).forEach(uid => {\n//           const user = userMap[uid];\n//           if (user && !departmentsSeen.has(user.department.id)) {\n//             departmentsSeen.add(user.department.id);\n//             if (!departmentTaskMap[user.department.id]) {\n//               departmentTaskMap[user.department.id] = {\n//                 department: user.department,\n//                 tasks: []\n//               };\n//             }\n//             departmentTaskMap[user.department.id].tasks.push(task);\n//           }\n//         });\n//       });\n  \n//       const departmentSummary = Object.values(departmentTaskMap).map(entry => {\n//         const summary = calculateSummary(entry.tasks);\n//         return {\n//           department: entry.department,\n//           ...summary\n//         };\n//       });\n  \n//       // ðŸ”¸ Group tasks by iteration\n//       const grouped = {};\n//       tasks.forEach(task => {\n//         const iterId = task.iteration_id || \"no_iteration\";\n//         if (!grouped[iterId]) {\n//           grouped[iterId] = {\n//             iteration: task.Iteration ? {\n//               id: task.Iteration.id,\n//               name: task.Iteration.name,\n//               start_date: task.Iteration.start_date,\n//               end_date: task.Iteration.end_date\n//             } : {\n//               id: null,\n//               name: \"Unassigned\",\n//               start_date: null,\n//               end_date: null\n//             },\n//             tasks: []\n//           };\n//         }\n//         grouped[iterId].tasks.push(task);\n//       });\n  \n//       const iterations = Object.keys(grouped).map(key => {\n//         const group = grouped[key];\n//         const summary = calculateSummary(group.tasks);\n//         return {\n//           iteration: group.iteration,\n//           ...summary\n//         };\n//       });\n  \n//       return res.status(200).json({\n//         iterations,\n//         department_summary: departmentSummary\n//       });\n  \n//     } catch (error) {\n//       console.error(\"Error in getTaskSummary:\", error);\n//       res.status(500).json({ message: \"Server error\", error: error.message });\n//     }\n//   };\n  \n  \n  \n\n// export const getTaskSummary = async (req, res) => {\n//     try {\n//       const {  iteration_id } = req.body;\n//           const statusWeightage =    VALID_STATUSWEIGHTAGE;                //req.body.status_weightage || {}; // Optional\n  \n//       const user_id = req.user.id;\n  \n//           // Fetch user's role and company ID\n//           const user = await User.findByPk(user_id, {\n//               include: [{ model: Role, attributes: [\"name\"], required: true }]\n//           });\n  \n//           if (!user) {\n//               return res.status(404).json({ error: \"User not found\" });\n//           }\n  \n//           const userRole = user.Role ? user.Role.name : null;\n//           let company_id;\n  \n//           if (userRole === \"System Super Admin\") {\n//               company_id = req.body.company_id;\n//               if (!company_id) {\n//                   return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//               }\n//           } else {\n//               company_id = req.user.company;\n//               if (!company_id) {\n//                   return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n//               }\n//           }\n   \n  \n  \n//       // Helper function to calculate status summary and weighted percentage\n//       const calculateSummary = (tasks) => {\n//         const summary = {};\n//         let totalWeight = 0;\n//         let totalTasks = tasks.length;\n  \n//         VALID_STATUS_VALUES.forEach(status => {\n//           summary[status] = 0;\n//         });\n  \n//         tasks.forEach(task => {\n//           const status = task.status;\n//           summary[status] = (summary[status] || 0) + 1;\n  \n//           // Apply weightage if provided\n//           if (statusWeightage && statusWeightage[status] !== undefined) {\n//             totalWeight += statusWeightage[status];\n//           }\n//         });\n  \n//         const percentageCompleted = totalTasks > 0 && Object.keys(statusWeightage).length > 0\n//           ? parseFloat((totalWeight / (totalTasks * 100)) * 100).toFixed(2)\n//           : null;\n  \n//         return {\n//           total_tasks: totalTasks,\n//           status_summary: summary,\n//           percentage_completed: percentageCompleted\n//         };\n//       };\n  \n//       // Case 1: Specific iteration_id provided\n//       if (iteration_id) {\n//         const tasks = await Task.findAll({\n//           where: {\n//             company_id,\n//             iteration_id,\n//             is_active: true\n//           }\n//         });\n  \n//         const iteration = await Iteration.findOne({\n//           where: { id: iteration_id },\n//           attributes: ['id', 'name', 'start_date', 'end_date']\n//         });\n  \n//         const summary = calculateSummary(tasks);\n  \n//         return res.status(200).json({\n//           iteration: iteration ? {\n//             id: iteration.id,\n//             name: iteration.name,\n//             start_date: iteration.start_date,\n//             end_date: iteration.end_date\n//           } : null,\n//           ...summary\n//         });\n//       }\n  \n//       // Case 2: No iteration_id â†’ group by iteration\n//       const tasks = await Task.findAll({\n//         where: {\n//           company_id,\n//           is_active: true\n//         },\n//         include: [{\n//           model: Iteration,\n//            as: 'Iteration',\n//           attributes: ['id', 'name', 'start_date', 'end_date']\n//         }]\n//       });\n  \n\n\n//      // Step: Department-wise summary\n// const tasksWithAssignees = await Task.findAll({\n//     where: {\n//       company_id,\n//       is_active: true,\n//       ...(iteration_id ? { iteration_id } : {})\n//     },\n//     include: [\n//       {\n//         model: TaskAssignments,\n//         as: 'Assignees',\n//         include: [\n//           {\n//             model: User,\n//             as: 'user',\n//             attributes: ['id', 'department_id'],\n//             include: [\n//               {\n//                 model: Department,\n//                 as: 'department',\n//                 attributes: ['id', 'name']\n//               }\n//             ]\n//           }\n//         ]\n//       }\n//     ]\n//   });\n  \n//   const departmentTaskMap = {};\n  \n//   tasksWithAssignees.forEach(task => {\n//     const departmentsSeen = new Set();\n  \n//     task.assignees.forEach(assignee => {\n//       const dept = assignee.user?.department;\n//       if (dept && !departmentsSeen.has(dept.id)) {\n//         departmentsSeen.add(dept.id);\n//         if (!departmentTaskMap[dept.id]) {\n//           departmentTaskMap[dept.id] = {\n//             department: {\n//               id: dept.id,\n//               name: dept.name\n//             },\n//             tasks: []\n//           };\n//         }\n//         departmentTaskMap[dept.id].tasks.push(task);\n//       }\n//     });\n//   });\n  \n//   const departmentSummary = Object.values(departmentTaskMap).map(entry => {\n//     const summary = calculateSummary(entry.tasks);\n//     return {\n//       department: entry.department,\n//       ...summary\n//     };\n//   });\n  \n\n//       // Group tasks by iteration_id\n//       const grouped = {};\n  \n//       tasks.forEach(task => {\n//         const iterId = task.iteration_id || \"no_iteration\";\n//         if (!grouped[iterId]) {\n//           grouped[iterId] = {\n//             iteration: task.Iteration ? {\n//               id: task.Iteration.id,\n//               name: task.Iteration.name,\n//               start_date: task.Iteration.start_date,\n//               end_date: task.Iteration.end_date\n//             } : {\n//               id: null,\n//               name: \"Unassigned\",\n//               start_date: null,\n//               end_date: null\n//             },\n//             tasks: []\n//           };\n//         }\n//         grouped[iterId].tasks.push(task);\n//       });\n  \n//       const iterations = Object.keys(grouped).map(key => {\n//         const group = grouped[key];\n//         const summary = calculateSummary(group.tasks);\n//         return {\n//           iteration: group.iteration,\n//           ...summary\n//         };\n//       });\n      \n//       return res.status(200).json({\n//         iterations,\n//         department_summary: departmentSummary\n//       });\n      \n  \n  \n//     } catch (error) {\n//       console.error(\"Error in getTaskSummary:\", error);\n//       res.status(500).json({ message: \"Server error\", error: error.message });\n//     }\n//   };\n\n// export const getTaskSummary = async (req, res) => {\n//   try {\n//     const {  iteration_id } = req.body;\n//         const statusWeightage =    VALID_STATUSWEIGHTAGE;                //req.body.status_weightage || {}; // Optional\n\n//     const user_id = req.user.id;\n\n//         // Fetch user's role and company ID\n//         const user = await User.findByPk(user_id, {\n//             include: [{ model: Role, attributes: [\"name\"], required: true }]\n//         });\n\n//         if (!user) {\n//             return res.status(404).json({ error: \"User not found\" });\n//         }\n\n//         const userRole = user.Role ? user.Role.name : null;\n//         let company_id;\n\n//         if (userRole === \"System Super Admin\") {\n//             company_id = req.body.company_id;\n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//             }\n//         } else {\n//             company_id = req.user.company;\n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n//             }\n//         }\n \n\n\n//     // Helper function to calculate status summary and weighted percentage\n//     const calculateSummary = (tasks) => {\n//       const summary = {};\n//       let totalWeight = 0;\n//       let totalTasks = tasks.length;\n\n//       VALID_STATUS_VALUES.forEach(status => {\n//         summary[status] = 0;\n//       });\n\n//       tasks.forEach(task => {\n//         const status = task.status;\n//         summary[status] = (summary[status] || 0) + 1;\n\n//         // Apply weightage if provided\n//         if (statusWeightage && statusWeightage[status] !== undefined) {\n//           totalWeight += statusWeightage[status];\n//         }\n//       });\n\n//       const percentageCompleted = totalTasks > 0 && Object.keys(statusWeightage).length > 0\n//         ? parseFloat((totalWeight / (totalTasks * 100)) * 100).toFixed(2)\n//         : null;\n\n//       return {\n//         total_tasks: totalTasks,\n//         status_summary: summary,\n//         percentage_completed: percentageCompleted\n//       };\n//     };\n\n//     // Case 1: Specific iteration_id provided\n//     if (iteration_id) {\n//       const tasks = await Task.findAll({\n//         where: {\n//           company_id,\n//           iteration_id,\n//           is_active: true\n//         }\n//       });\n\n//       const iteration = await Iteration.findOne({\n//         where: { id: iteration_id },\n//         attributes: ['id', 'name', 'start_date', 'end_date']\n//       });\n\n//       const summary = calculateSummary(tasks);\n\n//       return res.status(200).json({\n//         iteration: iteration ? {\n//           id: iteration.id,\n//           name: iteration.name,\n//           start_date: iteration.start_date,\n//           end_date: iteration.end_date\n//         } : null,\n//         ...summary\n//       });\n//     }\n\n//     // Case 2: No iteration_id â†’ group by iteration\n//     const tasks = await Task.findAll({\n//       where: {\n//         company_id,\n//         is_active: true\n//       },\n//       include: [{\n//         model: Iteration,\n//          as: 'Iteration',\n//         attributes: ['id', 'name', 'start_date', 'end_date']\n//       }]\n//     });\n\n//     // Group tasks by iteration_id\n//     const grouped = {};\n\n//     tasks.forEach(task => {\n//       const iterId = task.iteration_id || \"no_iteration\";\n//       if (!grouped[iterId]) {\n//         grouped[iterId] = {\n//           iteration: task.Iteration ? {\n//             id: task.Iteration.id,\n//             name: task.Iteration.name,\n//             start_date: task.Iteration.start_date,\n//             end_date: task.Iteration.end_date\n//           } : {\n//             id: null,\n//             name: \"Unassigned\",\n//             start_date: null,\n//             end_date: null\n//           },\n//           tasks: []\n//         };\n//       }\n//       grouped[iterId].tasks.push(task);\n//     });\n\n//     const iterations = Object.keys(grouped).map(key => {\n//       const group = grouped[key];\n//       const summary = calculateSummary(group.tasks);\n//       return {\n//         iteration: group.iteration,\n//         ...summary\n//       };\n//     });\n\n//     return res.status(200).json({ iterations });\n\n//   } catch (error) {\n//     console.error(\"Error in getTaskSummary:\", error);\n//     res.status(500).json({ message: \"Server error\", error: error.message });\n//   }\n// };\n\n\n\n// export const getTaskSummary = async (req, res) => {\n//   try {\n//     const { iteration_id } = req.query;\n//     const statusWeightage =    VALID_STATUSWEIGHTAGE;                //req.body.status_weightage || {}; // Optional\n\n//     const user_id = req.user.id;\n\n//         // Fetch user's role and company ID\n//         const user = await User.findByPk(user_id, {\n//             include: [{ model: Role, attributes: [\"name\"], required: true }]\n//         });\n\n//         if (!user) {\n//             return res.status(404).json({ error: \"User not found\" });\n//         }\n\n//         const userRole = user.Role ? user.Role.name : null;\n//         let company_id;\n\n//         if (userRole === \"System Super Admin\") {\n//             company_id = req.body.company_id;\n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//             }\n//         } else {\n//             company_id = req.user.company;\n//             if (!company_id) {\n//                 return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n//             }\n//         }\n \n\n//     // Fetch tasks\n//     const whereClause = {\n//       company_id,\n//       is_active: true\n//     };\n//     if (iteration_id) whereClause.iteration_id = iteration_id;\n\n//     const tasks = await Task.findAll({ where: whereClause });\n\n//     // 1. Status-wise count\n//     const statusSummary = {};\n//     let weightedSum = 0;\n//     for (const status of VALID_STATUS_VALUES) {\n//       statusSummary[status] = 0;\n//     }\n\n//     for (const task of tasks) {\n//       const status = task.status || \"TBD\";\n//       statusSummary[status] = (statusSummary[status] || 0) + 1;\n\n//       if (statusWeightage[status] !== undefined) {\n//         weightedSum += statusWeightage[status];\n//       }\n//     }\n\n//     // 2. Completion Percentage\n//     let completionPercentage = 0;\n//     if (tasks.length > 0 && Object.keys(statusWeightage).length > 0) {\n//       completionPercentage = weightedSum / tasks.length;\n//     }\n\n//     // 3. Iteration Timeline\n//     let iterationTimeline = null;\n//     if (iteration_id) {\n//       const iteration = await Iteration.findByPk(iteration_id);\n//       if (iteration) {\n//         iterationTimeline = {\n//           start: iteration.start_date,\n//           end: iteration.end_date\n//         };\n//       }\n//     }\n\n//     return res.json({\n//       statusSummary,\n//       totalTasks: tasks.length,\n//       completionPercentage: +completionPercentage.toFixed(2),\n//       iterationTimeline\n//     });\n\n//   } catch (error) {\n//     console.error(\"Error in getTaskSummary:\", error);\n//     res.status(500).json({ error: \"Internal Server Error\" });\n//   }\n// };\n\n\n\n// export const deleteTask = async (req, res) => {\n//     try {\n//         const { id } = req.params;\n\n//         // âœ… Delete related records first\n//         await TaskAssignments.destroy({ where: { task_id: id } });\n//         await TaskChangeLog.destroy({ where: { task_id: id } });\n\n//         // âœ… Delete child tasks recursively\n//         await Task.destroy({ where: { parent_task_id: id } });\n\n//         // âœ… Delete the main task\n//         const deleted = await Task.destroy({ where: { id } });\n\n//         if (!deleted) {\n//             return res.status(404).json({ error: \"Task not found\" });\n//         }\n\n//         res.json({ message: \"Task and related records deleted successfully\" });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\n// Route for inserting approved tasks\n//router.post(\"/insert-approved-tasks\", insertApprovedTasks);\n\n\n\n\n// import Task from \"../models/Task.js\";\n// import TaskAssignments from \"../models/TaskAssignment.js\";\n// import User from \"../models/User.js\";\n// import Role from \"../models/Role.js\"\n// import { Op } from \"sequelize\";\n\n\n// // Create a new Task\n// export const createTask = async (req, res) => {\n//     try {\n//         const { name, description, task_type, parent_task_id,createdBy } = req.body;\n//         const task = await Task.create({ name, description, task_type, parent_task_id,createdBy });\n//         res.status(201).json(task);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// // Get all tasks\n// export const getAllTasks = async (req, res) => {\n//     try {\n//         const { user_id } = req.body; // Extract user_id from request body\n\n//         // Fetch user role\n//         const user = await User.findByPk(user_id, {\n//             include: [{ model: Role, attributes: [\"name\"], required: true }]  // Ensure role is included\n//         });\n\n        \n\n//         if (!user) {\n//             return res.status(404).json({ error: \"User not found\" });\n//         }\n\n//         const userRole = user.Role ? user.Role.name : null;\n\n\n//         console.log(`userRole ${userRole}`);\n\n//         let tasks;\n\n//         if (userRole === \"Super Admin\") {\n//             // Super Admin gets all tasks\n//             tasks = await Task.findAll();\n//         } else {\n//             // Get task IDs where the user is either an assignee or an assigner\n//             const assignedTaskIds = await TaskAssignments.findAll({\n//                 where: {\n//                     [Op.or]: [\n//                         { user_id },     // Tasks assigned to the user\n//                         { assign_by: user_id }  // Tasks assigned by the user\n//                     ]\n//                 },\n//                 attributes: [\"task_id\"], // Get only task_id\n//                 raw: true\n//             });\n\n//             // Extract task IDs from TaskAssignment results\n//             const assignedTaskIdList = assignedTaskIds.map(task => task.task_id);\n\n//             // Fetch tasks where:\n//             // - User is the creator\n//             // - User has assigned the task or was assigned a task\n//             tasks = await Task.findAll({\n//                 where: {\n//                     [Op.or]: [\n//                         { createdBy: user_id },\n//                         { id: assignedTaskIdList.length > 0 ? { [Op.in]: assignedTaskIdList } : null }\n//                     ]\n//                 }\n//             });\n//         }\n\n//         res.json(tasks);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// // Get a single task by ID\n// export const getTaskById = async (req, res) => {\n//     try {\n//         const { id } = req.params;\n//         const task = await Task.findByPk(id);\n//         if (!task) return res.status(404).json({ error: \"Task not found\" });\n//         res.json(task);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// // Update a Task\n// export const updateTask = async (req, res) => {\n//     try {\n//         const { id } = req.params;\n//         const updated = await Task.update(req.body, { where: { id } });\n//         if (!updated[0]) return res.status(404).json({ error: \"Task not found\" });\n//         res.json({ message: \"Task updated successfully\" });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// // Delete a Task\n// export const deleteTask = async (req, res) => {\n//     try {\n//         const { id } = req.params;\n//         const deleted = await Task.destroy({ where: { id } });\n//         if (!deleted) return res.status(404).json({ error: \"Task not found\" });\n//         res.json({ message: \"Task deleted successfully\" });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\n// import TaskAssignment from \"../models/TaskAssignment.js\";\n// import TaskChangeLog from \"../models/TaskChangeLog.js\";\n// import { Op } from \"sequelize\";\n// import User from \"../models/User.js\";\n// import Role from \"../models/Role.js\";\n// import Task from \"../models/Task.js\";\n\n// export const assignTask = async (req, res) => {\n//     try {\n//         const { task_id, user_ids } = req.body; // Expecting an array of user IDs\n//         const assign_by=req.user.id;\n\n//         if (!Array.isArray(user_ids) || user_ids.length === 0) {\n//             return res.status(400).json({ error: \"user_id must be a non-empty array\" });\n//         }\n\n//         const assignments = await Promise.all(\n//             user_ids.map(async (user_id) => {\n//                 // Check if the assignment already exists\n//                 const existingAssignment = await TaskAssignment.findOne({\n//                     where: { task_id, user_id }\n//                 });\n\n//                 if (!existingAssignment) {\n//                     const newAssignment = await TaskAssignment.create({ task_id, user_id, assign_by });\n\n//                     // âœ… Log task assignment in TaskChangeLog\n//                     await TaskChangeLog.create({\n//                         task_id,\n//                         changed_by: assign_by,\n//                         field_changed: \"assignment\",\n//                         old_value: null,\n//                         new_value: `Assigned to user ${user_id}`,\n//                     });\n\n//                     return newAssignment;\n//                 }\n\n//                 return existingAssignment; // If it exists, return the existing assignment\n//             })\n//         );\n\n//         res.status(201).json(assignments);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// export const changeAssignee = async (req, res) => {\n//     try {\n//         const { task_id, old_assignee, new_assignee } = req.body;\n//         const changed_by=req.user.id;\n//         // Ensure task assignment exists for old assignee\n//         const existingAssignment = await TaskAssignment.findOne({\n//             where: { task_id, user_id: old_assignee }\n//         });\n\n//         if (!existingAssignment) {\n//             return res.status(404).json({ error: \"Old assignee not found for this task\" });\n//         }\n\n//         // Remove old assignee\n//         await TaskAssignment.destroy({ where: { task_id, user_id: old_assignee } });\n\n//         // Assign new assignee\n//         const newAssignment = await TaskAssignment.create({\n//             task_id,\n//             user_id: new_assignee,\n//             assign_by: changed_by\n//         });\n\n//         // âœ… Log the change in TaskChangeLog\n//         await TaskChangeLog.create({\n//             task_id,\n//             changed_by,\n//             field_changed: \"assignment\",\n//             old_value: `Assigned to user ${old_assignee}`,\n//             new_value: `Assigned to user ${new_assignee}`,\n//         });\n\n//         res.status(200).json({ message: \"Assignee changed successfully\", newAssignment });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// export const getAllTaskAssignments = async (req, res) => {\n//     try {\n//         const user_id = req.user.id; // Assuming `req.user` contains the logged-in user details\n\n//         // Fetch the user's role by including Role in the query\n//         const user = await User.findByPk(user_id, {\n//             include: [{ model: Role, attributes: [\"name\"] }] // Fetch role name\n//         });\n\n//         if (!user) {\n//             return res.status(404).json({ error: \"User not found\" });\n//         }\n\n//         let assignments;\n\n//         if (user.Role?.name === \"Super Admin\") {\n//             // Super Admin gets all task assignments\n//             assignments = await TaskAssignment.findAll({\n//                 include: [\n//                     { model: Task },\n//                     { model: User, as: \"Assignee\", attributes: [\"id\", \"name\", \"email\"] }, // Assigned user details\n//                     { model: User, as: \"Assigner\", attributes: [\"id\", \"name\", \"email\"] } // Assigner user details\n//                 ]\n//             });\n//         } else {\n//             // Regular users only see tasks where they are assigned (user_id) or assigned by (assign_by)\n//             assignments = await TaskAssignment.findAll({\n//                 where: {\n//                     [Op.or]: [\n//                         { user_id }, // User is assigned this task\n//                         { assign_by: user_id } // User assigned this task\n//                     ]\n//                 },\n//                 include: [\n//                     { model: Task },\n//                     { model: User, as: \"Assignee\", attributes: [\"id\", \"name\", \"email\"] },\n//                     { model: User, as: \"Assigner\", attributes: [\"id\", \"name\", \"email\"] }\n//                 ]\n//             });\n//         }\n\n//         res.json(assignments);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// export const getTaskAssignments = async (req, res) => {\n//     try {\n//         const { task_id } = req.params;\n//         const assignments = await TaskAssignment.findAll({\n//             where: { task_id },\n//             include: [\n//                 { model: User, as: \"Assignee\", attributes: [\"id\", \"name\", \"email\"] },\n//                 { model: User, as: \"Assigner\", attributes: [\"id\", \"name\", \"email\"] }\n//             ]\n//         });\n//         res.json(assignments);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// export const unassignTask = async (req, res) => {\n//     try {\n//         const { id } = req.params;\n//         const assignment = await TaskAssignment.findByPk(id);\n\n//         if (!assignment) {\n//             return res.status(404).json({ error: \"Assignment not found\" });\n//         }\n\n//         // âœ… Log task unassignment in TaskChangeLog\n//         await TaskChangeLog.create({\n//             task_id: assignment.task_id,\n//             changed_by: assignment.assign_by,\n//             field_changed: \"assignment\",\n//             old_value: `Assigned to user ${assignment.user_id}`,\n//             new_value: \"Unassigned\",\n//         });\n\n//         // Delete the assignment\n//         await TaskAssignment.destroy({ where: { id } });\n\n//         res.json({ message: \"User unassigned from task successfully\" });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n","size_bytes":79601},"qms-source/frontend-new/src/Components/Sidebar/styles/sidenav.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\nexport default function sidenavLogoLabel(theme, ownerState) {\n  const { functions, transitions, typography, breakpoints } = theme;\n  const { miniSidenav } = ownerState;\n\n  const { pxToRem } = functions;\n  const { fontWeightMedium } = typography;\n\n  return {\n    ml: 0.5,\n    fontWeight: fontWeightMedium,\n    wordSpacing: pxToRem(-1),\n    transition: transitions.create(\"opacity\", {\n      easing: transitions.easing.easeInOut,\n      duration: transitions.duration.standard,\n    }),\n\n    [breakpoints.up(\"xl\")]: {\n      opacity: miniSidenav ? 0 : 1,\n    },\n  };\n}\n","size_bytes":1085},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"qms-source/frontend-new/src/assets/theme-dark/functions/rgba.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The rgba() function helps you to create a rgba color code, it uses the hexToRgb() function\n  to convert the hex code into rgb for using it inside the rgba color format.\n */\n\n// Material Dashboard 2 React helper functions\nimport hexToRgb from \"assets/theme-dark/functions/hexToRgb\";\n\nfunction rgba(color, opacity) {\n  return `rgba(${hexToRgb(color)}, ${opacity})`;\n}\n\nexport default rgba;\n","size_bytes":917},"frontend-new/pnpm-lock.yaml":{"content":"lockfileVersion: '9.0'\n\nsettings:\n  autoInstallPeers: true\n  excludeLinksFromLockfile: false\n\nimporters:\n\n  .:\n    dependencies:\n      '@emotion/react':\n        specifier: ^11.14.0\n        version: 11.14.0(@types/react@19.1.12)(react@19.1.1)\n      '@emotion/styled':\n        specifier: ^11.14.0\n        version: 11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n      '@mui/icons-material':\n        specifier: ^6.4.4\n        version: 6.5.0(@mui/material@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n      '@mui/material':\n        specifier: ^6.4.4\n        version: 6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      '@mui/x-data-grid':\n        specifier: ^7.28.2\n        version: 7.29.9(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@mui/material@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1))(@mui/system@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      '@shadcn/ui':\n        specifier: ^0.0.4\n        version: 0.0.4\n      axios:\n        specifier: ^1.7.9\n        version: 1.11.0\n      chroma-js:\n        specifier: ^3.1.2\n        version: 3.1.2\n      cra-template:\n        specifier: 1.2.0\n        version: 1.2.0\n      date-fns:\n        specifier: ^4.1.0\n        version: 4.1.0\n      html2canvas:\n        specifier: ^1.4.1\n        version: 1.4.1\n      html2pdf.js:\n        specifier: ^0.10.3\n        version: 0.10.3\n      jspdf:\n        specifier: ^3.0.1\n        version: 3.0.2\n      jwt-decode:\n        specifier: ^4.0.0\n        version: 4.0.0\n      lucide-react:\n        specifier: ^0.475.0\n        version: 0.475.0(react@19.1.1)\n      react:\n        specifier: ^19.0.0\n        version: 19.1.1\n      react-dom:\n        specifier: ^19.0.0\n        version: 19.1.1(react@19.1.1)\n      react-router-dom:\n        specifier: ^7.1.5\n        version: 7.8.2(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      react-select:\n        specifier: ^5.10.0\n        version: 5.10.2(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      react-toastify:\n        specifier: ^11.0.3\n        version: 11.0.5(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      recharts:\n        specifier: ^2.15.1\n        version: 2.15.4(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      socket.io-client:\n        specifier: ^4.8.1\n        version: 4.8.1\n      web-vitals:\n        specifier: ^4.2.4\n        version: 4.2.4\n      xlsx:\n        specifier: ^0.18.5\n        version: 0.18.5\n    devDependencies:\n      '@eslint/js':\n        specifier: ^9.21.0\n        version: 9.35.0\n      '@types/react':\n        specifier: ^19.0.10\n        version: 19.1.12\n      '@types/react-dom':\n        specifier: ^19.0.4\n        version: 19.1.9(@types/react@19.1.12)\n      '@vitejs/plugin-react':\n        specifier: ^4.3.4\n        version: 4.7.0(vite@6.3.6)\n      eslint:\n        specifier: ^9.21.0\n        version: 9.35.0\n      eslint-plugin-react-hooks:\n        specifier: ^5.1.0\n        version: 5.2.0(eslint@9.35.0)\n      eslint-plugin-react-refresh:\n        specifier: ^0.4.19\n        version: 0.4.20(eslint@9.35.0)\n      globals:\n        specifier: ^15.15.0\n        version: 15.15.0\n      vite:\n        specifier: ^6.2.0\n        version: 6.3.6\n\npackages:\n\n  '@babel/code-frame@7.27.1':\n    resolution: {integrity: sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/compat-data@7.28.4':\n    resolution: {integrity: sha512-YsmSKC29MJwf0gF8Rjjrg5LQCmyh+j/nD8/eP7f+BeoQTKYqs9RoWbjGOdy0+1Ekr68RJZMUOPVQaQisnIo4Rw==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/core@7.28.4':\n    resolution: {integrity: sha512-2BCOP7TN8M+gVDj7/ht3hsaO/B/n5oDbiAyyvnRlNOs+u1o+JWNYTQrmpuNp1/Wq2gcFrI01JAW+paEKDMx/CA==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/generator@7.28.3':\n    resolution: {integrity: sha512-3lSpxGgvnmZznmBkCRnVREPUFJv2wrv9iAoFDvADJc0ypmdOxdUtcLeBgBJ6zE0PMeTKnxeQzyk0xTBq4Ep7zw==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helper-compilation-targets@7.27.2':\n    resolution: {integrity: sha512-2+1thGUUWWjLTYTHZWK1n8Yga0ijBz1XAhUXcKy81rd5g6yh7hGqMp45v7cadSbEHc9G3OTv45SyneRN3ps4DQ==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helper-globals@7.28.0':\n    resolution: {integrity: sha512-+W6cISkXFa1jXsDEdYA8HeevQT/FULhxzR99pxphltZcVaugps53THCeiWA8SguxxpSp3gKPiuYfSWopkLQ4hw==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helper-module-imports@7.27.1':\n    resolution: {integrity: sha512-0gSFWUPNXNopqtIPQvlD5WgXYI5GY2kP2cCvoT8kczjbfcfuIljTbcWrulD1CIPIX2gt1wghbDy08yE1p+/r3w==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helper-module-transforms@7.28.3':\n    resolution: {integrity: sha512-gytXUbs8k2sXS9PnQptz5o0QnpLL51SwASIORY6XaBKF88nsOT0Zw9szLqlSGQDP/4TljBAD5y98p2U1fqkdsw==}\n    engines: {node: '>=6.9.0'}\n    peerDependencies:\n      '@babel/core': ^7.0.0\n\n  '@babel/helper-plugin-utils@7.27.1':\n    resolution: {integrity: sha512-1gn1Up5YXka3YYAHGKpbideQ5Yjf1tDa9qYcgysz+cNCXukyLl6DjPXhD3VRwSb8c0J9tA4b2+rHEZtc6R0tlw==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helper-string-parser@7.27.1':\n    resolution: {integrity: sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helper-validator-identifier@7.27.1':\n    resolution: {integrity: sha512-D2hP9eA+Sqx1kBZgzxZh0y1trbuU+JoDkiEwqhQ36nodYqJwyEIhPSdMNd7lOm/4io72luTPWH20Yda0xOuUow==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helper-validator-option@7.27.1':\n    resolution: {integrity: sha512-YvjJow9FxbhFFKDSuFnVCe2WxXk1zWc22fFePVNEaWJEu8IrZVlda6N0uHwzZrUM1il7NC9Mlp4MaJYbYd9JSg==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helpers@7.28.4':\n    resolution: {integrity: sha512-HFN59MmQXGHVyYadKLVumYsA9dBFun/ldYxipEjzA4196jpLZd8UjEEBLkbEkvfYreDqJhZxYAWFPtrfhNpj4w==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/parser@7.28.4':\n    resolution: {integrity: sha512-yZbBqeM6TkpP9du/I2pUZnJsRMGGvOuIrhjzC1AwHwW+6he4mni6Bp/m8ijn0iOuZuPI2BfkCoSRunpyjnrQKg==}\n    engines: {node: '>=6.0.0'}\n    hasBin: true\n\n  '@babel/plugin-transform-react-jsx-self@7.27.1':\n    resolution: {integrity: sha512-6UzkCs+ejGdZ5mFFC/OCUrv028ab2fp1znZmCZjAOBKiBK2jXD1O+BPSfX8X2qjJ75fZBMSnQn3Rq2mrBJK2mw==}\n    engines: {node: '>=6.9.0'}\n    peerDependencies:\n      '@babel/core': ^7.0.0-0\n\n  '@babel/plugin-transform-react-jsx-source@7.27.1':\n    resolution: {integrity: sha512-zbwoTsBruTeKB9hSq73ha66iFeJHuaFkUbwvqElnygoNbj/jHRsSeokowZFN3CZ64IvEqcmmkVe89OPXc7ldAw==}\n    engines: {node: '>=6.9.0'}\n    peerDependencies:\n      '@babel/core': ^7.0.0-0\n\n  '@babel/runtime@7.28.4':\n    resolution: {integrity: sha512-Q/N6JNWvIvPnLDvjlE1OUBLPQHH6l3CltCEsHIujp45zQUSSh8K+gHnaEX45yAT1nyngnINhvWtzN+Nb9D8RAQ==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/template@7.27.2':\n    resolution: {integrity: sha512-LPDZ85aEJyYSd18/DkjNh4/y1ntkE5KwUHWTiqgRxruuZL2F1yuHligVHLvcHY2vMHXttKFpJn6LwfI7cw7ODw==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/traverse@7.28.4':\n    resolution: {integrity: sha512-YEzuboP2qvQavAcjgQNVgsvHIDv6ZpwXvcvjmyySP2DIMuByS/6ioU5G9pYrWHM6T2YDfc7xga9iNzYOs12CFQ==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/types@7.28.4':\n    resolution: {integrity: sha512-bkFqkLhh3pMBUQQkpVgWDWq/lqzc2678eUyDlTBhRqhCHFguYYGM0Efga7tYk4TogG/3x0EEl66/OQ+WGbWB/Q==}\n    engines: {node: '>=6.9.0'}\n\n  '@emotion/babel-plugin@11.13.5':\n    resolution: {integrity: sha512-pxHCpT2ex+0q+HH91/zsdHkw/lXd468DIN2zvfvLtPKLLMo6gQj7oLObq8PhkrxOZb/gGCq03S3Z7PDhS8pduQ==}\n\n  '@emotion/cache@11.14.0':\n    resolution: {integrity: sha512-L/B1lc/TViYk4DcpGxtAVbx0ZyiKM5ktoIyafGkH6zg/tj+mA+NE//aPYKG0k8kCHSHVJrpLpcAlOBEXQ3SavA==}\n\n  '@emotion/hash@0.9.2':\n    resolution: {integrity: sha512-MyqliTZGuOm3+5ZRSaaBGP3USLw6+EGykkwZns2EPC5g8jJ4z9OrdZY9apkl3+UP9+sdz76YYkwCKP5gh8iY3g==}\n\n  '@emotion/is-prop-valid@1.4.0':\n    resolution: {integrity: sha512-QgD4fyscGcbbKwJmqNvUMSE02OsHUa+lAWKdEUIJKgqe5IwRSKd7+KhibEWdaKwgjLj0DRSHA9biAIqGBk05lw==}\n\n  '@emotion/memoize@0.9.0':\n    resolution: {integrity: sha512-30FAj7/EoJ5mwVPOWhAyCX+FPfMDrVecJAM+Iw9NRoSl4BBAQeqj4cApHHUXOVvIPgLVDsCFoz/hGD+5QQD1GQ==}\n\n  '@emotion/react@11.14.0':\n    resolution: {integrity: sha512-O000MLDBDdk/EohJPFUqvnp4qnHeYkVP5B0xEG0D/L7cOKP9kefu2DXn8dj74cQfsEzUqh+sr1RzFqiL1o+PpA==}\n    peerDependencies:\n      '@types/react': '*'\n      react: '>=16.8.0'\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@emotion/serialize@1.3.3':\n    resolution: {integrity: sha512-EISGqt7sSNWHGI76hC7x1CksiXPahbxEOrC5RjmFRJTqLyEK9/9hZvBbiYn70dw4wuwMKiEMCUlR6ZXTSWQqxA==}\n\n  '@emotion/sheet@1.4.0':\n    resolution: {integrity: sha512-fTBW9/8r2w3dXWYM4HCB1Rdp8NLibOw2+XELH5m5+AkWiL/KqYX6dc0kKYlaYyKjrQ6ds33MCdMPEwgs2z1rqg==}\n\n  '@emotion/styled@11.14.1':\n    resolution: {integrity: sha512-qEEJt42DuToa3gurlH4Qqc1kVpNq8wO8cJtDzU46TjlzWjDlsVyevtYCRijVq3SrHsROS+gVQ8Fnea108GnKzw==}\n    peerDependencies:\n      '@emotion/react': ^11.0.0-rc.0\n      '@types/react': '*'\n      react: '>=16.8.0'\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@emotion/unitless@0.10.0':\n    resolution: {integrity: sha512-dFoMUuQA20zvtVTuxZww6OHoJYgrzfKM1t52mVySDJnMSEa08ruEvdYQbhvyu6soU+NeLVd3yKfTfT0NeV6qGg==}\n\n  '@emotion/use-insertion-effect-with-fallbacks@1.2.0':\n    resolution: {integrity: sha512-yJMtVdH59sxi/aVJBpk9FQq+OR8ll5GT8oWd57UpeaKEVGab41JWaCFA7FRLoMLloOZF/c/wsPoe+bfGmRKgDg==}\n    peerDependencies:\n      react: '>=16.8.0'\n\n  '@emotion/utils@1.4.2':\n    resolution: {integrity: sha512-3vLclRofFziIa3J2wDh9jjbkUz9qk5Vi3IZ/FSTKViB0k+ef0fPV7dYrUIugbgupYDx7v9ud/SjrtEP8Y4xLoA==}\n\n  '@emotion/weak-memoize@0.4.0':\n    resolution: {integrity: sha512-snKqtPW01tN0ui7yu9rGv69aJXr/a/Ywvl11sUjNtEcRc+ng/mQriFL0wLXMef74iHa/EkftbDzU9F8iFbH+zg==}\n\n  '@esbuild/aix-ppc64@0.25.9':\n    resolution: {integrity: sha512-OaGtL73Jck6pBKjNIe24BnFE6agGl+6KxDtTfHhy1HmhthfKouEcOhqpSL64K4/0WCtbKFLOdzD/44cJ4k9opA==}\n    engines: {node: '>=18'}\n    cpu: [ppc64]\n    os: [aix]\n\n  '@esbuild/android-arm64@0.25.9':\n    resolution: {integrity: sha512-IDrddSmpSv51ftWslJMvl3Q2ZT98fUSL2/rlUXuVqRXHCs5EUF1/f+jbjF5+NG9UffUDMCiTyh8iec7u8RlTLg==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [android]\n\n  '@esbuild/android-arm@0.25.9':\n    resolution: {integrity: sha512-5WNI1DaMtxQ7t7B6xa572XMXpHAaI/9Hnhk8lcxF4zVN4xstUgTlvuGDorBguKEnZO70qwEcLpfifMLoxiPqHQ==}\n    engines: {node: '>=18'}\n    cpu: [arm]\n    os: [android]\n\n  '@esbuild/android-x64@0.25.9':\n    resolution: {integrity: sha512-I853iMZ1hWZdNllhVZKm34f4wErd4lMyeV7BLzEExGEIZYsOzqDWDf+y082izYUE8gtJnYHdeDpN/6tUdwvfiw==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [android]\n\n  '@esbuild/darwin-arm64@0.25.9':\n    resolution: {integrity: sha512-XIpIDMAjOELi/9PB30vEbVMs3GV1v2zkkPnuyRRURbhqjyzIINwj+nbQATh4H9GxUgH1kFsEyQMxwiLFKUS6Rg==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [darwin]\n\n  '@esbuild/darwin-x64@0.25.9':\n    resolution: {integrity: sha512-jhHfBzjYTA1IQu8VyrjCX4ApJDnH+ez+IYVEoJHeqJm9VhG9Dh2BYaJritkYK3vMaXrf7Ogr/0MQ8/MeIefsPQ==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [darwin]\n\n  '@esbuild/freebsd-arm64@0.25.9':\n    resolution: {integrity: sha512-z93DmbnY6fX9+KdD4Ue/H6sYs+bhFQJNCPZsi4XWJoYblUqT06MQUdBCpcSfuiN72AbqeBFu5LVQTjfXDE2A6Q==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [freebsd]\n\n  '@esbuild/freebsd-x64@0.25.9':\n    resolution: {integrity: sha512-mrKX6H/vOyo5v71YfXWJxLVxgy1kyt1MQaD8wZJgJfG4gq4DpQGpgTB74e5yBeQdyMTbgxp0YtNj7NuHN0PoZg==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [freebsd]\n\n  '@esbuild/linux-arm64@0.25.9':\n    resolution: {integrity: sha512-BlB7bIcLT3G26urh5Dmse7fiLmLXnRlopw4s8DalgZ8ef79Jj4aUcYbk90g8iCa2467HX8SAIidbL7gsqXHdRw==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [linux]\n\n  '@esbuild/linux-arm@0.25.9':\n    resolution: {integrity: sha512-HBU2Xv78SMgaydBmdor38lg8YDnFKSARg1Q6AT0/y2ezUAKiZvc211RDFHlEZRFNRVhcMamiToo7bDx3VEOYQw==}\n    engines: {node: '>=18'}\n    cpu: [arm]\n    os: [linux]\n\n  '@esbuild/linux-ia32@0.25.9':\n    resolution: {integrity: sha512-e7S3MOJPZGp2QW6AK6+Ly81rC7oOSerQ+P8L0ta4FhVi+/j/v2yZzx5CqqDaWjtPFfYz21Vi1S0auHrap3Ma3A==}\n    engines: {node: '>=18'}\n    cpu: [ia32]\n    os: [linux]\n\n  '@esbuild/linux-loong64@0.25.9':\n    resolution: {integrity: sha512-Sbe10Bnn0oUAB2AalYztvGcK+o6YFFA/9829PhOCUS9vkJElXGdphz0A3DbMdP8gmKkqPmPcMJmJOrI3VYB1JQ==}\n    engines: {node: '>=18'}\n    cpu: [loong64]\n    os: [linux]\n\n  '@esbuild/linux-mips64el@0.25.9':\n    resolution: {integrity: sha512-YcM5br0mVyZw2jcQeLIkhWtKPeVfAerES5PvOzaDxVtIyZ2NUBZKNLjC5z3/fUlDgT6w89VsxP2qzNipOaaDyA==}\n    engines: {node: '>=18'}\n    cpu: [mips64el]\n    os: [linux]\n\n  '@esbuild/linux-ppc64@0.25.9':\n    resolution: {integrity: sha512-++0HQvasdo20JytyDpFvQtNrEsAgNG2CY1CLMwGXfFTKGBGQT3bOeLSYE2l1fYdvML5KUuwn9Z8L1EWe2tzs1w==}\n    engines: {node: '>=18'}\n    cpu: [ppc64]\n    os: [linux]\n\n  '@esbuild/linux-riscv64@0.25.9':\n    resolution: {integrity: sha512-uNIBa279Y3fkjV+2cUjx36xkx7eSjb8IvnL01eXUKXez/CBHNRw5ekCGMPM0BcmqBxBcdgUWuUXmVWwm4CH9kg==}\n    engines: {node: '>=18'}\n    cpu: [riscv64]\n    os: [linux]\n\n  '@esbuild/linux-s390x@0.25.9':\n    resolution: {integrity: sha512-Mfiphvp3MjC/lctb+7D287Xw1DGzqJPb/J2aHHcHxflUo+8tmN/6d4k6I2yFR7BVo5/g7x2Monq4+Yew0EHRIA==}\n    engines: {node: '>=18'}\n    cpu: [s390x]\n    os: [linux]\n\n  '@esbuild/linux-x64@0.25.9':\n    resolution: {integrity: sha512-iSwByxzRe48YVkmpbgoxVzn76BXjlYFXC7NvLYq+b+kDjyyk30J0JY47DIn8z1MO3K0oSl9fZoRmZPQI4Hklzg==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [linux]\n\n  '@esbuild/netbsd-arm64@0.25.9':\n    resolution: {integrity: sha512-9jNJl6FqaUG+COdQMjSCGW4QiMHH88xWbvZ+kRVblZsWrkXlABuGdFJ1E9L7HK+T0Yqd4akKNa/lO0+jDxQD4Q==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [netbsd]\n\n  '@esbuild/netbsd-x64@0.25.9':\n    resolution: {integrity: sha512-RLLdkflmqRG8KanPGOU7Rpg829ZHu8nFy5Pqdi9U01VYtG9Y0zOG6Vr2z4/S+/3zIyOxiK6cCeYNWOFR9QP87g==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [netbsd]\n\n  '@esbuild/openbsd-arm64@0.25.9':\n    resolution: {integrity: sha512-YaFBlPGeDasft5IIM+CQAhJAqS3St3nJzDEgsgFixcfZeyGPCd6eJBWzke5piZuZ7CtL656eOSYKk4Ls2C0FRQ==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [openbsd]\n\n  '@esbuild/openbsd-x64@0.25.9':\n    resolution: {integrity: sha512-1MkgTCuvMGWuqVtAvkpkXFmtL8XhWy+j4jaSO2wxfJtilVCi0ZE37b8uOdMItIHz4I6z1bWWtEX4CJwcKYLcuA==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [openbsd]\n\n  '@esbuild/openharmony-arm64@0.25.9':\n    resolution: {integrity: sha512-4Xd0xNiMVXKh6Fa7HEJQbrpP3m3DDn43jKxMjxLLRjWnRsfxjORYJlXPO4JNcXtOyfajXorRKY9NkOpTHptErg==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [openharmony]\n\n  '@esbuild/sunos-x64@0.25.9':\n    resolution: {integrity: sha512-WjH4s6hzo00nNezhp3wFIAfmGZ8U7KtrJNlFMRKxiI9mxEK1scOMAaa9i4crUtu+tBr+0IN6JCuAcSBJZfnphw==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [sunos]\n\n  '@esbuild/win32-arm64@0.25.9':\n    resolution: {integrity: sha512-mGFrVJHmZiRqmP8xFOc6b84/7xa5y5YvR1x8djzXpJBSv/UsNK6aqec+6JDjConTgvvQefdGhFDAs2DLAds6gQ==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [win32]\n\n  '@esbuild/win32-ia32@0.25.9':\n    resolution: {integrity: sha512-b33gLVU2k11nVx1OhX3C8QQP6UHQK4ZtN56oFWvVXvz2VkDoe6fbG8TOgHFxEvqeqohmRnIHe5A1+HADk4OQww==}\n    engines: {node: '>=18'}\n    cpu: [ia32]\n    os: [win32]\n\n  '@esbuild/win32-x64@0.25.9':\n    resolution: {integrity: sha512-PPOl1mi6lpLNQxnGoyAfschAodRFYXJ+9fs6WHXz7CSWKbOqiMZsubC+BQsVKuul+3vKLuwTHsS2c2y9EoKwxQ==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [win32]\n\n  '@eslint-community/eslint-utils@4.9.0':\n    resolution: {integrity: sha512-ayVFHdtZ+hsq1t2Dy24wCmGXGe4q9Gu3smhLYALJrr473ZH27MsnSL+LKUlimp4BWJqMDMLmPpx/Q9R3OAlL4g==}\n    engines: {node: ^12.22.0 || ^14.17.0 || >=16.0.0}\n    peerDependencies:\n      eslint: ^6.0.0 || ^7.0.0 || >=8.0.0\n\n  '@eslint-community/regexpp@4.12.1':\n    resolution: {integrity: sha512-CCZCDJuduB9OUkFkY2IgppNZMi2lBQgD2qzwXkEia16cge2pijY/aXi96CJMquDMn3nJdlPV1A5KrJEXwfLNzQ==}\n    engines: {node: ^12.0.0 || ^14.0.0 || >=16.0.0}\n\n  '@eslint/config-array@0.21.0':\n    resolution: {integrity: sha512-ENIdc4iLu0d93HeYirvKmrzshzofPw6VkZRKQGe9Nv46ZnWUzcF1xV01dcvEg/1wXUR61OmmlSfyeyO7EvjLxQ==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  '@eslint/config-helpers@0.3.1':\n    resolution: {integrity: sha512-xR93k9WhrDYpXHORXpxVL5oHj3Era7wo6k/Wd8/IsQNnZUTzkGS29lyn3nAT05v6ltUuTFVCCYDEGfy2Or/sPA==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  '@eslint/core@0.15.2':\n    resolution: {integrity: sha512-78Md3/Rrxh83gCxoUc0EiciuOHsIITzLy53m3d9UyiW8y9Dj2D29FeETqyKA+BRK76tnTp6RXWb3pCay8Oyomg==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  '@eslint/eslintrc@3.3.1':\n    resolution: {integrity: sha512-gtF186CXhIl1p4pJNGZw8Yc6RlshoePRvE0X91oPGb3vZ8pM3qOS9W9NGPat9LziaBV7XrJWGylNQXkGcnM3IQ==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  '@eslint/js@9.35.0':\n    resolution: {integrity: sha512-30iXE9whjlILfWobBkNerJo+TXYsgVM5ERQwMcMKCHckHflCmf7wXDAHlARoWnh0s1U72WqlbeyE7iAcCzuCPw==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  '@eslint/object-schema@2.1.6':\n    resolution: {integrity: sha512-RBMg5FRL0I0gs51M/guSAj5/e14VQ4tpZnQNWwuDT66P14I43ItmPfIZRhO9fUVIPOAQXU47atlywZ/czoqFPA==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  '@eslint/plugin-kit@0.3.5':\n    resolution: {integrity: sha512-Z5kJ+wU3oA7MMIqVR9tyZRtjYPr4OC004Q4Rw7pgOKUOKkJfZ3O24nz3WYfGRpMDNmcOi3TwQOmgm7B7Tpii0w==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  '@floating-ui/core@1.7.3':\n    resolution: {integrity: sha512-sGnvb5dmrJaKEZ+LDIpguvdX3bDlEllmv4/ClQ9awcmCZrlx5jQyyMWFM5kBI+EyNOCDDiKk8il0zeuX3Zlg/w==}\n\n  '@floating-ui/dom@1.7.4':\n    resolution: {integrity: sha512-OOchDgh4F2CchOX94cRVqhvy7b3AFb+/rQXyswmzmGakRfkMgoWVjfnLWkRirfLEfuD4ysVW16eXzwt3jHIzKA==}\n\n  '@floating-ui/utils@0.2.10':\n    resolution: {integrity: sha512-aGTxbpbg8/b5JfU1HXSrbH3wXZuLPJcNEcZQFMxLs3oSzgtVu6nFPkbbGGUvBcUjKV2YyB9Wxxabo+HEH9tcRQ==}\n\n  '@humanfs/core@0.19.1':\n    resolution: {integrity: sha512-5DyQ4+1JEUzejeK1JGICcideyfUbGixgS9jNgex5nqkW+cY7WZhxBigmieN5Qnw9ZosSNVC9KQKyb+GUaGyKUA==}\n    engines: {node: '>=18.18.0'}\n\n  '@humanfs/node@0.16.7':\n    resolution: {integrity: sha512-/zUx+yOsIrG4Y43Eh2peDeKCxlRt/gET6aHfaKpuq267qXdYDFViVHfMaLyygZOnl0kGWxFIgsBy8QFuTLUXEQ==}\n    engines: {node: '>=18.18.0'}\n\n  '@humanwhocodes/module-importer@1.0.1':\n    resolution: {integrity: sha512-bxveV4V8v5Yb4ncFTT3rPSgZBOpCkjfK0y4oVVVJwIuDVBRMDXrPyXRL988i5ap9m9bnyEEjWfm5WkBmtffLfA==}\n    engines: {node: '>=12.22'}\n\n  '@humanwhocodes/retry@0.4.3':\n    resolution: {integrity: sha512-bV0Tgo9K4hfPCek+aMAn81RppFKv2ySDQeMoSZuvTASywNTnVJCArCZE2FWqpvIatKu7VMRLWlR1EazvVhDyhQ==}\n    engines: {node: '>=18.18'}\n\n  '@jridgewell/gen-mapping@0.3.13':\n    resolution: {integrity: sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==}\n\n  '@jridgewell/remapping@2.3.5':\n    resolution: {integrity: sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ==}\n\n  '@jridgewell/resolve-uri@3.1.2':\n    resolution: {integrity: sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==}\n    engines: {node: '>=6.0.0'}\n\n  '@jridgewell/sourcemap-codec@1.5.5':\n    resolution: {integrity: sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==}\n\n  '@jridgewell/trace-mapping@0.3.30':\n    resolution: {integrity: sha512-GQ7Nw5G2lTu/BtHTKfXhKHok2WGetd4XYcVKGx00SjAk8GMwgJM3zr6zORiPGuOE+/vkc90KtTosSSvaCjKb2Q==}\n\n  '@mui/core-downloads-tracker@6.5.0':\n    resolution: {integrity: sha512-LGb8t8i6M2ZtS3Drn3GbTI1DVhDY6FJ9crEey2lZ0aN2EMZo8IZBZj9wRf4vqbZHaWjsYgtbOnJw5V8UWbmK2Q==}\n\n  '@mui/icons-material@6.5.0':\n    resolution: {integrity: sha512-VPuPqXqbBPlcVSA0BmnoE4knW4/xG6Thazo8vCLWkOKusko6DtwFV6B665MMWJ9j0KFohTIf3yx2zYtYacvG1g==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@mui/material': ^6.5.0\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@mui/material@6.5.0':\n    resolution: {integrity: sha512-yjvtXoFcrPLGtgKRxFaH6OQPtcLPhkloC0BML6rBG5UeldR0nPULR/2E2BfXdo5JNV7j7lOzrrLX2Qf/iSidow==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@emotion/react': ^11.5.0\n      '@emotion/styled': ^11.3.0\n      '@mui/material-pigment-css': ^6.5.0\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n      react-dom: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@emotion/react':\n        optional: true\n      '@emotion/styled':\n        optional: true\n      '@mui/material-pigment-css':\n        optional: true\n      '@types/react':\n        optional: true\n\n  '@mui/private-theming@6.4.9':\n    resolution: {integrity: sha512-LktcVmI5X17/Q5SkwjCcdOLBzt1hXuc14jYa7NPShog0GBDCDvKtcnP0V7a2s6EiVRlv7BzbWEJzH6+l/zaCxw==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@mui/styled-engine@6.5.0':\n    resolution: {integrity: sha512-8woC2zAqF4qUDSPIBZ8v3sakj+WgweolpyM/FXf8jAx6FMls+IE4Y8VDZc+zS805J7PRz31vz73n2SovKGaYgw==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@emotion/react': ^11.4.1\n      '@emotion/styled': ^11.3.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@emotion/react':\n        optional: true\n      '@emotion/styled':\n        optional: true\n\n  '@mui/system@6.5.0':\n    resolution: {integrity: sha512-XcbBYxDS+h/lgsoGe78ExXFZXtuIlSBpn/KsZq8PtZcIkUNJInkuDqcLd2rVBQrDC1u+rvVovdaWPf2FHKJf3w==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@emotion/react': ^11.5.0\n      '@emotion/styled': ^11.3.0\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@emotion/react':\n        optional: true\n      '@emotion/styled':\n        optional: true\n      '@types/react':\n        optional: true\n\n  '@mui/types@7.2.24':\n    resolution: {integrity: sha512-3c8tRt/CbWZ+pEg7QpSwbdxOk36EfmhbKf6AGZsD1EcLDLTSZoxxJ86FVtcjxvjuhdyBiWKSTGZFaXCnidO2kw==}\n    peerDependencies:\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@mui/types@7.4.6':\n    resolution: {integrity: sha512-NVBbIw+4CDMMppNamVxyTccNv0WxtDb7motWDlMeSC8Oy95saj1TIZMGynPpFLePt3yOD8TskzumeqORCgRGWw==}\n    peerDependencies:\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@mui/utils@6.4.9':\n    resolution: {integrity: sha512-Y12Q9hbK9g+ZY0T3Rxrx9m2m10gaphDuUMgWxyV5kNJevVxXYCLclYUCC9vXaIk1/NdNDTcW2Yfr2OGvNFNmHg==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@mui/utils@7.3.2':\n    resolution: {integrity: sha512-4DMWQGenOdLnM3y/SdFQFwKsCLM+mqxzvoWp9+x2XdEzXapkznauHLiXtSohHs/mc0+5/9UACt1GdugCX2te5g==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@mui/x-data-grid@7.29.9':\n    resolution: {integrity: sha512-RfK7Fnuu4eyv/4eD3MEB1xxZsx0xRBsofb1kifghIjyQV1EKAeRcwvczyrzQggj7ZRT5AqkwCzhLsZDvE5O0nQ==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@emotion/react': ^11.9.0\n      '@emotion/styled': ^11.8.1\n      '@mui/material': ^5.15.14 || ^6.0.0 || ^7.0.0\n      '@mui/system': ^5.15.14 || ^6.0.0 || ^7.0.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n      react-dom: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@emotion/react':\n        optional: true\n      '@emotion/styled':\n        optional: true\n\n  '@mui/x-internals@7.29.0':\n    resolution: {integrity: sha512-+Gk6VTZIFD70XreWvdXBwKd8GZ2FlSCuecQFzm6znwqXg1ZsndavrhG9tkxpxo2fM1Zf7Tk8+HcOO0hCbhTQFA==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n\n  '@popperjs/core@2.11.8':\n    resolution: {integrity: sha512-P1st0aksCrn9sGZhp8GMYwBnQsbvAWsZAX44oXNNvLHGqAOcoVxmjZiohstwQ7SqKnbR47akdNi+uleWD8+g6A==}\n\n  '@rolldown/pluginutils@1.0.0-beta.27':\n    resolution: {integrity: sha512-+d0F4MKMCbeVUJwG96uQ4SgAznZNSq93I3V+9NHA4OpvqG8mRCpGdKmK8l/dl02h2CCDHwW2FqilnTyDcAnqjA==}\n\n  '@rollup/rollup-android-arm-eabi@4.50.1':\n    resolution: {integrity: sha512-HJXwzoZN4eYTdD8bVV22DN8gsPCAj3V20NHKOs8ezfXanGpmVPR7kalUHd+Y31IJp9stdB87VKPFbsGY3H/2ag==}\n    cpu: [arm]\n    os: [android]\n\n  '@rollup/rollup-android-arm64@4.50.1':\n    resolution: {integrity: sha512-PZlsJVcjHfcH53mOImyt3bc97Ep3FJDXRpk9sMdGX0qgLmY0EIWxCag6EigerGhLVuL8lDVYNnSo8qnTElO4xw==}\n    cpu: [arm64]\n    os: [android]\n\n  '@rollup/rollup-darwin-arm64@4.50.1':\n    resolution: {integrity: sha512-xc6i2AuWh++oGi4ylOFPmzJOEeAa2lJeGUGb4MudOtgfyyjr4UPNK+eEWTPLvmPJIY/pgw6ssFIox23SyrkkJw==}\n    cpu: [arm64]\n    os: [darwin]\n\n  '@rollup/rollup-darwin-x64@4.50.1':\n    resolution: {integrity: sha512-2ofU89lEpDYhdLAbRdeyz/kX3Y2lpYc6ShRnDjY35bZhd2ipuDMDi6ZTQ9NIag94K28nFMofdnKeHR7BT0CATw==}\n    cpu: [x64]\n    os: [darwin]\n\n  '@rollup/rollup-freebsd-arm64@4.50.1':\n    resolution: {integrity: sha512-wOsE6H2u6PxsHY/BeFHA4VGQN3KUJFZp7QJBmDYI983fgxq5Th8FDkVuERb2l9vDMs1D5XhOrhBrnqcEY6l8ZA==}\n    cpu: [arm64]\n    os: [freebsd]\n\n  '@rollup/rollup-freebsd-x64@4.50.1':\n    resolution: {integrity: sha512-A/xeqaHTlKbQggxCqispFAcNjycpUEHP52mwMQZUNqDUJFFYtPHCXS1VAG29uMlDzIVr+i00tSFWFLivMcoIBQ==}\n    cpu: [x64]\n    os: [freebsd]\n\n  '@rollup/rollup-linux-arm-gnueabihf@4.50.1':\n    resolution: {integrity: sha512-54v4okehwl5TaSIkpp97rAHGp7t3ghinRd/vyC1iXqXMfjYUTm7TfYmCzXDoHUPTTf36L8pr0E7YsD3CfB3ZDg==}\n    cpu: [arm]\n    os: [linux]\n\n  '@rollup/rollup-linux-arm-musleabihf@4.50.1':\n    resolution: {integrity: sha512-p/LaFyajPN/0PUHjv8TNyxLiA7RwmDoVY3flXHPSzqrGcIp/c2FjwPPP5++u87DGHtw+5kSH5bCJz0mvXngYxw==}\n    cpu: [arm]\n    os: [linux]\n\n  '@rollup/rollup-linux-arm64-gnu@4.50.1':\n    resolution: {integrity: sha512-2AbMhFFkTo6Ptna1zO7kAXXDLi7H9fGTbVaIq2AAYO7yzcAsuTNWPHhb2aTA6GPiP+JXh85Y8CiS54iZoj4opw==}\n    cpu: [arm64]\n    os: [linux]\n\n  '@rollup/rollup-linux-arm64-musl@4.50.1':\n    resolution: {integrity: sha512-Cgef+5aZwuvesQNw9eX7g19FfKX5/pQRIyhoXLCiBOrWopjo7ycfB292TX9MDcDijiuIJlx1IzJz3IoCPfqs9w==}\n    cpu: [arm64]\n    os: [linux]\n\n  '@rollup/rollup-linux-loongarch64-gnu@4.50.1':\n    resolution: {integrity: sha512-RPhTwWMzpYYrHrJAS7CmpdtHNKtt2Ueo+BlLBjfZEhYBhK00OsEqM08/7f+eohiF6poe0YRDDd8nAvwtE/Y62Q==}\n    cpu: [loong64]\n    os: [linux]\n\n  '@rollup/rollup-linux-ppc64-gnu@4.50.1':\n    resolution: {integrity: sha512-eSGMVQw9iekut62O7eBdbiccRguuDgiPMsw++BVUg+1K7WjZXHOg/YOT9SWMzPZA+w98G+Fa1VqJgHZOHHnY0Q==}\n    cpu: [ppc64]\n    os: [linux]\n\n  '@rollup/rollup-linux-riscv64-gnu@4.50.1':\n    resolution: {integrity: sha512-S208ojx8a4ciIPrLgazF6AgdcNJzQE4+S9rsmOmDJkusvctii+ZvEuIC4v/xFqzbuP8yDjn73oBlNDgF6YGSXQ==}\n    cpu: [riscv64]\n    os: [linux]\n\n  '@rollup/rollup-linux-riscv64-musl@4.50.1':\n    resolution: {integrity: sha512-3Ag8Ls1ggqkGUvSZWYcdgFwriy2lWo+0QlYgEFra/5JGtAd6C5Hw59oojx1DeqcA2Wds2ayRgvJ4qxVTzCHgzg==}\n    cpu: [riscv64]\n    os: [linux]\n\n  '@rollup/rollup-linux-s390x-gnu@4.50.1':\n    resolution: {integrity: sha512-t9YrKfaxCYe7l7ldFERE1BRg/4TATxIg+YieHQ966jwvo7ddHJxPj9cNFWLAzhkVsbBvNA4qTbPVNsZKBO4NSg==}\n    cpu: [s390x]\n    os: [linux]\n\n  '@rollup/rollup-linux-x64-gnu@4.50.1':\n    resolution: {integrity: sha512-MCgtFB2+SVNuQmmjHf+wfI4CMxy3Tk8XjA5Z//A0AKD7QXUYFMQcns91K6dEHBvZPCnhJSyDWLApk40Iq/H3tA==}\n    cpu: [x64]\n    os: [linux]\n\n  '@rollup/rollup-linux-x64-musl@4.50.1':\n    resolution: {integrity: sha512-nEvqG+0jeRmqaUMuwzlfMKwcIVffy/9KGbAGyoa26iu6eSngAYQ512bMXuqqPrlTyfqdlB9FVINs93j534UJrg==}\n    cpu: [x64]\n    os: [linux]\n\n  '@rollup/rollup-openharmony-arm64@4.50.1':\n    resolution: {integrity: sha512-RDsLm+phmT3MJd9SNxA9MNuEAO/J2fhW8GXk62G/B4G7sLVumNFbRwDL6v5NrESb48k+QMqdGbHgEtfU0LCpbA==}\n    cpu: [arm64]\n    os: [openharmony]\n\n  '@rollup/rollup-win32-arm64-msvc@4.50.1':\n    resolution: {integrity: sha512-hpZB/TImk2FlAFAIsoElM3tLzq57uxnGYwplg6WDyAxbYczSi8O2eQ+H2Lx74504rwKtZ3N2g4bCUkiamzS6TQ==}\n    cpu: [arm64]\n    os: [win32]\n\n  '@rollup/rollup-win32-ia32-msvc@4.50.1':\n    resolution: {integrity: sha512-SXjv8JlbzKM0fTJidX4eVsH+Wmnp0/WcD8gJxIZyR6Gay5Qcsmdbi9zVtnbkGPG8v2vMR1AD06lGWy5FLMcG7A==}\n    cpu: [ia32]\n    os: [win32]\n\n  '@rollup/rollup-win32-x64-msvc@4.50.1':\n    resolution: {integrity: sha512-StxAO/8ts62KZVRAm4JZYq9+NqNsV7RvimNK+YM7ry//zebEH6meuugqW/P5OFUCjyQgui+9fUxT6d5NShvMvA==}\n    cpu: [x64]\n    os: [win32]\n\n  '@shadcn/ui@0.0.4':\n    resolution: {integrity: sha512-0dtu/5ApsOZ24qgaZwtif8jVwqol7a4m1x5AxPuM1k5wxhqU7t/qEfBGtaSki1R8VlbTQfCj5PAlO45NKCa7Gg==}\n    hasBin: true\n\n  '@socket.io/component-emitter@3.1.2':\n    resolution: {integrity: sha512-9BCxFwvbGg/RsZK9tjXd8s4UcwR0MWeFQ1XEKIQVVvAGJyINdrqKMcTRyLoK8Rse1GjzLV9cwjWV1olXRWEXVA==}\n\n  '@types/babel__core@7.20.5':\n    resolution: {integrity: sha512-qoQprZvz5wQFJwMDqeseRXWv3rqMvhgpbXFfVyWhbx9X47POIA6i/+dXefEmZKoAgOaTdaIgNSMqMIU61yRyzA==}\n\n  '@types/babel__generator@7.27.0':\n    resolution: {integrity: sha512-ufFd2Xi92OAVPYsy+P4n7/U7e68fex0+Ee8gSG9KX7eo084CWiQ4sdxktvdl0bOPupXtVJPY19zk6EwWqUQ8lg==}\n\n  '@types/babel__template@7.4.4':\n    resolution: {integrity: sha512-h/NUaSyG5EyxBIp8YRxo4RMe2/qQgvyowRwVMzhYhBCONbW8PUsg4lkFMrhgZhUe5z3L3MiLDuvyJ/CaPa2A8A==}\n\n  '@types/babel__traverse@7.28.0':\n    resolution: {integrity: sha512-8PvcXf70gTDZBgt9ptxJ8elBeBjcLOAcOtoO/mPJjtji1+CdGbHgm77om1GrsPxsiE+uXIpNSK64UYaIwQXd4Q==}\n\n  '@types/d3-array@3.2.1':\n    resolution: {integrity: sha512-Y2Jn2idRrLzUfAKV2LyRImR+y4oa2AntrgID95SHJxuMUrkNXmanDSed71sRNZysveJVt1hLLemQZIady0FpEg==}\n\n  '@types/d3-color@3.1.3':\n    resolution: {integrity: sha512-iO90scth9WAbmgv7ogoq57O9YpKmFBbmoEoCHDB2xMBY0+/KVrqAaCDyCE16dUspeOvIxFFRI+0sEtqDqy2b4A==}\n\n  '@types/d3-ease@3.0.2':\n    resolution: {integrity: sha512-NcV1JjO5oDzoK26oMzbILE6HW7uVXOHLQvHshBUW4UMdZGfiY6v5BeQwh9a9tCzv+CeefZQHJt5SRgK154RtiA==}\n\n  '@types/d3-interpolate@3.0.4':\n    resolution: {integrity: sha512-mgLPETlrpVV1YRJIglr4Ez47g7Yxjl1lj7YKsiMCb27VJH9W8NVM6Bb9d8kkpG/uAQS5AmbA48q2IAolKKo1MA==}\n\n  '@types/d3-path@3.1.1':\n    resolution: {integrity: sha512-VMZBYyQvbGmWyWVea0EHs/BwLgxc+MKi1zLDCONksozI4YJMcTt8ZEuIR4Sb1MMTE8MMW49v0IwI5+b7RmfWlg==}\n\n  '@types/d3-scale@4.0.9':\n    resolution: {integrity: sha512-dLmtwB8zkAeO/juAMfnV+sItKjlsw2lKdZVVy6LRr0cBmegxSABiLEpGVmSJJ8O08i4+sGR6qQtb6WtuwJdvVw==}\n\n  '@types/d3-shape@3.1.7':\n    resolution: {integrity: sha512-VLvUQ33C+3J+8p+Daf+nYSOsjB4GXp19/S/aGo60m9h1v6XaxjiT82lKVWJCfzhtuZ3yD7i/TPeC/fuKLLOSmg==}\n\n  '@types/d3-time@3.0.4':\n    resolution: {integrity: sha512-yuzZug1nkAAaBlBBikKZTgzCeA+k1uy4ZFwWANOfKw5z5LRhV0gNA7gNkKm7HoK+HRN0wX3EkxGk0fpbWhmB7g==}\n\n  '@types/d3-timer@3.0.2':\n    resolution: {integrity: sha512-Ps3T8E8dZDam6fUyNiMkekK3XUsaUEik+idO9/YjPtfj2qruF8tFBXS7XhtE4iIXBLxhmLjP3SXpLhVf21I9Lw==}\n\n  '@types/estree@1.0.8':\n    resolution: {integrity: sha512-dWHzHa2WqEXI/O1E9OjrocMTKJl2mSrEolh1Iomrv6U+JuNwaHXsXx9bLu5gG7BUWFIN0skIQJQ/L1rIex4X6w==}\n\n  '@types/json-schema@7.0.15':\n    resolution: {integrity: sha512-5+fP8P8MFNC+AyZCDxrB2pkZFPGzqQWUzpSeuuVLvm8VMcorNYavBqoFcxK8bQz4Qsbn4oUEEem4wDLfcysGHA==}\n\n  '@types/pako@2.0.4':\n    resolution: {integrity: sha512-VWDCbrLeVXJM9fihYodcLiIv0ku+AlOa/TQ1SvYOaBuyrSKgEcro95LJyIsJ4vSo6BXIxOKxiJAat04CmST9Fw==}\n\n  '@types/parse-json@4.0.2':\n    resolution: {integrity: sha512-dISoDXWWQwUquiKsyZ4Ng+HX2KsPL7LyHKHQwgGFEA3IaKac4Obd+h2a/a6waisAoepJlBcx9paWqjA8/HVjCw==}\n\n  '@types/prop-types@15.7.15':\n    resolution: {integrity: sha512-F6bEyamV9jKGAFBEmlQnesRPGOQqS2+Uwi0Em15xenOxHaf2hv6L8YCVn3rPdPJOiJfPiCnLIRyvwVaqMY3MIw==}\n\n  '@types/raf@3.4.3':\n    resolution: {integrity: sha512-c4YAvMedbPZ5tEyxzQdMoOhhJ4RD3rngZIdwC2/qDN3d7JpEhB6fiBRKVY1lg5B7Wk+uPBjn5f39j1/2MY1oOw==}\n\n  '@types/react-dom@19.1.9':\n    resolution: {integrity: sha512-qXRuZaOsAdXKFyOhRBg6Lqqc0yay13vN7KrIg4L7N4aaHN68ma9OK3NE1BoDFgFOTfM7zg+3/8+2n8rLUH3OKQ==}\n    peerDependencies:\n      '@types/react': ^19.0.0\n\n  '@types/react-transition-group@4.4.12':\n    resolution: {integrity: sha512-8TV6R3h2j7a91c+1DXdJi3Syo69zzIZbz7Lg5tORM5LEJG7X/E6a1V3drRyBRZq7/utz7A+c4OgYLiLcYGHG6w==}\n    peerDependencies:\n      '@types/react': '*'\n\n  '@types/react@19.1.12':\n    resolution: {integrity: sha512-cMoR+FoAf/Jyq6+Df2/Z41jISvGZZ2eTlnsaJRptmZ76Caldwy1odD4xTr/gNV9VLj0AWgg/nmkevIyUfIIq5w==}\n\n  '@types/trusted-types@2.0.7':\n    resolution: {integrity: sha512-ScaPdn1dQczgbl0QFTeTOmVHFULt394XJgOQNoyVhZ6r2vLnMLJfBPd53SB52T/3G36VI1/g2MZaX0cwDuXsfw==}\n\n  '@vitejs/plugin-react@4.7.0':\n    resolution: {integrity: sha512-gUu9hwfWvvEDBBmgtAowQCojwZmJ5mcLn3aufeCsitijs3+f2NsrPtlAWIR6OPiqljl96GVCUbLe0HyqIpVaoA==}\n    engines: {node: ^14.18.0 || >=16.0.0}\n    peerDependencies:\n      vite: ^4.2.0 || ^5.0.0 || ^6.0.0 || ^7.0.0\n\n  acorn-jsx@5.3.2:\n    resolution: {integrity: sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ==}\n    peerDependencies:\n      acorn: ^6.0.0 || ^7.0.0 || ^8.0.0\n\n  acorn@8.15.0:\n    resolution: {integrity: sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg==}\n    engines: {node: '>=0.4.0'}\n    hasBin: true\n\n  adler-32@1.3.1:\n    resolution: {integrity: sha512-ynZ4w/nUUv5rrsR8UUGoe1VC9hZj6V5hU9Qw1HlMDJGEJw5S7TfTErWTjMys6M7vr0YWcPqs3qAr4ss0nDfP+A==}\n    engines: {node: '>=0.8'}\n\n  ajv@6.12.6:\n    resolution: {integrity: sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==}\n\n  ansi-regex@6.2.2:\n    resolution: {integrity: sha512-Bq3SmSpyFHaWjPk8If9yc6svM8c56dB5BAtW4Qbw5jHTwwXXcTLoRMkpDJp6VL0XzlWaCHTXrkFURMYmD0sLqg==}\n    engines: {node: '>=12'}\n\n  ansi-styles@4.3.0:\n    resolution: {integrity: sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==}\n    engines: {node: '>=8'}\n\n  argparse@2.0.1:\n    resolution: {integrity: sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==}\n\n  asynckit@0.4.0:\n    resolution: {integrity: sha512-Oei9OH4tRh0YqU3GxhX79dM/mwVgvbZJaSNaRk+bshkj0S5cfHcgYakreBjrHwatXKbz+IoIdYLxrKim2MjW0Q==}\n\n  axios@1.11.0:\n    resolution: {integrity: sha512-1Lx3WLFQWm3ooKDYZD1eXmoGO9fxYQjrycfHFC8P0sCfQVXyROp0p9PFWBehewBOdCwHc+f/b8I0fMto5eSfwA==}\n\n  babel-plugin-macros@3.1.0:\n    resolution: {integrity: sha512-Cg7TFGpIr01vOQNODXOOaGz2NpCU5gl8x1qJFbb6hbZxR7XrcE2vtbAsTAbJ7/xwJtUuJEw8K8Zr/AE0LHlesg==}\n    engines: {node: '>=10', npm: '>=6'}\n\n  balanced-match@1.0.2:\n    resolution: {integrity: sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==}\n\n  base64-arraybuffer@1.0.2:\n    resolution: {integrity: sha512-I3yl4r9QB5ZRY3XuJVEPfc2XhZO6YweFPI+UovAzn+8/hb3oJ6lnysaFcjVpkCPfVWFUDvoZ8kmVDP7WyRtYtQ==}\n    engines: {node: '>= 0.6.0'}\n\n  base64-js@1.5.1:\n    resolution: {integrity: sha512-AKpaYlHn8t4SVbOHCy+b5+KKgvR4vrsD8vbvrbiQJps7fKDTkjkDry6ji0rUJjC0kzbNePLwzxq8iypo41qeWA==}\n\n  bl@5.1.0:\n    resolution: {integrity: sha512-tv1ZJHLfTDnXE6tMHv73YgSJaWR2AFuPwMntBe7XL/GBFHnT0CLnsHMogfk5+GzCDC5ZWarSCYaIGATZt9dNsQ==}\n\n  brace-expansion@1.1.12:\n    resolution: {integrity: sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==}\n\n  browserslist@4.25.4:\n    resolution: {integrity: sha512-4jYpcjabC606xJ3kw2QwGEZKX0Aw7sgQdZCvIK9dhVSPh76BKo+C+btT1RRofH7B+8iNpEbgGNVWiLki5q93yg==}\n    engines: {node: ^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7}\n    hasBin: true\n\n  buffer@6.0.3:\n    resolution: {integrity: sha512-FTiCpNxtwiZZHEZbcbTIcZjERVICn9yq/pDFkTl95/AxzD1naBctN7YO68riM/gLSDY7sdrMby8hofADYuuqOA==}\n\n  call-bind-apply-helpers@1.0.2:\n    resolution: {integrity: sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ==}\n    engines: {node: '>= 0.4'}\n\n  callsites@3.1.0:\n    resolution: {integrity: sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==}\n    engines: {node: '>=6'}\n\n  caniuse-lite@1.0.30001741:\n    resolution: {integrity: sha512-QGUGitqsc8ARjLdgAfxETDhRbJ0REsP6O3I96TAth/mVjh2cYzN2u+3AzPP3aVSm2FehEItaJw1xd+IGBXWeSw==}\n\n  canvg@3.0.11:\n    resolution: {integrity: sha512-5ON+q7jCTgMp9cjpu4Jo6XbvfYwSB2Ow3kzHKfIyJfaCAOHLbdKPQqGKgfED/R5B+3TFFfe8pegYA+b423SRyA==}\n    engines: {node: '>=10.0.0'}\n\n  cfb@1.2.2:\n    resolution: {integrity: sha512-KfdUZsSOw19/ObEWasvBP/Ac4reZvAGauZhs6S/gqNhXhI7cKwvlH7ulj+dOEYnca4bm4SGo8C1bTAQvnTjgQA==}\n    engines: {node: '>=0.8'}\n\n  chalk@4.1.2:\n    resolution: {integrity: sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==}\n    engines: {node: '>=10'}\n\n  chalk@5.2.0:\n    resolution: {integrity: sha512-ree3Gqw/nazQAPuJJEy+avdl7QfZMcUvmHIKgEZkGL+xOBzRvup5Hxo6LHuMceSxOabuJLJm5Yp/92R9eMmMvA==}\n    engines: {node: ^12.17.0 || ^14.13 || >=16.0.0}\n\n  chroma-js@3.1.2:\n    resolution: {integrity: sha512-IJnETTalXbsLx1eKEgx19d5L6SRM7cH4vINw/99p/M11HCuXGRWL+6YmCm7FWFGIo6dtWuQoQi1dc5yQ7ESIHg==}\n\n  cli-cursor@4.0.0:\n    resolution: {integrity: sha512-VGtlMu3x/4DOtIUwEkRezxUZ2lBacNJCHash0N0WeZDBS+7Ux1dm3XWAgWYxLJFMMdOeXMHXorshEFhbMSGelg==}\n    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n\n  cli-spinners@2.9.2:\n    resolution: {integrity: sha512-ywqV+5MmyL4E7ybXgKys4DugZbX0FC6LnwrhjuykIjnK9k8OQacQ7axGKnjDXWNhns0xot3bZI5h55H8yo9cJg==}\n    engines: {node: '>=6'}\n\n  clone@1.0.4:\n    resolution: {integrity: sha512-JQHZ2QMW6l3aH/j6xCqQThY/9OH4D/9ls34cgkUBiEeocRTU04tHfKPBsUK1PqZCUQM7GiA0IIXJSuXHI64Kbg==}\n    engines: {node: '>=0.8'}\n\n  clsx@2.1.1:\n    resolution: {integrity: sha512-eYm0QWBtUrBWZWG0d386OGAw16Z995PiOVo2B7bjWSbHedGl5e0ZWaq65kOGgUSNesEIDkB9ISbTg/JK9dhCZA==}\n    engines: {node: '>=6'}\n\n  codepage@1.15.0:\n    resolution: {integrity: sha512-3g6NUTPd/YtuuGrhMnOMRjFc+LJw/bnMp3+0r/Wcz3IXUuCosKRJvMphm5+Q+bvTVGcJJuRvVLuYba+WojaFaA==}\n    engines: {node: '>=0.8'}\n\n  color-convert@2.0.1:\n    resolution: {integrity: sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==}\n    engines: {node: '>=7.0.0'}\n\n  color-name@1.1.4:\n    resolution: {integrity: sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==}\n\n  combined-stream@1.0.8:\n    resolution: {integrity: sha512-FQN4MRfuJeHf7cBbBMJFXhKSDq+2kAArBlmRBvcvFE5BB1HZKXtSFASDhdlz9zOYwxh8lDdnvmMOe/+5cdoEdg==}\n    engines: {node: '>= 0.8'}\n\n  commander@10.0.1:\n    resolution: {integrity: sha512-y4Mg2tXshplEbSGzx7amzPwKKOCGuoSRP/CjEdwwk0FOGlUbq6lKuoyDZTNZkmxHdJtp54hdfY/JUrdL7Xfdug==}\n    engines: {node: '>=14'}\n\n  concat-map@0.0.1:\n    resolution: {integrity: sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==}\n\n  convert-source-map@1.9.0:\n    resolution: {integrity: sha512-ASFBup0Mz1uyiIjANan1jzLQami9z1PoYSZCiiYW2FczPbenXc45FZdBZLzOT+r6+iciuEModtmCti+hjaAk0A==}\n\n  convert-source-map@2.0.0:\n    resolution: {integrity: sha512-Kvp459HrV2FEJ1CAsi1Ku+MY3kasH19TFykTz2xWmMeq6bk2NU3XXvfJ+Q61m0xktWwt+1HSYf3JZsTms3aRJg==}\n\n  cookie@1.0.2:\n    resolution: {integrity: sha512-9Kr/j4O16ISv8zBBhJoi4bXOYNTkFLOqSL3UDB0njXxCXNezjeyVrJyGOWtgfs/q2km1gwBcfH8q1yEGoMYunA==}\n    engines: {node: '>=18'}\n\n  core-js@3.45.1:\n    resolution: {integrity: sha512-L4NPsJlCfZsPeXukyzHFlg/i7IIVwHSItR0wg0FLNqYClJ4MQYTYLbC7EkjKYRLZF2iof2MUgN0EGy7MdQFChg==}\n\n  cosmiconfig@7.1.0:\n    resolution: {integrity: sha512-AdmX6xUzdNASswsFtmwSt7Vj8po9IuqXm0UXz7QKPuEUmPB4XyjGfaAr2PSuELMwkRMVH1EpIkX5bTZGRB3eCA==}\n    engines: {node: '>=10'}\n\n  cra-template@1.2.0:\n    resolution: {integrity: sha512-06WBUmTq79NvqU91Y9OPCXv/ENy/UkUmQS0lBrOYCl/4f4l67idnGbBARDGLopCHfff6pf6UftcFRWHg+CVfRw==}\n    engines: {node: '>=14'}\n\n  crc-32@1.2.2:\n    resolution: {integrity: sha512-ROmzCKrTnOwybPcJApAA6WBWij23HVfGVNKqqrZpuyZOHqK2CwHSvpGuyt/UNNvaIjEd8X5IFGp4Mh+Ie1IHJQ==}\n    engines: {node: '>=0.8'}\n    hasBin: true\n\n  cross-spawn@7.0.6:\n    resolution: {integrity: sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==}\n    engines: {node: '>= 8'}\n\n  css-line-break@2.1.0:\n    resolution: {integrity: sha512-FHcKFCZcAha3LwfVBhCQbW2nCNbkZXn7KVUJcsT5/P8YmfsVja0FMPJr0B903j/E69HUphKiV9iQArX8SDYA4w==}\n\n  csstype@3.1.3:\n    resolution: {integrity: sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw==}\n\n  d3-array@3.2.4:\n    resolution: {integrity: sha512-tdQAmyA18i4J7wprpYq8ClcxZy3SC31QMeByyCFyRt7BVHdREQZ5lpzoe5mFEYZUWe+oq8HBvk9JjpibyEV4Jg==}\n    engines: {node: '>=12'}\n\n  d3-color@3.1.0:\n    resolution: {integrity: sha512-zg/chbXyeBtMQ1LbD/WSoW2DpC3I0mpmPdW+ynRTj/x2DAWYrIY7qeZIHidozwV24m4iavr15lNwIwLxRmOxhA==}\n    engines: {node: '>=12'}\n\n  d3-ease@3.0.1:\n    resolution: {integrity: sha512-wR/XK3D3XcLIZwpbvQwQ5fK+8Ykds1ip7A2Txe0yxncXSdq1L9skcG7blcedkOX+ZcgxGAmLX1FrRGbADwzi0w==}\n    engines: {node: '>=12'}\n\n  d3-format@3.1.0:\n    resolution: {integrity: sha512-YyUI6AEuY/Wpt8KWLgZHsIU86atmikuoOmCfommt0LYHiQSPjvX2AcFc38PX0CBpr2RCyZhjex+NS/LPOv6YqA==}\n    engines: {node: '>=12'}\n\n  d3-interpolate@3.0.1:\n    resolution: {integrity: sha512-3bYs1rOD33uo8aqJfKP3JWPAibgw8Zm2+L9vBKEHJ2Rg+viTR7o5Mmv5mZcieN+FRYaAOWX5SJATX6k1PWz72g==}\n    engines: {node: '>=12'}\n\n  d3-path@3.1.0:\n    resolution: {integrity: sha512-p3KP5HCf/bvjBSSKuXid6Zqijx7wIfNW+J/maPs+iwR35at5JCbLUT0LzF1cnjbCHWhqzQTIN2Jpe8pRebIEFQ==}\n    engines: {node: '>=12'}\n\n  d3-scale@4.0.2:\n    resolution: {integrity: sha512-GZW464g1SH7ag3Y7hXjf8RoUuAFIqklOAq3MRl4OaWabTFJY9PN/E1YklhXLh+OQ3fM9yS2nOkCoS+WLZ6kvxQ==}\n    engines: {node: '>=12'}\n\n  d3-shape@3.2.0:\n    resolution: {integrity: sha512-SaLBuwGm3MOViRq2ABk3eLoxwZELpH6zhl3FbAoJ7Vm1gofKx6El1Ib5z23NUEhF9AsGl7y+dzLe5Cw2AArGTA==}\n    engines: {node: '>=12'}\n\n  d3-time-format@4.1.0:\n    resolution: {integrity: sha512-dJxPBlzC7NugB2PDLwo9Q8JiTR3M3e4/XANkreKSUxF8vvXKqm1Yfq4Q5dl8budlunRVlUUaDUgFt7eA8D6NLg==}\n    engines: {node: '>=12'}\n\n  d3-time@3.1.0:\n    resolution: {integrity: sha512-VqKjzBLejbSMT4IgbmVgDjpkYrNWUYJnbCGo874u7MMKIWsILRX+OpX/gTk8MqjpT1A/c6HY2dCA77ZN0lkQ2Q==}\n    engines: {node: '>=12'}\n\n  d3-timer@3.0.1:\n    resolution: {integrity: sha512-ndfJ/JxxMd3nw31uyKoY2naivF+r29V+Lc0svZxe1JvvIRmi8hUsrMvdOwgS1o6uBHmiz91geQ0ylPP0aj1VUA==}\n    engines: {node: '>=12'}\n\n  data-uri-to-buffer@4.0.1:\n    resolution: {integrity: sha512-0R9ikRb668HB7QDxT1vkpuUBtqc53YyAwMwGeUFKRojY/NWKvdZ+9UYtRfGmhqNbRkTSVpMbmyhXipFFv2cb/A==}\n    engines: {node: '>= 12'}\n\n  date-fns@4.1.0:\n    resolution: {integrity: sha512-Ukq0owbQXxa/U3EGtsdVBkR1w7KOQ5gIBqdH2hkvknzZPYvBxb/aa6E8L7tmjFtkwZBu3UXBbjIgPo/Ez4xaNg==}\n\n  debug@4.3.7:\n    resolution: {integrity: sha512-Er2nc/H7RrMXZBFCEim6TCmMk02Z8vLC2Rbi1KEBggpo0fS6l0S1nnapwmIi3yW/+GOJap1Krg4w0Hg80oCqgQ==}\n    engines: {node: '>=6.0'}\n    peerDependencies:\n      supports-color: '*'\n    peerDependenciesMeta:\n      supports-color:\n        optional: true\n\n  debug@4.4.1:\n    resolution: {integrity: sha512-KcKCqiftBJcZr++7ykoDIEwSa3XWowTfNPo92BYxjXiyYEVrUQh2aLyhxBCwww+heortUFxEJYcRzosstTEBYQ==}\n    engines: {node: '>=6.0'}\n    peerDependencies:\n      supports-color: '*'\n    peerDependenciesMeta:\n      supports-color:\n        optional: true\n\n  decimal.js-light@2.5.1:\n    resolution: {integrity: sha512-qIMFpTMZmny+MMIitAB6D7iVPEorVw6YQRWkvarTkT4tBeSLLiHzcwj6q0MmYSFCiVpiqPJTJEYIrpcPzVEIvg==}\n\n  deep-is@0.1.4:\n    resolution: {integrity: sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ==}\n\n  defaults@1.0.4:\n    resolution: {integrity: sha512-eFuaLoy/Rxalv2kr+lqMlUnrDWV+3j4pljOIJgLIhI058IQfWJ7vXhyEIHu+HtC738klGALYxOKDO0bQP3tg8A==}\n\n  delayed-stream@1.0.0:\n    resolution: {integrity: sha512-ZySD7Nf91aLB0RxL4KGrKHBXl7Eds1DAmEdcoVawXnLD7SDhpNgtuII2aAkg7a7QS41jxPSZ17p4VdGnMHk3MQ==}\n    engines: {node: '>=0.4.0'}\n\n  dom-helpers@5.2.1:\n    resolution: {integrity: sha512-nRCa7CK3VTrM2NmGkIy4cbK7IZlgBE/PYMn55rrXefr5xXDP0LdtfPnblFDoVdcAfslJ7or6iqAUnx0CCGIWQA==}\n\n  dompurify@3.2.6:\n    resolution: {integrity: sha512-/2GogDQlohXPZe6D6NOgQvXLPSYBqIWMnZ8zzOhn09REE4eyAzb+Hed3jhoM9OkuaJ8P6ZGTTVWQKAi8ieIzfQ==}\n\n  dunder-proto@1.0.1:\n    resolution: {integrity: sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A==}\n    engines: {node: '>= 0.4'}\n\n  electron-to-chromium@1.5.215:\n    resolution: {integrity: sha512-TIvGp57UpeNetj/wV/xpFNpWGb0b/ROw372lHPx5Aafx02gjTBtWnEEcaSX3W2dLM3OSdGGyHX/cHl01JQsLaQ==}\n\n  engine.io-client@6.6.3:\n    resolution: {integrity: sha512-T0iLjnyNWahNyv/lcjS2y4oE358tVS/SYQNxYXGAJ9/GLgH4VCvOQ/mhTjqU88mLZCQgiG8RIegFHYCdVC+j5w==}\n\n  engine.io-parser@5.2.3:\n    resolution: {integrity: sha512-HqD3yTBfnBxIrbnM1DoD6Pcq8NECnh8d4As1Qgh0z5Gg3jRRIqijury0CL3ghu/edArpUYiYqQiDUQBIs4np3Q==}\n    engines: {node: '>=10.0.0'}\n\n  error-ex@1.3.2:\n    resolution: {integrity: sha512-7dFHNmqeFSEt2ZBsCriorKnn3Z2pj+fd9kmI6QoWw4//DL+icEBfc0U7qJCisqrTsKTjw4fNFy2pW9OqStD84g==}\n\n  es-define-property@1.0.1:\n    resolution: {integrity: sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==}\n    engines: {node: '>= 0.4'}\n\n  es-errors@1.3.0:\n    resolution: {integrity: sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==}\n    engines: {node: '>= 0.4'}\n\n  es-object-atoms@1.1.1:\n    resolution: {integrity: sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==}\n    engines: {node: '>= 0.4'}\n\n  es-set-tostringtag@2.1.0:\n    resolution: {integrity: sha512-j6vWzfrGVfyXxge+O0x5sh6cvxAog0a/4Rdd2K36zCMV5eJ+/+tOAngRO8cODMNWbVRdVlmGZQL2YS3yR8bIUA==}\n    engines: {node: '>= 0.4'}\n\n  es6-promise@4.2.8:\n    resolution: {integrity: sha512-HJDGx5daxeIvxdBxvG2cb9g4tEvwIk3i8+nhX0yGrYmZUzbkdg8QbDevheDB8gd0//uPj4c1EQua8Q+MViT0/w==}\n\n  esbuild@0.25.9:\n    resolution: {integrity: sha512-CRbODhYyQx3qp7ZEwzxOk4JBqmD/seJrzPa/cGjY1VtIn5E09Oi9/dB4JwctnfZ8Q8iT7rioVv5k/FNT/uf54g==}\n    engines: {node: '>=18'}\n    hasBin: true\n\n  escalade@3.2.0:\n    resolution: {integrity: sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==}\n    engines: {node: '>=6'}\n\n  escape-string-regexp@4.0.0:\n    resolution: {integrity: sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==}\n    engines: {node: '>=10'}\n\n  eslint-plugin-react-hooks@5.2.0:\n    resolution: {integrity: sha512-+f15FfK64YQwZdJNELETdn5ibXEUQmW1DZL6KXhNnc2heoy/sg9VJJeT7n8TlMWouzWqSWavFkIhHyIbIAEapg==}\n    engines: {node: '>=10'}\n    peerDependencies:\n      eslint: ^3.0.0 || ^4.0.0 || ^5.0.0 || ^6.0.0 || ^7.0.0 || ^8.0.0-0 || ^9.0.0\n\n  eslint-plugin-react-refresh@0.4.20:\n    resolution: {integrity: sha512-XpbHQ2q5gUF8BGOX4dHe+71qoirYMhApEPZ7sfhF/dNnOF1UXnCMGZf79SFTBO7Bz5YEIT4TMieSlJBWhP9WBA==}\n    peerDependencies:\n      eslint: '>=8.40'\n\n  eslint-scope@8.4.0:\n    resolution: {integrity: sha512-sNXOfKCn74rt8RICKMvJS7XKV/Xk9kA7DyJr8mJik3S7Cwgy3qlkkmyS2uQB3jiJg6VNdZd/pDBJu0nvG2NlTg==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  eslint-visitor-keys@3.4.3:\n    resolution: {integrity: sha512-wpc+LXeiyiisxPlEkUzU6svyS1frIO3Mgxj1fdy7Pm8Ygzguax2N3Fa/D/ag1WqbOprdI+uY6wMUl8/a2G+iag==}\n    engines: {node: ^12.22.0 || ^14.17.0 || >=16.0.0}\n\n  eslint-visitor-keys@4.2.1:\n    resolution: {integrity: sha512-Uhdk5sfqcee/9H/rCOJikYz67o0a2Tw2hGRPOG2Y1R2dg7brRe1uG0yaNQDHu+TO/uQPF/5eCapvYSmHUjt7JQ==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  eslint@9.35.0:\n    resolution: {integrity: sha512-QePbBFMJFjgmlE+cXAlbHZbHpdFVS2E/6vzCy7aKlebddvl1vadiC4JFV5u/wqTkNUwEV8WrQi257jf5f06hrg==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n    hasBin: true\n    peerDependencies:\n      jiti: '*'\n    peerDependenciesMeta:\n      jiti:\n        optional: true\n\n  espree@10.4.0:\n    resolution: {integrity: sha512-j6PAQ2uUr79PZhBjP5C5fhl8e39FmRnOjsD5lGnWrFU8i2G776tBK7+nP8KuQUTTyAZUwfQqXAgrVH5MbH9CYQ==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  esquery@1.6.0:\n    resolution: {integrity: sha512-ca9pw9fomFcKPvFLXhBKUK90ZvGibiGOvRJNbjljY7s7uq/5YO4BOzcYtJqExdx99rF6aAcnRxHmcUHcz6sQsg==}\n    engines: {node: '>=0.10'}\n\n  esrecurse@4.3.0:\n    resolution: {integrity: sha512-KmfKL3b6G+RXvP8N1vr3Tq1kL/oCFgn2NYXEtqP8/L3pKapUA4G8cFVaoF3SU323CD4XypR/ffioHmkti6/Tag==}\n    engines: {node: '>=4.0'}\n\n  estraverse@5.3.0:\n    resolution: {integrity: sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==}\n    engines: {node: '>=4.0'}\n\n  esutils@2.0.3:\n    resolution: {integrity: sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==}\n    engines: {node: '>=0.10.0'}\n\n  eventemitter3@4.0.7:\n    resolution: {integrity: sha512-8guHBZCwKnFhYdHr2ysuRWErTwhoN2X8XELRlrRwpmfeY2jjuUN4taQMsULKUVo1K4DvZl+0pgfyoysHxvmvEw==}\n\n  execa@7.2.0:\n    resolution: {integrity: sha512-UduyVP7TLB5IcAQl+OzLyLcS/l32W/GLg+AhHJ+ow40FOk2U3SAllPwR44v4vmdFwIWqpdwxxpQbF1n5ta9seA==}\n    engines: {node: ^14.18.0 || ^16.14.0 || >=18.0.0}\n\n  fast-deep-equal@3.1.3:\n    resolution: {integrity: sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==}\n\n  fast-equals@5.2.2:\n    resolution: {integrity: sha512-V7/RktU11J3I36Nwq2JnZEM7tNm17eBJz+u25qdxBZeCKiX6BkVSZQjwWIr+IobgnZy+ag73tTZgZi7tr0LrBw==}\n    engines: {node: '>=6.0.0'}\n\n  fast-json-stable-stringify@2.1.0:\n    resolution: {integrity: sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==}\n\n  fast-levenshtein@2.0.6:\n    resolution: {integrity: sha512-DCXu6Ifhqcks7TZKY3Hxp3y6qphY5SJZmrWMDrKcERSOXWQdMhU9Ig/PYrzyw/ul9jOIyh0N4M0tbC5hodg8dw==}\n\n  fast-png@6.4.0:\n    resolution: {integrity: sha512-kAqZq1TlgBjZcLr5mcN6NP5Rv4V2f22z00c3g8vRrwkcqjerx7BEhPbOnWCPqaHUl2XWQBJQvOT/FQhdMT7X/Q==}\n\n  fdir@6.5.0:\n    resolution: {integrity: sha512-tIbYtZbucOs0BRGqPJkshJUYdL+SDH7dVM8gjy+ERp3WAUjLEFJE+02kanyHtwjWOnwrKYBiwAmM0p4kLJAnXg==}\n    engines: {node: '>=12.0.0'}\n    peerDependencies:\n      picomatch: ^3 || ^4\n    peerDependenciesMeta:\n      picomatch:\n        optional: true\n\n  fetch-blob@3.2.0:\n    resolution: {integrity: sha512-7yAQpD2UMJzLi1Dqv7qFYnPbaPx7ZfFK6PiIxQ4PfkGPyNyl2Ugx+a/umUonmKqjhM4DnfbMvdX6otXq83soQQ==}\n    engines: {node: ^12.20 || >= 14.13}\n\n  fflate@0.8.2:\n    resolution: {integrity: sha512-cPJU47OaAoCbg0pBvzsgpTPhmhqI5eJjh/JIu8tPj5q+T7iLvW/JAYUqmE7KOB4R1ZyEhzBaIQpQpardBF5z8A==}\n\n  file-entry-cache@8.0.0:\n    resolution: {integrity: sha512-XXTUwCvisa5oacNGRP9SfNtYBNAMi+RPwBFmblZEF7N7swHYQS6/Zfk7SRwx4D5j3CH211YNRco1DEMNVfZCnQ==}\n    engines: {node: '>=16.0.0'}\n\n  find-root@1.1.0:\n    resolution: {integrity: sha512-NKfW6bec6GfKc0SGx1e07QZY9PE99u0Bft/0rzSD5k3sO/vwkVUpDUKVm5Gpp5Ue3YfShPFTX2070tDs5kB9Ng==}\n\n  find-up@5.0.0:\n    resolution: {integrity: sha512-78/PXT1wlLLDgTzDs7sjq9hzz0vXD+zn+7wypEe4fXQxCmdmqfGsEPQxmiCSQI3ajFV91bVSsvNtrJRiW6nGng==}\n    engines: {node: '>=10'}\n\n  flat-cache@4.0.1:\n    resolution: {integrity: sha512-f7ccFPK3SXFHpx15UIGyRJ/FJQctuKZ0zVuN3frBo4HnK3cay9VEW0R6yPYFHC0AgqhukPzKjq22t5DmAyqGyw==}\n    engines: {node: '>=16'}\n\n  flatted@3.3.3:\n    resolution: {integrity: sha512-GX+ysw4PBCz0PzosHDepZGANEuFCMLrnRTiEy9McGjmkCQYwRq4A/X786G/fjM/+OjsWSU1ZrY5qyARZmO/uwg==}\n\n  follow-redirects@1.15.11:\n    resolution: {integrity: sha512-deG2P0JfjrTxl50XGCDyfI97ZGVCxIpfKYmfyrQ54n5FO/0gfIES8C/Psl6kWVDolizcaaxZJnTS0QSMxvnsBQ==}\n    engines: {node: '>=4.0'}\n    peerDependencies:\n      debug: '*'\n    peerDependenciesMeta:\n      debug:\n        optional: true\n\n  form-data@4.0.4:\n    resolution: {integrity: sha512-KrGhL9Q4zjj0kiUt5OO4Mr/A/jlI2jDYs5eHBpYHPcBEVSiipAvn2Ko2HnPe20rmcuuvMHNdZFp+4IlGTMF0Ow==}\n    engines: {node: '>= 6'}\n\n  formdata-polyfill@4.0.10:\n    resolution: {integrity: sha512-buewHzMvYL29jdeQTVILecSaZKnt/RJWjoZCF5OW60Z67/GmSLBkOFM7qh1PI3zFNtJbaZL5eQu1vLfazOwj4g==}\n    engines: {node: '>=12.20.0'}\n\n  frac@1.1.2:\n    resolution: {integrity: sha512-w/XBfkibaTl3YDqASwfDUqkna4Z2p9cFSr1aHDt0WoMTECnRfBOv2WArlZILlqgWlmdIlALXGpM2AOhEk5W3IA==}\n    engines: {node: '>=0.8'}\n\n  fs-extra@11.3.1:\n    resolution: {integrity: sha512-eXvGGwZ5CL17ZSwHWd3bbgk7UUpF6IFHtP57NYYakPvHOs8GDgDe5KJI36jIJzDkJ6eJjuzRA8eBQb6SkKue0g==}\n    engines: {node: '>=14.14'}\n\n  fsevents@2.3.3:\n    resolution: {integrity: sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==}\n    engines: {node: ^8.16.0 || ^10.6.0 || >=11.0.0}\n    os: [darwin]\n\n  function-bind@1.1.2:\n    resolution: {integrity: sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==}\n\n  gensync@1.0.0-beta.2:\n    resolution: {integrity: sha512-3hN7NaskYvMDLQY55gnW3NQ+mesEAepTqlg+VEbj7zzqEMBVNhzcGYYeqFo/TlYz6eQiFcp1HcsCZO+nGgS8zg==}\n    engines: {node: '>=6.9.0'}\n\n  get-intrinsic@1.3.0:\n    resolution: {integrity: sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ==}\n    engines: {node: '>= 0.4'}\n\n  get-proto@1.0.1:\n    resolution: {integrity: sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g==}\n    engines: {node: '>= 0.4'}\n\n  get-stream@6.0.1:\n    resolution: {integrity: sha512-ts6Wi+2j3jQjqi70w5AlN8DFnkSwC+MqmxEzdEALB2qXZYV3X/b1CTfgPLGJNMeAWxdPfU8FO1ms3NUfaHCPYg==}\n    engines: {node: '>=10'}\n\n  glob-parent@6.0.2:\n    resolution: {integrity: sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==}\n    engines: {node: '>=10.13.0'}\n\n  globals@14.0.0:\n    resolution: {integrity: sha512-oahGvuMGQlPw/ivIYBjVSrWAfWLBeku5tpPE2fOPLi+WHffIWbuh2tCjhyQhTBPMf5E9jDEH4FOmTYgYwbKwtQ==}\n    engines: {node: '>=18'}\n\n  globals@15.15.0:\n    resolution: {integrity: sha512-7ACyT3wmyp3I61S4fG682L0VA2RGD9otkqGJIwNUMF1SWUombIIk+af1unuDYgMm082aHYwD+mzJvv9Iu8dsgg==}\n    engines: {node: '>=18'}\n\n  gopd@1.2.0:\n    resolution: {integrity: sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==}\n    engines: {node: '>= 0.4'}\n\n  graceful-fs@4.2.11:\n    resolution: {integrity: sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==}\n\n  has-flag@4.0.0:\n    resolution: {integrity: sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==}\n    engines: {node: '>=8'}\n\n  has-symbols@1.1.0:\n    resolution: {integrity: sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ==}\n    engines: {node: '>= 0.4'}\n\n  has-tostringtag@1.0.2:\n    resolution: {integrity: sha512-NqADB8VjPFLM2V0VvHUewwwsw0ZWBaIdgo+ieHtK3hasLz4qeCRjYcqfB6AQrBggRKppKF8L52/VqdVsO47Dlw==}\n    engines: {node: '>= 0.4'}\n\n  hasown@2.0.2:\n    resolution: {integrity: sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==}\n    engines: {node: '>= 0.4'}\n\n  hoist-non-react-statics@3.3.2:\n    resolution: {integrity: sha512-/gGivxi8JPKWNm/W0jSmzcMPpfpPLc3dY/6GxhX2hQ9iGj3aDfklV4ET7NjKpSinLpJ5vafa9iiGIEZg10SfBw==}\n\n  html2canvas@1.4.1:\n    resolution: {integrity: sha512-fPU6BHNpsyIhr8yyMpTLLxAbkaK8ArIBcmZIRiBLiDhjeqvXolaEmDGmELFuX9I4xDcaKKcJl+TKZLqruBbmWA==}\n    engines: {node: '>=8.0.0'}\n\n  html2pdf.js@0.10.3:\n    resolution: {integrity: sha512-RcB1sh8rs5NT3jgbN5zvvTmkmZrsUrxpZ/RI8TMbvuReNZAdJZG5TMfA2TBP6ZXxpXlWf9NB/ciLXVb6W2LbRQ==}\n\n  human-signals@4.3.1:\n    resolution: {integrity: sha512-nZXjEF2nbo7lIw3mgYjItAfgQXog3OjJogSbKa2CQIIvSGWcKgeJnQlNXip6NglNzYH45nSRiEVimMvYL8DDqQ==}\n    engines: {node: '>=14.18.0'}\n\n  ieee754@1.2.1:\n    resolution: {integrity: sha512-dcyqhDvX1C46lXZcVqCpK+FtMRQVdIMN6/Df5js2zouUsqG7I6sFxitIC+7KYK29KdXOLHdu9zL4sFnoVQnqaA==}\n\n  ignore@5.3.2:\n    resolution: {integrity: sha512-hsBTNUqQTDwkWtcdYI2i06Y/nUBEsNEDJKjWdigLvegy8kDuJAS8uRlpkkcQpyEXL0Z/pjDy5HBmMjRCJ2gq+g==}\n    engines: {node: '>= 4'}\n\n  import-fresh@3.3.1:\n    resolution: {integrity: sha512-TR3KfrTZTYLPB6jUjfx6MF9WcWrHL9su5TObK4ZkYgBdWKPOFoSoQIdEuTuR82pmtxH2spWG9h6etwfr1pLBqQ==}\n    engines: {node: '>=6'}\n\n  imurmurhash@0.1.4:\n    resolution: {integrity: sha512-JmXMZ6wuvDmLiHEml9ykzqO6lwFbof0GG4IkcGaENdCRDDmMVnny7s5HsIgHCbaq0w2MyPhDqkhTUgS2LU2PHA==}\n    engines: {node: '>=0.8.19'}\n\n  inherits@2.0.4:\n    resolution: {integrity: sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==}\n\n  internmap@2.0.3:\n    resolution: {integrity: sha512-5Hh7Y1wQbvY5ooGgPbDaL5iYLAPzMTUrjMulskHLH6wnv/A+1q5rgEaiuqEjB+oxGXIVZs1FF+R/KPN3ZSQYYg==}\n    engines: {node: '>=12'}\n\n  iobuffer@5.4.0:\n    resolution: {integrity: sha512-DRebOWuqDvxunfkNJAlc3IzWIPD5xVxwUNbHr7xKB8E6aLJxIPfNX3CoMJghcFjpv6RWQsrcJbghtEwSPoJqMA==}\n\n  is-arrayish@0.2.1:\n    resolution: {integrity: sha512-zz06S8t0ozoDXMG+ube26zeCTNXcKIPJZJi8hBrF4idCLms4CG9QtK7qBl1boi5ODzFpjswb5JPmHCbMpjaYzg==}\n\n  is-core-module@2.16.1:\n    resolution: {integrity: sha512-UfoeMA6fIJ8wTYFEUjelnaGI67v6+N7qXJEvQuIGa99l4xsCruSYOVSQ0uPANn4dAzm8lkYPaKLrrijLq7x23w==}\n    engines: {node: '>= 0.4'}\n\n  is-extglob@2.1.1:\n    resolution: {integrity: sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==}\n    engines: {node: '>=0.10.0'}\n\n  is-glob@4.0.3:\n    resolution: {integrity: sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==}\n    engines: {node: '>=0.10.0'}\n\n  is-interactive@2.0.0:\n    resolution: {integrity: sha512-qP1vozQRI+BMOPcjFzrjXuQvdak2pHNUMZoeG2eRbiSqyvbEf/wQtEOTOX1guk6E3t36RkaqiSt8A/6YElNxLQ==}\n    engines: {node: '>=12'}\n\n  is-stream@3.0.0:\n    resolution: {integrity: sha512-LnQR4bZ9IADDRSkvpqMGvt/tEJWclzklNgSw48V5EAaAeDd6qGvN8ei6k5p0tvxSR171VmGyHuTiAOfxAbr8kA==}\n    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n\n  is-unicode-supported@1.3.0:\n    resolution: {integrity: sha512-43r2mRvz+8JRIKnWJ+3j8JtjRKZ6GmjzfaE/qiBJnikNnYv/6bagRJ1kUhNk8R5EX/GkobD+r+sfxCPJsiKBLQ==}\n    engines: {node: '>=12'}\n\n  isexe@2.0.0:\n    resolution: {integrity: sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==}\n\n  js-tokens@4.0.0:\n    resolution: {integrity: sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==}\n\n  js-yaml@4.1.0:\n    resolution: {integrity: sha512-wpxZs9NoxZaJESJGIZTyDEaYpl0FKSA+FB9aJiyemKhMwkxQg63h4T1KJgUGHpTqPDNRcmmYLugrRjJlBtWvRA==}\n    hasBin: true\n\n  jsesc@3.1.0:\n    resolution: {integrity: sha512-/sM3dO2FOzXjKQhJuo0Q173wf2KOo8t4I8vHy6lF9poUp7bKT0/NHE8fPX23PwfhnykfqnC2xRxOnVw5XuGIaA==}\n    engines: {node: '>=6'}\n    hasBin: true\n\n  json-buffer@3.0.1:\n    resolution: {integrity: sha512-4bV5BfR2mqfQTJm+V5tPPdf+ZpuhiIvTuAB5g8kcrXOZpTT/QwwVRWBywX1ozr6lEuPdbHxwaJlm9G6mI2sfSQ==}\n\n  json-parse-even-better-errors@2.3.1:\n    resolution: {integrity: sha512-xyFwyhro/JEof6Ghe2iz2NcXoj2sloNsWr/XsERDK/oiPCfaNhl5ONfp+jQdAZRQQ0IJWNzH9zIZF7li91kh2w==}\n\n  json-schema-traverse@0.4.1:\n    resolution: {integrity: sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==}\n\n  json-stable-stringify-without-jsonify@1.0.1:\n    resolution: {integrity: sha512-Bdboy+l7tA3OGW6FjyFHWkP5LuByj1Tk33Ljyq0axyzdk9//JSi2u3fP1QSmd1KNwq6VOKYGlAu87CisVir6Pw==}\n\n  json5@2.2.3:\n    resolution: {integrity: sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==}\n    engines: {node: '>=6'}\n    hasBin: true\n\n  jsonfile@6.2.0:\n    resolution: {integrity: sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==}\n\n  jspdf@3.0.2:\n    resolution: {integrity: sha512-G0fQDJ5fAm6UW78HG6lNXyq09l0PrA1rpNY5i+ly17Zb1fMMFSmS+3lw4cnrAPGyouv2Y0ylujbY2Ieq3DSlKA==}\n\n  jwt-decode@4.0.0:\n    resolution: {integrity: sha512-+KJGIyHgkGuIq3IEBNftfhW/LfWhXUIY6OmyVWjliu5KH1y0fw7VQ8YndE2O4qZdMSd9SqbnC8GOcZEy0Om7sA==}\n    engines: {node: '>=18'}\n\n  keyv@4.5.4:\n    resolution: {integrity: sha512-oxVHkHR/EJf2CNXnWxRLW6mg7JyCCUcG0DtEGmL2ctUo1PNTin1PUil+r/+4r5MpVgC/fn1kjsx7mjSujKqIpw==}\n\n  kleur@3.0.3:\n    resolution: {integrity: sha512-eTIzlVOSUR+JxdDFepEYcBMtZ9Qqdef+rnzWdRZuMbOywu5tO2w2N7rqjoANZ5k9vywhL6Br1VRjUIgTQx4E8w==}\n    engines: {node: '>=6'}\n\n  levn@0.4.1:\n    resolution: {integrity: sha512-+bT2uH4E5LGE7h/n3evcS/sQlJXCpIp6ym8OWJ5eV6+67Dsql/LaaT7qJBAt2rzfoa/5QBGBhxDix1dMt2kQKQ==}\n    engines: {node: '>= 0.8.0'}\n\n  lines-and-columns@1.2.4:\n    resolution: {integrity: sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==}\n\n  locate-path@6.0.0:\n    resolution: {integrity: sha512-iPZK6eYjbxRu3uB4/WZ3EsEIMJFMqAoopl3R+zuq0UjcAm/MO6KCweDgPfP3elTztoKP3KtnVHxTn2NHBSDVUw==}\n    engines: {node: '>=10'}\n\n  lodash.merge@4.6.2:\n    resolution: {integrity: sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==}\n\n  lodash@4.17.21:\n    resolution: {integrity: sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==}\n\n  log-symbols@5.1.0:\n    resolution: {integrity: sha512-l0x2DvrW294C9uDCoQe1VSU4gf529FkSZ6leBl4TiqZH/e+0R7hSfHQBNut2mNygDgHwvYHfFLn6Oxb3VWj2rA==}\n    engines: {node: '>=12'}\n\n  loose-envify@1.4.0:\n    resolution: {integrity: sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==}\n    hasBin: true\n\n  lru-cache@5.1.1:\n    resolution: {integrity: sha512-KpNARQA3Iwv+jTA0utUVVbrh+Jlrr1Fv0e56GGzAFOXN7dk/FviaDW8LHmK52DlcH4WP2n6gI8vN1aesBFgo9w==}\n\n  lucide-react@0.475.0:\n    resolution: {integrity: sha512-NJzvVu1HwFVeZ+Gwq2q00KygM1aBhy/ZrhY9FsAgJtpB+E4R7uxRk9M2iKvHa6/vNxZydIB59htha4c2vvwvVg==}\n    peerDependencies:\n      react: ^16.5.1 || ^17.0.0 || ^18.0.0 || ^19.0.0\n\n  math-intrinsics@1.1.0:\n    resolution: {integrity: sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g==}\n    engines: {node: '>= 0.4'}\n\n  memoize-one@6.0.0:\n    resolution: {integrity: sha512-rkpe71W0N0c0Xz6QD0eJETuWAJGnJ9afsl1srmwPrI+yBCkge5EycXXbYRyvL29zZVUWQCY7InPRCv3GDXuZNw==}\n\n  merge-stream@2.0.0:\n    resolution: {integrity: sha512-abv/qOcuPfk3URPfDzmZU1LKmuw8kT+0nIHvKrKgFrwifol/doWcdA4ZqsWQ8ENrFKkd67Mfpo/LovbIUsbt3w==}\n\n  mime-db@1.52.0:\n    resolution: {integrity: sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==}\n    engines: {node: '>= 0.6'}\n\n  mime-types@2.1.35:\n    resolution: {integrity: sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==}\n    engines: {node: '>= 0.6'}\n\n  mimic-fn@2.1.0:\n    resolution: {integrity: sha512-OqbOk5oEQeAZ8WXWydlu9HJjz9WVdEIvamMCcXmuqUYjTknH/sqsWvhQ3vgwKFRR1HpjvNBKQ37nbJgYzGqGcg==}\n    engines: {node: '>=6'}\n\n  mimic-fn@4.0.0:\n    resolution: {integrity: sha512-vqiC06CuhBTUdZH+RYl8sFrL096vA45Ok5ISO6sE/Mr1jRbGH4Csnhi8f3wKVl7x8mO4Au7Ir9D3Oyv1VYMFJw==}\n    engines: {node: '>=12'}\n\n  minimatch@3.1.2:\n    resolution: {integrity: sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==}\n\n  ms@2.1.3:\n    resolution: {integrity: sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==}\n\n  nanoid@3.3.11:\n    resolution: {integrity: sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==}\n    engines: {node: ^10 || ^12 || ^13.7 || ^14 || >=15.0.1}\n    hasBin: true\n\n  natural-compare@1.4.0:\n    resolution: {integrity: sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==}\n\n  node-domexception@1.0.0:\n    resolution: {integrity: sha512-/jKZoMpw0F8GRwl4/eLROPA3cfcXtLApP0QzLmUT/HuPCZWyB7IY9ZrMeKw2O/nFIqPQB3PVM9aYm0F312AXDQ==}\n    engines: {node: '>=10.5.0'}\n    deprecated: Use your platform's native DOMException instead\n\n  node-fetch@3.3.2:\n    resolution: {integrity: sha512-dRB78srN/l6gqWulah9SrxeYnxeddIG30+GOqK/9OlLVyLg3HPnr6SqOWTWOXKRwC2eGYCkZ59NNuSgvSrpgOA==}\n    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n\n  node-releases@2.0.20:\n    resolution: {integrity: sha512-7gK6zSXEH6neM212JgfYFXe+GmZQM+fia5SsusuBIUgnPheLFBmIPhtFoAQRj8/7wASYQnbDlHPVwY0BefoFgA==}\n\n  npm-run-path@5.3.0:\n    resolution: {integrity: sha512-ppwTtiJZq0O/ai0z7yfudtBpWIoxM8yE6nHi1X47eFR2EWORqfbu6CnPlNsjeN683eT0qG6H/Pyf9fCcvjnnnQ==}\n    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n\n  object-assign@4.1.1:\n    resolution: {integrity: sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==}\n    engines: {node: '>=0.10.0'}\n\n  onetime@5.1.2:\n    resolution: {integrity: sha512-kbpaSSGJTWdAY5KPVeMOKXSrPtr8C8C7wodJbcsd51jRnmD+GZu8Y0VoU6Dm5Z4vWr0Ig/1NKuWRKf7j5aaYSg==}\n    engines: {node: '>=6'}\n\n  onetime@6.0.0:\n    resolution: {integrity: sha512-1FlR+gjXK7X+AsAHso35MnyN5KqGwJRi/31ft6x0M194ht7S+rWAvd7PHss9xSKMzE0asv1pyIHaJYq+BbacAQ==}\n    engines: {node: '>=12'}\n\n  optionator@0.9.4:\n    resolution: {integrity: sha512-6IpQ7mKUxRcZNLIObR0hz7lxsapSSIYNZJwXPGeF0mTVqGKFIXj1DQcMoT22S3ROcLyY/rz0PWaWZ9ayWmad9g==}\n    engines: {node: '>= 0.8.0'}\n\n  ora@6.3.1:\n    resolution: {integrity: sha512-ERAyNnZOfqM+Ao3RAvIXkYh5joP220yf59gVe2X/cI6SiCxIdi4c9HZKZD8R6q/RDXEje1THBju6iExiSsgJaQ==}\n    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n\n  p-limit@3.1.0:\n    resolution: {integrity: sha512-TYOanM3wGwNGsZN2cVTYPArw454xnXj5qmWF1bEoAc4+cU/ol7GVh7odevjp1FNHduHc3KZMcFduxU5Xc6uJRQ==}\n    engines: {node: '>=10'}\n\n  p-locate@5.0.0:\n    resolution: {integrity: sha512-LaNjtRWUBY++zB5nE/NwcaoMylSPk+S+ZHNB1TzdbMJMny6dynpAGt7X/tl/QYq3TIeE6nxHppbo2LGymrG5Pw==}\n    engines: {node: '>=10'}\n\n  pako@2.1.0:\n    resolution: {integrity: sha512-w+eufiZ1WuJYgPXbV/PO3NCMEc3xqylkKHzp8bxp1uW4qaSNQUkwmLLEc3kKsfz8lpV1F8Ht3U1Cm+9Srog2ug==}\n\n  parent-module@1.0.1:\n    resolution: {integrity: sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g==}\n    engines: {node: '>=6'}\n\n  parse-json@5.2.0:\n    resolution: {integrity: sha512-ayCKvm/phCGxOkYRSCM82iDwct8/EonSEgCSxWxD7ve6jHggsFl4fZVQBPRNgQoKiuV/odhFrGzQXZwbifC8Rg==}\n    engines: {node: '>=8'}\n\n  path-exists@4.0.0:\n    resolution: {integrity: sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==}\n    engines: {node: '>=8'}\n\n  path-key@3.1.1:\n    resolution: {integrity: sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==}\n    engines: {node: '>=8'}\n\n  path-key@4.0.0:\n    resolution: {integrity: sha512-haREypq7xkM7ErfgIyA0z+Bj4AGKlMSdlQE2jvJo6huWD1EdkKYV+G/T4nq0YEF2vgTT8kqMFKo1uHn950r4SQ==}\n    engines: {node: '>=12'}\n\n  path-parse@1.0.7:\n    resolution: {integrity: sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==}\n\n  path-type@4.0.0:\n    resolution: {integrity: sha512-gDKb8aZMDeD/tZWs9P6+q0J9Mwkdl6xMV8TjnGP3qJVJ06bdMgkbBlLU8IdfOsIsFz2BW1rNVT3XuNEl8zPAvw==}\n    engines: {node: '>=8'}\n\n  performance-now@2.1.0:\n    resolution: {integrity: sha512-7EAHlyLHI56VEIdK57uwHdHKIaAGbnXPiw0yWbarQZOKaKpvUIgW0jWRVLiatnM+XXlSwsanIBH/hzGMJulMow==}\n\n  picocolors@1.1.1:\n    resolution: {integrity: sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==}\n\n  picomatch@4.0.3:\n    resolution: {integrity: sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==}\n    engines: {node: '>=12'}\n\n  postcss@8.5.6:\n    resolution: {integrity: sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==}\n    engines: {node: ^10 || ^12 || >=14}\n\n  prelude-ls@1.2.1:\n    resolution: {integrity: sha512-vkcDPrRZo1QZLbn5RLGPpg/WmIQ65qoWWhcGKf/b5eplkkarX0m9z8ppCat4mlOqUsWpyNuYgO3VRyrYHSzX5g==}\n    engines: {node: '>= 0.8.0'}\n\n  prompts@2.4.2:\n    resolution: {integrity: sha512-NxNv/kLguCA7p3jE8oL2aEBsrJWgAakBpgmgK6lpPWV+WuOmY6r2/zbAVnP+T8bQlA0nzHXSJSJW0Hq7ylaD2Q==}\n    engines: {node: '>= 6'}\n\n  prop-types@15.8.1:\n    resolution: {integrity: sha512-oj87CgZICdulUohogVAR7AjlC0327U4el4L6eAvOqCeudMDVU0NThNaV+b9Df4dXgSP1gXMTnPdhfe/2qDH5cg==}\n\n  proxy-from-env@1.1.0:\n    resolution: {integrity: sha512-D+zkORCbA9f1tdWRK0RaCR3GPv50cMxcrz4X8k5LTSUD1Dkw47mKJEZQNunItRTkWwgtaUSo1RVFRIG9ZXiFYg==}\n\n  punycode@2.3.1:\n    resolution: {integrity: sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg==}\n    engines: {node: '>=6'}\n\n  raf@3.4.1:\n    resolution: {integrity: sha512-Sq4CW4QhwOHE8ucn6J34MqtZCeWFP2aQSmrlroYgqAV1PjStIhJXxYuTgUIfkEk7zTLjmIjLmU5q+fbD1NnOJA==}\n\n  react-dom@19.1.1:\n    resolution: {integrity: sha512-Dlq/5LAZgF0Gaz6yiqZCf6VCcZs1ghAJyrsu84Q/GT0gV+mCxbfmKNoGRKBYMJ8IEdGPqu49YWXD02GCknEDkw==}\n    peerDependencies:\n      react: ^19.1.1\n\n  react-is@16.13.1:\n    resolution: {integrity: sha512-24e6ynE2H+OKt4kqsOvNd8kBpV65zoxbA4BVsEOB3ARVWQki/DHzaUoC5KuON/BiccDaCCTZBuOcfZs70kR8bQ==}\n\n  react-is@18.3.1:\n    resolution: {integrity: sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==}\n\n  react-is@19.1.1:\n    resolution: {integrity: sha512-tr41fA15Vn8p4X9ntI+yCyeGSf1TlYaY5vlTZfQmeLBrFo3psOPX6HhTDnFNL9uj3EhP0KAQ80cugCl4b4BERA==}\n\n  react-refresh@0.17.0:\n    resolution: {integrity: sha512-z6F7K9bV85EfseRCp2bzrpyQ0Gkw1uLoCel9XBVWPg/TjRj94SkJzUTGfOa4bs7iJvBWtQG0Wq7wnI0syw3EBQ==}\n    engines: {node: '>=0.10.0'}\n\n  react-router-dom@7.8.2:\n    resolution: {integrity: sha512-Z4VM5mKDipal2jQ385H6UBhiiEDlnJPx6jyWsTYoZQdl5TrjxEV2a9yl3Fi60NBJxYzOTGTTHXPi0pdizvTwow==}\n    engines: {node: '>=20.0.0'}\n    peerDependencies:\n      react: '>=18'\n      react-dom: '>=18'\n\n  react-router@7.8.2:\n    resolution: {integrity: sha512-7M2fR1JbIZ/jFWqelpvSZx+7vd7UlBTfdZqf6OSdF9g6+sfdqJDAWcak6ervbHph200ePlu+7G8LdoiC3ReyAQ==}\n    engines: {node: '>=20.0.0'}\n    peerDependencies:\n      react: '>=18'\n      react-dom: '>=18'\n    peerDependenciesMeta:\n      react-dom:\n        optional: true\n\n  react-select@5.10.2:\n    resolution: {integrity: sha512-Z33nHdEFWq9tfnfVXaiM12rbJmk+QjFEztWLtmXqQhz6Al4UZZ9xc0wiatmGtUOCCnHN0WizL3tCMYRENX4rVQ==}\n    peerDependencies:\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n      react-dom: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n\n  react-smooth@4.0.4:\n    resolution: {integrity: sha512-gnGKTpYwqL0Iii09gHobNolvX4Kiq4PKx6eWBCYYix+8cdw+cGo3do906l1NBPKkSWx1DghC1dlWG9L2uGd61Q==}\n    peerDependencies:\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n      react-dom: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n\n  react-toastify@11.0.5:\n    resolution: {integrity: sha512-EpqHBGvnSTtHYhCPLxML05NLY2ZX0JURbAdNYa6BUkk+amz4wbKBQvoKQAB0ardvSarUBuY4Q4s1sluAzZwkmA==}\n    peerDependencies:\n      react: ^18 || ^19\n      react-dom: ^18 || ^19\n\n  react-transition-group@4.4.5:\n    resolution: {integrity: sha512-pZcd1MCJoiKiBR2NRxeCRg13uCXbydPnmB4EOeRrY7480qNWO8IIgQG6zlDkm6uRMsURXPuKq0GWtiM59a5Q6g==}\n    peerDependencies:\n      react: '>=16.6.0'\n      react-dom: '>=16.6.0'\n\n  react@19.1.1:\n    resolution: {integrity: sha512-w8nqGImo45dmMIfljjMwOGtbmC/mk4CMYhWIicdSflH91J9TyCyczcPFXJzrZ/ZXcgGRFeP6BU0BEJTw6tZdfQ==}\n    engines: {node: '>=0.10.0'}\n\n  readable-stream@3.6.2:\n    resolution: {integrity: sha512-9u/sniCrY3D5WdsERHzHE4G2YCXqoG5FTHUiCC4SIbr6XcLZBY05ya9EKjYek9O5xOAwjGq+1JdGBAS7Q9ScoA==}\n    engines: {node: '>= 6'}\n\n  recharts-scale@0.4.5:\n    resolution: {integrity: sha512-kivNFO+0OcUNu7jQquLXAxz1FIwZj8nrj+YkOKc5694NbjCvcT6aSZiIzNzd2Kul4o4rTto8QVR9lMNtxD4G1w==}\n\n  recharts@2.15.4:\n    resolution: {integrity: sha512-UT/q6fwS3c1dHbXv2uFgYJ9BMFHu3fwnd7AYZaEQhXuYQ4hgsxLvsUXzGdKeZrW5xopzDCvuA2N41WJ88I7zIw==}\n    engines: {node: '>=14'}\n    peerDependencies:\n      react: ^16.0.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n      react-dom: ^16.0.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n\n  regenerator-runtime@0.13.11:\n    resolution: {integrity: sha512-kY1AZVr2Ra+t+piVaJ4gxaFaReZVH40AKNo7UCX6W+dEwBo/2oZJzqfuN1qLq1oL45o56cPaTXELwrTh8Fpggg==}\n\n  reselect@5.1.1:\n    resolution: {integrity: sha512-K/BG6eIky/SBpzfHZv/dd+9JBFiS4SWV7FIujVyJRux6e45+73RaUHXLmIR1f7WOMaQ0U1km6qwklRQxpJJY0w==}\n\n  resolve-from@4.0.0:\n    resolution: {integrity: sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g==}\n    engines: {node: '>=4'}\n\n  resolve@1.22.10:\n    resolution: {integrity: sha512-NPRy+/ncIMeDlTAsuqwKIiferiawhefFJtkNSW0qZJEqMEb+qBt/77B/jGeeek+F0uOeN05CDa6HXbbIgtVX4w==}\n    engines: {node: '>= 0.4'}\n    hasBin: true\n\n  restore-cursor@4.0.0:\n    resolution: {integrity: sha512-I9fPXU9geO9bHOt9pHHOhOkYerIMsmVaWB0rA2AI9ERh/+x/i7MV5HKBNrg+ljO5eoPVgCcnFuRjJ9uH6I/3eg==}\n    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n\n  rgbcolor@1.0.1:\n    resolution: {integrity: sha512-9aZLIrhRaD97sgVhtJOW6ckOEh6/GnvQtdVNfdZ6s67+3/XwLS9lBcQYzEEhYVeUowN7pRzMLsyGhK2i/xvWbw==}\n    engines: {node: '>= 0.8.15'}\n\n  rollup@4.50.1:\n    resolution: {integrity: sha512-78E9voJHwnXQMiQdiqswVLZwJIzdBKJ1GdI5Zx6XwoFKUIk09/sSrr+05QFzvYb8q6Y9pPV45zzDuYa3907TZA==}\n    engines: {node: '>=18.0.0', npm: '>=8.0.0'}\n    hasBin: true\n\n  safe-buffer@5.2.1:\n    resolution: {integrity: sha512-rp3So07KcdmmKbGvgaNxQSJr7bGVSVk5S9Eq1F+ppbRo70+YeaDxkw5Dd8NPN+GD6bjnYm2VuPuCXmpuYvmCXQ==}\n\n  scheduler@0.26.0:\n    resolution: {integrity: sha512-NlHwttCI/l5gCPR3D1nNXtWABUmBwvZpEQiD4IXSbIDq8BzLIK/7Ir5gTFSGZDUu37K5cMNp0hFtzO38sC7gWA==}\n\n  semver@6.3.1:\n    resolution: {integrity: sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==}\n    hasBin: true\n\n  set-cookie-parser@2.7.1:\n    resolution: {integrity: sha512-IOc8uWeOZgnb3ptbCURJWNjWUPcO3ZnTTdzsurqERrP6nPyv+paC55vJM0LpOlT2ne+Ix+9+CRG1MNLlyZ4GjQ==}\n\n  shebang-command@2.0.0:\n    resolution: {integrity: sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==}\n    engines: {node: '>=8'}\n\n  shebang-regex@3.0.0:\n    resolution: {integrity: sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==}\n    engines: {node: '>=8'}\n\n  signal-exit@3.0.7:\n    resolution: {integrity: sha512-wnD2ZE+l+SPC/uoS0vXeE9L1+0wuaMqKlfz9AMUo38JsyLSBWSFcHR1Rri62LZc12vLr1gb3jl7iwQhgwpAbGQ==}\n\n  sisteransi@1.0.5:\n    resolution: {integrity: sha512-bLGGlR1QxBcynn2d5YmDX4MGjlZvy2MRBDRNHLJ8VI6l6+9FUiyTFNJ0IveOSP0bcXgVDPRcfGqA0pjaqUpfVg==}\n\n  socket.io-client@4.8.1:\n    resolution: {integrity: sha512-hJVXfu3E28NmzGk8o1sHhN3om52tRvwYeidbj7xKy2eIIse5IoKX3USlS6Tqt3BHAtflLIkCQBkzVrEEfWUyYQ==}\n    engines: {node: '>=10.0.0'}\n\n  socket.io-parser@4.2.4:\n    resolution: {integrity: sha512-/GbIKmo8ioc+NIWIhwdecY0ge+qVBSMdgxGygevmdHj24bsfgtCmcUUcQ5ZzcylGFHsN3k4HB4Cgkl96KVnuew==}\n    engines: {node: '>=10.0.0'}\n\n  source-map-js@1.2.1:\n    resolution: {integrity: sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==}\n    engines: {node: '>=0.10.0'}\n\n  source-map@0.5.7:\n    resolution: {integrity: sha512-LbrmJOMUSdEVxIKvdcJzQC+nQhe8FUZQTXQy6+I75skNgn3OoQ0DZA8YnFa7gp8tqtL3KPf1kmo0R5DoApeSGQ==}\n    engines: {node: '>=0.10.0'}\n\n  ssf@0.11.2:\n    resolution: {integrity: sha512-+idbmIXoYET47hH+d7dfm2epdOMUDjqcB4648sTZ+t2JwoyBFL/insLfB/racrDmsKB3diwsDA696pZMieAC5g==}\n    engines: {node: '>=0.8'}\n\n  stackblur-canvas@2.7.0:\n    resolution: {integrity: sha512-yf7OENo23AGJhBriGx0QivY5JP6Y1HbrrDI6WLt6C5auYZXlQrheoY8hD4ibekFKz1HOfE48Ww8kMWMnJD/zcQ==}\n    engines: {node: '>=0.1.14'}\n\n  stdin-discarder@0.1.0:\n    resolution: {integrity: sha512-xhV7w8S+bUwlPTb4bAOUQhv8/cSS5offJuX8GQGq32ONF0ZtDWKfkdomM3HMRA+LhX6um/FZ0COqlwsjD53LeQ==}\n    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n\n  string_decoder@1.3.0:\n    resolution: {integrity: sha512-hkRX8U1WjJFd8LsDJ2yQ/wWWxaopEsABU1XfkM8A+j0+85JAGppt16cr1Whg6KIbb4okU6Mql6BOj+uup/wKeA==}\n\n  strip-ansi@7.1.2:\n    resolution: {integrity: sha512-gmBGslpoQJtgnMAvOVqGZpEz9dyoKTCzy2nfz/n8aIFhN/jCE/rCmcxabB6jOOHV+0WNnylOxaxBQPSvcWklhA==}\n    engines: {node: '>=12'}\n\n  strip-final-newline@3.0.0:\n    resolution: {integrity: sha512-dOESqjYr96iWYylGObzd39EuNTa5VJxyvVAEm5Jnh7KGo75V43Hk1odPQkNDyXNmUR6k+gEiDVXnjB8HJ3crXw==}\n    engines: {node: '>=12'}\n\n  strip-json-comments@3.1.1:\n    resolution: {integrity: sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==}\n    engines: {node: '>=8'}\n\n  stylis@4.2.0:\n    resolution: {integrity: sha512-Orov6g6BB1sDfYgzWfTHDOxamtX1bE/zo104Dh9e6fqJ3PooipYyfJ0pUmrZO2wAvO8YbEyeFrkV91XTsGMSrw==}\n\n  supports-color@7.2.0:\n    resolution: {integrity: sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==}\n    engines: {node: '>=8'}\n\n  supports-preserve-symlinks-flag@1.0.0:\n    resolution: {integrity: sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==}\n    engines: {node: '>= 0.4'}\n\n  svg-pathdata@6.0.3:\n    resolution: {integrity: sha512-qsjeeq5YjBZ5eMdFuUa4ZosMLxgr5RZ+F+Y1OrDhuOCEInRMA3x74XdBtggJcj9kOeInz0WE+LgCPDkZFlBYJw==}\n    engines: {node: '>=12.0.0'}\n\n  text-segmentation@1.0.3:\n    resolution: {integrity: sha512-iOiPUo/BGnZ6+54OsWxZidGCsdU8YbE4PSpdPinp7DeMtUJNJBoJ/ouUSTJjHkh1KntHaltHl/gDs2FC4i5+Nw==}\n\n  tiny-invariant@1.3.3:\n    resolution: {integrity: sha512-+FbBPE1o9QAYvviau/qC5SE3caw21q3xkvWKBtja5vgqOWIHHJ3ioaq1VPfn/Szqctz2bU/oYeKd9/z5BL+PVg==}\n\n  tinyglobby@0.2.15:\n    resolution: {integrity: sha512-j2Zq4NyQYG5XMST4cbs02Ak8iJUdxRM0XI5QyxXuZOzKOINmWurp3smXu3y5wDcJrptwpSjgXHzIQxR0omXljQ==}\n    engines: {node: '>=12.0.0'}\n\n  type-check@0.4.0:\n    resolution: {integrity: sha512-XleUoc9uwGXqjWwXaUTZAmzMcFZ5858QA2vvx1Ur5xIcixXIP+8LnFDgRplU30us6teqdlskFfu+ae4K79Ooew==}\n    engines: {node: '>= 0.8.0'}\n\n  universalify@2.0.1:\n    resolution: {integrity: sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==}\n    engines: {node: '>= 10.0.0'}\n\n  update-browserslist-db@1.1.3:\n    resolution: {integrity: sha512-UxhIZQ+QInVdunkDAaiazvvT/+fXL5Osr0JZlJulepYu6Jd7qJtDZjlur0emRlT71EN3ScPoE7gvsuIKKNavKw==}\n    hasBin: true\n    peerDependencies:\n      browserslist: '>= 4.21.0'\n\n  uri-js@4.4.1:\n    resolution: {integrity: sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg==}\n\n  use-isomorphic-layout-effect@1.2.1:\n    resolution: {integrity: sha512-tpZZ+EX0gaghDAiFR37hj5MgY6ZN55kLiPkJsKxBMZ6GZdOSPJXiOzPM984oPYZ5AnehYx5WQp1+ME8I/P/pRA==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  use-sync-external-store@1.5.0:\n    resolution: {integrity: sha512-Rb46I4cGGVBmjamjphe8L/UnvJD+uPPtTkNvX5mZgqdbavhI4EbgIWJiIHXJ8bc/i9EQGPRh4DwEURJ552Do0A==}\n    peerDependencies:\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n\n  util-deprecate@1.0.2:\n    resolution: {integrity: sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==}\n\n  utrie@1.0.2:\n    resolution: {integrity: sha512-1MLa5ouZiOmQzUbjbu9VmjLzn1QLXBhwpUa7kdLUQK+KQ5KA9I1vk5U4YHe/X2Ch7PYnJfWuWT+VbuxbGwljhw==}\n\n  victory-vendor@36.9.2:\n    resolution: {integrity: sha512-PnpQQMuxlwYdocC8fIJqVXvkeViHYzotI+NJrCuav0ZYFoq912ZHBk3mCeuj+5/VpodOjPe1z0Fk2ihgzlXqjQ==}\n\n  vite@6.3.6:\n    resolution: {integrity: sha512-0msEVHJEScQbhkbVTb/4iHZdJ6SXp/AvxL2sjwYQFfBqleHtnCqv1J3sa9zbWz/6kW1m9Tfzn92vW+kZ1WV6QA==}\n    engines: {node: ^18.0.0 || ^20.0.0 || >=22.0.0}\n    hasBin: true\n    peerDependencies:\n      '@types/node': ^18.0.0 || ^20.0.0 || >=22.0.0\n      jiti: '>=1.21.0'\n      less: '*'\n      lightningcss: ^1.21.0\n      sass: '*'\n      sass-embedded: '*'\n      stylus: '*'\n      sugarss: '*'\n      terser: ^5.16.0\n      tsx: ^4.8.1\n      yaml: ^2.4.2\n    peerDependenciesMeta:\n      '@types/node':\n        optional: true\n      jiti:\n        optional: true\n      less:\n        optional: true\n      lightningcss:\n        optional: true\n      sass:\n        optional: true\n      sass-embedded:\n        optional: true\n      stylus:\n        optional: true\n      sugarss:\n        optional: true\n      terser:\n        optional: true\n      tsx:\n        optional: true\n      yaml:\n        optional: true\n\n  wcwidth@1.0.1:\n    resolution: {integrity: sha512-XHPEwS0q6TaxcvG85+8EYkbiCux2XtWG2mkc47Ng2A77BQu9+DqIOJldST4HgPkuea7dvKSj5VgX3P1d4rW8Tg==}\n\n  web-streams-polyfill@3.3.3:\n    resolution: {integrity: sha512-d2JWLCivmZYTSIoge9MsgFCZrt571BikcWGYkjC1khllbTeDlGqZ2D8vD8E/lJa8WGWbb7Plm8/XJYV7IJHZZw==}\n    engines: {node: '>= 8'}\n\n  web-vitals@4.2.4:\n    resolution: {integrity: sha512-r4DIlprAGwJ7YM11VZp4R884m0Vmgr6EAKe3P+kO0PPj3Unqyvv59rczf6UiGcb9Z8QxZVcqKNwv/g0WNdWwsw==}\n\n  which@2.0.2:\n    resolution: {integrity: sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==}\n    engines: {node: '>= 8'}\n    hasBin: true\n\n  wmf@1.0.2:\n    resolution: {integrity: sha512-/p9K7bEh0Dj6WbXg4JG0xvLQmIadrner1bi45VMJTfnbVHsc7yIajZyoSoK60/dtVBs12Fm6WkUI5/3WAVsNMw==}\n    engines: {node: '>=0.8'}\n\n  word-wrap@1.2.5:\n    resolution: {integrity: sha512-BN22B5eaMMI9UMtjrGd5g5eCYPpCPDUy0FJXbYsaT5zYxjFOckS53SQDE3pWkVoWpHXVb3BrYcEN4Twa55B5cA==}\n    engines: {node: '>=0.10.0'}\n\n  word@0.3.0:\n    resolution: {integrity: sha512-OELeY0Q61OXpdUfTp+oweA/vtLVg5VDOXh+3he3PNzLGG/y0oylSOC1xRVj0+l4vQ3tj/bB1HVHv1ocXkQceFA==}\n    engines: {node: '>=0.8'}\n\n  ws@8.17.1:\n    resolution: {integrity: sha512-6XQFvXTkbfUOZOKKILFG1PDK2NDQs4azKQl26T0YS5CxqWLgXajbPZ+h4gZekJyRqFU8pvnbAbbs/3TgRPy+GQ==}\n    engines: {node: '>=10.0.0'}\n    peerDependencies:\n      bufferutil: ^4.0.1\n      utf-8-validate: '>=5.0.2'\n    peerDependenciesMeta:\n      bufferutil:\n        optional: true\n      utf-8-validate:\n        optional: true\n\n  xlsx@0.18.5:\n    resolution: {integrity: sha512-dmg3LCjBPHZnQp5/F/+nnTa+miPJxUXB6vtk42YjBBKayDNagxGEeIdWApkYPOf3Z3pm3k62Knjzp7lMeTEtFQ==}\n    engines: {node: '>=0.8'}\n    hasBin: true\n\n  xmlhttprequest-ssl@2.1.2:\n    resolution: {integrity: sha512-TEU+nJVUUnA4CYJFLvK5X9AOeH4KvDvhIfm0vV1GaQRtchnG0hgK5p8hw/xjv8cunWYCsiPCSDzObPyhEwq3KQ==}\n    engines: {node: '>=0.4.0'}\n\n  yallist@3.1.1:\n    resolution: {integrity: sha512-a4UGQaWPH59mOXUYnAG2ewncQS4i4F43Tv3JoAM+s2VDAmS9NsK8GpDMLrCHPksFT7h3K6TOoUNn2pb7RoXx4g==}\n\n  yaml@1.10.2:\n    resolution: {integrity: sha512-r3vXyErRCYJ7wg28yvBY5VSoAF8ZvlcW9/BwUzEtUsjvX/DKs24dIkuwjtuprwJJHsbyUbLApepYTR1BN4uHrg==}\n    engines: {node: '>= 6'}\n\n  yocto-queue@0.1.0:\n    resolution: {integrity: sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q==}\n    engines: {node: '>=10'}\n\n  zod@3.25.76:\n    resolution: {integrity: sha512-gzUt/qt81nXsFGKIFcC3YnfEAx5NkunCfnDlvuBSSFS02bcXu4Lmea0AFIUwbLWxWPx3d9p8S5QoaujKcNQxcQ==}\n\nsnapshots:\n\n  '@babel/code-frame@7.27.1':\n    dependencies:\n      '@babel/helper-validator-identifier': 7.27.1\n      js-tokens: 4.0.0\n      picocolors: 1.1.1\n\n  '@babel/compat-data@7.28.4': {}\n\n  '@babel/core@7.28.4':\n    dependencies:\n      '@babel/code-frame': 7.27.1\n      '@babel/generator': 7.28.3\n      '@babel/helper-compilation-targets': 7.27.2\n      '@babel/helper-module-transforms': 7.28.3(@babel/core@7.28.4)\n      '@babel/helpers': 7.28.4\n      '@babel/parser': 7.28.4\n      '@babel/template': 7.27.2\n      '@babel/traverse': 7.28.4\n      '@babel/types': 7.28.4\n      '@jridgewell/remapping': 2.3.5\n      convert-source-map: 2.0.0\n      debug: 4.4.1\n      gensync: 1.0.0-beta.2\n      json5: 2.2.3\n      semver: 6.3.1\n    transitivePeerDependencies:\n      - supports-color\n\n  '@babel/generator@7.28.3':\n    dependencies:\n      '@babel/parser': 7.28.4\n      '@babel/types': 7.28.4\n      '@jridgewell/gen-mapping': 0.3.13\n      '@jridgewell/trace-mapping': 0.3.30\n      jsesc: 3.1.0\n\n  '@babel/helper-compilation-targets@7.27.2':\n    dependencies:\n      '@babel/compat-data': 7.28.4\n      '@babel/helper-validator-option': 7.27.1\n      browserslist: 4.25.4\n      lru-cache: 5.1.1\n      semver: 6.3.1\n\n  '@babel/helper-globals@7.28.0': {}\n\n  '@babel/helper-module-imports@7.27.1':\n    dependencies:\n      '@babel/traverse': 7.28.4\n      '@babel/types': 7.28.4\n    transitivePeerDependencies:\n      - supports-color\n\n  '@babel/helper-module-transforms@7.28.3(@babel/core@7.28.4)':\n    dependencies:\n      '@babel/core': 7.28.4\n      '@babel/helper-module-imports': 7.27.1\n      '@babel/helper-validator-identifier': 7.27.1\n      '@babel/traverse': 7.28.4\n    transitivePeerDependencies:\n      - supports-color\n\n  '@babel/helper-plugin-utils@7.27.1': {}\n\n  '@babel/helper-string-parser@7.27.1': {}\n\n  '@babel/helper-validator-identifier@7.27.1': {}\n\n  '@babel/helper-validator-option@7.27.1': {}\n\n  '@babel/helpers@7.28.4':\n    dependencies:\n      '@babel/template': 7.27.2\n      '@babel/types': 7.28.4\n\n  '@babel/parser@7.28.4':\n    dependencies:\n      '@babel/types': 7.28.4\n\n  '@babel/plugin-transform-react-jsx-self@7.27.1(@babel/core@7.28.4)':\n    dependencies:\n      '@babel/core': 7.28.4\n      '@babel/helper-plugin-utils': 7.27.1\n\n  '@babel/plugin-transform-react-jsx-source@7.27.1(@babel/core@7.28.4)':\n    dependencies:\n      '@babel/core': 7.28.4\n      '@babel/helper-plugin-utils': 7.27.1\n\n  '@babel/runtime@7.28.4': {}\n\n  '@babel/template@7.27.2':\n    dependencies:\n      '@babel/code-frame': 7.27.1\n      '@babel/parser': 7.28.4\n      '@babel/types': 7.28.4\n\n  '@babel/traverse@7.28.4':\n    dependencies:\n      '@babel/code-frame': 7.27.1\n      '@babel/generator': 7.28.3\n      '@babel/helper-globals': 7.28.0\n      '@babel/parser': 7.28.4\n      '@babel/template': 7.27.2\n      '@babel/types': 7.28.4\n      debug: 4.4.1\n    transitivePeerDependencies:\n      - supports-color\n\n  '@babel/types@7.28.4':\n    dependencies:\n      '@babel/helper-string-parser': 7.27.1\n      '@babel/helper-validator-identifier': 7.27.1\n\n  '@emotion/babel-plugin@11.13.5':\n    dependencies:\n      '@babel/helper-module-imports': 7.27.1\n      '@babel/runtime': 7.28.4\n      '@emotion/hash': 0.9.2\n      '@emotion/memoize': 0.9.0\n      '@emotion/serialize': 1.3.3\n      babel-plugin-macros: 3.1.0\n      convert-source-map: 1.9.0\n      escape-string-regexp: 4.0.0\n      find-root: 1.1.0\n      source-map: 0.5.7\n      stylis: 4.2.0\n    transitivePeerDependencies:\n      - supports-color\n\n  '@emotion/cache@11.14.0':\n    dependencies:\n      '@emotion/memoize': 0.9.0\n      '@emotion/sheet': 1.4.0\n      '@emotion/utils': 1.4.2\n      '@emotion/weak-memoize': 0.4.0\n      stylis: 4.2.0\n\n  '@emotion/hash@0.9.2': {}\n\n  '@emotion/is-prop-valid@1.4.0':\n    dependencies:\n      '@emotion/memoize': 0.9.0\n\n  '@emotion/memoize@0.9.0': {}\n\n  '@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@emotion/babel-plugin': 11.13.5\n      '@emotion/cache': 11.14.0\n      '@emotion/serialize': 1.3.3\n      '@emotion/use-insertion-effect-with-fallbacks': 1.2.0(react@19.1.1)\n      '@emotion/utils': 1.4.2\n      '@emotion/weak-memoize': 0.4.0\n      hoist-non-react-statics: 3.3.2\n      react: 19.1.1\n    optionalDependencies:\n      '@types/react': 19.1.12\n    transitivePeerDependencies:\n      - supports-color\n\n  '@emotion/serialize@1.3.3':\n    dependencies:\n      '@emotion/hash': 0.9.2\n      '@emotion/memoize': 0.9.0\n      '@emotion/unitless': 0.10.0\n      '@emotion/utils': 1.4.2\n      csstype: 3.1.3\n\n  '@emotion/sheet@1.4.0': {}\n\n  '@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@emotion/babel-plugin': 11.13.5\n      '@emotion/is-prop-valid': 1.4.0\n      '@emotion/react': 11.14.0(@types/react@19.1.12)(react@19.1.1)\n      '@emotion/serialize': 1.3.3\n      '@emotion/use-insertion-effect-with-fallbacks': 1.2.0(react@19.1.1)\n      '@emotion/utils': 1.4.2\n      react: 19.1.1\n    optionalDependencies:\n      '@types/react': 19.1.12\n    transitivePeerDependencies:\n      - supports-color\n\n  '@emotion/unitless@0.10.0': {}\n\n  '@emotion/use-insertion-effect-with-fallbacks@1.2.0(react@19.1.1)':\n    dependencies:\n      react: 19.1.1\n\n  '@emotion/utils@1.4.2': {}\n\n  '@emotion/weak-memoize@0.4.0': {}\n\n  '@esbuild/aix-ppc64@0.25.9':\n    optional: true\n\n  '@esbuild/android-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/android-arm@0.25.9':\n    optional: true\n\n  '@esbuild/android-x64@0.25.9':\n    optional: true\n\n  '@esbuild/darwin-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/darwin-x64@0.25.9':\n    optional: true\n\n  '@esbuild/freebsd-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/freebsd-x64@0.25.9':\n    optional: true\n\n  '@esbuild/linux-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/linux-arm@0.25.9':\n    optional: true\n\n  '@esbuild/linux-ia32@0.25.9':\n    optional: true\n\n  '@esbuild/linux-loong64@0.25.9':\n    optional: true\n\n  '@esbuild/linux-mips64el@0.25.9':\n    optional: true\n\n  '@esbuild/linux-ppc64@0.25.9':\n    optional: true\n\n  '@esbuild/linux-riscv64@0.25.9':\n    optional: true\n\n  '@esbuild/linux-s390x@0.25.9':\n    optional: true\n\n  '@esbuild/linux-x64@0.25.9':\n    optional: true\n\n  '@esbuild/netbsd-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/netbsd-x64@0.25.9':\n    optional: true\n\n  '@esbuild/openbsd-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/openbsd-x64@0.25.9':\n    optional: true\n\n  '@esbuild/openharmony-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/sunos-x64@0.25.9':\n    optional: true\n\n  '@esbuild/win32-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/win32-ia32@0.25.9':\n    optional: true\n\n  '@esbuild/win32-x64@0.25.9':\n    optional: true\n\n  '@eslint-community/eslint-utils@4.9.0(eslint@9.35.0)':\n    dependencies:\n      eslint: 9.35.0\n      eslint-visitor-keys: 3.4.3\n\n  '@eslint-community/regexpp@4.12.1': {}\n\n  '@eslint/config-array@0.21.0':\n    dependencies:\n      '@eslint/object-schema': 2.1.6\n      debug: 4.4.1\n      minimatch: 3.1.2\n    transitivePeerDependencies:\n      - supports-color\n\n  '@eslint/config-helpers@0.3.1': {}\n\n  '@eslint/core@0.15.2':\n    dependencies:\n      '@types/json-schema': 7.0.15\n\n  '@eslint/eslintrc@3.3.1':\n    dependencies:\n      ajv: 6.12.6\n      debug: 4.4.1\n      espree: 10.4.0\n      globals: 14.0.0\n      ignore: 5.3.2\n      import-fresh: 3.3.1\n      js-yaml: 4.1.0\n      minimatch: 3.1.2\n      strip-json-comments: 3.1.1\n    transitivePeerDependencies:\n      - supports-color\n\n  '@eslint/js@9.35.0': {}\n\n  '@eslint/object-schema@2.1.6': {}\n\n  '@eslint/plugin-kit@0.3.5':\n    dependencies:\n      '@eslint/core': 0.15.2\n      levn: 0.4.1\n\n  '@floating-ui/core@1.7.3':\n    dependencies:\n      '@floating-ui/utils': 0.2.10\n\n  '@floating-ui/dom@1.7.4':\n    dependencies:\n      '@floating-ui/core': 1.7.3\n      '@floating-ui/utils': 0.2.10\n\n  '@floating-ui/utils@0.2.10': {}\n\n  '@humanfs/core@0.19.1': {}\n\n  '@humanfs/node@0.16.7':\n    dependencies:\n      '@humanfs/core': 0.19.1\n      '@humanwhocodes/retry': 0.4.3\n\n  '@humanwhocodes/module-importer@1.0.1': {}\n\n  '@humanwhocodes/retry@0.4.3': {}\n\n  '@jridgewell/gen-mapping@0.3.13':\n    dependencies:\n      '@jridgewell/sourcemap-codec': 1.5.5\n      '@jridgewell/trace-mapping': 0.3.30\n\n  '@jridgewell/remapping@2.3.5':\n    dependencies:\n      '@jridgewell/gen-mapping': 0.3.13\n      '@jridgewell/trace-mapping': 0.3.30\n\n  '@jridgewell/resolve-uri@3.1.2': {}\n\n  '@jridgewell/sourcemap-codec@1.5.5': {}\n\n  '@jridgewell/trace-mapping@0.3.30':\n    dependencies:\n      '@jridgewell/resolve-uri': 3.1.2\n      '@jridgewell/sourcemap-codec': 1.5.5\n\n  '@mui/core-downloads-tracker@6.5.0': {}\n\n  '@mui/icons-material@6.5.0(@mui/material@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/material': 6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      react: 19.1.1\n    optionalDependencies:\n      '@types/react': 19.1.12\n\n  '@mui/material@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/core-downloads-tracker': 6.5.0\n      '@mui/system': 6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n      '@mui/types': 7.2.24(@types/react@19.1.12)\n      '@mui/utils': 6.4.9(@types/react@19.1.12)(react@19.1.1)\n      '@popperjs/core': 2.11.8\n      '@types/react-transition-group': 4.4.12(@types/react@19.1.12)\n      clsx: 2.1.1\n      csstype: 3.1.3\n      prop-types: 15.8.1\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n      react-is: 19.1.1\n      react-transition-group: 4.4.5(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n    optionalDependencies:\n      '@emotion/react': 11.14.0(@types/react@19.1.12)(react@19.1.1)\n      '@emotion/styled': 11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n      '@types/react': 19.1.12\n\n  '@mui/private-theming@6.4.9(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/utils': 6.4.9(@types/react@19.1.12)(react@19.1.1)\n      prop-types: 15.8.1\n      react: 19.1.1\n    optionalDependencies:\n      '@types/react': 19.1.12\n\n  '@mui/styled-engine@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@emotion/cache': 11.14.0\n      '@emotion/serialize': 1.3.3\n      '@emotion/sheet': 1.4.0\n      csstype: 3.1.3\n      prop-types: 15.8.1\n      react: 19.1.1\n    optionalDependencies:\n      '@emotion/react': 11.14.0(@types/react@19.1.12)(react@19.1.1)\n      '@emotion/styled': 11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n\n  '@mui/system@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/private-theming': 6.4.9(@types/react@19.1.12)(react@19.1.1)\n      '@mui/styled-engine': 6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(react@19.1.1)\n      '@mui/types': 7.2.24(@types/react@19.1.12)\n      '@mui/utils': 6.4.9(@types/react@19.1.12)(react@19.1.1)\n      clsx: 2.1.1\n      csstype: 3.1.3\n      prop-types: 15.8.1\n      react: 19.1.1\n    optionalDependencies:\n      '@emotion/react': 11.14.0(@types/react@19.1.12)(react@19.1.1)\n      '@emotion/styled': 11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n      '@types/react': 19.1.12\n\n  '@mui/types@7.2.24(@types/react@19.1.12)':\n    optionalDependencies:\n      '@types/react': 19.1.12\n\n  '@mui/types@7.4.6(@types/react@19.1.12)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n    optionalDependencies:\n      '@types/react': 19.1.12\n\n  '@mui/utils@6.4.9(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/types': 7.2.24(@types/react@19.1.12)\n      '@types/prop-types': 15.7.15\n      clsx: 2.1.1\n      prop-types: 15.8.1\n      react: 19.1.1\n      react-is: 19.1.1\n    optionalDependencies:\n      '@types/react': 19.1.12\n\n  '@mui/utils@7.3.2(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/types': 7.4.6(@types/react@19.1.12)\n      '@types/prop-types': 15.7.15\n      clsx: 2.1.1\n      prop-types: 15.8.1\n      react: 19.1.1\n      react-is: 19.1.1\n    optionalDependencies:\n      '@types/react': 19.1.12\n\n  '@mui/x-data-grid@7.29.9(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@mui/material@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1))(@mui/system@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/material': 6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      '@mui/system': 6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n      '@mui/utils': 7.3.2(@types/react@19.1.12)(react@19.1.1)\n      '@mui/x-internals': 7.29.0(@types/react@19.1.12)(react@19.1.1)\n      clsx: 2.1.1\n      prop-types: 15.8.1\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n      reselect: 5.1.1\n      use-sync-external-store: 1.5.0(react@19.1.1)\n    optionalDependencies:\n      '@emotion/react': 11.14.0(@types/react@19.1.12)(react@19.1.1)\n      '@emotion/styled': 11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n    transitivePeerDependencies:\n      - '@types/react'\n\n  '@mui/x-internals@7.29.0(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/utils': 7.3.2(@types/react@19.1.12)(react@19.1.1)\n      react: 19.1.1\n    transitivePeerDependencies:\n      - '@types/react'\n\n  '@popperjs/core@2.11.8': {}\n\n  '@rolldown/pluginutils@1.0.0-beta.27': {}\n\n  '@rollup/rollup-android-arm-eabi@4.50.1':\n    optional: true\n\n  '@rollup/rollup-android-arm64@4.50.1':\n    optional: true\n\n  '@rollup/rollup-darwin-arm64@4.50.1':\n    optional: true\n\n  '@rollup/rollup-darwin-x64@4.50.1':\n    optional: true\n\n  '@rollup/rollup-freebsd-arm64@4.50.1':\n    optional: true\n\n  '@rollup/rollup-freebsd-x64@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-arm-gnueabihf@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-arm-musleabihf@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-arm64-gnu@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-arm64-musl@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-loongarch64-gnu@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-ppc64-gnu@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-riscv64-gnu@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-riscv64-musl@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-s390x-gnu@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-x64-gnu@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-x64-musl@4.50.1':\n    optional: true\n\n  '@rollup/rollup-openharmony-arm64@4.50.1':\n    optional: true\n\n  '@rollup/rollup-win32-arm64-msvc@4.50.1':\n    optional: true\n\n  '@rollup/rollup-win32-ia32-msvc@4.50.1':\n    optional: true\n\n  '@rollup/rollup-win32-x64-msvc@4.50.1':\n    optional: true\n\n  '@shadcn/ui@0.0.4':\n    dependencies:\n      chalk: 5.2.0\n      commander: 10.0.1\n      execa: 7.2.0\n      fs-extra: 11.3.1\n      node-fetch: 3.3.2\n      ora: 6.3.1\n      prompts: 2.4.2\n      zod: 3.25.76\n\n  '@socket.io/component-emitter@3.1.2': {}\n\n  '@types/babel__core@7.20.5':\n    dependencies:\n      '@babel/parser': 7.28.4\n      '@babel/types': 7.28.4\n      '@types/babel__generator': 7.27.0\n      '@types/babel__template': 7.4.4\n      '@types/babel__traverse': 7.28.0\n\n  '@types/babel__generator@7.27.0':\n    dependencies:\n      '@babel/types': 7.28.4\n\n  '@types/babel__template@7.4.4':\n    dependencies:\n      '@babel/parser': 7.28.4\n      '@babel/types': 7.28.4\n\n  '@types/babel__traverse@7.28.0':\n    dependencies:\n      '@babel/types': 7.28.4\n\n  '@types/d3-array@3.2.1': {}\n\n  '@types/d3-color@3.1.3': {}\n\n  '@types/d3-ease@3.0.2': {}\n\n  '@types/d3-interpolate@3.0.4':\n    dependencies:\n      '@types/d3-color': 3.1.3\n\n  '@types/d3-path@3.1.1': {}\n\n  '@types/d3-scale@4.0.9':\n    dependencies:\n      '@types/d3-time': 3.0.4\n\n  '@types/d3-shape@3.1.7':\n    dependencies:\n      '@types/d3-path': 3.1.1\n\n  '@types/d3-time@3.0.4': {}\n\n  '@types/d3-timer@3.0.2': {}\n\n  '@types/estree@1.0.8': {}\n\n  '@types/json-schema@7.0.15': {}\n\n  '@types/pako@2.0.4': {}\n\n  '@types/parse-json@4.0.2': {}\n\n  '@types/prop-types@15.7.15': {}\n\n  '@types/raf@3.4.3':\n    optional: true\n\n  '@types/react-dom@19.1.9(@types/react@19.1.12)':\n    dependencies:\n      '@types/react': 19.1.12\n\n  '@types/react-transition-group@4.4.12(@types/react@19.1.12)':\n    dependencies:\n      '@types/react': 19.1.12\n\n  '@types/react@19.1.12':\n    dependencies:\n      csstype: 3.1.3\n\n  '@types/trusted-types@2.0.7':\n    optional: true\n\n  '@vitejs/plugin-react@4.7.0(vite@6.3.6)':\n    dependencies:\n      '@babel/core': 7.28.4\n      '@babel/plugin-transform-react-jsx-self': 7.27.1(@babel/core@7.28.4)\n      '@babel/plugin-transform-react-jsx-source': 7.27.1(@babel/core@7.28.4)\n      '@rolldown/pluginutils': 1.0.0-beta.27\n      '@types/babel__core': 7.20.5\n      react-refresh: 0.17.0\n      vite: 6.3.6\n    transitivePeerDependencies:\n      - supports-color\n\n  acorn-jsx@5.3.2(acorn@8.15.0):\n    dependencies:\n      acorn: 8.15.0\n\n  acorn@8.15.0: {}\n\n  adler-32@1.3.1: {}\n\n  ajv@6.12.6:\n    dependencies:\n      fast-deep-equal: 3.1.3\n      fast-json-stable-stringify: 2.1.0\n      json-schema-traverse: 0.4.1\n      uri-js: 4.4.1\n\n  ansi-regex@6.2.2: {}\n\n  ansi-styles@4.3.0:\n    dependencies:\n      color-convert: 2.0.1\n\n  argparse@2.0.1: {}\n\n  asynckit@0.4.0: {}\n\n  axios@1.11.0:\n    dependencies:\n      follow-redirects: 1.15.11\n      form-data: 4.0.4\n      proxy-from-env: 1.1.0\n    transitivePeerDependencies:\n      - debug\n\n  babel-plugin-macros@3.1.0:\n    dependencies:\n      '@babel/runtime': 7.28.4\n      cosmiconfig: 7.1.0\n      resolve: 1.22.10\n\n  balanced-match@1.0.2: {}\n\n  base64-arraybuffer@1.0.2: {}\n\n  base64-js@1.5.1: {}\n\n  bl@5.1.0:\n    dependencies:\n      buffer: 6.0.3\n      inherits: 2.0.4\n      readable-stream: 3.6.2\n\n  brace-expansion@1.1.12:\n    dependencies:\n      balanced-match: 1.0.2\n      concat-map: 0.0.1\n\n  browserslist@4.25.4:\n    dependencies:\n      caniuse-lite: 1.0.30001741\n      electron-to-chromium: 1.5.215\n      node-releases: 2.0.20\n      update-browserslist-db: 1.1.3(browserslist@4.25.4)\n\n  buffer@6.0.3:\n    dependencies:\n      base64-js: 1.5.1\n      ieee754: 1.2.1\n\n  call-bind-apply-helpers@1.0.2:\n    dependencies:\n      es-errors: 1.3.0\n      function-bind: 1.1.2\n\n  callsites@3.1.0: {}\n\n  caniuse-lite@1.0.30001741: {}\n\n  canvg@3.0.11:\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@types/raf': 3.4.3\n      core-js: 3.45.1\n      raf: 3.4.1\n      regenerator-runtime: 0.13.11\n      rgbcolor: 1.0.1\n      stackblur-canvas: 2.7.0\n      svg-pathdata: 6.0.3\n    optional: true\n\n  cfb@1.2.2:\n    dependencies:\n      adler-32: 1.3.1\n      crc-32: 1.2.2\n\n  chalk@4.1.2:\n    dependencies:\n      ansi-styles: 4.3.0\n      supports-color: 7.2.0\n\n  chalk@5.2.0: {}\n\n  chroma-js@3.1.2: {}\n\n  cli-cursor@4.0.0:\n    dependencies:\n      restore-cursor: 4.0.0\n\n  cli-spinners@2.9.2: {}\n\n  clone@1.0.4: {}\n\n  clsx@2.1.1: {}\n\n  codepage@1.15.0: {}\n\n  color-convert@2.0.1:\n    dependencies:\n      color-name: 1.1.4\n\n  color-name@1.1.4: {}\n\n  combined-stream@1.0.8:\n    dependencies:\n      delayed-stream: 1.0.0\n\n  commander@10.0.1: {}\n\n  concat-map@0.0.1: {}\n\n  convert-source-map@1.9.0: {}\n\n  convert-source-map@2.0.0: {}\n\n  cookie@1.0.2: {}\n\n  core-js@3.45.1:\n    optional: true\n\n  cosmiconfig@7.1.0:\n    dependencies:\n      '@types/parse-json': 4.0.2\n      import-fresh: 3.3.1\n      parse-json: 5.2.0\n      path-type: 4.0.0\n      yaml: 1.10.2\n\n  cra-template@1.2.0: {}\n\n  crc-32@1.2.2: {}\n\n  cross-spawn@7.0.6:\n    dependencies:\n      path-key: 3.1.1\n      shebang-command: 2.0.0\n      which: 2.0.2\n\n  css-line-break@2.1.0:\n    dependencies:\n      utrie: 1.0.2\n\n  csstype@3.1.3: {}\n\n  d3-array@3.2.4:\n    dependencies:\n      internmap: 2.0.3\n\n  d3-color@3.1.0: {}\n\n  d3-ease@3.0.1: {}\n\n  d3-format@3.1.0: {}\n\n  d3-interpolate@3.0.1:\n    dependencies:\n      d3-color: 3.1.0\n\n  d3-path@3.1.0: {}\n\n  d3-scale@4.0.2:\n    dependencies:\n      d3-array: 3.2.4\n      d3-format: 3.1.0\n      d3-interpolate: 3.0.1\n      d3-time: 3.1.0\n      d3-time-format: 4.1.0\n\n  d3-shape@3.2.0:\n    dependencies:\n      d3-path: 3.1.0\n\n  d3-time-format@4.1.0:\n    dependencies:\n      d3-time: 3.1.0\n\n  d3-time@3.1.0:\n    dependencies:\n      d3-array: 3.2.4\n\n  d3-timer@3.0.1: {}\n\n  data-uri-to-buffer@4.0.1: {}\n\n  date-fns@4.1.0: {}\n\n  debug@4.3.7:\n    dependencies:\n      ms: 2.1.3\n\n  debug@4.4.1:\n    dependencies:\n      ms: 2.1.3\n\n  decimal.js-light@2.5.1: {}\n\n  deep-is@0.1.4: {}\n\n  defaults@1.0.4:\n    dependencies:\n      clone: 1.0.4\n\n  delayed-stream@1.0.0: {}\n\n  dom-helpers@5.2.1:\n    dependencies:\n      '@babel/runtime': 7.28.4\n      csstype: 3.1.3\n\n  dompurify@3.2.6:\n    optionalDependencies:\n      '@types/trusted-types': 2.0.7\n    optional: true\n\n  dunder-proto@1.0.1:\n    dependencies:\n      call-bind-apply-helpers: 1.0.2\n      es-errors: 1.3.0\n      gopd: 1.2.0\n\n  electron-to-chromium@1.5.215: {}\n\n  engine.io-client@6.6.3:\n    dependencies:\n      '@socket.io/component-emitter': 3.1.2\n      debug: 4.3.7\n      engine.io-parser: 5.2.3\n      ws: 8.17.1\n      xmlhttprequest-ssl: 2.1.2\n    transitivePeerDependencies:\n      - bufferutil\n      - supports-color\n      - utf-8-validate\n\n  engine.io-parser@5.2.3: {}\n\n  error-ex@1.3.2:\n    dependencies:\n      is-arrayish: 0.2.1\n\n  es-define-property@1.0.1: {}\n\n  es-errors@1.3.0: {}\n\n  es-object-atoms@1.1.1:\n    dependencies:\n      es-errors: 1.3.0\n\n  es-set-tostringtag@2.1.0:\n    dependencies:\n      es-errors: 1.3.0\n      get-intrinsic: 1.3.0\n      has-tostringtag: 1.0.2\n      hasown: 2.0.2\n\n  es6-promise@4.2.8: {}\n\n  esbuild@0.25.9:\n    optionalDependencies:\n      '@esbuild/aix-ppc64': 0.25.9\n      '@esbuild/android-arm': 0.25.9\n      '@esbuild/android-arm64': 0.25.9\n      '@esbuild/android-x64': 0.25.9\n      '@esbuild/darwin-arm64': 0.25.9\n      '@esbuild/darwin-x64': 0.25.9\n      '@esbuild/freebsd-arm64': 0.25.9\n      '@esbuild/freebsd-x64': 0.25.9\n      '@esbuild/linux-arm': 0.25.9\n      '@esbuild/linux-arm64': 0.25.9\n      '@esbuild/linux-ia32': 0.25.9\n      '@esbuild/linux-loong64': 0.25.9\n      '@esbuild/linux-mips64el': 0.25.9\n      '@esbuild/linux-ppc64': 0.25.9\n      '@esbuild/linux-riscv64': 0.25.9\n      '@esbuild/linux-s390x': 0.25.9\n      '@esbuild/linux-x64': 0.25.9\n      '@esbuild/netbsd-arm64': 0.25.9\n      '@esbuild/netbsd-x64': 0.25.9\n      '@esbuild/openbsd-arm64': 0.25.9\n      '@esbuild/openbsd-x64': 0.25.9\n      '@esbuild/openharmony-arm64': 0.25.9\n      '@esbuild/sunos-x64': 0.25.9\n      '@esbuild/win32-arm64': 0.25.9\n      '@esbuild/win32-ia32': 0.25.9\n      '@esbuild/win32-x64': 0.25.9\n\n  escalade@3.2.0: {}\n\n  escape-string-regexp@4.0.0: {}\n\n  eslint-plugin-react-hooks@5.2.0(eslint@9.35.0):\n    dependencies:\n      eslint: 9.35.0\n\n  eslint-plugin-react-refresh@0.4.20(eslint@9.35.0):\n    dependencies:\n      eslint: 9.35.0\n\n  eslint-scope@8.4.0:\n    dependencies:\n      esrecurse: 4.3.0\n      estraverse: 5.3.0\n\n  eslint-visitor-keys@3.4.3: {}\n\n  eslint-visitor-keys@4.2.1: {}\n\n  eslint@9.35.0:\n    dependencies:\n      '@eslint-community/eslint-utils': 4.9.0(eslint@9.35.0)\n      '@eslint-community/regexpp': 4.12.1\n      '@eslint/config-array': 0.21.0\n      '@eslint/config-helpers': 0.3.1\n      '@eslint/core': 0.15.2\n      '@eslint/eslintrc': 3.3.1\n      '@eslint/js': 9.35.0\n      '@eslint/plugin-kit': 0.3.5\n      '@humanfs/node': 0.16.7\n      '@humanwhocodes/module-importer': 1.0.1\n      '@humanwhocodes/retry': 0.4.3\n      '@types/estree': 1.0.8\n      '@types/json-schema': 7.0.15\n      ajv: 6.12.6\n      chalk: 4.1.2\n      cross-spawn: 7.0.6\n      debug: 4.4.1\n      escape-string-regexp: 4.0.0\n      eslint-scope: 8.4.0\n      eslint-visitor-keys: 4.2.1\n      espree: 10.4.0\n      esquery: 1.6.0\n      esutils: 2.0.3\n      fast-deep-equal: 3.1.3\n      file-entry-cache: 8.0.0\n      find-up: 5.0.0\n      glob-parent: 6.0.2\n      ignore: 5.3.2\n      imurmurhash: 0.1.4\n      is-glob: 4.0.3\n      json-stable-stringify-without-jsonify: 1.0.1\n      lodash.merge: 4.6.2\n      minimatch: 3.1.2\n      natural-compare: 1.4.0\n      optionator: 0.9.4\n    transitivePeerDependencies:\n      - supports-color\n\n  espree@10.4.0:\n    dependencies:\n      acorn: 8.15.0\n      acorn-jsx: 5.3.2(acorn@8.15.0)\n      eslint-visitor-keys: 4.2.1\n\n  esquery@1.6.0:\n    dependencies:\n      estraverse: 5.3.0\n\n  esrecurse@4.3.0:\n    dependencies:\n      estraverse: 5.3.0\n\n  estraverse@5.3.0: {}\n\n  esutils@2.0.3: {}\n\n  eventemitter3@4.0.7: {}\n\n  execa@7.2.0:\n    dependencies:\n      cross-spawn: 7.0.6\n      get-stream: 6.0.1\n      human-signals: 4.3.1\n      is-stream: 3.0.0\n      merge-stream: 2.0.0\n      npm-run-path: 5.3.0\n      onetime: 6.0.0\n      signal-exit: 3.0.7\n      strip-final-newline: 3.0.0\n\n  fast-deep-equal@3.1.3: {}\n\n  fast-equals@5.2.2: {}\n\n  fast-json-stable-stringify@2.1.0: {}\n\n  fast-levenshtein@2.0.6: {}\n\n  fast-png@6.4.0:\n    dependencies:\n      '@types/pako': 2.0.4\n      iobuffer: 5.4.0\n      pako: 2.1.0\n\n  fdir@6.5.0(picomatch@4.0.3):\n    optionalDependencies:\n      picomatch: 4.0.3\n\n  fetch-blob@3.2.0:\n    dependencies:\n      node-domexception: 1.0.0\n      web-streams-polyfill: 3.3.3\n\n  fflate@0.8.2: {}\n\n  file-entry-cache@8.0.0:\n    dependencies:\n      flat-cache: 4.0.1\n\n  find-root@1.1.0: {}\n\n  find-up@5.0.0:\n    dependencies:\n      locate-path: 6.0.0\n      path-exists: 4.0.0\n\n  flat-cache@4.0.1:\n    dependencies:\n      flatted: 3.3.3\n      keyv: 4.5.4\n\n  flatted@3.3.3: {}\n\n  follow-redirects@1.15.11: {}\n\n  form-data@4.0.4:\n    dependencies:\n      asynckit: 0.4.0\n      combined-stream: 1.0.8\n      es-set-tostringtag: 2.1.0\n      hasown: 2.0.2\n      mime-types: 2.1.35\n\n  formdata-polyfill@4.0.10:\n    dependencies:\n      fetch-blob: 3.2.0\n\n  frac@1.1.2: {}\n\n  fs-extra@11.3.1:\n    dependencies:\n      graceful-fs: 4.2.11\n      jsonfile: 6.2.0\n      universalify: 2.0.1\n\n  fsevents@2.3.3:\n    optional: true\n\n  function-bind@1.1.2: {}\n\n  gensync@1.0.0-beta.2: {}\n\n  get-intrinsic@1.3.0:\n    dependencies:\n      call-bind-apply-helpers: 1.0.2\n      es-define-property: 1.0.1\n      es-errors: 1.3.0\n      es-object-atoms: 1.1.1\n      function-bind: 1.1.2\n      get-proto: 1.0.1\n      gopd: 1.2.0\n      has-symbols: 1.1.0\n      hasown: 2.0.2\n      math-intrinsics: 1.1.0\n\n  get-proto@1.0.1:\n    dependencies:\n      dunder-proto: 1.0.1\n      es-object-atoms: 1.1.1\n\n  get-stream@6.0.1: {}\n\n  glob-parent@6.0.2:\n    dependencies:\n      is-glob: 4.0.3\n\n  globals@14.0.0: {}\n\n  globals@15.15.0: {}\n\n  gopd@1.2.0: {}\n\n  graceful-fs@4.2.11: {}\n\n  has-flag@4.0.0: {}\n\n  has-symbols@1.1.0: {}\n\n  has-tostringtag@1.0.2:\n    dependencies:\n      has-symbols: 1.1.0\n\n  hasown@2.0.2:\n    dependencies:\n      function-bind: 1.1.2\n\n  hoist-non-react-statics@3.3.2:\n    dependencies:\n      react-is: 16.13.1\n\n  html2canvas@1.4.1:\n    dependencies:\n      css-line-break: 2.1.0\n      text-segmentation: 1.0.3\n\n  html2pdf.js@0.10.3:\n    dependencies:\n      es6-promise: 4.2.8\n      html2canvas: 1.4.1\n      jspdf: 3.0.2\n\n  human-signals@4.3.1: {}\n\n  ieee754@1.2.1: {}\n\n  ignore@5.3.2: {}\n\n  import-fresh@3.3.1:\n    dependencies:\n      parent-module: 1.0.1\n      resolve-from: 4.0.0\n\n  imurmurhash@0.1.4: {}\n\n  inherits@2.0.4: {}\n\n  internmap@2.0.3: {}\n\n  iobuffer@5.4.0: {}\n\n  is-arrayish@0.2.1: {}\n\n  is-core-module@2.16.1:\n    dependencies:\n      hasown: 2.0.2\n\n  is-extglob@2.1.1: {}\n\n  is-glob@4.0.3:\n    dependencies:\n      is-extglob: 2.1.1\n\n  is-interactive@2.0.0: {}\n\n  is-stream@3.0.0: {}\n\n  is-unicode-supported@1.3.0: {}\n\n  isexe@2.0.0: {}\n\n  js-tokens@4.0.0: {}\n\n  js-yaml@4.1.0:\n    dependencies:\n      argparse: 2.0.1\n\n  jsesc@3.1.0: {}\n\n  json-buffer@3.0.1: {}\n\n  json-parse-even-better-errors@2.3.1: {}\n\n  json-schema-traverse@0.4.1: {}\n\n  json-stable-stringify-without-jsonify@1.0.1: {}\n\n  json5@2.2.3: {}\n\n  jsonfile@6.2.0:\n    dependencies:\n      universalify: 2.0.1\n    optionalDependencies:\n      graceful-fs: 4.2.11\n\n  jspdf@3.0.2:\n    dependencies:\n      '@babel/runtime': 7.28.4\n      fast-png: 6.4.0\n      fflate: 0.8.2\n    optionalDependencies:\n      canvg: 3.0.11\n      core-js: 3.45.1\n      dompurify: 3.2.6\n      html2canvas: 1.4.1\n\n  jwt-decode@4.0.0: {}\n\n  keyv@4.5.4:\n    dependencies:\n      json-buffer: 3.0.1\n\n  kleur@3.0.3: {}\n\n  levn@0.4.1:\n    dependencies:\n      prelude-ls: 1.2.1\n      type-check: 0.4.0\n\n  lines-and-columns@1.2.4: {}\n\n  locate-path@6.0.0:\n    dependencies:\n      p-locate: 5.0.0\n\n  lodash.merge@4.6.2: {}\n\n  lodash@4.17.21: {}\n\n  log-symbols@5.1.0:\n    dependencies:\n      chalk: 5.2.0\n      is-unicode-supported: 1.3.0\n\n  loose-envify@1.4.0:\n    dependencies:\n      js-tokens: 4.0.0\n\n  lru-cache@5.1.1:\n    dependencies:\n      yallist: 3.1.1\n\n  lucide-react@0.475.0(react@19.1.1):\n    dependencies:\n      react: 19.1.1\n\n  math-intrinsics@1.1.0: {}\n\n  memoize-one@6.0.0: {}\n\n  merge-stream@2.0.0: {}\n\n  mime-db@1.52.0: {}\n\n  mime-types@2.1.35:\n    dependencies:\n      mime-db: 1.52.0\n\n  mimic-fn@2.1.0: {}\n\n  mimic-fn@4.0.0: {}\n\n  minimatch@3.1.2:\n    dependencies:\n      brace-expansion: 1.1.12\n\n  ms@2.1.3: {}\n\n  nanoid@3.3.11: {}\n\n  natural-compare@1.4.0: {}\n\n  node-domexception@1.0.0: {}\n\n  node-fetch@3.3.2:\n    dependencies:\n      data-uri-to-buffer: 4.0.1\n      fetch-blob: 3.2.0\n      formdata-polyfill: 4.0.10\n\n  node-releases@2.0.20: {}\n\n  npm-run-path@5.3.0:\n    dependencies:\n      path-key: 4.0.0\n\n  object-assign@4.1.1: {}\n\n  onetime@5.1.2:\n    dependencies:\n      mimic-fn: 2.1.0\n\n  onetime@6.0.0:\n    dependencies:\n      mimic-fn: 4.0.0\n\n  optionator@0.9.4:\n    dependencies:\n      deep-is: 0.1.4\n      fast-levenshtein: 2.0.6\n      levn: 0.4.1\n      prelude-ls: 1.2.1\n      type-check: 0.4.0\n      word-wrap: 1.2.5\n\n  ora@6.3.1:\n    dependencies:\n      chalk: 5.2.0\n      cli-cursor: 4.0.0\n      cli-spinners: 2.9.2\n      is-interactive: 2.0.0\n      is-unicode-supported: 1.3.0\n      log-symbols: 5.1.0\n      stdin-discarder: 0.1.0\n      strip-ansi: 7.1.2\n      wcwidth: 1.0.1\n\n  p-limit@3.1.0:\n    dependencies:\n      yocto-queue: 0.1.0\n\n  p-locate@5.0.0:\n    dependencies:\n      p-limit: 3.1.0\n\n  pako@2.1.0: {}\n\n  parent-module@1.0.1:\n    dependencies:\n      callsites: 3.1.0\n\n  parse-json@5.2.0:\n    dependencies:\n      '@babel/code-frame': 7.27.1\n      error-ex: 1.3.2\n      json-parse-even-better-errors: 2.3.1\n      lines-and-columns: 1.2.4\n\n  path-exists@4.0.0: {}\n\n  path-key@3.1.1: {}\n\n  path-key@4.0.0: {}\n\n  path-parse@1.0.7: {}\n\n  path-type@4.0.0: {}\n\n  performance-now@2.1.0:\n    optional: true\n\n  picocolors@1.1.1: {}\n\n  picomatch@4.0.3: {}\n\n  postcss@8.5.6:\n    dependencies:\n      nanoid: 3.3.11\n      picocolors: 1.1.1\n      source-map-js: 1.2.1\n\n  prelude-ls@1.2.1: {}\n\n  prompts@2.4.2:\n    dependencies:\n      kleur: 3.0.3\n      sisteransi: 1.0.5\n\n  prop-types@15.8.1:\n    dependencies:\n      loose-envify: 1.4.0\n      object-assign: 4.1.1\n      react-is: 16.13.1\n\n  proxy-from-env@1.1.0: {}\n\n  punycode@2.3.1: {}\n\n  raf@3.4.1:\n    dependencies:\n      performance-now: 2.1.0\n    optional: true\n\n  react-dom@19.1.1(react@19.1.1):\n    dependencies:\n      react: 19.1.1\n      scheduler: 0.26.0\n\n  react-is@16.13.1: {}\n\n  react-is@18.3.1: {}\n\n  react-is@19.1.1: {}\n\n  react-refresh@0.17.0: {}\n\n  react-router-dom@7.8.2(react-dom@19.1.1(react@19.1.1))(react@19.1.1):\n    dependencies:\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n      react-router: 7.8.2(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n\n  react-router@7.8.2(react-dom@19.1.1(react@19.1.1))(react@19.1.1):\n    dependencies:\n      cookie: 1.0.2\n      react: 19.1.1\n      set-cookie-parser: 2.7.1\n    optionalDependencies:\n      react-dom: 19.1.1(react@19.1.1)\n\n  react-select@5.10.2(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1):\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@emotion/cache': 11.14.0\n      '@emotion/react': 11.14.0(@types/react@19.1.12)(react@19.1.1)\n      '@floating-ui/dom': 1.7.4\n      '@types/react-transition-group': 4.4.12(@types/react@19.1.12)\n      memoize-one: 6.0.0\n      prop-types: 15.8.1\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n      react-transition-group: 4.4.5(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      use-isomorphic-layout-effect: 1.2.1(@types/react@19.1.12)(react@19.1.1)\n    transitivePeerDependencies:\n      - '@types/react'\n      - supports-color\n\n  react-smooth@4.0.4(react-dom@19.1.1(react@19.1.1))(react@19.1.1):\n    dependencies:\n      fast-equals: 5.2.2\n      prop-types: 15.8.1\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n      react-transition-group: 4.4.5(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n\n  react-toastify@11.0.5(react-dom@19.1.1(react@19.1.1))(react@19.1.1):\n    dependencies:\n      clsx: 2.1.1\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n\n  react-transition-group@4.4.5(react-dom@19.1.1(react@19.1.1))(react@19.1.1):\n    dependencies:\n      '@babel/runtime': 7.28.4\n      dom-helpers: 5.2.1\n      loose-envify: 1.4.0\n      prop-types: 15.8.1\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n\n  react@19.1.1: {}\n\n  readable-stream@3.6.2:\n    dependencies:\n      inherits: 2.0.4\n      string_decoder: 1.3.0\n      util-deprecate: 1.0.2\n\n  recharts-scale@0.4.5:\n    dependencies:\n      decimal.js-light: 2.5.1\n\n  recharts@2.15.4(react-dom@19.1.1(react@19.1.1))(react@19.1.1):\n    dependencies:\n      clsx: 2.1.1\n      eventemitter3: 4.0.7\n      lodash: 4.17.21\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n      react-is: 18.3.1\n      react-smooth: 4.0.4(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      recharts-scale: 0.4.5\n      tiny-invariant: 1.3.3\n      victory-vendor: 36.9.2\n\n  regenerator-runtime@0.13.11:\n    optional: true\n\n  reselect@5.1.1: {}\n\n  resolve-from@4.0.0: {}\n\n  resolve@1.22.10:\n    dependencies:\n      is-core-module: 2.16.1\n      path-parse: 1.0.7\n      supports-preserve-symlinks-flag: 1.0.0\n\n  restore-cursor@4.0.0:\n    dependencies:\n      onetime: 5.1.2\n      signal-exit: 3.0.7\n\n  rgbcolor@1.0.1:\n    optional: true\n\n  rollup@4.50.1:\n    dependencies:\n      '@types/estree': 1.0.8\n    optionalDependencies:\n      '@rollup/rollup-android-arm-eabi': 4.50.1\n      '@rollup/rollup-android-arm64': 4.50.1\n      '@rollup/rollup-darwin-arm64': 4.50.1\n      '@rollup/rollup-darwin-x64': 4.50.1\n      '@rollup/rollup-freebsd-arm64': 4.50.1\n      '@rollup/rollup-freebsd-x64': 4.50.1\n      '@rollup/rollup-linux-arm-gnueabihf': 4.50.1\n      '@rollup/rollup-linux-arm-musleabihf': 4.50.1\n      '@rollup/rollup-linux-arm64-gnu': 4.50.1\n      '@rollup/rollup-linux-arm64-musl': 4.50.1\n      '@rollup/rollup-linux-loongarch64-gnu': 4.50.1\n      '@rollup/rollup-linux-ppc64-gnu': 4.50.1\n      '@rollup/rollup-linux-riscv64-gnu': 4.50.1\n      '@rollup/rollup-linux-riscv64-musl': 4.50.1\n      '@rollup/rollup-linux-s390x-gnu': 4.50.1\n      '@rollup/rollup-linux-x64-gnu': 4.50.1\n      '@rollup/rollup-linux-x64-musl': 4.50.1\n      '@rollup/rollup-openharmony-arm64': 4.50.1\n      '@rollup/rollup-win32-arm64-msvc': 4.50.1\n      '@rollup/rollup-win32-ia32-msvc': 4.50.1\n      '@rollup/rollup-win32-x64-msvc': 4.50.1\n      fsevents: 2.3.3\n\n  safe-buffer@5.2.1: {}\n\n  scheduler@0.26.0: {}\n\n  semver@6.3.1: {}\n\n  set-cookie-parser@2.7.1: {}\n\n  shebang-command@2.0.0:\n    dependencies:\n      shebang-regex: 3.0.0\n\n  shebang-regex@3.0.0: {}\n\n  signal-exit@3.0.7: {}\n\n  sisteransi@1.0.5: {}\n\n  socket.io-client@4.8.1:\n    dependencies:\n      '@socket.io/component-emitter': 3.1.2\n      debug: 4.3.7\n      engine.io-client: 6.6.3\n      socket.io-parser: 4.2.4\n    transitivePeerDependencies:\n      - bufferutil\n      - supports-color\n      - utf-8-validate\n\n  socket.io-parser@4.2.4:\n    dependencies:\n      '@socket.io/component-emitter': 3.1.2\n      debug: 4.3.7\n    transitivePeerDependencies:\n      - supports-color\n\n  source-map-js@1.2.1: {}\n\n  source-map@0.5.7: {}\n\n  ssf@0.11.2:\n    dependencies:\n      frac: 1.1.2\n\n  stackblur-canvas@2.7.0:\n    optional: true\n\n  stdin-discarder@0.1.0:\n    dependencies:\n      bl: 5.1.0\n\n  string_decoder@1.3.0:\n    dependencies:\n      safe-buffer: 5.2.1\n\n  strip-ansi@7.1.2:\n    dependencies:\n      ansi-regex: 6.2.2\n\n  strip-final-newline@3.0.0: {}\n\n  strip-json-comments@3.1.1: {}\n\n  stylis@4.2.0: {}\n\n  supports-color@7.2.0:\n    dependencies:\n      has-flag: 4.0.0\n\n  supports-preserve-symlinks-flag@1.0.0: {}\n\n  svg-pathdata@6.0.3:\n    optional: true\n\n  text-segmentation@1.0.3:\n    dependencies:\n      utrie: 1.0.2\n\n  tiny-invariant@1.3.3: {}\n\n  tinyglobby@0.2.15:\n    dependencies:\n      fdir: 6.5.0(picomatch@4.0.3)\n      picomatch: 4.0.3\n\n  type-check@0.4.0:\n    dependencies:\n      prelude-ls: 1.2.1\n\n  universalify@2.0.1: {}\n\n  update-browserslist-db@1.1.3(browserslist@4.25.4):\n    dependencies:\n      browserslist: 4.25.4\n      escalade: 3.2.0\n      picocolors: 1.1.1\n\n  uri-js@4.4.1:\n    dependencies:\n      punycode: 2.3.1\n\n  use-isomorphic-layout-effect@1.2.1(@types/react@19.1.12)(react@19.1.1):\n    dependencies:\n      react: 19.1.1\n    optionalDependencies:\n      '@types/react': 19.1.12\n\n  use-sync-external-store@1.5.0(react@19.1.1):\n    dependencies:\n      react: 19.1.1\n\n  util-deprecate@1.0.2: {}\n\n  utrie@1.0.2:\n    dependencies:\n      base64-arraybuffer: 1.0.2\n\n  victory-vendor@36.9.2:\n    dependencies:\n      '@types/d3-array': 3.2.1\n      '@types/d3-ease': 3.0.2\n      '@types/d3-interpolate': 3.0.4\n      '@types/d3-scale': 4.0.9\n      '@types/d3-shape': 3.1.7\n      '@types/d3-time': 3.0.4\n      '@types/d3-timer': 3.0.2\n      d3-array: 3.2.4\n      d3-ease: 3.0.1\n      d3-interpolate: 3.0.1\n      d3-scale: 4.0.2\n      d3-shape: 3.2.0\n      d3-time: 3.1.0\n      d3-timer: 3.0.1\n\n  vite@6.3.6:\n    dependencies:\n      esbuild: 0.25.9\n      fdir: 6.5.0(picomatch@4.0.3)\n      picomatch: 4.0.3\n      postcss: 8.5.6\n      rollup: 4.50.1\n      tinyglobby: 0.2.15\n    optionalDependencies:\n      fsevents: 2.3.3\n\n  wcwidth@1.0.1:\n    dependencies:\n      defaults: 1.0.4\n\n  web-streams-polyfill@3.3.3: {}\n\n  web-vitals@4.2.4: {}\n\n  which@2.0.2:\n    dependencies:\n      isexe: 2.0.0\n\n  wmf@1.0.2: {}\n\n  word-wrap@1.2.5: {}\n\n  word@0.3.0: {}\n\n  ws@8.17.1: {}\n\n  xlsx@0.18.5:\n    dependencies:\n      adler-32: 1.3.1\n      cfb: 1.2.2\n      codepage: 1.15.0\n      crc-32: 1.2.2\n      ssf: 0.11.2\n      wmf: 1.0.2\n      word: 0.3.0\n\n  xmlhttprequest-ssl@2.1.2: {}\n\n  yallist@3.1.1: {}\n\n  yaml@1.10.2: {}\n\n  yocto-queue@0.1.0: {}\n\n  zod@3.25.76: {}\n","size_bytes":124347},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"frontend-new/src/assets/theme-dark/functions/linearGradient.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The linearGradient() function helps you to create a linear gradient color background\n */\n\nfunction linearGradient(color, colorState, angle = 195) {\n  return `linear-gradient(${angle}deg, ${color}, ${colorState})`;\n}\n\nexport default linearGradient;\n","size_bytes":777},"frontend-new/src/pages/onboarding/CompanyList.jsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  Paper,\n  Typography,\n  IconButton,\n  CircularProgress,\n  Box,\n} from \"@mui/material\";\nimport { Edit, Delete } from \"@mui/icons-material\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst companyModuleId = \"5d896834-fedd-4e0b-a882-8d05396fc346\";\n\nconst OrganizationList = () => {\n  const [companies, setCompanies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [pageSize, setPageSize] = useState(5);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchCompanies();\n  }, []);\n\n  const fetchCompanies = async () => {\n    try {\n      const response = await axiosInstance.get(`/companies/${companyModuleId}`);\n      setCompanies(response.data);\n    } catch (error) {\n      toast.error(\"Failed to fetch companies. Please try again later.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEdit = (companyId, companyName) => {\n    sessionStorage.setItem(\"companyId\", companyId);\n    sessionStorage.setItem(\"companyName\", companyName);\n    navigate(\"/company-details\", {\n      state: { companyId, from: \"company-list\" },\n    });\n  };\n\n  const handleDelete = (companyId) => {\n    const ConfirmToast = ({ closeToast }) => (\n      <div>\n        <p>Are you sure you want to delete this organization?</p>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"flex-end\",\n            gap: \"10px\",\n            marginTop: \"10px\",\n          }}\n        >\n          <button\n            onClick={async () => {\n              try {\n                await axiosInstance.delete(\n                  `/companies/${companyModuleId}/${companyId}`,\n                  { data: { confirmed: true } }\n                );\n                setCompanies((prev) =>\n                  prev.filter((company) => company.id !== companyId)\n                );\n                toast.success(\n                  \"organization and its users deactivated successfully.\"\n                );\n                closeToast();\n              } catch (error) {\n                toast.error(\"Unable to delete the organization.\");\n              }\n            }}\n            style={{\n              background: \"#d33\",\n              color: \"#fff\",\n              padding: \"5px 10px\",\n              border: \"none\",\n              borderRadius: \"4px\",\n            }}\n          >\n            Yes\n          </button>\n          <button\n            onClick={() => {\n              toast.info(\"organization deletion cancelled.\");\n              closeToast();\n            }}\n            style={{\n              background: \"#aaa\",\n              color: \"#fff\",\n              padding: \"5px 10px\",\n              border: \"none\",\n              borderRadius: \"4px\",\n            }}\n          >\n            No\n          </button>\n        </div>\n      </div>\n    );\n\n    toast(<ConfirmToast />, {\n      closeOnClick: false,\n      closeButton: false,\n      autoClose: false,\n      draggable: false,\n    });\n  };\n\n  const columns = [\n    { field: \"name\", headerName: \"Name\", flex: 1 ,width: 180,},\n    { field: \"domain\", headerName: \"Domain\", flex: 1,width: 180, },\n    { field: \"industry\", headerName: \"Industry\", flex: 1,width: 180, },\n    {\n      field: \"actions\",\n      headerName: \"Actions\",\n      flex: 1,\n      sortable: false,\n      renderCell: (params) => (\n        <>\n          <IconButton\n            color=\"primary\"\n            onClick={() => handleEdit(params.row.id, params.row.name)}\n          >\n            <Edit />\n          </IconButton>\n          <IconButton color=\"error\" onClick={() => handleDelete(params.row.id)}>\n            <Delete />\n          </IconButton>\n        </>\n      ),\n    },\n  ];\n\n  return (\n    <Paper sx={{ p: 3, mx: { xs: 2, sm: 4 }, my: 4 }}>\n      <ToastContainer />\n      <Typography variant=\"h4\" fontWeight=\"bold\" mb={3}>\n        Organization List\n      </Typography>\n\n      {loading ? (\n        <Box sx={{ display: \"flex\", justifyContent: \"center\", mt: 4 }}>\n          <CircularProgress />\n        </Box>\n      ) : companies.length > 0 ? (\n        <DataGrid\n          rows={companies}\n          columns={columns}\n          getRowId={(row) => row.id}\n          autoHeight\n          pagination\n          pageSizeOptions={[5, 10, 25]}\n          pageSize={pageSize}\n          onPageSizeChange={(newPageSize) => setPageSize(newPageSize)}\n          disableRowSelectionOnClick\n          sx={{\n            fontSize: \"1rem\",\n            \"& .MuiDataGrid-cell\": {\n              whiteSpace: \"normal\",\n              wordWrap: \"break-word\",\n              alignItems: \"center\",\n              display: \"flex\",\n            },\n          }}\n        />\n      ) : (\n        <Typography sx={{ textAlign: \"center\", mt: 3 }} color=\"text.secondary\">\n          No organizations found.\n        </Typography>\n      )}\n    </Paper>\n  );\n};\n\nexport default OrganizationList;\n","size_bytes":5009},"qms-source/frontend-new/src/assets/theme-dark/components/link.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst link = {\n  defaultProps: {\n    underline: \"none\",\n    color: \"inherit\",\n  },\n};\n\nexport default link;\n","size_bytes":631},"BackEnd/src/controllers/documentController.js":{"content":"import multer from \"multer\";\nimport path from \"path\";\nimport fs from \"fs\";\nimport Document from \"../models/Document.js\";\nimport Task from \"../models/Task.js\";\nimport User from \"../models/User.js\";\nimport Role from \"../models/Role.js\";\nimport TaskChangeLog from \"../models/TaskChangeLog.js\"\n\n\nconst getAllHigherRoleIds = async (roleId, visited = new Set()) => {\n    const role = await Role.findByPk(roleId);\n    if (!role || visited.has(role.id)) return [];\n\n    visited.add(role.id);\n    const higherRoles = [];\n\n    if (role.parent_role_id) {\n        higherRoles.push(role.parent_role_id);\n        const parentRoles = await getAllHigherRoleIds(role.parent_role_id, visited);\n        higherRoles.push(...parentRoles);\n    }\n\n    return higherRoles;\n};\n// Set up storage for uploaded files\nconst storage = multer.diskStorage({\n    destination: (req, file, cb) => {\n        const uploadDir = \"uploads/documents\"; // Folder where files will be stored\n        if (!fs.existsSync(uploadDir)) {\n            fs.mkdirSync(uploadDir, { recursive: true }); // Create folder if not exists\n        }\n        cb(null, uploadDir);\n    },\n    filename: (req, file, cb) => {\n        const ext = path.extname(file.originalname);\n        const uniqueName = `${Date.now()}-${Math.random().toString(36).substring(7)}${ext}`;\n        cb(null, uniqueName);\n    }\n});\n\n// File filter (optional, to allow only specific types)\n// const fileFilter = (req, file, cb) => {\n//     const allowedTypes = [\"image/jpeg\", \"image/jpg\", \"image/png\", \"application/pdf\", \"audio/mpeg\", \"video/mp4\"];\n//     if (allowedTypes.includes(file.mimetype)) {\n//         cb(null, true);\n//     } else {\n//         cb(new Error(\"Invalid file type\"), false);\n//     }\n// };\n\n\n// File filter (allow all file types)\n\nconst fileFilter = (req, file, cb) => {\n    cb(null, true); // Accept all file types\n};\n\n// Upload middleware\nconst upload = multer({ storage, fileFilter });\n\nexport const uploadDocument = async (req, res) => {\n  try {\n    upload.array(\"documents\")(req, res, async function (err) {\n      if (err) return res.status(400).json({ error: err.message });\n\n      const { task_id, user_id, remark, issue_date } = req.body;\n\n      if (!req.files || req.files.length === 0) {\n        return res.status(400).json({ error: \"No files uploaded\" });\n      }\n\n      const taskExists = await Task.findByPk(task_id);\n      if (!taskExists) {\n        return res.status(400).json({ error: `Task with ID ${task_id} does not exist` });\n      }\n\n      const taskFolder = path.join(\"uploads\", task_id.toString());\n      if (!fs.existsSync(taskFolder)) fs.mkdirSync(taskFolder, { recursive: true });\n\n      const existingFiles = fs.readdirSync(taskFolder);\n      const uploadedDocs = [];\n\n      for (const file of req.files) {\n        const fileExt = path.extname(file.originalname);\n        const originalName = path.parse(file.originalname).name;\n        const cleanFileName = originalName.replace(/_v\\d+_\\d+$/, \"\");\n        const timestamp = Date.now();\n\n        let version = 1;\n        let previousVersionFile = null;\n        const versionRegex = new RegExp(`^${cleanFileName}_v(\\\\d+)_\\\\d+\\\\${fileExt}$`);\n\n        for (const existingFile of existingFiles) {\n          const match = existingFile.match(versionRegex);\n          if (match) {\n            const existingVersion = parseInt(match[1], 10);\n            if (existingVersion >= version) {\n              version = existingVersion + 1;\n              previousVersionFile = existingFile;\n            }\n          }\n        }\n\n        const newFileName = `${cleanFileName}_v${version}_${timestamp}${fileExt}`;\n        const filePath = path.join(taskFolder, newFileName);\n\n        fs.renameSync(file.path, filePath);\n\n        const document = await Document.create({\n          task_id,\n          user_id,\n          file_name: newFileName,\n          file_path: filePath,\n          issue_date,\n          remark,\n        });\n\n        await TaskChangeLog.create({\n          task_id,\n          changed_by: user_id,\n          field_changed: \"document\",\n          old_value: previousVersionFile || null,\n          new_value: `Uploaded: ${newFileName}`,\n        });\n\n        uploadedDocs.push(document);\n      }\n\n      res.status(201).json({\n        message: \"Documents uploaded successfully\",\n        documents: uploadedDocs,\n      });\n    });\n  } catch (error) {\n    console.error(\"Error while uploading documents:\", error);\n    if (error.name === \"SequelizeForeignKeyConstraintError\") {\n      return res.status(400).json({ error: \"Invalid task_id. Task does not exist.\" });\n    }\n    res.status(500).json({ error: \"Internal server error.\" });\n  }\n};\n\n\n// export const uploadDocument = async (req, res) => {\n//     try {\n//         upload.single(\"document\")(req, res, async function (err) {\n//             if (err) return res.status(400).json({ error: err.message });\n\n//             const { task_id, user_id, remark,issue_date } = req.body;\n//             if (!req.file) return res.status(400).json({ error: \"No file uploaded\" });\n\n//             const taskExists = await Task.findByPk(task_id);\n//             if (!taskExists) return res.status(400).json({ error: `Task with ID ${task_id} does not exist` });\n\n//             const fileExt = path.extname(req.file.originalname);\n//             const originalName = path.parse(req.file.originalname).name;\n//             const timestamp = Date.now();\n\n//             const cleanFileName = originalName.replace(/_v\\d+_\\d+$/, \"\");\n//             const taskFolder = path.join(\"uploads\", task_id);\n//             if (!fs.existsSync(taskFolder)) fs.mkdirSync(taskFolder, { recursive: true });\n\n//             const existingFiles = fs.readdirSync(taskFolder);\n//             let version = 1;\n//             let previousVersionFile = null;\n\n//             const versionRegex = new RegExp(`^${cleanFileName}_v(\\\\d+)_\\\\d+\\\\${fileExt}$`);\n\n//             for (const file of existingFiles) {\n//                 const match = file.match(versionRegex);\n//                 if (match) {\n//                     const existingVersion = parseInt(match[1], 10);\n//                     if (existingVersion >= version) {\n//                         version = existingVersion + 1;\n//                         previousVersionFile = file; // keep track of latest version\n//                     }\n//                 }\n//             }\n\n//             const newFileName = `${cleanFileName}_v${version}_${timestamp}${fileExt}`;\n//             const filePath = path.join(taskFolder, newFileName);\n\n//             fs.renameSync(req.file.path, filePath);\n\n//             const document = await Document.create({\n//                 task_id,\n//                 user_id,\n//                 file_name: newFileName,\n//                 file_path: filePath,\n//                 issue_date,\n//                 remark,\n//             });\n\n//             // Create changelog entry\n//             await TaskChangeLog.create({\n//                 task_id,\n//                 changed_by: user_id,\n//                 field_changed: \"document\",\n//                 old_value: previousVersionFile || null,\n//                 new_value: `Uploaded: ${newFileName}`\n//             });\n\n//             res.status(201).json({ message: \"File uploaded successfully\", document });\n//         });\n//     } catch (error) {\n//         console.error(\"Error while uploading document:\", error);\n//         if (error.name === \"SequelizeForeignKeyConstraintError\") {\n//             return res.status(400).json({ error: \"Invalid task_id. Task does not exist.\" });\n//         }\n//         res.status(500).json({ error: \"Internal server error.\" });\n//     }\n// };\n\n // API to Get Documents by Task ID\n \n \n export const getDocumentsByTask = async (req, res) => {\n    try {\n        const { task_id } = req.params;\n        const documents = await Document.findAll({\n            where: { task_id, is_deleted: false },\n            order: [['uploaded_at', 'DESC']],\n            include: [\n                {\n                    model: User.scope('all'), // Include inactive users as well\n                    attributes: ['name'],\n                    as: 'uploader'\n                }\n            ]\n        });\n\n        if (!documents || documents.length === 0) {\n            return res.status(404).json({ message: \"No documents found for the given task ID.\" });\n        }\n\n        const documentsWithDetails = documents.map(doc => ({\n            ...doc.toJSON(),\n            file_url: `${req.protocol}://${req.get(\"host\")}/api/${doc.file_path}`,\n            uploaded_by: doc.uploader ? doc.uploader.name : \"Unknown\"\n        }));\n\n        res.json(documentsWithDetails);\n    } catch (error) {\n        console.error(\"Error fetching documents:\", error);\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport const deleteDocument = async (req, res) => {\n    try {\n        const { id } = req.params;\n        const currentUserId = req.user.id;\n\n        const document = await Document.findByPk(id);\n        if (!document || document.is_deleted) {\n            return res.status(404).json({ error: \"Document not found or already deleted\" });\n        }\n\n        const documentOwner = await User.scope('all').findByPk(document.user_id);\n        const currentUser = await User.findByPk(currentUserId);\n\n        const currentRole = await Role.findByPk(currentUser.role_id);\n        const ownerRole = await Role.findByPk(documentOwner?.role_id);\n        const currentRoleName = currentRole?.name?.toLowerCase();\n\n        const hasAccess = (\n            currentUserId === document.user_id ||\n            [\"system super admin\", \"super admin\"].includes(currentRoleName) ||\n            (await getAllHigherRoleIds(ownerRole?.id)).includes(currentRole.id)\n        );\n\n        if (!hasAccess) {\n            return res.status(403).json({ error: \"You do not have permission to delete this document\" });\n        }\n\n        // Perform soft delete\n        document.is_deleted = true;\n        await document.save();\n\n        // âœ… Add Task Change Log\n        await TaskChangeLog.create({\n            task_id: document.task_id,\n            changed_by: currentUserId,\n            field_changed: \"document\",\n            old_value: `Deleted: ${document.file_name}`,\n            new_value: 'âŒ File Deleted'\n        });\n\n        res.json({ message: \"Document deleted successfully.\" });\n\n    } catch (error) {\n        console.error(\"Error deleting document:\", error);\n        res.status(500).json({ error: error.message });\n    }\n};\n\nconst softDelete = async (document, res) => {\n    const originalPath = document.file_path;\n    const filename = path.basename(originalPath);\n    const deletedFolder = path.join(\"deleted_documents\");\n\n    if (!fs.existsSync(deletedFolder)) {\n        fs.mkdirSync(deletedFolder, { recursive: true });\n    }\n\n    const newPath = path.join(deletedFolder, filename);\n    fs.renameSync(originalPath, newPath);\n\n    document.file_path = newPath;\n    document.is_deleted = true;\n    await document.save();\n\n    return res.json({ message: \"Document soft deleted and moved to deleted_documents.\" });\n};\n\nexport const updateDocumentDetails = async (req, res) => {\n    try {\n        const documentId = req.params.documentId;\n        const { remark, issue_date } = req.body;\n\n        const document = await Document.findByPk(documentId);\n\n        if (!document) {\n            return res.status(404).json({ message: \"Document not found\" });\n        }\n\n        document.remark = remark ?? document.remark;\n        document.issue_date = issue_date ?? document.issue_date;\n\n        await document.save();\n\n        return res.status(200).json({\n            message: \"Document updated successfully\",\n            document\n        });\n    } catch (error) {\n        console.error(\"Error updating document:\", error);\n        return res.status(500).json({ message: \"Server error\" });\n    }\n};\n\n\n// API to Upload Document\n\n\n\n\n\n// export const uploadDocument = async (req, res) => {\n//     try {\n//         upload.single(\"document\")(req, res, async function (err) {\n//             if (err) {\n//                 return res.status(400).json({ error: err.message });\n//             }\n\n//             const { task_id, user_id, remark } = req.body;\n//             if (!req.file) {\n//                 return res.status(400).json({ error: \"No file uploaded\" });\n//             }\n\n//             // Check if task_id exists before inserting the document\n//             const taskExists = await Task.findByPk(task_id);\n//             if (!taskExists) {\n//                 return res.status(400).json({ error: `Task with ID ${task_id} does not exist` });\n//             }\n\n//             let fileExt = path.extname(req.file.originalname);\n//             let originalName = path.parse(req.file.originalname).name;\n//             let timestamp = Date.now();\n\n//             // Remove previous versioning (_vX_TIMESTAMP) if exists\n//             const cleanFileName = originalName.replace(/_v\\d+_\\d+$/, \"\");\n\n//             // Define task-specific directory\n//             const taskFolder = path.join(\"uploads\", task_id);\n//             if (!fs.existsSync(taskFolder)) {\n//                 fs.mkdirSync(taskFolder, { recursive: true });\n//             }\n\n//             // Get existing files for the task\n//             const existingFiles = fs.readdirSync(taskFolder);\n//             let version = 1;\n\n//             // Find highest version number for the file\n//             const versionRegex = new RegExp(`^${cleanFileName}_v(\\\\d+)_\\\\d+\\\\${fileExt}$`);\n\n//             for (const file of existingFiles) {\n//                 const match = file.match(versionRegex);\n//                 if (match) {\n//                     const existingVersion = parseInt(match[1], 10);\n//                     version = Math.max(version, existingVersion + 1);\n//                 }\n//             }\n\n//             // Create new versioned file name\n//             const newFileName = `${cleanFileName}_v${version}_${timestamp}${fileExt}`;\n//             const filePath = path.join(taskFolder, newFileName);\n\n//             // Move uploaded file to the task folder\n//             fs.renameSync(req.file.path, filePath);\n\n//             // Save file details in DB\n//             const document = await Document.create({\n//                 task_id,\n//                 user_id,\n//                 file_name: newFileName,\n//                 file_path: filePath,\n//                 remark,\n//             });\n\n//             res.status(201).json({ message: \"File uploaded successfully\", document });\n//         });\n//     } catch (error) {\n//         console.error(\"Error while uploading document:\", error);\n\n//         // Handle specific database errors\n//         if (error.name === \"SequelizeForeignKeyConstraintError\") {\n//             return res.status(400).json({ error: \"Invalid task_id. Task does not exist.\" });\n//         }\n\n//         res.status(500).json({ error: \"Internal server error.\" });\n//     }\n// };\n\n\n\n\n\n\n// export const getDocumentsByTask = async (req, res) => {\n//     try {\n//         const { task_id } = req.params;\n//         const documents = await Document.findAll({ where: { task_id } });\n\n//         if (!documents || documents.length === 0) {\n//             return res.status(404).json({ message: \"No documents found for the given task ID.\" });\n//         }\n\n//         // Convert file path to URL format\n//         const documentsWithUrls = documents.map(doc => ({\n//             ...doc.toJSON(),\n//             file_url: `${req.protocol}://${req.get(\"host\")}/api/${doc.file_path}`\n//         }));\n\n//         res.json(documentsWithUrls);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\n// API to Delete Document\n\n\n// export const deleteDocument = async (req, res) => {\n//     try {\n//         const { id } = req.params;\n//         const currentUserId = req.user.id; // From auth middleware\n\n//         const document = await Document.findByPk(id);\n//         if (!document || document.is_deleted) {\n//             return res.status(404).json({ error: \"Document not found or already deleted\" });\n//         }\n\n//         const documentOwner = await User.scope('all').findByPk(document.user_id);\n//         const currentUser = await User.findByPk(currentUserId);\n\n//         // âœ… Allow if user is the uploader\n//         if (currentUserId === document.user_id) {\n//             return await softDelete(document, res);\n//         }\n\n//         const currentRole = await Role.findByPk(currentUser.role_id);\n//         const ownerRole = await Role.findByPk(documentOwner?.role_id); // Optional chaining in case user was deleted\n\n//         const currentRoleName = currentRole?.name?.toLowerCase();\n\n//         // âœ… Allow System Super Admin or Super Admin\n//         if ([\"system super admin\", \"super admin\"].includes(currentRoleName)) {\n//             return await softDelete(document, res);\n//         }\n\n//         // âœ… Allow if current user has higher role than uploader\n//         const higherRoles = await getAllHigherRoleIds(ownerRole?.id);\n//         const isHigher = higherRoles.includes(currentRole.id);\n\n//         if (!isHigher) {\n//             return res.status(403).json({ error: \"You do not have permission to delete this document\" });\n//         }\n\n//         return await softDelete(document, res);\n\n//     } catch (error) {\n//         console.error(\"Error deleting document:\", error);\n//         res.status(500).json({ error: error.message });\n//     }\n// };","size_bytes":17486},"qms-source/frontend-new/src/pages/role_management/RoleForm.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  Box,\n  TextField,\n  Button,\n  Typography,\n  CircularProgress,\n  MenuItem,\n  Select,\n  FormControl,\n  InputLabel,\n  Paper,\n  Container,\n} from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport { ToastContainer } from \"react-toastify\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst API_ROLE_URL = \"/roles/971a88b8-461e-4cd2-9a06-fce42ad6b806\";\nconst API_COMPANY_URL = \"/companies/5d896834-fedd-4e0b-a882-8d05396fc346\";\n\nconst RoleForm = () => {\n  const [userRole, setUserRole] = useState(\"\");\n  const [role, setRole] = useState({\n    name: \"\",\n    description: \"\",\n    parent_role_id: \"\",\n  });\n  const [roles, setRoles] = useState([]);\n  const [companies, setCompanies] = useState([]);\n  const [selectedCompany, setSelectedCompany] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  // Fetch companies if user is System Super Admin\n  useEffect(() => {\n    // Retrieve userRole from localStorage\n    let role = localStorage.getItem(\"userRole\");\n    setUserRole(role);\n    console.log(\"User Role from Role Form \" + userRole);\n    if (role === \"System Super Admin\") {\n      axiosInstance\n        .get(API_COMPANY_URL)\n        .then((response) => setCompanies(response.data || []))\n        .catch((error) => {\n          console.error(\"Error fetching companies:\", error);\n          toast.error(\"Failed to fetch companies.\");\n        });\n    } else {\n      fetchRoles(); // Fetch roles for specific company\n    }\n  }, [userRole]);\n\n  const fetchRoles = async () => {\n    let company_id = sessionStorage.getItem(\"selectedCompany\");\n    if (!company_id) {\n      toast.error(\"No company selected! Please choose a company.\");\n      return;\n    }\n\n    try {\n      const response = await axiosInstance.get(API_ROLE_URL, {\n        params: { company_id },\n      });\n      setRoles(response.data || []);\n    } catch (error) {\n      console.error(\"Error fetching roles:\", error);\n      toast.error(\"Failed to fetch roles.\");\n    }\n  };\n\n  // Fetch roles when company changes\n  useEffect(() => {\n    if (userRole === \"System Super Admin\" && selectedCompany) {\n      fetchRoles(selectedCompany);\n    }\n  }, [selectedCompany]);\n\n  // Handle input change\n  const handleChange = (e) => {\n    setRole({ ...role, [e.target.name]: e.target.value });\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!role.name.trim() || !role.description.trim()) {\n      toast.warn(\"Role Name and Description are required\");\n      return;\n    }\n\n    let company_id =\n      userRole === \"System Super Admin\"\n        ? selectedCompany\n        : sessionStorage.getItem(\"selectedCompany\");\n\n    if (userRole === \"System Super Admin\" && !company_id) {\n      toast.error(\"Please select a company before submitting.\");\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const payload = {\n        ...role,\n        company_id:\n          userRole === \"System Super Admin\"\n            ? selectedCompany\n            : sessionStorage.getItem(\"selectedCompany\"), // Pass only if needed\n      };\n      await axiosInstance.post(API_ROLE_URL, payload);\n      toast.success(\"Role added successfully!\");\n      setTimeout(() => {\n        navigate(\"/roles\"); // Delay navigation by 1 second\n      }, 1000);\n    } catch (err) {\n      console.error(\"Error adding role:\", err);\n      toast.error(err.response?.data?.message || \"Failed to add role.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCancel = () => {\n    window.history.back();\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Paper\n        elevation={4}\n        sx={{\n          p: 4,\n          mt: 4,\n          mx: 8,\n          borderRadius: 3,\n          bgcolor: \"#f9f9f9\",\n          boxShadow: \"0px 4px 12px rgba(0, 0, 0, 0.1)\",\n        }}\n      >\n        <ToastContainer />\n\n        <Typography variant=\"h5\" sx={{ fontWeight: 600, mb: 3, pl: 1 }}>\n          Add New Role\n        </Typography>\n\n        <form onSubmit={handleSubmit}>\n          <Box sx={{ display: \"grid\", gap: 2 }}>\n            {userRole === \"System Super Admin\" && (\n              <FormControl fullWidth>\n                <InputLabel>Select Company</InputLabel>\n                <Select\n                  value={selectedCompany}\n                  onChange={(e) => setSelectedCompany(e.target.value)}\n                  required\n                  label=\"Select Company\"\n                >\n                  {companies.map((company) => (\n                    <MenuItem key={company.id} value={company.id}>\n                      {company.name}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            )}\n\n            <TextField\n              fullWidth\n              label=\"Role Name\"\n              variant=\"outlined\"\n              name=\"name\"\n              value={role.name}\n              onChange={handleChange}\n              required\n            />\n\n            <TextField\n              fullWidth\n              label=\"Role Description\"\n              variant=\"outlined\"\n              name=\"description\"\n              value={role.description}\n              onChange={handleChange}\n              multiline\n              rows={2}\n            />\n\n            <FormControl fullWidth>\n              <InputLabel shrink={true} id=\"parent-role-label\">\n                Parent Role\n              </InputLabel>\n              <Select\n                labelId=\"parent-role-label\"\n                name=\"parent_role_id\"\n                value={role.parent_role_id || \"\"}\n                onChange={handleChange}\n                displayEmpty\n                renderValue={(selected) =>\n                  selected ? roles.find((r) => r.id === selected)?.name : \"None\"\n                }\n              >\n                <MenuItem value=\"\">None</MenuItem>\n                {roles.map((roleItem) => (\n                  <MenuItem key={roleItem.id} value={roleItem.id}>\n                    {roleItem.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Box>\n\n          <Box\n            sx={{\n              display: \"flex\",\n              flexDirection: { xs: \"column\", sm: \"row\" },\n              justifyContent: \"flex-end\",\n              gap: 2,\n              mt: 4,\n            }}\n          >\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={loading}\n              sx={{\n                px: 3,\n                py: 1,\n                fontSize: \"14px\",\n                borderRadius: 2,\n                boxShadow: \"0px 2px 4px rgba(0, 0, 0, 0.15)\",\n                minWidth: \"120px\",\n              }}\n            >\n              {loading ? (\n                <CircularProgress size={20} color=\"inherit\" />\n              ) : (\n                \"Add Role\"\n              )}\n            </Button>\n\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={handleCancel}\n              disabled={loading}\n              sx={{\n                px: 3,\n                py: 1,\n                fontSize: \"14px\",\n                borderRadius: 2,\n                borderWidth: \"1.5px\",\n                \":hover\": { borderWidth: \"1.5px\" },\n                minWidth: \"120px\",\n              }}\n            >\n              Cancel\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default RoleForm;\n\n// import React, { useState } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import {\n//   Box,\n//   TextField,\n//   Button,\n//   Typography,\n//   CircularProgress,\n// } from \"@mui/material\";\n// import { toast } from \"react-toastify\"; // Import toast\n// import axiosInstance from \"../../services/axiosinstance\";\n\n// const API_URL = \"/roles/971a88b8-461e-4cd2-9a06-fce42ad6b806\"; // Backend API endpoint\n\n// const RoleForm = () => {\n//   const [role, setRole] = useState({ name: \"\", description: \"\" });\n//   const [loading, setLoading] = useState(false);\n//   const navigate = useNavigate();\n\n//   // Handle input change\n//   const handleChange = (e) => {\n//     setRole({ ...role, [e.target.name]: e.target.value });\n//   };\n\n//   // Submit role to backend\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n\n//     if (!role.name.trim() && !role.description.trim()) {\n//       toast.warn(\"Both Role Name and Description are required\");\n//       return;\n//     }\n//     if (!role.name.trim()) {\n//       toast.warn(\"Role Name is required\");\n//       return;\n//     }\n//     if (!role.description.trim()) {\n//       toast.warn(\"Role Description is required\");\n//       return;\n//     }\n\n//     setLoading(true);\n//     try {\n//       await axiosInstance.post(API_URL, role);\n//       toast.success(\"Role added successfully!\");\n//       navigate(\"/roles\"); // Redirect to Role List page\n//     } catch (err) {\n//       console.error(\"Error adding role:\", err);\n//       toast.error(err.response?.data?.message || \"Failed to add role.\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   return (\n//     <Box p={3} maxWidth=\"400px\" margin=\"auto\">\n//       <Typography variant=\"h5\" mb={2}>\n//         Add New Role\n//       </Typography>\n//       <form onSubmit={handleSubmit}>\n//         <TextField\n//           fullWidth\n//           label=\"Role Name\"\n//           variant=\"outlined\"\n//           name=\"name\"\n//           value={role.name}\n//           onChange={handleChange}\n//           sx={{ mb: 2 }}\n//         />\n//         <TextField\n//           fullWidth\n//           label=\"Role Description\"\n//           variant=\"outlined\"\n//           name=\"description\"\n//           value={role.description}\n//           onChange={handleChange}\n//           sx={{ mb: 2 }}\n//         />\n//         <Button\n//           fullWidth\n//           type=\"submit\"\n//           variant=\"contained\"\n//           color=\"primary\"\n//           disabled={loading}\n//         >\n//           {loading ? <CircularProgress size={24} /> : \"Add Role\"}\n//         </Button>\n//       </form>\n//     </Box>\n//   );\n// };\n\n// export default RoleForm;\n","size_bytes":10288},"frontend-new/src/assets/theme-dark/components/card/cardContent.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst cardContent = {\n  styleOverrides: {\n    root: {\n      marginTop: 0,\n      marginBottom: 0,\n      padding: `${pxToRem(8)} ${pxToRem(24)} ${pxToRem(24)}`,\n    },\n  },\n};\n\nexport default cardContent;\n","size_bytes":833},"frontend-new/src/assets/theme/base/globals.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"../../../assets/theme/base/colors\";\n\nconst { info, dark } = colors;\n\nconst globals = {\n  html: {\n    scrollBehavior: \"smooth\",\n  },\n  \"*, *::before, *::after\": {\n    margin: 0,\n    padding: 0,\n  },\n  \"a, a:link, a:visited\": {\n    textDecoration: \"none !important\",\n  },\n  \"a.link, .link, a.link:link, .link:link, a.link:visited, .link:visited\": {\n    color: `${dark.main} !important`,\n    transition: \"color 150ms ease-in !important\",\n  },\n  \"a.link:hover, .link:hover, a.link:focus, .link:focus\": {\n    color: `${info.main} !important`,\n  },\n};\n\nexport default globals;\n","size_bytes":1156},"qms-source/BackEnd/src/server.js":{"content":"import express from 'express';\nimport { config } from 'dotenv';\nimport cors from 'cors';\nimport bodyParser from \"body-parser\";\nimport sequelize from \"./config/db.js\";\nimport companyRoutes from \"./routes/companyRoutes.js\";\nimport userRoutes from \"./routes/userRoutes.js\";\nimport roleRoutes from \"./routes/roleRoutes.js\";\nimport moduleRoutes from \"./routes/moduleRoutes.js\";\nimport roleModulePermissionRoutes from \"./routes/roleModulePermissionRoutes.js\";\nimport ensureSuperAdminRole from \"./utils/checkSuperRoleAdded.js\";\nimport taskRoutes from \"./routes/taskRoutes.js\";\nimport taskAssignmentRoutes from \"./routes/taskAssignmentRoutes.js\";\nimport commentRoutes from \"./routes/commentRoutes.js\";\nimport documentRoutes from \"./routes/documentRoutes.js\";\nimport authRoutes from \"./routes/authRoutes.js\";\nimport taskChangeLogRoutes from \"./routes/taskChangeLogRoutes.js\";\nimport notificationRoutes from \"./routes/notificationRoutes.js\";\nimport generalDocumentsRoutes from \"./routes/generalDocumentsRoutes.js\";\nimport iterationRoutes from \"./routes/iterationRoutes.js\";\nimport departmentRoutes from \"./routes/departmentRoutes.js\";\nimport http from \"http\";\nimport { initSocket } from \"./config/socket.js\";\nimport bootstrapSystemSuperAdmin from \"./utils/bootstrapSystemSuperAdmin.js\"; // run before app.listen()\n\n\n\n\n// Load environment variables\nconfig();\nconst app = express();\nconst server = http.createServer(app);\n\n// Initialize Socket.io\nconst io = initSocket(server,{\n    cors: { origin: \"*\" }\n});\n\n\n// Middleware\napp.use(express.json({ limit: \"50mb\" }));\napp.use(express.urlencoded({ limit: \"50mb\", extended: true }));\napp.use(cors());\napp.use(bodyParser.json());\n\n// Routes\napp.use(\"/api/auth\", authRoutes);\napp.use(\"/api/companies\", companyRoutes);\napp.use(\"/api/users\", userRoutes);\napp.use(\"/api/roles\", roleRoutes);\napp.use(\"/api/modules\", moduleRoutes);\napp.use(\"/api/permissions\", roleModulePermissionRoutes);\napp.use(\"/api/tasks\", taskRoutes);\napp.use(\"/api/task-assignments\", taskAssignmentRoutes);\napp.use(\"/api/comments\", commentRoutes);\napp.use(\"/api/documents\", documentRoutes);\napp.use(\"/api/taskChangeLog\", taskChangeLogRoutes);\napp.use(\"/api/uploads\", express.static(\"uploads\"));\napp.use(\"/api/notifications\", notificationRoutes);\napp.use(\"/api/generalDocuments\", generalDocumentsRoutes);\napp.use(\"/api/iteration\", iterationRoutes);\napp.use(\"/api/department\", departmentRoutes);\n\nconst PORT = process.env.PORT || 5000;\n\n// Ensure database sync\nsequelize\n  .sync({ alter: true }) // Use `force: true` only for development resets\n  .then(async () => {\n    console.log(\"âœ… Database & tables synced\");\n    await bootstrapSystemSuperAdmin();\n  })\n  .catch((err) => console.error(\"Error syncing database:\", err));\n\n// Start server\nserver.listen(PORT, () => {\n  console.log(`Server is running on port ${PORT}`);\n});\n","size_bytes":2825},"qms-source/frontend-new/src/styles/TaskList.css":{"content":"/* Task Container */\n.task-container {\n    padding: 20px;\n    background: #f4f4f4;\n    border-radius: 8px;\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n    max-width: 95%;\n    margin: auto;\n    overflow-x: hidden;\n}\n\n/* Header */\n.task-container h2 {\n    text-align: center;\n    color: #333;\n}\n\n/* Scrollable Table Container */\n.task-table {\n    margin-top: 20px;\n    border-radius: 8px;\n    max-width: 100%;\n    overflow-x: auto;\n    max-height: 70vh;\n    display: block;\n}\n\n/* Scrollable Table Container */\n.task-table {\n    margin-top: 20px;\n    border-radius: 8px;\n    width: 100%; /* Ensure full width */\n    max-height: 70vh;\n    overflow: auto; /* Enables both horizontal and vertical scrollbars */\n    display: block;\n}\n\n\n\n/* Sticky Header */\n.task-table thead {\n    position: sticky;\n    top: 0;\n    background: #007bff;\n    z-index: 2;\n}\n\n/* Table Headers */\n.task-table th {\n    background-color: #007bff;\n    color: white;\n    font-weight: bold;\n    text-align: center;\n    padding: 14px;\n    min-width: 150px;  /* Ensures enough space */\n    max-width: 200px;  /* Prevents headers from getting too wide */\n    border: 1px solid #0056b3;\n    border-radius: 6px;\n    font-size: 15px;\n    white-space: normal; /* Allows multi-line text */\n    word-break: break-word; /* Ensures words don't split awkwardly */\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n/* Table Cells */\n.task-table td {\n    padding: 12px;\n    text-align: left;\n    border-bottom: 1px solid #ddd;\n    white-space: normal;\n    word-break: break-word;\n}\n\n/* Hover Effect */\n.task-table tbody tr:hover {\n    background: #f1f1f1;\n}\n\n/* Action Buttons */\n.task-table button {\n    margin-right: 5px;\n    padding: 5px 10px;\n    border-radius: 5px;\n    font-size: 14px;\n}\n\n.task-table .delete-btn {\n    background-color: #dc3545;\n    color: white;\n}\n\n.task-table .delete-btn:hover {\n    background-color: #c82333;\n}\n\n/* Scrollbar Customization */\n.task-table::-webkit-scrollbar {\n    width: 8px;\n}\n\n.task-table::-webkit-scrollbar-thumb {\n    background: #888;\n    border-radius: 4px;\n}\n\n.task-table::-webkit-scrollbar-thumb:hover {\n    background: #555;\n}\n\n/* Dialog Styles */\n.MuiDialog-paper {\n    border-radius: 8px !important;\n    padding: 10px;\n}\n\n.MuiDialogTitle-root {\n    text-align: center;\n    font-weight: bold;\n}\n\n.MuiDialogActions-root {\n    justify-content: center;\n}\n\n/* Icon Buttons */\n.task-table .MuiIconButton-root {\n    padding: 5px;\n}\n\n.task-table .MuiSvgIcon-root {\n    font-size: 1.2rem;\n}\n\n.task-table .MuiIconButton-root:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n}\n\n/* Ensures column headers wrap correctly without splitting words */\n.header-cell {\n    background-color: #007bff;\n    color: white;\n    font-weight: bold;\n    text-align: center;\n    padding: 10px;\n    min-width: 150px;\n    max-width: 200px;\n    white-space: normal;\n    word-break: break-word;\n}\n\n/* Ensures dropdown filters match header style */\n.filter-dropdown {\n    background: white;\n    border-radius: 4px;\n}\n\n/* Responsive Adjustments */\n@media (max-width: 768px) {\n    .task-container {\n        padding: 15px;\n    }\n\n    .task-table {\n        max-height: 60vh;\n    }\n\n    .task-table table {\n        display: block;\n        overflow-x: auto;\n    }\n\n    .task-table th, .task-table td {\n        font-size: 14px;\n    }\n    \n    .cloud-upload-btn {\n        background-color: #007bff;\n        color: white;\n        border: none;\n        padding: 10px 15px;\n        border-radius: 5px;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        gap: 5px;\n      }\n      \n      .cloud-upload-btn:hover {\n        background-color: #0056b3;\n      }\n         \n/* File Upload Section (Same as Edit Task) */\n.file-upload-section {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 12px;\n    margin-top: 20px;\n    padding: 15px;\n    border: 2px dashed #b3b3b3;\n    border-radius: 10px;\n    background-color: #f7f7f7;\n    width: 100%;\n  }\n  \n  /* File Input */\n  .custom-file-input {\n    position: relative;\n    display: inline-block;\n    cursor: pointer;\n  }\n  \n  .custom-file-input input[type=\"file\"] {\n    position: absolute;\n    left: 0;\n    top: 0;\n    opacity: 0;\n    width: 100%;\n    height: 100%;\n    cursor: pointer;\n  }\n  \n  .custom-file-button {\n    display: inline-block;\n    padding: 10px 20px;\n    font-size: 16px;\n    font-weight: bold;\n    color: white;\n    background-color: #1976d2;\n    border-radius: 8px;\n    border: none;\n    cursor: pointer;\n    transition: background-color 0.3s;\n  }\n  \n  .custom-file-button:hover {\n    background-color: #509ce7;\n  }\n  \n  /* File Name Display */\n  .file-name {\n    margin-top: 5px;\n    font-size: 14px;\n    color: #333;\n    font-weight: bold;\n  }\n  \n  /* Button Group (Matches Edit Task) */\n  .button-group {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 25px;\n  }\n  \n  .button-group button {\n    width: 48%;\n    padding: 10px;\n    font-size: 16px;\n    font-weight: bold;\n  }\n  \n  /* Primary Button (Upload) */\n  .MuiButton-containedPrimary {\n    background-color: #1976d2 !important;\n    color: white !important;\n    transition: 0.3s;\n  }\n  \n  .MuiButton-containedPrimary:hover {\n    background-color: #509ce7 !important;\n  }\n  \n  /* Secondary Button (Cancel) */\n  .MuiButton-outlinedSecondary {\n    color: #d32f2f !important;\n    border-color: #d32f2f !important;\n    transition: 0.3s;\n  }\n  \n  .MuiButton-outlinedSecondary:hover {\n    background-color: #f8d7da !important;\n    border-color: #d32f2f !important;\n  }\n  .task-table-wrapper {\n    width: 100%;\n    overflow-x: auto; /* Enable horizontal scrolling */\n  }\n  \n  .task-table {\n    min-width: 1200px; /* Ensure the table doesnâ€™t shrink too much */\n  }\n  \n  .table-header-cell {\n    font-weight: bold;\n    background-color: #f4f4f4;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n  }\n  \n  /* Make the table more compact on small screens */\n  @media (max-width: 1024px) {\n    .task-table {\n      min-width: 100%;\n    }\n    .table-header-cell {\n      font-size: 14px;\n      padding: 8px;\n    }\n    .table-row td {\n      font-size: 12px;\n      padding: 6px;\n    }\n  }\n  \n  /* Hide less important columns on smaller screens */\n  @media (max-width: 768px) {\n    .task-table thead th:nth-child(2),\n    .task-table tbody td:nth-child(2),\n    .task-table thead th:nth-child(5),\n    .task-table tbody td:nth-child(5),\n    .task-table thead th:nth-child(7),\n    .task-table tbody td:nth-child(7) {\n      display: none;\n    }\n  }\n  .task-table-wrapper {\n    width: 100%;\n    max-width: 100%;\n    height: 500px; /* Set a fixed height for the table */\n    overflow: hidden; /* Prevent scrolling outside */\n  }\n  \n  .task-table {\n    width: 100%;\n    max-height: 100%;\n    overflow-y: auto; /* Enable vertical scrolling only for table */\n    display: block;\n  }\n  \n  .task-table thead {\n    position: sticky;\n    top: 0;\n    background-color: white;\n    z-index: 10;\n  }\n  \n  /* Ensure only the table body scrolls while the headers remain fixed */\n  .task-table tbody {\n    display: block;\n    max-height: 450px; /* Adjust based on your layout */\n    overflow-y: auto;\n    width: 100%;\n  }\n  \n  .task-table thead,\n  .task-table tbody tr {\n    display: table;\n    width: 100%;\n    table-layout: fixed;\n  }\n\n/* Each log entry styled like a card */\n.task-log-entry {\n    margin-bottom: 20px;\n    padding: 16px;\n    border: 1px solid #ddd;\n    border-radius: 12px;\n    background-color: #fdfdfd;\n    box-shadow: 0 1px 6px rgba(0, 0, 0, 0.08);\n  }\n\n/* Style the top line with who changed what and when */\n.task-log-header {\n  font-weight: 600;\n  color: #2e3a59;\n  font-size: 15px;\n  margin-bottom: 12px;\n  padding-bottom: 8px;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n/* Grid layout for From and To */\n.task-log-table {\n  display: grid;\n  grid-template-columns: max-content 1fr;\n  row-gap: 8px;\n  column-gap: 16px;\n  width: 100%;\n}\n\n\n/* Label styling (From:, To:) */\n.task-log-label {\n  font-weight: 500;\n  color: #555;\n  font-size: 14px;\n  white-space: nowrap;\n}\n\n/* Value cell */\n.task-log-table td {\n  font-size: 14px;\n  color: #333;\n  padding: 6px 0;\n}\n\n/* Empty values styled subtly */\n.task-log-empty {\n  font-style: italic;\n  color: #999;\n}\n\n.task-log-table tr {\n  margin-bottom: 6px;\n  display: contents; /* allows the grid structure to apply inside tr */\n}\n\n    \n}\n","size_bytes":8334},"BackEnd/src/models/Department.js":{"content":"import { DataTypes } from 'sequelize';\nimport sequelize from '../config/db.js';\n\nconst Department = sequelize.define('Department', {\n  id: {\n    type: DataTypes.UUID,\n    defaultValue: DataTypes.UUIDV4,\n    primaryKey: true\n  },\n  company_id: {\n    type: DataTypes.UUID,\n    allowNull: false,\n    references: {\n      model: 'Company',\n      key: 'id'\n    },\n    onDelete: 'CASCADE'\n  },\n  name: {\n    type: DataTypes.STRING,\n    allowNull: false\n  },\n  description: {\n    type: DataTypes.TEXT,\n    allowNull: true\n  },\n  is_active: {\n    type: DataTypes.BOOLEAN,\n    defaultValue: true\n  }\n}, {\n  tableName: 'department',\n  timestamps: true,\n  underscored: true\n});\n\nexport default Department;\n","size_bytes":694},"qms-source/frontend-new/src/assets/theme/components/divider.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"assets/theme/functions/rgba\";\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { dark, transparent, white } = colors;\n\nconst divider = {\n  styleOverrides: {\n    root: {\n      backgroundColor: transparent.main,\n      backgroundImage: `linear-gradient(to right, ${rgba(dark.main, 0)}, ${rgba(\n        dark.main,\n        0.4\n      )}, ${rgba(dark.main, 0)}) !important`,\n      height: pxToRem(1),\n      margin: `${pxToRem(16)} 0`,\n      borderBottom: \"none\",\n      opacity: 0.25,\n    },\n\n    vertical: {\n      backgroundColor: transparent.main,\n      backgroundImage: `linear-gradient(to bottom, ${rgba(dark.main, 0)}, ${rgba(\n        dark.main,\n        0.4\n      )}, ${rgba(dark.main, 0)}) !important`,\n      width: pxToRem(1),\n      height: \"100%\",\n      margin: `0 ${pxToRem(16)}`,\n      borderRight: \"none\",\n    },\n\n    light: {\n      backgroundColor: transparent.main,\n      backgroundImage: `linear-gradient(to right, ${rgba(white.main, 0)}, ${white.main}, ${rgba(\n        white.main,\n        0\n      )}) !important`,\n\n      \"&.MuiDivider-vertical\": {\n        backgroundImage: `linear-gradient(to bottom, ${rgba(white.main, 0)}, ${white.main}, ${rgba(\n          white.main,\n          0\n        )}) !important`,\n      },\n    },\n  },\n};\n\nexport default divider;\n","size_bytes":1953},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"frontend-new/src/pages/TaskManagement/BulkTaskAssignment.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport {\n  Autocomplete,\n  TextField,\n  Button,\n  Typography,\n  Paper,\n  Chip,\n  Grid,\n  TablePagination,\n  MenuItem,\n} from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport { useNavigate } from \"react-router-dom\";\nimport { CircularProgress } from \"@mui/material\";\n\nconst BulkTaskAssignment = () => {\n  const [getAllUsers, setGetAllUsers] = useState([]); // For display purposes\n  const [getAssignableUsers, setGetAssignableUsers] = useState([]); // For selection\n  const [tasks, setTasks] = useState([]);\n  const [taskAssignments, setTaskAssignments] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(0); // Pagination state\n  const [rowsPerPage, setRowsPerPage] = useState(5); // Pagination rows per page\n  const navigate = useNavigate();\n  const taskModuleId = \"1f0f190d-3a83-421c-af98-5d081100230e\";\n  const taskAssignmentModuleId = \"8530da98-7369-4ab7-9400-37cf4019e148\";\n  const [iterations, setIterations] = useState([]);\n  const [iterationId, setIterationId] = useState(\"\");\n\n  useEffect(() => {\n    const fetchUsersAndTasks = async () => {\n      setLoading(true);\n      try {\n        let token = localStorage.getItem(\"jwtToken\");\n        let company_id = sessionStorage.getItem(\"selectedCompany\");\n\n        if (!token) {\n          toast.error(\"Session expired. Please log in again.\");\n          navigate(\"/login\");\n          return;\n        }\n\n        const headers = { Authorization: `Bearer ${token}` };\n\n        // Step 1 & 2: Fetch All Users & Assignable Users in parallel\n        const [allUsersResponse, assignableUsersResponse, iterationsResponse] =\n          await Promise.all([\n            axiosInstance.get(\"/users/bd168912-e40c-48e3-b3d1-440a3e129d52\", {\n              headers,\n              params: { company_id },\n            }),\n            axiosInstance.get(\n              \"/users/bd168912-e40c-48e3-b3d1-440a3e129d52//getAssignableUser\",\n              {\n                headers,\n                params: { company_id },\n              }\n            ),\n            axiosInstance.get(`/iteration/${taskModuleId}`, {\n              headers,\n              params: { company_id }, // Add this to fetch iterations\n            }),\n          ]);\n\n        // const allUsers = allUsersResponse.data || [];\n        // const assignableUsers = assignableUsersResponse.data || [];\n        // setIterations(iterationsResponse.data || []);\n        // setGetAllUsers(allUsers);\n        // setGetAssignableUsers(assignableUsers);\n        setGetAllUsers(allUsersResponse.data || []);\n        setGetAssignableUsers(assignableUsersResponse.data || []);\n        setIterations(iterationsResponse.data || []);\n\n        // Step 3: Fetch Tasks\n        const tasksResponse = await axiosInstance.get(\n          `/tasks/${taskModuleId}`,\n          {\n            headers,\n            params: { company_id, iteration_id: iterationId || undefined },\n          }\n        );\n\n        const tasksData = tasksResponse.data || [];\n        setTasks(tasksData);\n\n        console.log(\"Tasks Fetched: \", tasksData);\n\n        // Step 4: Fetch Task Assignments\n        const assignmentsResponse = await axiosInstance.get(\n          `/task-assignments/${taskAssignmentModuleId}`,\n          { headers, params: { company_id } }\n        );\n\n        const assignments = assignmentsResponse.data.reduce(\n          (acc, assignment) => {\n            const users = assignment.user_ids\n              .map((id) => {\n                const user = allUsersResponse.data.find((u) => u.id === id);\n\n                if (!user) {\n                  console.warn(\n                    `User with ID ${id} not found in allUsersResponse`\n                  );\n                }\n                return user;\n              })\n              .filter(Boolean);\n\n            acc[assignment.task_id] = users;\n            return acc;\n          },\n          {}\n        );\n\n        setTaskAssignments(assignments);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error.response?.data || error);\n        if (error.response?.status === 403) {\n          toast.error(\"Access denied. Please log in again.\");\n          localStorage.removeItem(\"jwtToken\");\n          navigate(\"/login\");\n        } else {\n          toast.error(\"Failed to fetch data.\");\n        }\n      } finally {\n        setLoading(false); // Stop loading\n      }\n    };\n\n    fetchUsersAndTasks();\n  }, [navigate, iterationId]);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0); // Reset to the first page\n  };\n\n  const handleAssignAllTasks = async () => {\n    const assignments = Object.keys(taskAssignments)\n      .map((taskId) => ({\n        task_id: taskId,\n        user_ids: (taskAssignments[taskId] || [])\n          .map((user) => user?.id)\n          .filter(Boolean),\n      }))\n      .filter((assignment) => assignment.user_ids.length > 0);\n\n    if (assignments.length === 0) {\n      toast.error(\"Please assign at least one user to a task.\");\n      return;\n    }\n\n    try {\n      let token = localStorage.getItem(\"jwtToken\");\n\n      const requestData = { assignments };\n\n      console.log(\n        \" Sending requestData:\",\n        JSON.stringify(requestData, null, 2)\n      );\n\n      const response = await axiosInstance.post(\n        `/task-assignments/${taskAssignmentModuleId}`,\n        requestData,\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      console.log(\" API Response:\", response.data);\n\n      toast.success(\"Tasks assigned successfully!\");\n      navigate(\"/tasks\");\n    } catch (error) {\n      console.error(\"Error assigning tasks:\", error.response?.data || error);\n      toast.error(error.response?.data?.error || \"Failed to assign tasks.\");\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ textAlign: \"center\", marginTop: \"200px\" }}>\n        <CircularProgress size={50} thickness={2} />\n      </div>\n    );\n  }\n\n  // Slice tasks for pagination\n  const paginatedTasks = tasks.slice(\n    page * rowsPerPage,\n    page * rowsPerPage + rowsPerPage\n  );\n\n  return (\n    <Paper elevation={3} sx={{ p: 4, borderRadius: 3, mx: 8 }}>\n      <Grid container spacing={3} direction=\"column\">\n        {/* Title */}\n        <Grid item>\n          <Typography variant=\"h3\" fontWeight=\"bold\" sx={{ ml: 2 }}>\n            Bulk Task Assignment\n          </Typography>\n        </Grid>\n\n        {/* Iteration Filter */}\n        <Grid item sx={{ mb: 0.5, mt: 0 }}>\n          <TextField\n            select\n            label=\"Filter by Iteration\"\n            value={iterationId}\n            onChange={(e) => setIterationId(e.target.value)}\n            fullWidth={false}\n            size=\"small\"\n            variant=\"outlined\"\n            margin=\"dense\"\n            InputLabelProps={{\n              shrink: true,\n            }}\n            SelectProps={{\n              displayEmpty: true,\n              MenuProps: {\n                anchorOrigin: {\n                  vertical: \"bottom\",\n                  horizontal: \"left\",\n                },\n                transformOrigin: {\n                  vertical: \"top\",\n                  horizontal: \"left\",\n                },\n                PaperProps: {\n                  style: {\n                    maxHeight: 250,\n                    width: \"auto\",\n                  },\n                },\n              },\n            }}\n            sx={{\n              minWidth: 200,\n              \"& .MuiOutlinedInput-root\": {\n                borderRadius: 1,\n              },\n              \"& .MuiInputLabel-root\": {\n                color: \"rgba(0, 0, 0, 0.6)\",\n              },\n            }}\n          >\n            <MenuItem value=\"\">All Iterations</MenuItem>\n            {iterations.map((iter) => (\n              <MenuItem key={iter.id} value={iter.id}>\n                {iter.name}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid>\n\n        {/* Assign All Button */}\n        <Grid item>\n          <Grid container justifyContent=\"flex-end\">\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleAssignAllTasks}\n              sx={{\n                mb: 2,\n                textTransform: \"none\",\n                fontWeight: \"medium\",\n                boxShadow: 2,\n                px: 3,\n              }}\n            >\n              Assign All\n            </Button>\n          </Grid>\n        </Grid>\n\n        {/* Column Headers */}\n        <Grid item>\n          <Grid\n            container\n            sx={{\n              backgroundColor: \"#f5f5f5\",\n              borderRadius: 1,\n              px: 2,\n              py: 1,\n              fontWeight: \"bold\",\n            }}\n          >\n            <Grid item xs={6}>\n              <Typography sx={{ fontWeight: 600 }}>Checklist_Item</Typography>\n            </Grid>\n            <Grid item xs={6}>\n              <Typography sx={{ fontWeight: 600 }}>Assigned Users</Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n\n        {/* Task Rows */}\n        {paginatedTasks.map((task) => (\n          <Grid item key={task.id} xs={12} sm={6} md={4}>\n            <Paper\n              elevation={1}\n              sx={{\n                p: 2,\n                borderRadius: 2,\n                border: \"1px solid #e0e0e0\",\n                backgroundColor: \"#fff\",\n              }}\n            >\n              <Grid container spacing={2} alignItems=\"center\">\n                <Grid item xs={12} sm={6}>\n                  <Typography sx={{ fontSize: \"1rem\" }}>\n                    {task.title || task.Checklist_Item}\n                  </Typography>\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                  <Autocomplete\n                    multiple\n                    options={getAssignableUsers || []}\n                    getOptionLabel={(user) =>\n                      user\n                        ? `${user.name || user.email || \"Unknown User\"}${\n                            user.department?.name\n                              ? ` (${user.department.name})`\n                              : \"\"\n                          }`\n                        : \"Unknown User\"\n                    }\n                    isOptionEqualToValue={(option, value) =>\n                      option.id === value.id\n                    }\n                    value={taskAssignments[task.id] || []}\n                    onChange={(event, newValue) => {\n                      const nonRemovableUsers = (\n                        taskAssignments[task.id] || []\n                      ).filter(\n                        (user) =>\n                          !getAssignableUsers.some(\n                            (assignable) => assignable.id === user.id\n                          )\n                      );\n\n                      const uniqueUsersMap = new Map();\n                      nonRemovableUsers.forEach((user) =>\n                        uniqueUsersMap.set(user.id, user)\n                      );\n                      newValue.forEach((user) =>\n                        uniqueUsersMap.set(user.id, user)\n                      );\n\n                      setTaskAssignments({\n                        ...taskAssignments,\n                        [task.id]: Array.from(uniqueUsersMap.values()),\n                      });\n                    }}\n                    renderTags={(value, getTagProps) =>\n                      value\n                        .filter((option) => option)\n                        .map((option, index) => {\n                          const tagProps = getTagProps({ index });\n                          const { key, ...restTagProps } = tagProps;\n\n                          return (\n                            <Chip\n                              key={option.id || key}\n                              label={`${\n                                option.name || option.email || \"Unknown User\"\n                              }${\n                                option.department?.name\n                                  ? ` (${option.department.name})`\n                                  : \"\"\n                              }`}\n                              onDelete={\n                                getAssignableUsers.some(\n                                  (assignable) => assignable.id === option.id\n                                )\n                                  ? tagProps.onDelete\n                                  : undefined\n                              }\n                              sx={{ mr: 0.5, mb: 0.5 }}\n                              {...restTagProps}\n                            />\n                          );\n                        })\n                    }\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        label=\"Select Users\"\n                        variant=\"outlined\"\n                        size=\"small\"\n                      />\n                    )}\n                    sx={{ minWidth: \"100%\" }}\n                  />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n        ))}\n\n        {/* Pagination */}\n        <TablePagination\n          rowsPerPageOptions={[5, 10, 25]}\n          component=\"div\"\n          count={tasks.length}\n          rowsPerPage={rowsPerPage}\n          page={page}\n          onPageChange={handleChangePage}\n          onRowsPerPageChange={handleChangeRowsPerPage}\n          sx={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            width: \"100%\",\n          }}\n        />\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default BulkTaskAssignment;\n","size_bytes":13822},"frontend-new/src/assets/theme-dark/components/svgIcon.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst svgIcon = {\n  defaultProps: {\n    fontSize: \"inherit\",\n  },\n\n  styleOverrides: {\n    fontSizeInherit: {\n      fontSize: \"inherit !important\",\n    },\n\n    fontSizeSmall: {\n      fontSize: `${pxToRem(20)} !important`,\n    },\n\n    fontSizeLarge: {\n      fontSize: `${pxToRem(36)} !important`,\n    },\n  },\n};\n\nexport default svgIcon;\n","size_bytes":966},"qms-source/frontend-new/src/assets/theme/components/container.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport breakpoints from \"assets/theme/base/breakpoints\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst {\n  values: { sm, md, lg, xl, xxl },\n} = breakpoints;\n\nconst SM = `@media (min-width: ${sm}px)`;\nconst MD = `@media (min-width: ${md}px)`;\nconst LG = `@media (min-width: ${lg}px)`;\nconst XL = `@media (min-width: ${xl}px)`;\nconst XXL = `@media (min-width: ${xxl}px)`;\n\nconst sharedClasses = {\n  paddingRight: `${pxToRem(24)} !important`,\n  paddingLeft: `${pxToRem(24)} !important`,\n  marginRight: \"auto !important\",\n  marginLeft: \"auto !important\",\n  width: \"100% !important\",\n  position: \"relative\",\n};\n\nconst container = {\n  [SM]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"540px !important\",\n    },\n  },\n  [MD]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"720px !important\",\n    },\n  },\n  [LG]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"960px !important\",\n    },\n  },\n  [XL]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"1140px !important\",\n    },\n  },\n  [XXL]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"1320px !important\",\n    },\n  },\n};\n\nexport default container;\n","size_bytes":1838},"qms-source/BackEnd/src/controllers/departmentController.js":{"content":"import { error } from 'console';\nimport Department from '../models/Department.js';\nimport User from '../models/User.js';\nimport Role from '../models/Role.js'\n\nexport const createDepartment = async (req, res) => {\n  try {\n    const {  name, description } = req.body;\n    const user_id = req.user.id;\n\n        // Fetch user's role and company ID\n        const user = await User.findByPk(user_id, {\n            include: [{ model: Role, attributes: [\"name\"], required: true }]\n        });\n\n        if (!user) {\n            return res.status(404).json({ error: \"User not found\" });\n        }\n\n        const userRole = user.Role ? user.Role.name : null;\n        let company_id;\n\n        if (userRole === \"System Super Admin\") {\n            company_id = req.body.company_id;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n            }\n        } else {\n            company_id = req.user.company;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n            }\n        }\n\n        if(!name){\n            return res.status(400).json({error:\"Department name is required\"})\n        }\n    const department = await Department.create({ company_id, name, description });\n    res.status(201).json(department);\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n};\n\nexport const getAllDepartments = async (req, res) => {\n  try {\n    const user_id = req.user.id;\n\n        // Fetch user's role and company ID\n        const user = await User.findByPk(user_id, {\n            include: [{ model: Role, attributes: [\"name\"], required: true }]\n        });\n\n        if (!user) {\n            return res.status(404).json({ error: \"User not found\" });\n        }\n\n        const userRole = user.Role ? user.Role.name : null;\n        let company_id;\n\n        if (userRole === \"System Super Admin\") {\n            company_id = req.query.company_id;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n            }\n        } else {\n            company_id = req.user.company;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n            }\n        }\n    const departments = await Department.findAll(\n        {\n            where: { is_active: true ,company_id}\n        }\n    );\n    res.json(departments);\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n};\n\nexport const getDepartmentById = async (req, res) => {\n  try {\n    const { id } = req.params;\n    const department = await Department.findByPk(id);\n    if (!department) return res.status(404).json({ error: 'Department not found' });\n    res.json(department);\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n};\n\nexport const updateDepartment = async (req, res) => {\n  try {\n    const { id } = req.params;\n    const { name, description, is_active } = req.body;\n    const department = await Department.findByPk(id);\n    if (!department) return res.status(404).json({ error: 'Department not found' });\n\n    department.name = name ?? department.name;\n    department.description = description ?? department.description;\n    if (typeof is_active === 'boolean') department.is_active = is_active;\n\n    await department.save();\n    res.json(department);\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n};\n\nexport const deleteDepartment = async (req, res) => {\n  try {\n    const { id } = req.params;\n\n    // Check if department exists\n    const department = await Department.findByPk(id);\n    if (!department) {\n      return res.status(404).json({ error: 'Department not found' });\n    }\n\n    // Find all users assigned to this department\n    const assignedUsers = await User.findAll({\n      where: { department_id: id },\n      attributes: ['id', 'name']\n    });\n\n    if (assignedUsers.length > 0) {\n      const userNames = assignedUsers.map(user => user.name).join(', ');\n      return res.status(400).json({\n        error: `Cannot delete department: It is assigned to the following user(s): ${userNames}`\n      });\n    }\n\n    // Safe to delete\n    await department.destroy();\n    res.json({ message: 'Department deleted successfully' });\n\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n};\n\n\nexport default {createDepartment,getAllDepartments,getDepartmentById,updateDepartment,deleteDepartment}","size_bytes":4617},"qms-source/BackEnd/src/models/Company.js":{"content":"import { DataTypes } from 'sequelize';\nimport sequelize from '../config/db.js';\n\nconst Company = sequelize.define('Company', {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    name: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    industry: {\n        type: DataTypes.STRING,\n        allowNull: true\n    },\n    domain: {\n        type: DataTypes.STRING,\n        allowNull: true\n    },\n    is_active: {\n        type: DataTypes.BOOLEAN,\n        defaultValue: true\n    }\n}, {\n    timestamps: true,\n    freezeTableName: true,\n    defaultScope: {\n        where: {\n            is_active: true\n        }\n    },\n    scopes: {\n        all: { where: {} } // to include both active and inactive when needed\n    }\n});\n\nexport default Company;\n","size_bytes":817},"frontend-new/src/assets/theme-dark/components/dialog/dialogActions.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst dialogActions = {\n  styleOverrides: {\n    root: {\n      padding: pxToRem(16),\n    },\n  },\n};\n\nexport default dialogActions;\n","size_bytes":760},"qms-source/BackEnd/src/models/Module.js":{"content":"import { DataTypes } from 'sequelize';\nimport sequelize from '../config/db.js';\n\nconst Module = sequelize.define('Module', {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    name: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    description: {\n        type: DataTypes.TEXT,\n        allowNull: true\n    }\n}, {\n    timestamps: true,\n    freezeTableName: true    // Prevent pluralization of table name\n});\n\nexport default Module;\n","size_bytes":515},"BackEnd/src/config/socket.js":{"content":"import { Server } from \"socket.io\";\n\nlet io;\n\n\n\n\nexport const initSocket = (server) => {\n    io = new Server(server, {\n        cors: {\n            origin: [\"http://localhost:3000\", \"http://ec2-13-233-161-146.ap-south-1.compute.amazonaws.com:3000\", \"https://syscomply.com\"], // Change this to match frontend URL\n            credentials: true\n        }\n    });\n\n    io.on(\"connection\", (socket) => {\n        console.log(\"âœ… WebSocket Connection Established:\", socket.id);\n\n        socket.on(\"join\", (userId) => {\n            socket.join(userId);\n            console.log(`ðŸ“¢ User ${userId} joined room`);\n        });\n\n        socket.on(\"disconnect\", () => {\n            console.log(\"âŒ User disconnected:\", socket.id);\n        });\n    });\n\n    return io;\n};\n\n\n\nexport const getSocket = () => {\n    if (!io) {\n        throw new Error(\"Socket.io not initialized\");\n    }\n    return io;\n};\n","size_bytes":888},"qms-source/BackEnd/src/routes/index.js":{"content":"","size_bytes":0},"qms-source/frontend-new/src/assets/theme-dark/components/slider.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { grey, white, black, info } = colors;\nconst { borderRadius, borderWidth } = borders;\nconst { sliderBoxShadow } = boxShadows;\n\nconst slider = {\n  styleOverrides: {\n    root: {\n      width: \"100%\",\n\n      \"& .MuiSlider-active, & .Mui-focusVisible\": {\n        boxShadow: \"none !important\",\n      },\n\n      \"& .MuiSlider-valueLabel\": {\n        color: black.main,\n      },\n    },\n\n    rail: {\n      height: pxToRem(2),\n      background: grey[200],\n      borderRadius: borderRadius.sm,\n      opacity: 1,\n    },\n\n    track: {\n      background: info.main,\n      height: pxToRem(2),\n      position: \"relative\",\n      border: \"none\",\n      borderRadius: borderRadius.lg,\n      zIndex: 1,\n    },\n\n    thumb: {\n      width: pxToRem(14),\n      height: pxToRem(14),\n      backgroundColor: white.main,\n      zIndex: 10,\n      boxShadow: sliderBoxShadow.thumb,\n      border: `${borderWidth[1]} solid ${info.main}`,\n\n      \"&:hover\": {\n        boxShadow: \"none\",\n      },\n    },\n  },\n};\n\nexport default slider;\n","size_bytes":1820},"qms-source/frontend-new/src/pages/module_management/ModuleForm.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport {\n  Container,\n  Paper,\n  Typography,\n  TextField,\n  Button,\n  Box,\n} from \"@mui/material\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst moduleId = \"881fc061-b852-4a9b-a430-ea96ba99194d\";\n\nconst ModuleForm = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [moduleData, setModuleData] = useState({ name: \"\", description: \"\" });\n\n  useEffect(() => {\n    if (id) {\n      // Fetch module details if editing\n      axiosInstance\n        .get(`/modules/${moduleId}/${id}`)\n        .then((res) => {\n          setModuleData(res.data);\n          toast.info(\"Module details loaded\", { position: \"top-right\" });\n        })\n        .catch((err) => {\n          console.error(\"Error fetching module:\", err);\n          toast.error(\"Failed to fetch module details\", {\n            position: \"top-right\",\n          });\n        });\n    }\n  }, [id]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const request = id\n      ? axiosInstance.put(`/modules/${moduleId}/${id}`, moduleData) // Update module\n      : axiosInstance.post(`/modules/${moduleId}`, moduleData); // Create new module\n\n    request\n      .then(() => {\n        toast.success(`Module ${id ? \"updated\" : \"created\"} successfully`, {\n          position: \"top-right\",\n        });\n        setTimeout(() => navigate(\"/modules\"), 1500); // Delay navigation so toast is visible\n      })\n      .catch((err) => {\n        console.error(\"Error saving module:\", err);\n        toast.error(\"Failed to save module\", { position: \"top-right\" });\n      });\n  };\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ px: { xs: 2, sm: 3 } }}>\n      <ToastContainer />\n      <Paper\n        elevation={4}\n        sx={{\n          mt: 4,\n          p: 3,\n          mx: 4,\n          borderRadius: 3,\n          backgroundColor: \"#f9f9f9\",\n          boxShadow: \"0px 4px 12px rgba(0, 0, 0, 0.1)\",\n        }}\n      >\n        {/* Title */}\n        <Box sx={{ display: \"flex\", justifyContent: \"flex-start\", mb: 3 }}>\n          <Typography variant=\"h5\" fontWeight={600}>\n            {id ? \"Edit Module\" : \"Create Module\"}\n          </Typography>\n        </Box>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit}>\n          <Box sx={{ display: \"grid\", gap: 2 }}>\n            <TextField\n              label=\"Module Name\"\n              fullWidth\n              required\n              value={moduleData.name}\n              onChange={(e) =>\n                setModuleData({ ...moduleData, name: e.target.value })\n              }\n            />\n            <TextField\n              label=\"Module Description\"\n              multiline\n              rows={3}\n              fullWidth\n              value={moduleData.description}\n              onChange={(e) =>\n                setModuleData({ ...moduleData, description: e.target.value })\n              }\n            />\n          </Box>\n\n          {/* Submit Button */}\n          <Box\n            sx={{\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              gap: 2, // adds space between buttons\n              mt: 3,\n            }}\n          >\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              sx={{\n                px: 4,\n                py: 1.5,\n                fontSize: \"16px\",\n                fontWeight: 500,\n                borderRadius: 2,\n                boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n              }}\n            >\n              {id ? \"Update\" : \"Create\"}\n            </Button>\n\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => window.history.back()}\n              sx={{\n                px: 3,\n                py: 1.5,\n                fontSize: \"16px\",\n                fontWeight: 500,\n                borderRadius: 2,\n              }}\n            >\n              Close\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default ModuleForm;\n","size_bytes":4229},"qms-source/frontend-new/src/assets/theme/components/stepper/stepIcon.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport boxShadow from \"assets/theme/functions/boxShadow\";\n\nconst { white } = colors;\n\nconst stepIcon = {\n  styleOverrides: {\n    root: {\n      background: \"#9fc9ff\",\n      fill: \"#9fc9ff\",\n      stroke: \"#9fc9ff\",\n      strokeWidth: pxToRem(10),\n      width: pxToRem(13),\n      height: pxToRem(13),\n      borderRadius: \"50%\",\n      zIndex: 99,\n      transition: \"all 200ms linear\",\n\n      \"&.Mui-active\": {\n        background: white.main,\n        fill: white.main,\n        stroke: white.main,\n        borderColor: white.main,\n        boxShadow: boxShadow([0, 0], [0, 2], white.main, 1),\n      },\n\n      \"&.Mui-completed\": {\n        background: white.main,\n        fill: white.main,\n        stroke: white.main,\n        borderColor: white.main,\n        boxShadow: boxShadow([0, 0], [0, 2], white.main, 1),\n      },\n    },\n  },\n};\n\nexport default stepIcon;\n","size_bytes":1568},"frontend-new/src/assets/theme-dark/components/linearProgress.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { borderRadius } = borders;\nconst { light } = colors;\n\nconst linearProgress = {\n  styleOverrides: {\n    root: {\n      height: pxToRem(6),\n      borderRadius: borderRadius.md,\n      overflow: \"visible\",\n      position: \"relative\",\n    },\n\n    colorPrimary: {\n      backgroundColor: light.main,\n    },\n\n    colorSecondary: {\n      backgroundColor: light.main,\n    },\n\n    bar: {\n      height: pxToRem(6),\n      borderRadius: borderRadius.sm,\n      position: \"absolute\",\n      transform: `translate(0, 0) !important`,\n      transition: \"width 0.6s ease !important\",\n    },\n  },\n};\n\nexport default linearProgress;\n","size_bytes":1395},"qms-source/frontend-new/src/assets/theme/components/tabs/tab.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme/base/typography\";\nimport borders from \"assets/theme/base/borders\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { size, fontWeightRegular } = typography;\nconst { borderRadius } = borders;\nconst { dark } = colors;\n\nconst tab = {\n  styleOverrides: {\n    root: {\n      display: \"flex\",\n      alignItems: \"center\",\n      flexDirection: \"row\",\n      flex: \"1 1 auto\",\n      textAlign: \"center\",\n      maxWidth: \"unset !important\",\n      minWidth: \"unset !important\",\n      minHeight: \"unset !important\",\n      fontSize: size.md,\n      fontWeight: fontWeightRegular,\n      textTransform: \"none\",\n      lineHeight: \"inherit\",\n      padding: pxToRem(4),\n      borderRadius: borderRadius.lg,\n      color: `${dark.main} !important`,\n      opacity: \"1 !important\",\n\n      \"& .material-icons, .material-icons-round\": {\n        marginBottom: \"0 !important\",\n        marginRight: pxToRem(6),\n      },\n\n      \"& svg\": {\n        marginBottom: \"0 !important\",\n        marginRight: pxToRem(6),\n      },\n    },\n\n    labelIcon: {\n      paddingTop: pxToRem(4),\n    },\n  },\n};\n\nexport default tab;\n","size_bytes":1789},"frontend-new/src/assets/theme/components/form/textField.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\n\nconst { transparent } = colors;\n\nconst textField = {\n  styleOverrides: {\n    root: {\n      backgroundColor: transparent.main,\n    },\n  },\n};\n\nexport default textField;\n","size_bytes":781},"frontend-new/src/assets/theme-dark/components/stepper/stepConnector.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\nimport colors from \"assets/theme-dark/base/colors\";\n\nconst { white } = colors;\nconst { borderWidth } = borders;\n\nconst stepConnector = {\n  styleOverrides: {\n    root: {\n      color: \"#9fc9ff\",\n      transition: \"all 200ms linear\",\n\n      \"&.Mui-active\": {\n        color: white.main,\n      },\n\n      \"&.Mui-completed\": {\n        color: white.main,\n      },\n    },\n\n    alternativeLabel: {\n      top: \"14%\",\n      left: \"-50%\",\n      right: \"50%\",\n    },\n\n    line: {\n      borderWidth: `${borderWidth[2]} !important`,\n      borderColor: \"currentColor\",\n      opacity: 0.5,\n    },\n  },\n};\n\nexport default stepConnector;\n","size_bytes":1237},"BackEnd/src/models/Document.js":{"content":"import { DataTypes } from \"sequelize\";\nimport sequelize from \"../config/db.js\";\nimport Task from \"./Task.js\";  // Import Task model\nimport User from \"./User.js\";  // Import User model\n\n\nconst Document = sequelize.define(\"Document\", {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    task_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: Task, key: \"id\" }  // Task model is now imported\n    },\n    user_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: User, key: \"id\" }  // User model is now imported\n    },\n    file_name: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    file_path: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    remark: {\n        type: DataTypes.STRING,\n        allowNull: true\n    },\n    uploaded_at: {\n        type: DataTypes.DATE,\n        defaultValue: DataTypes.NOW\n    },\n    issue_date: {\n        type: DataTypes.DATE,\n        allowNull: true  \n    },\n    is_deleted: {\n        type: DataTypes.BOOLEAN,\n        defaultValue: false\n    }\n}, { timestamps: false });\n\nDocument.belongsTo(User, { foreignKey: \"user_id\", as: \"uploader\" });\n\n\n// Document.afterCreate(async (doc) => {\n//     try {\n//         console.log(\"ðŸ“‚ New document uploaded:\", doc.dataValues);\n\n//         const io = getSocket();\n//         const { task_id, user_id, file_name } = doc;\n\n//         // âœ… Fetch task details\n//         const task = await Task.findByPk(task_id, { attributes: [\"name\", \"company_id\", \"createdBy\"] });\n\n//         if (!task || !task.company_id) {\n//             console.log(\"âŒ Task or Company not found for document:\", task_id);\n//             return;\n//         }\n\n//         const company_id = task.company_id;\n\n//         // âœ… Get Super Admins of the same company\n//         const superAdmins = await User.findAll({\n//             include: { model: Role, where: { name: \"Super Admin\" }, attributes: [] },\n//             where: { company_id },\n//             attributes: [\"id\"]\n//         });\n\n//         const superAdminIds = superAdmins.map(user => user.id);\n\n//         // âœ… Get System Super Admins (to be excluded)\n//         const systemSuperAdmins = await User.findAll({\n//             include: { model: Role, where: { name: \"System Super Admin\" }, attributes: [] },\n//             attributes: [\"id\"]\n//         });\n\n//         const systemSuperAdminIds = new Set(systemSuperAdmins.map(user => user.id));\n\n//         // âœ… Get Assignees & Assigners\n//         const taskAssignments = await TaskAssignment.findAll({\n//             where: { task_id },\n//             attributes: [\"user_ids\", \"assign_by\"]\n//         });\n\n//         let assigneeIds = [];\n//         let assignerIds = new Set();\n\n//         taskAssignments.forEach(assignment => {\n//             assigneeIds.push(...assignment.user_ids);\n//             assignerIds.add(assignment.assign_by);\n//         });\n\n//         // âœ… Get Task Creator\n//         const taskCreatorId = task.createdBy;\n\n//         console.log(`Super Admins: ${superAdminIds}`);\n//         console.log(`System Super Admins (excluded): ${Array.from(systemSuperAdminIds)}`);\n\n//         // âœ… Recipients (Super Admins, Assignees, Assigners, Task Creator)\n//         const recipients = new Set([...superAdminIds, ...assigneeIds, ...assignerIds, taskCreatorId]);\n\n//         // âœ… Remove uploader and System Super Admins from notifications\n//         recipients.delete(user_id);\n//         systemSuperAdminIds.forEach((sysAdminId) => recipients.delete(sysAdminId));\n\n//         if (recipients.size === 0) {\n//             console.log(\"âš ï¸ No recipients found for document upload in task:\", task_id);\n//             return;\n//         }\n\n//         // âœ… Notification message\n//         const taskName = task.name || `Task ID: ${task_id}`;\n//         const message = `New document \"${file_name}\" uploaded for task: ${taskName}`;\n\n//         // âœ… Create notifications\n//         const notifications = Array.from(recipients).map(userId => ({\n//             user_id: userId,\n//             task_id,\n//             type: \"document_upload\",\n//             message,\n//             seen: false\n//         }));\n\n//         // âœ… Save notifications to DB\n//         if (notifications.length > 0) {\n//             // ðŸ” Create notifications\n//             const createdNotifications = await Notification.bulkCreate(notifications, { returning: true });\n        \n//             console.log(\"âœ… Notifications created successfully:\", createdNotifications.map(n => n.toJSON()));\n        \n//             // ðŸ” Emit each full notification individually\n//             createdNotifications.forEach(notification => {\n//                 io.to(notification.user_id).emit(\"new_notification\", {\n//                     id: notification.id,\n//                     user_id: notification.user_id,\n//                     task_id: notification.task_id,\n//                     type: notification.type,\n//                     message: notification.message,\n//                     is_seen: notification.seen, // assuming your DB column is `seen`, but frontend expects `is_seen`\n//                     created_at: notification.createdAt\n//                 });\n//             });\n//         }\n        \n\n//     } catch (error) {\n//         console.error(\"âŒ Error creating document upload notification:\", error);\n//     }\n// });\n\n\nexport default Document;\n\n","size_bytes":5495},"frontend-new/src/assets/theme-dark/components/table/tableCell.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { borderWidth } = borders;\nconst { light } = colors;\n\nconst tableCell = {\n  styleOverrides: {\n    root: {\n      padding: `${pxToRem(12)} ${pxToRem(16)}`,\n      borderBottom: `${borderWidth[1]} solid ${light.main}`,\n    },\n  },\n};\n\nexport default tableCell;\n","size_bytes":1042},"BackEnd/src/routes/moduleRoutes.js":{"content":"import express from 'express';\nimport moduleController from '../controllers/moduleController.js';\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post('/:moduleId',authenticateUser,checkPermission(\"write\"), moduleController.createModule);      // Add a new module\nrouter.get('/:moduleId',authenticateUser, checkPermission(\"read\"),moduleController.getAllModules);      // Get all modules\nrouter.get('/:moduleId/:id',authenticateUser, checkPermission(\"read\"),moduleController.getModuleById);   // Get module by ID\nrouter.put('/:moduleId/:id',authenticateUser, checkPermission(\"write\"),moduleController.updateModule);    // Update a module\nrouter.delete('/:moduleId/:id',authenticateUser,checkPermission(\"delete\"), moduleController.deleteModule); // Delete a module\n\nexport default router;\n","size_bytes":919},"frontend-new/src/pages/Iteration/IterationList.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport {\n  Paper,\n  Typography,\n  Button,\n  Grid,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Box,\n} from \"@mui/material\";\nimport { Delete, Edit } from \"@mui/icons-material\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast } from \"react-toastify\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { DataGrid } from \"@mui/x-data-grid\";\n\nconst taskModuleId = \"1f0f190d-3a83-421c-af98-5d081100230e\";\n\nconst IterationList = () => {\n  const [iterations, setIterations] = useState([]);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [selectedIterationId, setSelectedIterationId] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const location = useLocation();\n  const queryParams = new URLSearchParams(location.search);\n  const refresh = queryParams.get(\"refresh\");\n  const [page, setPage] = useState(0);\n  const [pageSize, setPageSize] = useState(5);\n\nuseEffect(() => {\n  if (refresh) {\n    fetchIterations().then(() => {\n      navigate(location.pathname, { replace: true }); // removes ?refresh=1\n    });\n  } else {\n    fetchIterations();\n  }\n}, [refresh]);\n\n\n  const company_id = sessionStorage.getItem(\"selectedCompany\");\n  console.log(\"Company ID from sessionStorage:\", company_id);\n\n  // Fetch iterations for the selected company .\n  const fetchIterations = async () => {\n    try {\n      const company_id = sessionStorage.getItem(\"selectedCompany\");\n\n      if (!company_id) {\n        toast.error(\"Company ID is required.\");\n        return;\n      }\n\n      const response = await axiosInstance.get(`/iteration/${taskModuleId}`, {\n        params: { company_id },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n        },\n      });\n\n      setIterations(response.data || []);\n    } catch (error) {\n      const errorMsg =\n        error?.response?.data?.error ||\n        error?.response?.data?.message ||\n        error?.message ||\n        \"Unknown error\";\n\n      console.error(\"Error fetching iterations:\", errorMsg, error.response);\n      toast.error(`Failed to fetch iterations: ${errorMsg}`);\n    }\n  };\n\n  // Handle iteration soft delete\n  const handleDelete = async () => {\n    try {\n      setLoading(true);\n\n      const token = localStorage.getItem(\"jwtToken\");\n      const company_id = sessionStorage.getItem(\"selectedCompany\");\n\n      if (!token || !company_id) {\n        setError(\"Authorization or Company ID missing.\");\n        return;\n      }\n\n      await axiosInstance.delete(\n        `/iteration/${taskModuleId}/${selectedIterationId}`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n          data: { company_id },\n        }\n      );\n\n      setIterations((prevIterations) =>\n        prevIterations.filter(\n          (iteration) => iteration.id !== selectedIterationId\n        )\n      );\n      setError(\"\");\n      toast.success(\"Iteration soft deleted successfully!\");\n      setDeleteDialogOpen(false);\n    } catch (error) {\n      const backendError =\n        error?.response?.data?.error ||\n        error?.response?.data?.message ||\n        error.message ||\n        \"Unknown error\";\n\n      toast.error(`Delete failed: ${backendError}`);\n      setError(\"Delete failed\");\n      console.error(\"Delete failed:\", backendError);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // DataGrid column definitions\n  const columns = [\n    { field: \"name\", headerName: \"Name\", width: 180, filterable: true },\n    {\n      field: \"start_date\",\n      headerName: \"Start Date\",\n      width: 180,\n      filterable: true,\n    },\n    { field: \"end_date\", headerName: \"End Date\", width: 180, filterable: true },\n    {\n      field: \"description\",\n      headerName: \"Description\",\n      width: 300,\n      filterable: true,\n    },\n    {\n      field: \"createdAt\",\n      headerName: \"Created At\",\n      width: 180,\n      filterable: true,\n    },\n    {\n      field: \"actions\",\n      headerName: \"Actions\",\n      width: 180,\n      filterable: false,\n      renderCell: (params) => (\n        <>\n          <IconButton\n            color=\"primary\"\n            href={`/iteration/edit/${taskModuleId}/${params.row.id}`}\n          >\n            <Edit />\n          </IconButton>\n          <IconButton\n            color=\"error\"\n            onClick={() => {\n              setSelectedIterationId(params.row.id);\n              setDeleteDialogOpen(true);\n            }}\n          >\n            <Delete />\n          </IconButton>\n        </>\n      ),\n    },\n  ];\n\n  //  rows for the DataGrid\n\n  const rows = iterations.map((iter) => ({\n    id: iter.id,\n    name: iter.name,\n    start_date: iter.start_date?.split(\"T\")[0],\n    end_date: iter.end_date?.split(\"T\")[0],\n    description: iter.description || \"No description\",\n    createdAt: iter.createdAt?.split(\"T\")[0],\n  }));\n\n  return (\n  <Paper\n  elevation={4}\n  sx={{\n    borderRadius: \"0.5rem\",\n    padding: 2,\n    marginLeft: 4,\n    marginRight: 2,\n    marginTop: 4,\n    mb: 2,\n  }}\n>\n\n        <Typography variant=\"h5\" gutterBottom>\n          Iteration List\n        </Typography>\n\n        {/* Button to add a new iteration */}\n        <Box display=\"flex\" justifyContent=\"flex-end\" mb={2}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            href={`/iteration/create/${taskModuleId}`}\n          >\n            Add Iteration\n          </Button>\n        </Box>\n\n        <Grid container sx={{ mt: 2 }}>\n          <Grid item xs={12}>\n            <div style={{ height: 400, width: \"100%\" }}>\n              <DataGrid\n                rows={rows}\n                columns={columns}\n                paginationModel={{\n                  pageSize: pageSize,\n                  page: page,\n                }}\n                onPaginationModelChange={(model) => {\n                  setPage(model.page);\n                  setPageSize(model.pageSize);\n                }}\n                pageSizeOptions={[5, 10, 25]}\n                pagination\n                disableRowSelectionOnClick\n                autoHeight\n              />\n            </div>\n          </Grid>\n        </Grid>\n\n        {/* Delete confirmation dialog */}\n        <Dialog\n          open={deleteDialogOpen}\n          onClose={() => setDeleteDialogOpen(false)}\n        >\n          <DialogTitle>Confirm Soft Delete</DialogTitle>\n          <DialogContent>\n            <Typography>\n              Are you sure you want to soft delete this iteration?\n            </Typography>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => setDeleteDialogOpen(false)}>Cancel</Button>\n            <Button onClick={handleDelete} color=\"error\">\n              Soft Delete\n            </Button>\n          </DialogActions>\n        </Dialog>\n     </Paper>\n  );\n};\n\nexport default IterationList;\n","size_bytes":6957},"frontend-new/src/assets/theme-dark/components/stepper/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport linearGradient from \"assets/theme-dark/functions/linearGradient\";\n\nconst { transparent, gradients } = colors;\nconst { borderRadius } = borders;\nconst { colored } = boxShadows;\n\nconst stepper = {\n  styleOverrides: {\n    root: {\n      background: linearGradient(gradients.info.main, gradients.info.state),\n      padding: `${pxToRem(24)} 0 ${pxToRem(16)}`,\n      borderRadius: borderRadius.lg,\n      boxShadow: colored.info,\n\n      \"&.MuiPaper-root\": {\n        backgroundColor: transparent.main,\n      },\n    },\n  },\n};\n\nexport default stepper;\n","size_bytes":1387},"frontend-new/src/assets/theme/functions/rgba.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The rgba() function helps you to create a rgba color code, it uses the hexToRgb() function\n  to convert the hex code into rgb for using it inside the rgba color format.\n */\n\n// Material Dashboard 2 React helper functions\nimport hexToRgb from \"assets/theme/functions/hexToRgb\";\n\nfunction rgba(color, opacity) {\n  return `rgba(${hexToRgb(color)}, ${opacity})`;\n}\n\nexport default rgba;\n","size_bytes":912},"BackEnd/src/controllers/moduleController.js":{"content":"import Module from '../models/Module.js';\n\n// Create a new module\n const createModule = async (req, res) => {\n    try {\n        const { name, description } = req.body;\n        if (!name) return res.status(400).json({ error: 'Module name is required' });\n\n        const module = await Module.create({ name, description });\n        res.status(201).json({ message: 'Module created successfully', module });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Get all modules\n const getAllModules = async (req, res) => {\n    try {\n        const modules = await Module.findAll();\n        res.json(modules);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Get a single module by ID\n const getModuleById = async (req, res) => {\n    try {\n        const module = await Module.findByPk(req.params.id);\n        if (!module) return res.status(404).json({ error: 'Module not found' });\n\n        res.json(module);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Update a module\n const updateModule = async (req, res) => {\n    try {\n        const { name, description } = req.body;\n        const module = await Module.findByPk(req.params.id);\n        if (!module) return res.status(404).json({ error: 'Module not found' });\n\n        await module.update({ name, description });\n        res.json({ message: 'Module updated successfully', module });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Delete a module\n const deleteModule = async (req, res) => {\n    try {\n        const module = await Module.findByPk(req.params.id);\n        if (!module) return res.status(404).json({ error: 'Module not found' });\n\n        await module.destroy();\n        res.json({ message: 'Module deleted successfully' });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport default { createModule, getAllModules, getModuleById, updateModule, deleteModule };\n","size_bytes":2033},"frontend-new/src/assets/theme/base/colors.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base colors for the Material Dashboard 2 React.\n * You can add new color using this file.\n * You can customized the colors for the entire Material Dashboard 2 React using thie file.\n */\n\nconst colors = {\n  background: {\n    default: \"#f0f2f5\",\n  },\n\n  text: {\n    main: \"#7b809a\",\n    focus: \"#7b809a\",\n  },\n\n  transparent: {\n    main: \"rgba(0, 0, 0, 0)\",\n  },\n\n  white: {\n    main: \"#ffffff\",\n    focus: \"#ffffff\",\n  },\n\n  black: {\n    light: \"#000000\",\n    main: \"#000000\",\n    focus: \"#000000\",\n  },\n\n  primary: {\n    main: \"#e91e63\",\n    focus: \"#e91e63\",\n  },\n\n  secondary: {\n    main: \"#7b809a\",\n    focus: \"#8f93a9\",\n  },\n\n  info: {\n    main: \"#1A73E8\",\n    focus: \"#1662C4\",\n  },\n\n  success: {\n    main: \"#4CAF50\",\n    focus: \"#67bb6a\",\n  },\n\n  warning: {\n    main: \"#fb8c00\",\n    focus: \"#fc9d26\",\n  },\n\n  error: {\n    main: \"#F44335\",\n    focus: \"#f65f53\",\n  },\n\n  light: {\n    main: \"#f0f2f5\",\n    focus: \"#f0f2f5\",\n  },\n\n  dark: {\n    main: \"#344767\",\n    focus: \"#2c3c58\",\n  },\n\n  grey: {\n    100: \"#f8f9fa\",\n    200: \"#f0f2f5\",\n    300: \"#dee2e6\",\n    400: \"#ced4da\",\n    500: \"#adb5bd\",\n    600: \"#6c757d\",\n    700: \"#495057\",\n    800: \"#343a40\",\n    900: \"#212529\",\n  },\n\n  gradients: {\n    primary: {\n      main: \"#EC407A\",\n      state: \"#D81B60\",\n    },\n\n    secondary: {\n      main: \"#747b8a\",\n      state: \"#495361\",\n    },\n\n    info: {\n      main: \"#49a3f1\",\n      state: \"#1A73E8\",\n    },\n\n    success: {\n      main: \"#66BB6A\",\n      state: \"#43A047\",\n    },\n\n    warning: {\n      main: \"#FFA726\",\n      state: \"#FB8C00\",\n    },\n\n    error: {\n      main: \"#EF5350\",\n      state: \"#E53935\",\n    },\n\n    light: {\n      main: \"#EBEFF4\",\n      state: \"#CED4DA\",\n    },\n\n    dark: {\n      main: \"#42424a\",\n      state: \"#191919\",\n    },\n  },\n\n  socialMediaColors: {\n    facebook: {\n      main: \"#3b5998\",\n      dark: \"#344e86\",\n    },\n\n    twitter: {\n      main: \"#55acee\",\n      dark: \"#3ea1ec\",\n    },\n\n    instagram: {\n      main: \"#125688\",\n      dark: \"#0e456d\",\n    },\n\n    linkedin: {\n      main: \"#0077b5\",\n      dark: \"#00669c\",\n    },\n\n    pinterest: {\n      main: \"#cc2127\",\n      dark: \"#b21d22\",\n    },\n\n    youtube: {\n      main: \"#e52d27\",\n      dark: \"#d41f1a\",\n    },\n\n    vimeo: {\n      main: \"#1ab7ea\",\n      dark: \"#13a3d2\",\n    },\n\n    slack: {\n      main: \"#3aaf85\",\n      dark: \"#329874\",\n    },\n\n    dribbble: {\n      main: \"#ea4c89\",\n      dark: \"#e73177\",\n    },\n\n    github: {\n      main: \"#24292e\",\n      dark: \"#171a1d\",\n    },\n\n    reddit: {\n      main: \"#ff4500\",\n      dark: \"#e03d00\",\n    },\n\n    tumblr: {\n      main: \"#35465c\",\n      dark: \"#2a3749\",\n    },\n  },\n\n  badgeColors: {\n    primary: {\n      background: \"#f8b3ca\",\n      text: \"#cc084b\",\n    },\n\n    secondary: {\n      background: \"#d7d9e1\",\n      text: \"#6c757d\",\n    },\n\n    info: {\n      background: \"#aecef7\",\n      text: \"#095bc6\",\n    },\n\n    success: {\n      background: \"#bce2be\",\n      text: \"#339537\",\n    },\n\n    warning: {\n      background: \"#ffd59f\",\n      text: \"#c87000\",\n    },\n\n    error: {\n      background: \"#fcd3d0\",\n      text: \"#f61200\",\n    },\n\n    light: {\n      background: \"#ffffff\",\n      text: \"#c7d3de\",\n    },\n\n    dark: {\n      background: \"#8097bf\",\n      text: \"#1e2e4a\",\n    },\n  },\n\n  coloredShadows: {\n    primary: \"#e91e62\",\n    secondary: \"#110e0e\",\n    info: \"#00bbd4\",\n    success: \"#4caf4f\",\n    warning: \"#ff9900\",\n    error: \"#f44336\",\n    light: \"#adb5bd\",\n    dark: \"#404040\",\n  },\n\n  inputBorderColor: \"#d2d6da\",\n\n  tabs: {\n    indicator: { boxShadow: \"#ddd\" },\n  },\n};\n\nexport default colors;\n","size_bytes":4086},"qms-source/frontend-new/src/assets/theme-dark/components/stepper/stepConnector.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\nimport colors from \"assets/theme-dark/base/colors\";\n\nconst { white } = colors;\nconst { borderWidth } = borders;\n\nconst stepConnector = {\n  styleOverrides: {\n    root: {\n      color: \"#9fc9ff\",\n      transition: \"all 200ms linear\",\n\n      \"&.Mui-active\": {\n        color: white.main,\n      },\n\n      \"&.Mui-completed\": {\n        color: white.main,\n      },\n    },\n\n    alternativeLabel: {\n      top: \"14%\",\n      left: \"-50%\",\n      right: \"50%\",\n    },\n\n    line: {\n      borderWidth: `${borderWidth[2]} !important`,\n      borderColor: \"currentColor\",\n      opacity: 0.5,\n    },\n  },\n};\n\nexport default stepConnector;\n","size_bytes":1237},"qms-source/frontend-new/src/Components/Header/index.jsx":{"content":"import { useState, useEffect } from \"react\";\nimport { jwtDecode } from \"jwt-decode\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { navbar, navbarContainer, navbarRow } from \"./style\";\n\nimport {\n  useMaterialUIController,\n  setTransparentNavbar,\n  setSelectedCompanyName,\n} from \"../../context\";\nimport {\n  AppBar,\n  Toolbar,\n  Box,\n  Breadcrumbs,\n  Typography,\n  IconButton,\n  Avatar,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n} from \"@mui/material\";\n\n// Icons\nimport NotificationMenu from \"../NotificationMenu\";\nimport LockIcon from \"@mui/icons-material/Lock\";\nimport ExitToAppIcon from \"@mui/icons-material/ExitToApp\";\nimport PersonIcon from \"@mui/icons-material/Person\";\n\n// api services\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { AccountCircle } from \"@mui/icons-material\";\n\n// Component definition\nexport default function Header() {\n  const token = localStorage.getItem(\"jwtToken\");\n  const decodedToken = token ? jwtDecode(token) : null;\n  const userId = decodedToken?.user_id || localStorage.getItem(\"userId\"); // Get from token or localStorage\n  const roleId = decodedToken?.role || \"\";\n  const company_id = decodedToken?.company || \"\";\n  const moduleId = \"bd168912-e40c-48e3-b3d1-440a3e129d52\";\n  const company_moduleId = \"5d896834-fedd-4e0b-a882-8d05396fc346\";\n\n  // state definitions\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [userName, setUserName] = useState(\"User\");\n  const [roleName, setRoleName] = useState(\"\");\n  const [companyName, setCompanyName] = useState(\"\");\n\n  // hooks\n  const [controller, dispatch] = useMaterialUIController();\n  const { transparentNavbar, fixedNavbar, darkMode, selectedCompanyName } =\n    controller;\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // A function that sets the transparent state of the navbar.\n    function handleTransparentNavbar() {\n      setTransparentNavbar(\n        dispatch,\n        (fixedNavbar && window.scrollY === 0) || !fixedNavbar\n      );\n    }\n\n    /** \n         The event listener that's calling the handleTransparentNavbar function when \n         scrolling the window.\n        */\n    window.addEventListener(\"scroll\", handleTransparentNavbar);\n\n    // Call the handleTransparentNavbar function to set the state with the initial value.\n    handleTransparentNavbar();\n\n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"scroll\", handleTransparentNavbar);\n  }, [dispatch, fixedNavbar]);\n\n  /** Handler functions -  starts */\n\n  const handleMenuOpen = (event) => setAnchorEl(event.currentTarget);\n  const handleMenuClose = () => setAnchorEl(null);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"userId\");\n    localStorage.removeItem(\"jwtToken\");\n    localStorage.removeItem(\"userRole\");\n    localStorage.removeItem(\"userEmail\");\n    localStorage.removeItem(\"name\");\n\n    sessionStorage.removeItem(\"selectedCompany\");\n    sessionStorage.removeItem(\"selectedCompanyName\");\n    sessionStorage.removeItem(\"companyname\");\n    sessionStorage.clear();\n    setSelectedCompanyName(dispatch, \"\");\n    navigate(\"/login\");\n  };\n\n  // 1ï¸ Fetch role\n  useEffect(() => {\n    if (!token) {\n      navigate(\"/login\", { replace: true });\n      return;\n    }\n\n    if (roleId) fetchRoleName();\n  }, [token, navigate, roleId]);\n\n  // 2ï¸ Once roleName is ready â†’ then fetch company name and profile\n  useEffect(() => {\n    if (!roleName) return;\n\n    if (roleName === \"System Super Admin\") {\n      const storedCompanyName =\n        typeof window !== \"undefined\"\n          ? sessionStorage.getItem(\"selectedCompanyName\")\n          : null;\n\n      if (storedCompanyName) {\n        setCompanyName(storedCompanyName);\n        setSelectedCompanyName(dispatch, storedCompanyName);\n      }\n    } else {\n      fetchCompanyName();\n    }\n\n    if (roleName !== \"System Super Admin\" || company_id) {\n      fetchUserProfile();\n    }\n  }, [roleName]);\n\n  useEffect(() => {\n    const storedCompanyName = sessionStorage.getItem(\"selectedCompanyName\");\n\n    if (!selectedCompanyName && storedCompanyName) {\n      setCompanyName(storedCompanyName);\n      setSelectedCompanyName(dispatch, storedCompanyName);\n    }\n  }, [selectedCompanyName, dispatch]);\n\n  const fetchRoleName = async () => {\n    try {\n      const response = await axiosInstance.get(`/roles/${moduleId}/${roleId}`, {\n        params: { company_id },\n      });\n      setRoleName(response.data.name || \"Unknown Role\");\n    } catch (error) {\n      console.error(\"Error fetching role name:\", error);\n    }\n  };\n\n  const fetchCompanyName = async () => {\n    try {\n      const token = localStorage.getItem(\"jwtToken\");\n      const role = localStorage.getItem(\"userRole\");\n      const storedCompanyName = sessionStorage.getItem(\"selectedCompanyName\");\n\n      if (role === \"System Super Admin\") {\n        // Get from sessionStorage\n        if (storedCompanyName) {\n          setCompanyName(storedCompanyName);\n          setSelectedCompanyName(dispatch, storedCompanyName);\n          return;\n        }\n      }\n\n      // For all other roles: get from JWT token\n      if (company_id && token) {\n        const response = await axiosInstance.get(\n          `/companies/${company_moduleId}/${company_id}`,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n\n        const name = response.data.name || \"Unknown Company\";\n        setCompanyName(name);\n        setSelectedCompanyName(dispatch, name);\n      }\n    } catch (error) {\n      console.error(\"Error fetching company name:\", error);\n\n      if (error.response) {\n        console.error(\"Backend error details:\", error.response.data);\n      } else if (error.request) {\n        console.error(\"Request made but no response received:\", error.request);\n      } else {\n        console.error(\"Error setting up request:\", error.message);\n      }\n    }\n  };\n\n  const fetchUserProfile = async () => {\n    if (userId) {\n      console.log(\"User ID:\", userId);\n      console.log(\"Role Name:\", roleName);\n      console.log(\"Company ID:\", company_id);\n\n      try {\n        const params =\n          roleName === \"System Super Admin\" && company_id\n            ? { company_id: company_id }\n            : {};\n\n        console.log(\"API request params:\", params); // Debugging\n\n        const response = await axiosInstance.get(\n          `/users/${moduleId}/${userId}`,\n          { params }\n        );\n\n        console.log(\"API Response:\", response.data); // Debugging\n\n        if (response.data) {\n          setUserName(response.data.name || \"User\");\n          localStorage.setItem(\"name\", response.data.name);\n        }\n      } catch (error) {\n        console.error(\"Error fetching user profile:\", error);\n        if (error.response) {\n          console.error(\"Backend error details:\", error.response.data);\n        }\n      }\n    }\n  };\n\n  /** Handler functions -  ends */\n\n  // main renderer\n  return (\n    <AppBar\n      position={\"relative\"}\n      color=\"inherit\"\n      sx={(theme) =>\n        navbar(theme, {\n          transparentNavbar,\n          absolute: false,\n          light: !darkMode,\n          darkMode,\n        })\n      }\n    >\n      <Toolbar sx={(theme) => navbarContainer(theme)}>\n        {/* <Box color=\"inherit\" mb={{ xs: 1, md: 0 }} sx={(theme) => navbarRow(theme, { isMini: false })}>\n                    <Breadcrumbs icon=\"home\" light={!darkMode} />\n                </Box> */}\n\n        <Box sx={{ color: \"initial\", display: \"flex\" }}>\n          <NotificationMenu userId={userId} />\n\n          {/* Profile Icon */}\n          <>\n            <IconButton onClick={handleMenuOpen} sx={{ p: 0 }}>\n              <AccountCircle fontSize=\"large\" />\n            </IconButton>\n\n            <Typography\n              variant=\"body1\"\n              sx={{\n                fontWeight: 600,\n                fontSize: \"1rem\",\n                color: \"#1976d2\",\n                alignSelf: \"center\",\n                marginRight: 2,\n              }}\n            >\n              {selectedCompanyName || \"No Company Selected\"}{\" \"}\n            </Typography>\n\n            {/* Dropdown Menu */}\n            <Menu\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={handleMenuClose}\n            >\n              <MenuItem>\n                <Typography\n                  sx={{\n                    fontWeight: \"bold\",\n                    wordWrap: \"break-word\",\n                    whiteSpace: \"normal\",\n                  }}\n                >\n                  Hi, {userName} ({roleName})\n                </Typography>\n              </MenuItem>\n              <MenuItem onClick={() => navigate(\"/changePassword\")}>\n                <ListItemIcon>\n                  <LockIcon fontSize=\"medium\" />\n                </ListItemIcon>\n                <Typography>Change Password</Typography>\n              </MenuItem>\n              <MenuItem onClick={handleLogout}>\n                <ListItemIcon>\n                  <ExitToAppIcon fontSize=\"medium\" />\n                </ListItemIcon>\n                <Typography>Logout</Typography>\n              </MenuItem>\n            </Menu>\n          </>\n        </Box>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","size_bytes":9138},"frontend-new/src/pages/role_management/AssignPermissionstoRole.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport {\n  Box,\n  Button,\n  Checkbox,\n  Container,\n  Grid,\n  Paper,\n  Typography,\n} from \"@mui/material\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst AssignPermissionstoRole = () => {\n  const { roleId } = useParams(); // Get the role ID from URL parameters\n  const [roleName, setRoleName] = useState(\"\");\n  const [modules, setModules] = useState([]);\n  const [permissions, setPermissions] = useState({});\n  const navigate = useNavigate();\n  let company_id = sessionStorage.getItem(\"selectedCompany\");\n  useEffect(() => {\n    // Fetch role name using roleId\n    axiosInstance\n      .get(`/roles/971a88b8-461e-4cd2-9a06-fce42ad6b806/${roleId}`, {\n        params: { company_id },\n      })\n      .then((response) => {\n        setRoleName(response.data.name);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching role details:\", error);\n        toast.error(\"Error fetching role details.\");\n      });\n\n    // Fetch modules from the backend\n    axiosInstance\n      .get(\"/modules/881fc061-b852-4a9b-a430-ea96ba99194d\")\n      .then((response) => {\n        setModules(response.data);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching modules:\", error);\n        toast.error(\"Error fetching modules.\");\n      });\n\n    // Fetch existing permissions for the role\n    axiosInstance\n      .get(`/permissions/${roleId}`)\n      .then((response) => {\n        const existingPermissions = {};\n        response.data.forEach((perm) => {\n          existingPermissions[perm.module_id] = {\n            can_read: perm.can_read,\n            can_write: perm.can_write,\n            can_delete: perm.can_delete,\n            all: perm.can_read && perm.can_write && perm.can_delete,\n          };\n        });\n        setPermissions(existingPermissions);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching assigned permissions:\", error);\n        toast.error(\"Error fetching assigned permissions.\");\n      });\n  }, [roleId]);\n\n  const handleCheckboxChange = (moduleId, permissionType) => {\n    setPermissions((prev) => {\n      const newPermissions = { ...prev };\n\n      if (permissionType === \"all\") {\n        // Toggle all permissions for a module\n        const allChecked = !prev[moduleId]?.all;\n        newPermissions[moduleId] = {\n          all: allChecked,\n          can_read: allChecked,\n          can_write: allChecked,\n          can_delete: allChecked,\n        };\n      } else {\n        // Toggle individual permission type\n        newPermissions[moduleId] = {\n          ...prev[moduleId],\n          [permissionType]: !prev[moduleId]?.[permissionType] || false,\n        };\n\n        const { can_read, can_write, can_delete } = newPermissions[moduleId];\n        newPermissions[moduleId].all = can_read && can_write && can_delete;\n      }\n\n      return newPermissions;\n    });\n  };\n\n  const handleAssignPermissions = () => {\n    const apiUrl = `/permissions/2f06d3b2-9121-4a2b-a5fe-7f1e4aae7270`;\n    const formattedPermissions = Object.entries(permissions).map(\n      ([moduleId, perms]) => ({\n        module_id: moduleId,\n        can_read: perms.can_read || false,\n        can_write: perms.can_write || false,\n        can_delete: perms.can_delete || false,\n      })\n    );\n\n    const requestBody = {\n      roleId: roleId,\n      modules: formattedPermissions,\n    };\n\n    axiosInstance\n      .post(apiUrl, requestBody)\n      .then(() => {\n        toast.success(\"Permissions assigned successfully!\");\n        navigate(-1); // Redirect to the previous page\n      })\n      .catch((error) => {\n        console.error(\"Error assigning permissions:\", error);\n        toast.error(\"Error assigning permissions.\");\n      });\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4 }}>\n      <Paper\n        elevation={3}\n        sx={{ p: { xs: 2, sm: 3 }, mx: 4, borderRadius: 2, boxShadow: 3 }}\n      >\n        <Typography variant=\"h4\" sx={{ fontWeight: 600, mb: 4 }}>\n          Assign Permissions to Role:{\" \"}\n          <Box component=\"span\" sx={{ color: \"primary.main\" }}>\n            {roleName}\n          </Box>\n        </Typography>\n\n        {/* Header Row */}\n        <Grid\n          container\n          spacing={1}\n          sx={{\n            backgroundColor: \"#f0f0f0\",\n            py: 1,\n            px: 1,\n            borderRadius: 1,\n            mb: 1,\n          }}\n        >\n          <Grid item xs={4}>\n            <Typography fontWeight=\"bold\">Module Name</Typography>\n          </Grid>\n          <Grid item xs={2}>\n            <Typography fontWeight=\"bold\">All</Typography>\n          </Grid>\n          <Grid item xs={2}>\n            <Typography fontWeight=\"bold\">Write</Typography>\n          </Grid>\n          <Grid item xs={2}>\n            <Typography fontWeight=\"bold\">Read</Typography>\n          </Grid>\n          <Grid item xs={2}>\n            <Typography fontWeight=\"bold\">Delete</Typography>\n          </Grid>\n        </Grid>\n\n        {/* Module Rows */}\n        {modules.map((module) => (\n          <Grid\n            container\n            key={module.id}\n            spacing={1}\n            alignItems=\"center\"\n            sx={{\n              px: 1,\n              py: 1,\n              borderRadius: 1,\n              mb: 0.5,\n              \"&:hover\": {\n                backgroundColor: \"#f9f9f9\",\n              },\n            }}\n          >\n            <Grid item xs={12} sm={6} md={4}>\n              <Typography>{module.name}</Typography>\n            </Grid>\n            <Grid item xs={2}>\n              <Checkbox\n                checked={permissions[module.id]?.all || false}\n                onChange={() => handleCheckboxChange(module.id, \"all\")}\n                sx={{\n                  width: 22,\n                  height: 22,\n                  p: 0.5,\n                  \"& .MuiSvgIcon-root\": {\n                    border: \"1px solid rgba(0, 0, 0, 0.4)\",\n                    borderRadius: \"4px\",\n                  },\n                }}\n              />\n            </Grid>\n            <Grid item xs={2}>\n              <Checkbox\n                checked={permissions[module.id]?.can_write || false}\n                onChange={() => handleCheckboxChange(module.id, \"can_write\")}\n                sx={{\n                  width: 22,\n                  height: 22,\n                  p: 0.5,\n                  \"& .MuiSvgIcon-root\": {\n                    border: \"1px solid rgba(0, 0, 0, 0.4)\",\n                    borderRadius: \"4px\",\n                  },\n                }}\n              />\n            </Grid>\n            <Grid item xs={2}>\n              <Checkbox\n                checked={permissions[module.id]?.can_read || false}\n                onChange={() => handleCheckboxChange(module.id, \"can_read\")}\n                sx={{\n                  width: 22,\n                  height: 22,\n                  p: 0.5,\n                  \"& .MuiSvgIcon-root\": {\n                    border: \"1px solid rgba(0, 0, 0, 0.4)\",\n                    borderRadius: \"4px\",\n                  },\n                }}\n              />\n            </Grid>\n            <Grid item xs={2}>\n              <Checkbox\n                checked={permissions[module.id]?.can_delete || false}\n                onChange={() => handleCheckboxChange(module.id, \"can_delete\")}\n                sx={{\n                  width: 22,\n                  height: 22,\n                  p: 0.5,\n                  \"& .MuiSvgIcon-root\": {\n                    border: \"1px solid rgba(0, 0, 0, 0.4)\",\n                    borderRadius: \"4px\",\n                  },\n                }}\n              />\n            </Grid>\n          </Grid>\n        ))}\n\n        {/* Action Buttons */}\n        <Box\n          mt={4}\n          display=\"flex\"\n          justifyContent=\"flex-end\"\n          gap={2}\n          flexWrap=\"wrap\"\n        >\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleAssignPermissions}\n            sx={{\n              px: 3,\n              py: 1.2,\n              fontSize: \"14px\",\n              borderRadius: 2,\n              minWidth: \"130px\",\n              boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n            }}\n          >\n            Assign Permissions\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={() => navigate(-1)}\n            sx={{\n              px: 3,\n              py: 1.2,\n              fontSize: \"14px\",\n              borderRadius: 2,\n              minWidth: \"130px\",\n            }}\n          >\n            Cancel\n          </Button>\n        </Box>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default AssignPermissionstoRole;\n","size_bytes":8799},"qms-source/BackEnd/src/controllers/authController.js":{"content":"import bcrypt from 'bcryptjs';\nimport jwt from 'jsonwebtoken';\nimport User from '../models/User.js';\nimport generateRandomPassword from '../utils/generateRandomPassword.js';\nimport sendEmail from '../utils/sendEmail.js';\nimport Company from '../models/Company.js';\n\nimport { config } from 'dotenv';\n\n// Load environment variables\nconfig();\n\nconst SECRET_KEY = process.env.JWT_SECRET; // Use env variable\n\n// ðŸŸ¢ Login API\n\nexport const login = async (req, res) => {\n    try {\n        const { email, password } = req.body;\n\n        const user = await User.findOne({\n            where: {\n                email\n            },\n            include: {\n                model: Company.scope('all'),\n                attributes: ['is_active'],\n                required: true\n            }\n        });\n\n        if (!user) {\n            return res.status(401).json({ error: \"User not found. Please check your email.\" });\n        }\n\n        if (!user.is_active) {\n            return res.status(403).json({ error: \"User is deactivated. Please contact admin.\" });\n        }\n\n        if (!user.Company?.is_active) {\n            return res.status(403).json({ error: \"Company is deactivated. Please contact admin.\" });\n        }\n\n        const isMatch = await bcrypt.compare(password, user.password_hash);\n        if (!isMatch) {\n            return res.status(401).json({ error: \"Incorrect password. Please try again.\" });\n        }\n\n        const token = jwt.sign(\n            {\n                id: user.id,\n                email: user.email,\n                role: user.role_id,\n                company: user.company_id\n            },\n            SECRET_KEY,\n            { expiresIn: '1d' }\n        );\n\n        res.status(200).json({ message: \"Login successful\", token });\n\n    } catch (error) {\n        res.status(500).json({ error: \"Internal Server Error: \" + error.message });\n    }\n};\n\n\n\n// ðŸ”´ Logout API (Client-side should delete the token)\nexport const logout = async (req, res) => {\n    try {\n        // No need to invalidate token on backend (handled on client-side)\n        res.status(200).json({ message: \"Logout successful\" });\n    } catch (error) {\n        res.status(500).json({ error: \"Internal Server Error: \" + error.message });\n    }\n};\n\n\nexport const forgotPassword = async (req, res) => {\n    try {\n        const { email } = req.body;\n\n        if (!email) {\n            return res.status(400).json({ error: 'Email is required' });\n        }\n\n        const user = await User.findOne({ where: { email } });\n\n        if (!user) {\n            return res.status(404).json({ error: 'User not found' });\n        }\n\n        // Generate a new password\n        const newPassword = generateRandomPassword();\n        console.log(\"New password while forgot is \"+newPassword);\n        const hashedPassword = await bcrypt.hash(newPassword, 10);\n\n        // Update password in database\n        await user.update({ password_hash: hashedPassword });\n\n        // Send email with new password\n        const subject = 'Password Reset - Your New Credentials';\n        const message = `\n            Hello ${user.name},\n            \\nYour password has been reset. Below are your new login credentials:\\n\n            Email: ${email}\n            Password: ${newPassword}\n            \\nPlease change your password after logging in.\\n\n            Regards,\n            Your Team\n        `;\n\n        await sendEmail(email, subject, message);\n\n        res.status(200).json({ message: 'New password sent to your email' });\n\n    } catch (error) {\n        console.error(error);\n        res.status(500).json({ error: 'Internal Server Error' });\n    }\n};\n\n\nexport const changePassword = async (req, res) => {\n    try {\n        const { email, oldPassword, newPassword } = req.body;\n\n        if (!email || !oldPassword || !newPassword) {\n            return res.status(400).json({ error: 'Email, old password, and new password are required' });\n        }\n\n        const user = await User.findOne({ where: { email } });\n\n        if (!user) {\n            return res.status(404).json({ error: 'User not found' });\n        }\n\n        // Verify old password\n        const isMatch = await bcrypt.compare(oldPassword, user.password_hash);\n        if (!isMatch) {\n            return res.status(400).json({ error: 'Old password is incorrect' });\n        }\n\n        // Hash new password and update it\n       const hashedNewPassword = await bcrypt.hash(newPassword, 10);\n        await user.update({ password_hash: hashedNewPassword });\n\n        res.status(200).json({ message: 'Password changed successfully' });\n\n    } catch (error) {\n        console.error(error);\n        res.status(500).json({ error: 'Internal Server Error' });\n    }\n};","size_bytes":4696},"frontend-new/src/assets/theme/components/tabs/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { grey, white } = colors;\nconst { borderRadius } = borders;\nconst { tabsBoxShadow } = boxShadows;\n\nconst tabs = {\n  styleOverrides: {\n    root: {\n      position: \"relative\",\n      backgroundColor: grey[100],\n      borderRadius: borderRadius.xl,\n      minHeight: \"unset\",\n      padding: pxToRem(4),\n    },\n\n    flexContainer: {\n      height: \"100%\",\n      position: \"relative\",\n      zIndex: 10,\n    },\n\n    fixed: {\n      overflow: \"unset !important\",\n      overflowX: \"unset !important\",\n    },\n\n    vertical: {\n      \"& .MuiTabs-indicator\": {\n        width: \"100%\",\n      },\n    },\n\n    indicator: {\n      height: \"100%\",\n      borderRadius: borderRadius.lg,\n      backgroundColor: white.main,\n      boxShadow: tabsBoxShadow.indicator,\n      transition: \"all 500ms ease\",\n    },\n  },\n};\n\nexport default tabs;\n","size_bytes":1636},"qms-source/frontend-new/src/assets/theme-dark/components/linearProgress.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { borderRadius } = borders;\nconst { light } = colors;\n\nconst linearProgress = {\n  styleOverrides: {\n    root: {\n      height: pxToRem(6),\n      borderRadius: borderRadius.md,\n      overflow: \"visible\",\n      position: \"relative\",\n    },\n\n    colorPrimary: {\n      backgroundColor: light.main,\n    },\n\n    colorSecondary: {\n      backgroundColor: light.main,\n    },\n\n    bar: {\n      height: pxToRem(6),\n      borderRadius: borderRadius.sm,\n      position: \"absolute\",\n      transform: `translate(0, 0) !important`,\n      transition: \"width 0.6s ease !important\",\n    },\n  },\n};\n\nexport default linearProgress;\n","size_bytes":1395},"qms-source/frontend-new/src/assets/theme-dark/components/dialog/dialogContentText.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme-dark/base/typography\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { size } = typography;\nconst { white } = colors;\n\nconst dialogContentText = {\n  styleOverrides: {\n    root: {\n      fontSize: size.md,\n      color: rgba(white.main, 0.8),\n    },\n  },\n};\n\nexport default dialogContentText;\n","size_bytes":1006},"qms-source/frontend-new/src/assets/theme-dark/components/tooltip.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// @mui material components\nimport Fade from \"@mui/material/Fade\";\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { black, white } = colors;\nconst { size, fontWeightRegular } = typography;\nconst { borderRadius } = borders;\n\nconst tooltip = {\n  defaultProps: {\n    arrow: true,\n    TransitionComponent: Fade,\n  },\n\n  styleOverrides: {\n    tooltip: {\n      maxWidth: pxToRem(200),\n      backgroundColor: black.main,\n      color: white.main,\n      fontSize: size.sm,\n      fontWeight: fontWeightRegular,\n      textAlign: \"center\",\n      borderRadius: borderRadius.md,\n      opacity: 0.7,\n      padding: `${pxToRem(5)} ${pxToRem(8)} ${pxToRem(4)}`,\n    },\n\n    arrow: {\n      color: black.main,\n    },\n  },\n};\n\nexport default tooltip;\n","size_bytes":1530},"qms-source/docs/code-index.md":{"content":"# Code-only file index (project-wide)\n\nThis file lists all code files (extensions: .js, .jsx, .json, .css, .html) in the repository with a one-line description inferred from the path/name. Use this as a quick inventory when navigating the codebase.\n\nGenerated: 2025-10-30\n\n---\n\n## Summary\n- BackEnd: 118 code files\n- frontend-new: 209 code files\n\n## BackEnd (118 files)\n\nNote: backend is an Express + Sequelize API server. Descriptions are inferred from filenames.\n\n- `BackEnd/package.json` â€” Backend package manifest and scripts (dev/start).\n- `BackEnd/package-lock.json` â€” Lockfile for backend dependencies.\n- `BackEnd/src/server.js` â€” Express server entrypoint: middleware, routes, Socket.IO init, DB sync and bootstrap.\n\n### BackEnd - config\n- `BackEnd/src/config/db.js` â€” Sequelize DB connection and (currently) a module-level sync call.\n- `BackEnd/src/config/socket.js` â€” Socket.IO initialization logic and event wiring.\n- `BackEnd/src/config/constants.js` â€” Application-wide constant lists (status, priorities, weights).\n\n### BackEnd - models (Sequelize)\n- `BackEnd/src/models/Company.js` â€” Company model (company table).\n- `BackEnd/src/models/Document.js` â€” Document model (uploaded documents metadata).\n- `BackEnd/src/models/GeneralDocumentFolder.js` â€” Folder model for general documents.\n- `BackEnd/src/models/GeneralDocument.js` â€” GeneralDocument model (generic docs feature).\n- `BackEnd/src/models/Comment.js` â€” Comment model for comments on tasks/docs.\n- `BackEnd/src/models/Department.js` â€” Department model.\n- `BackEnd/src/models/User.js` â€” User model (users, password_hash etc.).\n- `BackEnd/src/models/TaskChangeLog.js` â€” Task change log model.\n- `BackEnd/src/models/TaskAssignment.js` â€” Task assignment model linking users to tasks.\n- `BackEnd/src/models/Task.js` â€” Task model (business tasks/controls).\n- `BackEnd/src/models/RoleModulesPermissions.js` â€” Role-to-module permissions mapping model.\n- `BackEnd/src/models/Role.js` â€” Role model (user role definitions).\n- `BackEnd/src/models/Notification.js` â€” Notification model (in-app notifications).\n- `BackEnd/src/models/Module.js` â€” Module model (feature/module registry; used in permissions).\n- `BackEnd/src/models/Iteration.js` â€” Iteration model (task iterations/versioning).\n\n### BackEnd - controllers\n- `BackEnd/src/controllers/authController.js` â€” Authentication controller: login/register/token issuance.\n- `BackEnd/src/controllers/generalDocumentController.js` â€” Controller for general documents CRUD.\n- `BackEnd/src/controllers/iterationController.js` â€” Iteration-related endpoints handling.\n- `BackEnd/src/controllers/documentController.js` â€” Document upload/management controller.\n- `BackEnd/src/controllers/departmentController.js` â€” Department CRUD controller.\n- `BackEnd/src/controllers/companyController.js` â€” Company CRUD controller and onboarding endpoints.\n- `BackEnd/src/controllers/commentController.js` â€” Comment create/read controller.\n- `BackEnd/src/controllers/userController.js` â€” User management (create, update, list, soft-delete).\n- `BackEnd/src/controllers/taskController.js` â€” Task CRUD and business logic.\n- `BackEnd/src/controllers/taskChangeLogController.js` â€” Controller for task change logs (audit trail).\n- `BackEnd/src/controllers/taskAssignmentController.js` â€” Handle assigning tasks to users.\n- `BackEnd/src/controllers/roleModulePermissionController.js` â€” Manage role-module permissions.\n- `BackEnd/src/controllers/roleController.js` â€” Role CRUD and list endpoints.\n- `BackEnd/src/controllers/notificationController.js` â€” Notification endpoints (list, mark-read).\n- `BackEnd/src/controllers/moduleController.js` â€” Module management controller (create/list modules).\n\n### BackEnd - routes\n- `BackEnd/src/routes/authRoutes.js` â€” Routes for auth (login/register) mounted at `/api/auth`.\n- `BackEnd/src/routes/companyRoutes.js` â€” Routes for companies (`/api/companies`).\n- `BackEnd/src/routes/commentRoutes.js` â€” Comment-related routes (`/api/comments`).\n- `BackEnd/src/routes/departmentRoutes.js` â€” Department endpoints.\n- `BackEnd/src/routes/documentRoutes.js` â€” Document upload/download routes.\n- `BackEnd/src/routes/generalDocumentsRoutes.js` â€” General documents routes.\n- `BackEnd/src/routes/iterationRoutes.js` â€” Iteration endpoints.\n- `BackEnd/src/routes/index.js` â€” Route aggregator (may export or mount groups).\n- `BackEnd/src/routes/moduleRoutes.js` â€” Module endpoints (`/api/modules`).\n- `BackEnd/src/routes/roleModulePermissionRoutes.js` â€” Permission mapping routes.\n- `BackEnd/src/routes/notificationRoutes.js` â€” Notification routes.\n- `BackEnd/src/routes/roleRoutes.js` â€” Role management routes.\n- `BackEnd/src/routes/taskRoutes.js` â€” Task endpoints.\n- `BackEnd/src/routes/taskChangeLogRoutes.js` â€” Task change log routes.\n- `BackEnd/src/routes/taskAssignmentRoutes.js` â€” Task assignment routes.\n- `BackEnd/src/routes/userRoutes.js` â€” User management routes (note many expect `/:moduleId`).\n- `BackEnd/src/routes/documentRoutes.js` â€” (duplicate listing handled above) â€” document endpoints.\n\n### BackEnd - middlewares\n- `BackEnd/src/middlewares/authMiddlewares.js` â€” JWT extraction and verification middleware (attaches `req.user`).\n- `BackEnd/src/middlewares/permissionsMiddlewares.js` â€” Factory that checks role permissions for a given `:moduleId` and action (`read`/`write`/`delete`).\n\n### BackEnd - utils\n- `BackEnd/src/utils/bootstrapSystemSuperAdmin.js` â€” Bootstraps default company/role/user and inserts module rows; sends email with credentials.\n- `BackEnd/src/utils/checkSuperRoleAdded.js` â€” Ensures a `Super Admin` role exists (helper used on startup).\n- `BackEnd/src/utils/sendEmail.js` â€” Email helper (nodemailer wrapper) used by bootstrap and notifications.\n- `BackEnd/src/utils/getHigherRoleUserRecurcievly.js` â€” Utility to find higher-role users recursively.\n- `BackEnd/src/utils/generateRandomPassword.js` â€” Random password generator used by bootstrap.\n\n---\n\n## frontend-new (209 files)\n\nTop-level frontend is a Vite + React app with Material UI. Files grouped by purpose.\n\n- `frontend-new/vite.config.js` â€” Vite configuration.\n- `frontend-new/pnpm-lock.yaml` â€” Lockfile (pnpm).\n- `frontend-new/package.json` â€” Frontend package manifest and scripts.\n- `frontend-new/package-lock.json` â€” Lockfile (npm) present as well.\n- `frontend-new/index.html` â€” App HTML template.\n- `frontend-new/eslint.config.js` â€” ESLint config for frontend.\n- `frontend-new/Dockerfile` â€” Dockerfile for frontend image.\n- `frontend-new/.gitignore` â€” Frontend ignore rules.\n\n### frontend-new - public/assets\n- `frontend-new/public/bg-sign-in-basic.jpeg` â€” Background image used on the sign-in page.\n\n### frontend-new - core app\n- `frontend-new/src/main.jsx` â€” React entrypoint; wraps app in providers and mounts to DOM.\n- `frontend-new/src/App.jsx` â€” App router + layout (routes for onboarding, dashboard, modules, roles, users, tasks, documents, iterations, departments).\n- `frontend-new/src/App.css` â€” Global CSS for the app.\n- `frontend-new/src/index.css` â€” Base styles.\n- `frontend-new/src/reportWebVitals.js` â€” Vite/CRA performance helper.\n\n### frontend-new - services & utils\n- `frontend-new/src/services/axiosinstance.js` â€” Axios instance that reads `BASE_API_URL` and adds `Authorization` header from `localStorage.jwtToken`.\n- `frontend-new/src/utils/Constants.js` â€” Exposes `BASE_API_URL` from `import.meta.env.VITE_BASE_API_URL`.\n- `frontend-new/src/utils/socket.js` â€” frontend Socket.IO client helper.\n- `frontend-new/src/context/index.jsx` â€” Material UI controller/provider (theme & global UI state).\n\n### frontend-new - components (selected)\n- `frontend-new/src/Components/NotificationMenu.jsx` â€” Notification menu component.\n- `frontend-new/src/Components/Header/index.jsx` â€” App header component.\n- `frontend-new/src/Components/Header/style.js` â€” Header styling for MUI.\n- `frontend-new/src/Components/Sidebar/index.jsx` â€” Sidebar navigation component.\n- `frontend-new/src/Components/Sidebar/SidebarRoot.jsx` â€” Sidebar root wrapper and layout styles.\n- `frontend-new/src/Components/Sidebar/styles/sidenav.js` â€” Sidebar style helpers.\n\n### frontend-new - pages (selected)\n- `frontend-new/src/pages/auth/Login.jsx` â€” Login page (posts credentials to backend, stores JWT).\n- `frontend-new/src/pages/onboarding/CompanyName.jsx` â€” Onboarding step: company name.\n- `frontend-new/src/pages/onboarding/CompanyDetails.jsx` â€” Onboarding details form.\n- `frontend-new/src/pages/onboarding/CompanyList.jsx` â€” Company list page.\n- `frontend-new/src/pages/role_management/RoleList.jsx` â€” Role list page.\n- `frontend-new/src/pages/role_management/RoleForm.jsx` â€” Role create/edit form.\n- `frontend-new/src/pages/role_management/AssignPermissions.jsx` â€” Assign permissions UI.\n- `frontend-new/src/pages/role_management/AssignPermissionstoRole.jsx` â€” Role-specific permission assignment.\n- `frontend-new/src/pages/user_management/CreateUser.jsx` â€” Create user form.\n- `frontend-new/src/pages/user_management/UpdateUser.jsx` â€” Update user page.\n- `frontend-new/src/pages/user_management/UserList.jsx` â€” Users list page.\n- `frontend-new/src/pages/user_management/changePassword.jsx` â€” Change password page.\n- `frontend-new/src/pages/TaskManagement/TaskList.jsx` â€” Task list UI.\n- `frontend-new/src/pages/TaskManagement/CreateTask.jsx` â€” Create task page.\n- `frontend-new/src/pages/TaskManagement/EditTask.jsx` â€” Edit task page (route includes `:moduleId/:taskId`).\n- `frontend-new/src/pages/TaskManagement/AssignedTaskPage.jsx` â€” Assigned tasks list for the user.\n- `frontend-new/src/pages/TaskManagement/BulkTaskAssignment.jsx` â€” Bulk assignment UI.\n- `frontend-new/src/pages/TaskManagement/UserTaskAssignment.jsx` â€” Assign tasks to users.\n- `frontend-new/src/pages/TaskManagement/TaskUploadPage.jsx` â€” Upload tasks via file UI.\n- `frontend-new/src/pages/TaskManagement/SelectCompany.jsx` â€” Select company dropdown/page.\n- `frontend-new/src/pages/module_management/ModuleList.jsx` â€” List modules UI.\n- `frontend-new/src/pages/module_management/ModuleForm.jsx` â€” Create/edit module form.\n- `frontend-new/src/pages/Iteration/IterationList.jsx` â€” Iterations listing.\n- `frontend-new/src/pages/Iteration/CreateIteration.jsx` â€” Create iteration page.\n- `frontend-new/src/pages/Iteration/EditIteration.jsx` â€” Edit iteration page.\n- `frontend-new/src/pages/Iteration/SelectIterationPage.jsx` â€” Select iteration helper page.\n- `frontend-new/src/pages/DocumentManagement/DocumentManagementPage.jsx` â€” Document management UI.\n- `frontend-new/src/pages/department/DepartmentList.jsx` â€” Department list.\n- `frontend-new/src/pages/department/DepartmentForm.jsx` â€” Create/edit department.\n- `frontend-new/src/pages/standard/SelectStandard.jsx` â€” Select standard (ISO) page.\n\n### frontend-new - theme & assets\n- `frontend-new/src/theme.js` â€” Theme provider and MUI theme setup.\n- `frontend-new/src/assets/theme/*` â€” Many theme components and functions (buttons, dialog, card, base styles, colors, breakpoints, typography). These files are MUI theme customizations used across the app.\n\n### frontend-new - styles\n- Many `.css` files under `src/styles/*` for pages such as TaskList, RoleForm, ModuleList, LoginPage, UploadPopup, etc. These are per-page CSS assets.\n\n### frontend-new - tests\n- `frontend-new/src/App.test.js` â€” Basic React app test (Jest/React testing scaffold).\n\n---\n\nIf you want a full line-by-line inventory (one line per exact file path for all 277 code files) exported into `docs/full-code-index.md`, say \"Export full list\" and I'll create it.\n","size_bytes":11686},"qms-source/BackEnd/src/models/Role.js":{"content":"import { DataTypes } from \"sequelize\";\nimport sequelize from \"../config/db.js\";\nimport Company from \"./Company.js\"; // Import the Company model\n\nconst Role = sequelize.define(\n  \"Role\",\n  {\n    id: {\n      type: DataTypes.UUID,\n      defaultValue: DataTypes.UUIDV4,\n      primaryKey: true,\n    },\n    name: {\n      type: DataTypes.STRING,\n      allowNull: false,\n    },\n    description: {\n      type: DataTypes.TEXT,\n      allowNull: true,\n    },\n    parent_role_id: {\n      // Self-referential hierarchy\n      type: DataTypes.UUID,\n      allowNull: true,\n      references: {\n        model: \"Role\",\n        key: \"id\",\n      },\n    },\n    company_id: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      references: {\n        model: \"Company\",\n        key: \"id\",\n      },\n      onDelete: \"CASCADE\", // Ensures roles are deleted when the company is removed\n    },\n  },\n  {\n    timestamps: true,\n    freezeTableName: true,\n    paranoid: true,\n  }\n);\n\n// Define self-referential relationship\nRole.belongsTo(Role, { as: \"ParentRole\", foreignKey: \"parent_role_id\" });\nRole.hasMany(Role, { as: \"ChildRoles\", foreignKey: \"parent_role_id\" });\n\n// Associate Role with Company\nRole.belongsTo(Company, { foreignKey: \"company_id\" });\nCompany.hasMany(Role, { foreignKey: \"company_id\", onDelete: 'CASCADE' });\n\nexport default Role;\n\n\n\n// import { DataTypes } from 'sequelize';\n// import sequelize from '../config/db.js';\n\n\n// const Role = sequelize.define('Role', {\n//     id: {\n//         type: DataTypes.UUID,\n//         defaultValue: DataTypes.UUIDV4,\n//         primaryKey: true\n//     },\n//     name: {\n//         type: DataTypes.STRING,\n//         allowNull: false\n//     },\n//     description: {\n//         type: DataTypes.TEXT,\n//         allowNull: true\n//     }\n// }, {\n//     timestamps: true,\n//     freezeTableName: true    // Prevent pluralization of table name\n// });\n\n\n\n\n//export default Role;\n","size_bytes":1902},"qms-source/BackEnd/pnpm-lock.yaml":{"content":"lockfileVersion: '9.0'\n\nsettings:\n  autoInstallPeers: true\n  excludeLinksFromLockfile: false\n\nimporters:\n\n  .:\n    dependencies:\n      bcryptjs:\n        specifier: ^2.4.3\n        version: 2.4.3\n      body-parser:\n        specifier: ^1.20.3\n        version: 1.20.3\n      cors:\n        specifier: ^2.8.5\n        version: 2.8.5\n      date-fns:\n        specifier: ^4.1.0\n        version: 4.1.0\n      dotenv:\n        specifier: ^16.4.7\n        version: 16.4.7\n      exceljs:\n        specifier: ^4.4.0\n        version: 4.4.0\n      express:\n        specifier: ^4.21.2\n        version: 4.21.2\n      jsonwebtoken:\n        specifier: ^9.0.2\n        version: 9.0.2\n      multer:\n        specifier: ^1.4.5-lts.1\n        version: 1.4.5-lts.2\n      mysql2:\n        specifier: ^3.12.0\n        version: 3.14.0\n      nodemailer:\n        specifier: ^6.10.0\n        version: 6.10.0\n      sequelize:\n        specifier: ^6.37.5\n        version: 6.37.6(mysql2@3.14.0)\n      socket.io:\n        specifier: ^4.8.1\n        version: 4.8.1\n      socket.io-client:\n        specifier: ^4.8.1\n        version: 4.8.1\n      uuid:\n        specifier: ^11.1.0\n        version: 11.1.0\n\npackages:\n\n  '@fast-csv/format@4.3.5':\n    resolution: {integrity: sha512-8iRn6QF3I8Ak78lNAa+Gdl5MJJBM5vRHivFtMRUWINdevNo00K7OXxS2PshawLKTejVwieIlPmK5YlLu6w4u8A==}\n\n  '@fast-csv/parse@4.3.6':\n    resolution: {integrity: sha512-uRsLYksqpbDmWaSmzvJcuApSEe38+6NQZBUsuAyMZKqHxH0g1wcJgsKUvN3WC8tewaqFjBMMGrkHmC+T7k8LvA==}\n\n  '@socket.io/component-emitter@3.1.2':\n    resolution: {integrity: sha512-9BCxFwvbGg/RsZK9tjXd8s4UcwR0MWeFQ1XEKIQVVvAGJyINdrqKMcTRyLoK8Rse1GjzLV9cwjWV1olXRWEXVA==}\n\n  '@types/cors@2.8.17':\n    resolution: {integrity: sha512-8CGDvrBj1zgo2qE+oS3pOCyYNqCPryMWY2bGfwA0dcfopWGgxs+78df0Rs3rc9THP4JkOhLsAa+15VdpAqkcUA==}\n\n  '@types/debug@4.1.12':\n    resolution: {integrity: sha512-vIChWdVG3LG1SMxEvI/AK+FWJthlrqlTu7fbrlywTkkaONwk/UAGaULXRlf8vkzFBLVm0zkMdCquhL5aOjhXPQ==}\n\n  '@types/ms@2.1.0':\n    resolution: {integrity: sha512-GsCCIZDE/p3i96vtEqx+7dBUGXrc7zeSK3wwPHIaRThS+9OhWIXRqzs4d6k1SVU8g91DrNRWxWUGhp5KXQb2VA==}\n\n  '@types/node@14.18.63':\n    resolution: {integrity: sha512-fAtCfv4jJg+ExtXhvCkCqUKZ+4ok/JQk01qDKhL5BDDoS3AxKXhV5/MAVUZyQnSEd2GT92fkgZl0pz0Q0AzcIQ==}\n\n  '@types/node@22.13.13':\n    resolution: {integrity: sha512-ClsL5nMwKaBRwPcCvH8E7+nU4GxHVx1axNvMZTFHMEfNI7oahimt26P5zjVCRrjiIWj6YFXfE1v3dEp94wLcGQ==}\n\n  '@types/validator@13.12.3':\n    resolution: {integrity: sha512-2ipwZ2NydGQJImne+FhNdhgRM37e9lCev99KnqkbFHd94Xn/mErARWI1RSLem1QA19ch5kOhzIZd7e8CA2FI8g==}\n\n  accepts@1.3.8:\n    resolution: {integrity: sha512-PYAthTa2m2VKxuvSD3DPC/Gy+U+sOA1LAuT8mkmRuvw+NACSaeXEQ+NHcVF7rONl6qcaxV3Uuemwawk+7+SJLw==}\n    engines: {node: '>= 0.6'}\n\n  append-field@1.0.0:\n    resolution: {integrity: sha512-klpgFSWLW1ZEs8svjfb7g4qWY0YS5imI82dTg+QahUvJ8YqAY0P10Uk8tTyh9ZGuYEZEMaeJYCF5BFuX552hsw==}\n\n  archiver-utils@2.1.0:\n    resolution: {integrity: sha512-bEL/yUb/fNNiNTuUz979Z0Yg5L+LzLxGJz8x79lYmR54fmTIb6ob/hNQgkQnIUDWIFjZVQwl9Xs356I6BAMHfw==}\n    engines: {node: '>= 6'}\n\n  archiver-utils@3.0.4:\n    resolution: {integrity: sha512-KVgf4XQVrTjhyWmx6cte4RxonPLR9onExufI1jhvw/MQ4BB6IsZD5gT8Lq+u/+pRkWna/6JoHpiQioaqFP5Rzw==}\n    engines: {node: '>= 10'}\n\n  archiver@5.3.2:\n    resolution: {integrity: sha512-+25nxyyznAXF7Nef3y0EbBeqmGZgeN/BxHX29Rs39djAfaFalmQ89SE6CWyDCHzGL0yt/ycBtNOmGTW0FyGWNw==}\n    engines: {node: '>= 10'}\n\n  array-flatten@1.1.1:\n    resolution: {integrity: sha512-PCVAQswWemu6UdxsDFFX/+gVeYqKAod3D3UVm91jHwynguOwAvYPhx8nNlM++NqRcK6CxxpUafjmhIdKiHibqg==}\n\n  async@3.2.6:\n    resolution: {integrity: sha512-htCUDlxyyCLMgaM3xXg0C0LW2xqfuQ6p05pCEIsXuyQ+a1koYKTuBMzRNwmybfLgvJDMd0r1LTn4+E0Ti6C2AA==}\n\n  aws-ssl-profiles@1.1.2:\n    resolution: {integrity: sha512-NZKeq9AfyQvEeNlN0zSYAaWrmBffJh3IELMZfRpJVWgrpEbtEpnjvzqBPf+mxoI287JohRDoa+/nsfqqiZmF6g==}\n    engines: {node: '>= 6.0.0'}\n\n  balanced-match@1.0.2:\n    resolution: {integrity: sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==}\n\n  base64-js@1.5.1:\n    resolution: {integrity: sha512-AKpaYlHn8t4SVbOHCy+b5+KKgvR4vrsD8vbvrbiQJps7fKDTkjkDry6ji0rUJjC0kzbNePLwzxq8iypo41qeWA==}\n\n  base64id@2.0.0:\n    resolution: {integrity: sha512-lGe34o6EHj9y3Kts9R4ZYs/Gr+6N7MCaMlIFA3F1R2O5/m7K06AxfSeO5530PEERE6/WyEg3lsuyw4GHlPZHog==}\n    engines: {node: ^4.5.0 || >= 5.9}\n\n  bcryptjs@2.4.3:\n    resolution: {integrity: sha512-V/Hy/X9Vt7f3BbPJEi8BdVFMByHi+jNXrYkW3huaybV/kQ0KJg0Y6PkEMbn+zeT+i+SiKZ/HMqJGIIt4LZDqNQ==}\n\n  big-integer@1.6.52:\n    resolution: {integrity: sha512-QxD8cf2eVqJOOz63z6JIN9BzvVs/dlySa5HGSBH5xtR8dPteIRQnBxxKqkNTiT6jbDTF6jAfrd4oMcND9RGbQg==}\n    engines: {node: '>=0.6'}\n\n  binary@0.3.0:\n    resolution: {integrity: sha512-D4H1y5KYwpJgK8wk1Cue5LLPgmwHKYSChkbspQg5JtVuR5ulGckxfR62H3AE9UDkdMC8yyXlqYihuz3Aqg2XZg==}\n\n  bl@4.1.0:\n    resolution: {integrity: sha512-1W07cM9gS6DcLperZfFSj+bWLtaPGSOHWhPiGzXmvVJbRLdG82sH/Kn8EtW1VqWVA54AKf2h5k5BbnIbwF3h6w==}\n\n  bluebird@3.4.7:\n    resolution: {integrity: sha512-iD3898SR7sWVRHbiQv+sHUtHnMvC1o3nW5rAcqnq3uOn07DSAppZYUkIGslDz6gXC7HfunPe7YVBgoEJASPcHA==}\n\n  body-parser@1.20.3:\n    resolution: {integrity: sha512-7rAxByjUMqQ3/bHJy7D6OGXvx/MMc4IqBn/X0fcM1QUcAItpZrBEYhWGem+tzXH90c+G01ypMcYJBO9Y30203g==}\n    engines: {node: '>= 0.8', npm: 1.2.8000 || >= 1.4.16}\n\n  brace-expansion@1.1.11:\n    resolution: {integrity: sha512-iCuPHDFgrHX7H2vEI/5xpz07zSHB00TpugqhmYtVmMO6518mCuRMoOYFldEBl0g187ufozdaHgWKcYFb61qGiA==}\n\n  brace-expansion@2.0.1:\n    resolution: {integrity: sha512-XnAIvQ8eM+kC6aULx6wuQiwVsnzsi9d3WxzV3FpWTGA19F621kwdbsAcFKXgKUHZWsy+mY6iL1sHTxWEFCytDA==}\n\n  buffer-crc32@0.2.13:\n    resolution: {integrity: sha512-VO9Ht/+p3SN7SKWqcrgEzjGbRSJYTx+Q1pTQC0wrWqHx0vpJraQ6GtHx8tvcg1rlK1byhU5gccxgOgj7B0TDkQ==}\n\n  buffer-equal-constant-time@1.0.1:\n    resolution: {integrity: sha512-zRpUiDwd/xk6ADqPMATG8vc9VPrkck7T07OIx0gnjmJAnHnTVXNQG3vfvWNuiZIkwu9KrKdA1iJKfsfTVxE6NA==}\n\n  buffer-from@1.1.2:\n    resolution: {integrity: sha512-E+XQCRwSbaaiChtv6k6Dwgc+bx+Bs6vuKJHHl5kox/BaKbhiXzqQOwK4cO22yElGp2OCmjwVhT3HmxgyPGnJfQ==}\n\n  buffer-indexof-polyfill@1.0.2:\n    resolution: {integrity: sha512-I7wzHwA3t1/lwXQh+A5PbNvJxgfo5r3xulgpYDB5zckTu/Z9oUK9biouBKQUjEqzaz3HnAT6TYoovmE+GqSf7A==}\n    engines: {node: '>=0.10'}\n\n  buffer@5.7.1:\n    resolution: {integrity: sha512-EHcyIPBQ4BSGlvjB16k5KgAJ27CIsHY/2JBmCRReo48y9rQ3MaUzWX3KVlBa4U7MyX02HdVj0K7C3WaB3ju7FQ==}\n\n  buffers@0.1.1:\n    resolution: {integrity: sha512-9q/rDEGSb/Qsvv2qvzIzdluL5k7AaJOTrw23z9reQthrbF7is4CtlT0DXyO1oei2DCp4uojjzQ7igaSHp1kAEQ==}\n    engines: {node: '>=0.2.0'}\n\n  busboy@1.6.0:\n    resolution: {integrity: sha512-8SFQbg/0hQ9xy3UNTB0YEnsNBbWfhf7RtnzpL7TkBiTBRfrQ9Fxcnz7VJsleJpyp6rVLvXiuORqjlHi5q+PYuA==}\n    engines: {node: '>=10.16.0'}\n\n  bytes@3.1.2:\n    resolution: {integrity: sha512-/Nf7TyzTx6S3yRJObOAV7956r8cr2+Oj8AC5dt8wSP3BQAoeX58NoHyCU8P8zGkNXStjTSi6fzO6F0pBdcYbEg==}\n    engines: {node: '>= 0.8'}\n\n  call-bind-apply-helpers@1.0.2:\n    resolution: {integrity: sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ==}\n    engines: {node: '>= 0.4'}\n\n  call-bound@1.0.4:\n    resolution: {integrity: sha512-+ys997U96po4Kx/ABpBCqhA9EuxJaQWDQg7295H4hBphv3IZg0boBKuwYpt4YXp6MZ5AmZQnU/tyMTlRpaSejg==}\n    engines: {node: '>= 0.4'}\n\n  chainsaw@0.1.0:\n    resolution: {integrity: sha512-75kWfWt6MEKNC8xYXIdRpDehRYY/tNSgwKaJq+dbbDcxORuVrrQ+SEHoWsniVn9XPYfP4gmdWIeDk/4YNp1rNQ==}\n\n  compress-commons@4.1.2:\n    resolution: {integrity: sha512-D3uMHtGc/fcO1Gt1/L7i1e33VOvD4A9hfQLP+6ewd+BvG/gQ84Yh4oftEhAdjSMgBgwGL+jsppT7JYNpo6MHHg==}\n    engines: {node: '>= 10'}\n\n  concat-map@0.0.1:\n    resolution: {integrity: sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==}\n\n  concat-stream@1.6.2:\n    resolution: {integrity: sha512-27HBghJxjiZtIk3Ycvn/4kbJk/1uZuJFfuPEns6LaEvpvG1f0hTea8lilrouyo9mVc2GWdcEZ8OLoGmSADlrCw==}\n    engines: {'0': node >= 0.8}\n\n  content-disposition@0.5.4:\n    resolution: {integrity: sha512-FveZTNuGw04cxlAiWbzi6zTAL/lhehaWbTtgluJh4/E95DqMwTmha3KZN1aAWA8cFIhHzMZUvLevkw5Rqk+tSQ==}\n    engines: {node: '>= 0.6'}\n\n  content-type@1.0.5:\n    resolution: {integrity: sha512-nTjqfcBFEipKdXCv4YDQWCfmcLZKm81ldF0pAopTvyrFGVbcR6P/VAAd5G7N+0tTr8QqiU0tFadD6FK4NtJwOA==}\n    engines: {node: '>= 0.6'}\n\n  cookie-signature@1.0.6:\n    resolution: {integrity: sha512-QADzlaHc8icV8I7vbaJXJwod9HWYp8uCqf1xa4OfNu1T7JVxQIrUgOWtHdNDtPiywmFbiS12VjotIXLrKM3orQ==}\n\n  cookie@0.7.1:\n    resolution: {integrity: sha512-6DnInpx7SJ2AK3+CTUE/ZM0vWTUboZCegxhC2xiIydHR9jNuTAASBrfEpHhiGOZw/nX51bHt6YQl8jsGo4y/0w==}\n    engines: {node: '>= 0.6'}\n\n  cookie@0.7.2:\n    resolution: {integrity: sha512-yki5XnKuf750l50uGTllt6kKILY4nQ1eNIQatoXEByZ5dWgnKqbnqmTrBE5B4N7lrMJKQ2ytWMiTO2o0v6Ew/w==}\n    engines: {node: '>= 0.6'}\n\n  core-util-is@1.0.3:\n    resolution: {integrity: sha512-ZQBvi1DcpJ4GDqanjucZ2Hj3wEO5pZDS89BWbkcrvdxksJorwUDDZamX9ldFkp9aw2lmBDLgkObEA4DWNJ9FYQ==}\n\n  cors@2.8.5:\n    resolution: {integrity: sha512-KIHbLJqu73RGr/hnbrO9uBeixNGuvSQjul/jdFvS/KFSIH1hWVd1ng7zOHx+YrEfInLG7q4n6GHQ9cDtxv/P6g==}\n    engines: {node: '>= 0.10'}\n\n  crc-32@1.2.2:\n    resolution: {integrity: sha512-ROmzCKrTnOwybPcJApAA6WBWij23HVfGVNKqqrZpuyZOHqK2CwHSvpGuyt/UNNvaIjEd8X5IFGp4Mh+Ie1IHJQ==}\n    engines: {node: '>=0.8'}\n    hasBin: true\n\n  crc32-stream@4.0.3:\n    resolution: {integrity: sha512-NT7w2JVU7DFroFdYkeq8cywxrgjPHWkdX1wjpRQXPX5Asews3tA+Ght6lddQO5Mkumffp3X7GEqku3epj2toIw==}\n    engines: {node: '>= 10'}\n\n  date-fns@4.1.0:\n    resolution: {integrity: sha512-Ukq0owbQXxa/U3EGtsdVBkR1w7KOQ5gIBqdH2hkvknzZPYvBxb/aa6E8L7tmjFtkwZBu3UXBbjIgPo/Ez4xaNg==}\n\n  dayjs@1.11.13:\n    resolution: {integrity: sha512-oaMBel6gjolK862uaPQOVTA7q3TZhuSvuMQAAglQDOWYO9A91IrAOUJEyKVlqJlHE0vq5p5UXxzdPfMH/x6xNg==}\n\n  debug@2.6.9:\n    resolution: {integrity: sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==}\n    peerDependencies:\n      supports-color: '*'\n    peerDependenciesMeta:\n      supports-color:\n        optional: true\n\n  debug@4.3.7:\n    resolution: {integrity: sha512-Er2nc/H7RrMXZBFCEim6TCmMk02Z8vLC2Rbi1KEBggpo0fS6l0S1nnapwmIi3yW/+GOJap1Krg4w0Hg80oCqgQ==}\n    engines: {node: '>=6.0'}\n    peerDependencies:\n      supports-color: '*'\n    peerDependenciesMeta:\n      supports-color:\n        optional: true\n\n  debug@4.4.0:\n    resolution: {integrity: sha512-6WTZ/IxCY/T6BALoZHaE4ctp9xm+Z5kY/pzYaCHRFeyVhojxlrm+46y68HA6hr0TcwEssoxNiDEUJQjfPZ/RYA==}\n    engines: {node: '>=6.0'}\n    peerDependencies:\n      supports-color: '*'\n    peerDependenciesMeta:\n      supports-color:\n        optional: true\n\n  denque@2.1.0:\n    resolution: {integrity: sha512-HVQE3AAb/pxF8fQAoiqpvg9i3evqug3hoiwakOyZAwJm+6vZehbkYXZ0l4JxS+I3QxM97v5aaRNhj8v5oBhekw==}\n    engines: {node: '>=0.10'}\n\n  depd@2.0.0:\n    resolution: {integrity: sha512-g7nH6P6dyDioJogAAGprGpCtVImJhpPk/roCzdb3fIh61/s/nPsfR6onyMwkCAR/OlC3yBC0lESvUoQEAssIrw==}\n    engines: {node: '>= 0.8'}\n\n  destroy@1.2.0:\n    resolution: {integrity: sha512-2sJGJTaXIIaR1w4iJSNoN0hnMY7Gpc/n8D4qSCJw8QqFWXf7cuAgnEHxBpweaVcPevC2l3KpjYCx3NypQQgaJg==}\n    engines: {node: '>= 0.8', npm: 1.2.8000 || >= 1.4.16}\n\n  dotenv@16.4.7:\n    resolution: {integrity: sha512-47qPchRCykZC03FhkYAhrvwU4xDBFIj1QPqaarj6mdM/hgUzfPHcpkHJOn3mJAufFeeAxAzeGsr5X0M4k6fLZQ==}\n    engines: {node: '>=12'}\n\n  dottie@2.0.6:\n    resolution: {integrity: sha512-iGCHkfUc5kFekGiqhe8B/mdaurD+lakO9txNnTvKtA6PISrw86LgqHvRzWYPyoE2Ph5aMIrCw9/uko6XHTKCwA==}\n\n  dunder-proto@1.0.1:\n    resolution: {integrity: sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A==}\n    engines: {node: '>= 0.4'}\n\n  duplexer2@0.1.4:\n    resolution: {integrity: sha512-asLFVfWWtJ90ZyOUHMqk7/S2w2guQKxUI2itj3d92ADHhxUSbCMGi1f1cBcJ7xM1To+pE/Khbwo1yuNbMEPKeA==}\n\n  ecdsa-sig-formatter@1.0.11:\n    resolution: {integrity: sha512-nagl3RYrbNv6kQkeJIpt6NJZy8twLB/2vtz6yN9Z4vRKHN4/QZJIEbqohALSgwKdnksuY3k5Addp5lg8sVoVcQ==}\n\n  ee-first@1.1.1:\n    resolution: {integrity: sha512-WMwm9LhRUo+WUaRN+vRuETqG89IgZphVSNkdFgeb6sS/E4OrDIN7t48CAewSHXc6C8lefD8KKfr5vY61brQlow==}\n\n  encodeurl@1.0.2:\n    resolution: {integrity: sha512-TPJXq8JqFaVYm2CWmPvnP2Iyo4ZSM7/QKcSmuMLDObfpH5fi7RUGmd/rTDf+rut/saiDiQEeVTNgAmJEdAOx0w==}\n    engines: {node: '>= 0.8'}\n\n  encodeurl@2.0.0:\n    resolution: {integrity: sha512-Q0n9HRi4m6JuGIV1eFlmvJB7ZEVxu93IrMyiMsGC0lrMJMWzRgx6WGquyfQgZVb31vhGgXnfmPNNXmxnOkRBrg==}\n    engines: {node: '>= 0.8'}\n\n  end-of-stream@1.4.4:\n    resolution: {integrity: sha512-+uw1inIHVPQoaVuHzRyXd21icM+cnt4CzD5rW+NC1wjOUSTOs+Te7FOv7AhN7vS9x/oIyhLP5PR1H+phQAHu5Q==}\n\n  engine.io-client@6.6.3:\n    resolution: {integrity: sha512-T0iLjnyNWahNyv/lcjS2y4oE358tVS/SYQNxYXGAJ9/GLgH4VCvOQ/mhTjqU88mLZCQgiG8RIegFHYCdVC+j5w==}\n\n  engine.io-parser@5.2.3:\n    resolution: {integrity: sha512-HqD3yTBfnBxIrbnM1DoD6Pcq8NECnh8d4As1Qgh0z5Gg3jRRIqijury0CL3ghu/edArpUYiYqQiDUQBIs4np3Q==}\n    engines: {node: '>=10.0.0'}\n\n  engine.io@6.6.4:\n    resolution: {integrity: sha512-ZCkIjSYNDyGn0R6ewHDtXgns/Zre/NT6Agvq1/WobF7JXgFff4SeDroKiCO3fNJreU9YG429Sc81o4w5ok/W5g==}\n    engines: {node: '>=10.2.0'}\n\n  es-define-property@1.0.1:\n    resolution: {integrity: sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==}\n    engines: {node: '>= 0.4'}\n\n  es-errors@1.3.0:\n    resolution: {integrity: sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==}\n    engines: {node: '>= 0.4'}\n\n  es-object-atoms@1.1.1:\n    resolution: {integrity: sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==}\n    engines: {node: '>= 0.4'}\n\n  escape-html@1.0.3:\n    resolution: {integrity: sha512-NiSupZ4OeuGwr68lGIeym/ksIZMJodUGOSCZ/FSnTxcrekbvqrgdUxlJOMpijaKZVjAJrWrGs/6Jy8OMuyj9ow==}\n\n  etag@1.8.1:\n    resolution: {integrity: sha512-aIL5Fx7mawVa300al2BnEE4iNvo1qETxLrPI/o05L7z6go7fCw1J6EQmbK4FmJ2AS7kgVF/KEZWufBfdClMcPg==}\n    engines: {node: '>= 0.6'}\n\n  exceljs@4.4.0:\n    resolution: {integrity: sha512-XctvKaEMaj1Ii9oDOqbW/6e1gXknSY4g/aLCDicOXqBE4M0nRWkUu0PTp++UPNzoFY12BNHMfs/VadKIS6llvg==}\n    engines: {node: '>=8.3.0'}\n\n  express@4.21.2:\n    resolution: {integrity: sha512-28HqgMZAmih1Czt9ny7qr6ek2qddF4FclbMzwhCREB6OFfH+rXAnuNCwo1/wFvrtbgsQDb4kSbX9de9lFbrXnA==}\n    engines: {node: '>= 0.10.0'}\n\n  fast-csv@4.3.6:\n    resolution: {integrity: sha512-2RNSpuwwsJGP0frGsOmTb9oUF+VkFSM4SyLTDgwf2ciHWTarN0lQTC+F2f/t5J9QjW+c65VFIAAu85GsvMIusw==}\n    engines: {node: '>=10.0.0'}\n\n  finalhandler@1.3.1:\n    resolution: {integrity: sha512-6BN9trH7bp3qvnrRyzsBz+g3lZxTNZTbVO2EV1CS0WIcDbawYVdYvGflME/9QP0h0pYlCDBCTjYa9nZzMDpyxQ==}\n    engines: {node: '>= 0.8'}\n\n  forwarded@0.2.0:\n    resolution: {integrity: sha512-buRG0fpBtRHSTCOASe6hD258tEubFoRLb4ZNA6NxMVHNw2gOcwHo9wyablzMzOA5z9xA9L1KNjk/Nt6MT9aYow==}\n    engines: {node: '>= 0.6'}\n\n  fresh@0.5.2:\n    resolution: {integrity: sha512-zJ2mQYM18rEFOudeV4GShTGIQ7RbzA7ozbU9I/XBpm7kqgMywgmylMwXHxZJmkVoYkna9d2pVXVXPdYTP9ej8Q==}\n    engines: {node: '>= 0.6'}\n\n  fs-constants@1.0.0:\n    resolution: {integrity: sha512-y6OAwoSIf7FyjMIv94u+b5rdheZEjzR63GTyZJm5qh4Bi+2YgwLCcI/fPFZkL5PSixOt6ZNKm+w+Hfp/Bciwow==}\n\n  fs.realpath@1.0.0:\n    resolution: {integrity: sha512-OO0pH2lK6a0hZnAdau5ItzHPI6pUlvI7jMVnxUQRtw4owF2wk8lOSabtGDCTP4Ggrg2MbGnWO9X8K1t4+fGMDw==}\n\n  fstream@1.0.12:\n    resolution: {integrity: sha512-WvJ193OHa0GHPEL+AycEJgxvBEwyfRkN1vhjca23OaPVMCaLCXTd5qAu82AjTcgP1UJmytkOKb63Ypde7raDIg==}\n    engines: {node: '>=0.6'}\n    deprecated: This package is no longer supported.\n\n  function-bind@1.1.2:\n    resolution: {integrity: sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==}\n\n  generate-function@2.3.1:\n    resolution: {integrity: sha512-eeB5GfMNeevm/GRYq20ShmsaGcmI81kIX2K9XQx5miC8KdHaC6Jm0qQ8ZNeGOi7wYB8OsdxKs+Y2oVuTFuVwKQ==}\n\n  get-intrinsic@1.3.0:\n    resolution: {integrity: sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ==}\n    engines: {node: '>= 0.4'}\n\n  get-proto@1.0.1:\n    resolution: {integrity: sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g==}\n    engines: {node: '>= 0.4'}\n\n  glob@7.2.3:\n    resolution: {integrity: sha512-nFR0zLpU2YCaRxwoCJvL6UvCH2JFyFVIvwTLsIf21AuHlMskA1hhTdk+LlYJtOlYt9v6dvszD2BGRqBL+iQK9Q==}\n    deprecated: Glob versions prior to v9 are no longer supported\n\n  gopd@1.2.0:\n    resolution: {integrity: sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==}\n    engines: {node: '>= 0.4'}\n\n  graceful-fs@4.2.11:\n    resolution: {integrity: sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==}\n\n  has-symbols@1.1.0:\n    resolution: {integrity: sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ==}\n    engines: {node: '>= 0.4'}\n\n  hasown@2.0.2:\n    resolution: {integrity: sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==}\n    engines: {node: '>= 0.4'}\n\n  http-errors@2.0.0:\n    resolution: {integrity: sha512-FtwrG/euBzaEjYeRqOgly7G0qviiXoJWnvEH2Z1plBdXgbyjv34pHTSb9zoeHMyDy33+DWy5Wt9Wo+TURtOYSQ==}\n    engines: {node: '>= 0.8'}\n\n  iconv-lite@0.4.24:\n    resolution: {integrity: sha512-v3MXnZAcvnywkTUEZomIActle7RXXeedOR31wwl7VlyoXO4Qi9arvSenNQWne1TcRwhCL1HwLI21bEqdpj8/rA==}\n    engines: {node: '>=0.10.0'}\n\n  iconv-lite@0.6.3:\n    resolution: {integrity: sha512-4fCk79wshMdzMp2rH06qWrJE4iolqLhCUH+OiuIgU++RB0+94NlDL81atO7GX55uUKueo0txHNtvEyI6D7WdMw==}\n    engines: {node: '>=0.10.0'}\n\n  ieee754@1.2.1:\n    resolution: {integrity: sha512-dcyqhDvX1C46lXZcVqCpK+FtMRQVdIMN6/Df5js2zouUsqG7I6sFxitIC+7KYK29KdXOLHdu9zL4sFnoVQnqaA==}\n\n  immediate@3.0.6:\n    resolution: {integrity: sha512-XXOFtyqDjNDAQxVfYxuF7g9Il/IbWmmlQg2MYKOH8ExIT1qg6xc4zyS3HaEEATgs1btfzxq15ciUiY7gjSXRGQ==}\n\n  inflection@1.13.4:\n    resolution: {integrity: sha512-6I/HUDeYFfuNCVS3td055BaXBwKYuzw7K3ExVMStBowKo9oOAMJIXIHvdyR3iboTCp1b+1i5DSkIZTcwIktuDw==}\n    engines: {'0': node >= 0.4.0}\n\n  inflight@1.0.6:\n    resolution: {integrity: sha512-k92I/b08q4wvFscXCLvqfsHCrjrF7yiXsQuIVvVE7N82W3+aqpzuUdBbfhWcy/FZR3/4IgflMgKLOsvPDrGCJA==}\n    deprecated: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.\n\n  inherits@2.0.4:\n    resolution: {integrity: sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==}\n\n  ipaddr.js@1.9.1:\n    resolution: {integrity: sha512-0KI/607xoxSToH7GjN1FfSbLoU0+btTicjsQSWQlh/hZykN8KpmMf7uYwPW3R+akZ6R/w18ZlXSHBYXiYUPO3g==}\n    engines: {node: '>= 0.10'}\n\n  is-property@1.0.2:\n    resolution: {integrity: sha512-Ks/IoX00TtClbGQr4TWXemAnktAQvYB7HzcCxDGqEZU6oCmb2INHuOoKxbtR+HFkmYWBKv/dOZtGRiAjDhj92g==}\n\n  isarray@1.0.0:\n    resolution: {integrity: sha512-VLghIWNM6ELQzo7zwmcg0NmTVyWKYjvIeM83yjp0wRDTmUnrM678fQbcKBo6n2CJEF0szoG//ytg+TKla89ALQ==}\n\n  jsonwebtoken@9.0.2:\n    resolution: {integrity: sha512-PRp66vJ865SSqOlgqS8hujT5U4AOgMfhrwYIuIhfKaoSCZcirrmASQr8CX7cUg+RMih+hgznrjp99o+W4pJLHQ==}\n    engines: {node: '>=12', npm: '>=6'}\n\n  jszip@3.10.1:\n    resolution: {integrity: sha512-xXDvecyTpGLrqFrvkrUSoxxfJI5AH7U8zxxtVclpsUtMCq4JQ290LY8AW5c7Ggnr/Y/oK+bQMbqK2qmtk3pN4g==}\n\n  jwa@1.4.1:\n    resolution: {integrity: sha512-qiLX/xhEEFKUAJ6FiBMbes3w9ATzyk5W7Hvzpa/SLYdxNtng+gcurvrI7TbACjIXlsJyr05/S1oUhZrc63evQA==}\n\n  jws@3.2.2:\n    resolution: {integrity: sha512-YHlZCB6lMTllWDtSPHz/ZXTsi8S00usEV6v1tjq8tOUZzw7DpSDWVXjXDre6ed1w/pd495ODpHZYSdkRTsa0HA==}\n\n  lazystream@1.0.1:\n    resolution: {integrity: sha512-b94GiNHQNy6JNTrt5w6zNyffMrNkXZb3KTkCZJb2V1xaEGCk093vkZ2jk3tpaeP33/OiXC+WvK9AxUebnf5nbw==}\n    engines: {node: '>= 0.6.3'}\n\n  lie@3.3.0:\n    resolution: {integrity: sha512-UaiMJzeWRlEujzAuw5LokY1L5ecNQYZKfmyZ9L7wDHb/p5etKaxXhohBcrw0EYby+G/NA52vRSN4N39dxHAIwQ==}\n\n  listenercount@1.0.1:\n    resolution: {integrity: sha512-3mk/Zag0+IJxeDrxSgaDPy4zZ3w05PRZeJNnlWhzFz5OkX49J4krc+A8X2d2M69vGMBEX0uyl8M+W+8gH+kBqQ==}\n\n  lodash.defaults@4.2.0:\n    resolution: {integrity: sha512-qjxPLHd3r5DnsdGacqOMU6pb/avJzdh9tFX2ymgoZE27BmjXrNy/y4LoaiTeAb+O3gL8AfpJGtqfX/ae2leYYQ==}\n\n  lodash.difference@4.5.0:\n    resolution: {integrity: sha512-dS2j+W26TQ7taQBGN8Lbbq04ssV3emRw4NY58WErlTO29pIqS0HmoT5aJ9+TUQ1N3G+JOZSji4eugsWwGp9yPA==}\n\n  lodash.escaperegexp@4.1.2:\n    resolution: {integrity: sha512-TM9YBvyC84ZxE3rgfefxUWiQKLilstD6k7PTGt6wfbtXF8ixIJLOL3VYyV/z+ZiPLsVxAsKAFVwWlWeb2Y8Yyw==}\n\n  lodash.flatten@4.4.0:\n    resolution: {integrity: sha512-C5N2Z3DgnnKr0LOpv/hKCgKdb7ZZwafIrsesve6lmzvZIRZRGaZ/l6Q8+2W7NaT+ZwO3fFlSCzCzrDCFdJfZ4g==}\n\n  lodash.groupby@4.6.0:\n    resolution: {integrity: sha512-5dcWxm23+VAoz+awKmBaiBvzox8+RqMgFhi7UvX9DHZr2HdxHXM/Wrf8cfKpsW37RNrvtPn6hSwNqurSILbmJw==}\n\n  lodash.includes@4.3.0:\n    resolution: {integrity: sha512-W3Bx6mdkRTGtlJISOvVD/lbqjTlPPUDTMnlXZFnVwi9NKJ6tiAk6LVdlhZMm17VZisqhKcgzpO5Wz91PCt5b0w==}\n\n  lodash.isboolean@3.0.3:\n    resolution: {integrity: sha512-Bz5mupy2SVbPHURB98VAcw+aHh4vRV5IPNhILUCsOzRmsTmSQ17jIuqopAentWoehktxGd9e/hbIXq980/1QJg==}\n\n  lodash.isequal@4.5.0:\n    resolution: {integrity: sha512-pDo3lu8Jhfjqls6GkMgpahsF9kCyayhgykjyLMNFTKWrpVdAQtYyB4muAMWozBB4ig/dtWAmsMxLEI8wuz+DYQ==}\n    deprecated: This package is deprecated. Use require('node:util').isDeepStrictEqual instead.\n\n  lodash.isfunction@3.0.9:\n    resolution: {integrity: sha512-AirXNj15uRIMMPihnkInB4i3NHeb4iBtNg9WRWuK2o31S+ePwwNmDPaTL3o7dTJ+VXNZim7rFs4rxN4YU1oUJw==}\n\n  lodash.isinteger@4.0.4:\n    resolution: {integrity: sha512-DBwtEWN2caHQ9/imiNeEA5ys1JoRtRfY3d7V9wkqtbycnAmTvRRmbHKDV4a0EYc678/dia0jrte4tjYwVBaZUA==}\n\n  lodash.isnil@4.0.0:\n    resolution: {integrity: sha512-up2Mzq3545mwVnMhTDMdfoG1OurpA/s5t88JmQX809eH3C8491iu2sfKhTfhQtKY78oPNhiaHJUpT/dUDAAtng==}\n\n  lodash.isnumber@3.0.3:\n    resolution: {integrity: sha512-QYqzpfwO3/CWf3XP+Z+tkQsfaLL/EnUlXWVkIk5FUPc4sBdTehEqZONuyRt2P67PXAk+NXmTBcc97zw9t1FQrw==}\n\n  lodash.isplainobject@4.0.6:\n    resolution: {integrity: sha512-oSXzaWypCMHkPC3NvBEaPHf0KsA5mvPrOPgQWDsbg8n7orZ290M0BmC/jgRZ4vcJ6DTAhjrsSYgdsW/F+MFOBA==}\n\n  lodash.isstring@4.0.1:\n    resolution: {integrity: sha512-0wJxfxH1wgO3GrbuP+dTTk7op+6L41QCXbGINEmD+ny/G/eCqGzxyCsh7159S+mgDDcoarnBw6PC1PS5+wUGgw==}\n\n  lodash.isundefined@3.0.1:\n    resolution: {integrity: sha512-MXB1is3s899/cD8jheYYE2V9qTHwKvt+npCwpD+1Sxm3Q3cECXCiYHjeHWXNwr6Q0SOBPrYUDxendrO6goVTEA==}\n\n  lodash.once@4.1.1:\n    resolution: {integrity: sha512-Sb487aTOCr9drQVL8pIxOzVhafOjZN9UU54hiN8PU3uAiSV7lx1yYNpbNmex2PK6dSJoNTSJUUswT651yww3Mg==}\n\n  lodash.union@4.6.0:\n    resolution: {integrity: sha512-c4pB2CdGrGdjMKYLA+XiRDO7Y0PRQbm/Gzg8qMj+QH+pFVAoTp5sBpO0odL3FjoPCGjK96p6qsP+yQoiLoOBcw==}\n\n  lodash.uniq@4.5.0:\n    resolution: {integrity: sha512-xfBaXQd9ryd9dlSDvnvI0lvxfLJlYAZzXomUYzLKtUeOQvOP5piqAWuGtrhWeqaXK9hhoM/iyJc5AV+XfsX3HQ==}\n\n  lodash@4.17.21:\n    resolution: {integrity: sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==}\n\n  long@5.3.1:\n    resolution: {integrity: sha512-ka87Jz3gcx/I7Hal94xaN2tZEOPoUOEVftkQqZx2EeQRN7LGdfLlI3FvZ+7WDplm+vK2Urx9ULrvSowtdCieng==}\n\n  lru-cache@7.18.3:\n    resolution: {integrity: sha512-jumlc0BIUrS3qJGgIkWZsyfAM7NCWiBcCDhnd+3NNM5KbBmLTgHVfWBcg6W+rLUsIpzpERPsvwUP7CckAQSOoA==}\n    engines: {node: '>=12'}\n\n  lru.min@1.1.2:\n    resolution: {integrity: sha512-Nv9KddBcQSlQopmBHXSsZVY5xsdlZkdH/Iey0BlcBYggMd4two7cZnKOK9vmy3nY0O5RGH99z1PCeTpPqszUYg==}\n    engines: {bun: '>=1.0.0', deno: '>=1.30.0', node: '>=8.0.0'}\n\n  math-intrinsics@1.1.0:\n    resolution: {integrity: sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g==}\n    engines: {node: '>= 0.4'}\n\n  media-typer@0.3.0:\n    resolution: {integrity: sha512-dq+qelQ9akHpcOl/gUVRTxVIOkAJ1wR3QAvb4RsVjS8oVoFjDGTc679wJYmUmknUF5HwMLOgb5O+a3KxfWapPQ==}\n    engines: {node: '>= 0.6'}\n\n  merge-descriptors@1.0.3:\n    resolution: {integrity: sha512-gaNvAS7TZ897/rVaZ0nMtAyxNyi/pdbjbAwUpFQpN70GqnVfOiXpeUUMKRBmzXaSQ8DdTX4/0ms62r2K+hE6mQ==}\n\n  methods@1.1.2:\n    resolution: {integrity: sha512-iclAHeNqNm68zFtnZ0e+1L2yUIdvzNoauKU4WBA3VvH/vPFieF7qfRlwUZU+DA9P9bPXIS90ulxoUoCH23sV2w==}\n    engines: {node: '>= 0.6'}\n\n  mime-db@1.52.0:\n    resolution: {integrity: sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==}\n    engines: {node: '>= 0.6'}\n\n  mime-types@2.1.35:\n    resolution: {integrity: sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==}\n    engines: {node: '>= 0.6'}\n\n  mime@1.6.0:\n    resolution: {integrity: sha512-x0Vn8spI+wuJ1O6S7gnbaQg8Pxh4NNHb7KSINmEWKiPE4RKOplvijn+NkmYmmRgP68mc70j2EbeTFRsrswaQeg==}\n    engines: {node: '>=4'}\n    hasBin: true\n\n  minimatch@3.1.2:\n    resolution: {integrity: sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==}\n\n  minimatch@5.1.6:\n    resolution: {integrity: sha512-lKwV/1brpG6mBUFHtb7NUmtABCb2WZZmm2wNiOA5hAb8VdCS4B3dtMWyvcoViccwAW/COERjXLt0zP1zXUN26g==}\n    engines: {node: '>=10'}\n\n  minimist@1.2.8:\n    resolution: {integrity: sha512-2yyAR8qBkN3YuheJanUpWC5U3bb5osDywNB8RzDVlDwDHbocAJveqqj1u8+SVD7jkWT4yvsHCpWqqWqAxb0zCA==}\n\n  mkdirp@0.5.6:\n    resolution: {integrity: sha512-FP+p8RB8OWpF3YZBCrP5gtADmtXApB5AMLn+vdyA+PyxCjrCs00mjyUozssO33cwDeT3wNGdLxJ5M//YqtHAJw==}\n    hasBin: true\n\n  moment-timezone@0.5.48:\n    resolution: {integrity: sha512-f22b8LV1gbTO2ms2j2z13MuPogNoh5UzxL3nzNAYKGraILnbGc9NEE6dyiiiLv46DGRb8A4kg8UKWLjPthxBHw==}\n\n  moment@2.30.1:\n    resolution: {integrity: sha512-uEmtNhbDOrWPFS+hdjFCBfy9f2YoyzRpwcl+DqpC6taX21FzsTLQVbMV/W7PzNSX6x/bhC1zA3c2UQ5NzH6how==}\n\n  ms@2.0.0:\n    resolution: {integrity: sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==}\n\n  ms@2.1.3:\n    resolution: {integrity: sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==}\n\n  multer@1.4.5-lts.2:\n    resolution: {integrity: sha512-VzGiVigcG9zUAoCNU+xShztrlr1auZOlurXynNvO9GiWD1/mTBbUljOKY+qMeazBqXgRnjzeEgJI/wyjJUHg9A==}\n    engines: {node: '>= 6.0.0'}\n\n  mysql2@3.14.0:\n    resolution: {integrity: sha512-8eMhmG6gt/hRkU1G+8KlGOdQi2w+CgtNoD1ksXZq9gQfkfDsX4LHaBwTe1SY0Imx//t2iZA03DFnyYKPinxSRw==}\n    engines: {node: '>= 8.0'}\n\n  named-placeholders@1.1.3:\n    resolution: {integrity: sha512-eLoBxg6wE/rZkJPhU/xRX1WTpkFEwDJEN96oxFrTsqBdbT5ec295Q+CoHrL9IT0DipqKhmGcaZmwOt8OON5x1w==}\n    engines: {node: '>=12.0.0'}\n\n  negotiator@0.6.3:\n    resolution: {integrity: sha512-+EUsqGPLsM+j/zdChZjsnX51g4XrHFOIXwfnCVPGlQk/k5giakcKsuxCObBRu6DSm9opw/O6slWbJdghQM4bBg==}\n    engines: {node: '>= 0.6'}\n\n  nodemailer@6.10.0:\n    resolution: {integrity: sha512-SQ3wZCExjeSatLE/HBaXS5vqUOQk6GtBdIIKxiFdmm01mOQZX/POJkO3SUX1wDiYcwUOJwT23scFSC9fY2H8IA==}\n    engines: {node: '>=6.0.0'}\n\n  normalize-path@3.0.0:\n    resolution: {integrity: sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==}\n    engines: {node: '>=0.10.0'}\n\n  object-assign@4.1.1:\n    resolution: {integrity: sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==}\n    engines: {node: '>=0.10.0'}\n\n  object-inspect@1.13.4:\n    resolution: {integrity: sha512-W67iLl4J2EXEGTbfeHCffrjDfitvLANg0UlX3wFUUSTx92KXRFegMHUVgSqE+wvhAbi4WqjGg9czysTV2Epbew==}\n    engines: {node: '>= 0.4'}\n\n  on-finished@2.4.1:\n    resolution: {integrity: sha512-oVlzkg3ENAhCk2zdv7IJwd/QUD4z2RxRwpkcGY8psCVcCYZNq4wYnVWALHM+brtuJjePWiYF/ClmuDr8Ch5+kg==}\n    engines: {node: '>= 0.8'}\n\n  once@1.4.0:\n    resolution: {integrity: sha512-lNaJgI+2Q5URQBkccEKHTQOPaXdUxnZZElQTZY0MFUAuaEqe1E+Nyvgdz/aIyNi6Z9MzO5dv1H8n58/GELp3+w==}\n\n  pako@1.0.11:\n    resolution: {integrity: sha512-4hLB8Py4zZce5s4yd9XzopqwVv/yGNhV1Bl8NTmCq1763HeK2+EwVTv+leGeL13Dnh2wfbqowVPXCIO0z4taYw==}\n\n  parseurl@1.3.3:\n    resolution: {integrity: sha512-CiyeOxFT/JZyN5m0z9PfXw4SCBJ6Sygz1Dpl0wqjlhDEGGBP1GnsUVEL0p63hoG1fcj3fHynXi9NYO4nWOL+qQ==}\n    engines: {node: '>= 0.8'}\n\n  path-is-absolute@1.0.1:\n    resolution: {integrity: sha512-AVbw3UJ2e9bq64vSaS9Am0fje1Pa8pbGqTTsmXfaIiMpnr5DlDhfJOuLj9Sf95ZPVDAUerDfEk88MPmPe7UCQg==}\n    engines: {node: '>=0.10.0'}\n\n  path-to-regexp@0.1.12:\n    resolution: {integrity: sha512-RA1GjUVMnvYFxuqovrEqZoxxW5NUZqbwKtYz/Tt7nXerk0LbLblQmrsgdeOxV5SFHf0UDggjS/bSeOZwt1pmEQ==}\n\n  pg-connection-string@2.7.0:\n    resolution: {integrity: sha512-PI2W9mv53rXJQEOb8xNR8lH7Hr+EKa6oJa38zsK0S/ky2er16ios1wLKhZyxzD7jUReiWokc9WK5nxSnC7W1TA==}\n\n  process-nextick-args@2.0.1:\n    resolution: {integrity: sha512-3ouUOpQhtgrbOa17J7+uxOTpITYWaGP7/AhoR3+A+/1e9skrzelGi/dXzEYyvbxubEF6Wn2ypscTKiKJFFn1ag==}\n\n  proxy-addr@2.0.7:\n    resolution: {integrity: sha512-llQsMLSUDUPT44jdrU/O37qlnifitDP+ZwrmmZcoSKyLKvtZxpyV0n2/bD/N4tBAAZ/gJEdZU7KMraoK1+XYAg==}\n    engines: {node: '>= 0.10'}\n\n  qs@6.13.0:\n    resolution: {integrity: sha512-+38qI9SOr8tfZ4QmJNplMUxqjbe7LKvvZgWdExBOmd+egZTtjLB67Gu0HRX3u/XOq7UU2Nx6nsjvS16Z9uwfpg==}\n    engines: {node: '>=0.6'}\n\n  range-parser@1.2.1:\n    resolution: {integrity: sha512-Hrgsx+orqoygnmhFbKaHE6c296J+HTAQXoxEF6gNupROmmGJRoyzfG3ccAveqCBrwr/2yxQ5BVd/GTl5agOwSg==}\n    engines: {node: '>= 0.6'}\n\n  raw-body@2.5.2:\n    resolution: {integrity: sha512-8zGqypfENjCIqGhgXToC8aB2r7YrBX+AQAfIPs/Mlk+BtPTztOvTS01NRW/3Eh60J+a48lt8qsCzirQ6loCVfA==}\n    engines: {node: '>= 0.8'}\n\n  readable-stream@2.3.8:\n    resolution: {integrity: sha512-8p0AUk4XODgIewSi0l8Epjs+EVnWiK7NoDIEGU0HhE7+ZyY8D1IMY7odu5lRrFXGg71L15KG8QrPmum45RTtdA==}\n\n  readable-stream@3.6.2:\n    resolution: {integrity: sha512-9u/sniCrY3D5WdsERHzHE4G2YCXqoG5FTHUiCC4SIbr6XcLZBY05ya9EKjYek9O5xOAwjGq+1JdGBAS7Q9ScoA==}\n    engines: {node: '>= 6'}\n\n  readdir-glob@1.1.3:\n    resolution: {integrity: sha512-v05I2k7xN8zXvPD9N+z/uhXPaj0sUFCe2rcWZIpBsqxfP7xXFQ0tipAd/wjj1YxWyWtUS5IDJpOG82JKt2EAVA==}\n\n  retry-as-promised@7.1.1:\n    resolution: {integrity: sha512-hMD7odLOt3LkTjcif8aRZqi/hybjpLNgSk5oF5FCowfCjok6LukpN2bDX7R5wDmbgBQFn7YoBxSagmtXHaJYJw==}\n\n  rimraf@2.7.1:\n    resolution: {integrity: sha512-uWjbaKIK3T1OSVptzX7Nl6PvQ3qAGtKEtVRjRuazjfL3Bx5eI409VZSqgND+4UNnmzLVdPj9FqFJNPqBZFve4w==}\n    deprecated: Rimraf versions prior to v4 are no longer supported\n    hasBin: true\n\n  safe-buffer@5.1.2:\n    resolution: {integrity: sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g==}\n\n  safe-buffer@5.2.1:\n    resolution: {integrity: sha512-rp3So07KcdmmKbGvgaNxQSJr7bGVSVk5S9Eq1F+ppbRo70+YeaDxkw5Dd8NPN+GD6bjnYm2VuPuCXmpuYvmCXQ==}\n\n  safer-buffer@2.1.2:\n    resolution: {integrity: sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==}\n\n  saxes@5.0.1:\n    resolution: {integrity: sha512-5LBh1Tls8c9xgGjw3QrMwETmTMVk0oFgvrFSvWx62llR2hcEInrKNZ2GZCCuuy2lvWrdl5jhbpeqc5hRYKFOcw==}\n    engines: {node: '>=10'}\n\n  semver@7.7.1:\n    resolution: {integrity: sha512-hlq8tAfn0m/61p4BVRcPzIGr6LKiMwo4VM6dGi6pt4qcRkmNzTcWq6eCEjEh+qXjkMDvPlOFFSGwQjoEa6gyMA==}\n    engines: {node: '>=10'}\n    hasBin: true\n\n  send@0.19.0:\n    resolution: {integrity: sha512-dW41u5VfLXu8SJh5bwRmyYUbAoSB3c9uQh6L8h/KtsFREPWpbX1lrljJo186Jc4nmci/sGUZ9a0a0J2zgfq2hw==}\n    engines: {node: '>= 0.8.0'}\n\n  seq-queue@0.0.5:\n    resolution: {integrity: sha512-hr3Wtp/GZIc/6DAGPDcV4/9WoZhjrkXsi5B/07QgX8tsdc6ilr7BFM6PM6rbdAX1kFSDYeZGLipIZZKyQP0O5Q==}\n\n  sequelize-pool@7.1.0:\n    resolution: {integrity: sha512-G9c0qlIWQSK29pR/5U2JF5dDQeqqHRragoyahj/Nx4KOOQ3CPPfzxnfqFPCSB7x5UgjOgnZ61nSxz+fjDpRlJg==}\n    engines: {node: '>= 10.0.0'}\n\n  sequelize@6.37.6:\n    resolution: {integrity: sha512-4Slqjqpktofs7AVqWviFOInzP9w8ZRQDhF+DnRtm4WKIdIATpyzGgedyseP3xbgpBxapvfQcJv6CeIdZe4ZL2A==}\n    engines: {node: '>=10.0.0'}\n    peerDependencies:\n      ibm_db: '*'\n      mariadb: '*'\n      mysql2: '*'\n      oracledb: '*'\n      pg: '*'\n      pg-hstore: '*'\n      snowflake-sdk: '*'\n      sqlite3: '*'\n      tedious: '*'\n    peerDependenciesMeta:\n      ibm_db:\n        optional: true\n      mariadb:\n        optional: true\n      mysql2:\n        optional: true\n      oracledb:\n        optional: true\n      pg:\n        optional: true\n      pg-hstore:\n        optional: true\n      snowflake-sdk:\n        optional: true\n      sqlite3:\n        optional: true\n      tedious:\n        optional: true\n\n  serve-static@1.16.2:\n    resolution: {integrity: sha512-VqpjJZKadQB/PEbEwvFdO43Ax5dFBZ2UECszz8bQ7pi7wt//PWe1P6MN7eCnjsatYtBT6EuiClbjSWP2WrIoTw==}\n    engines: {node: '>= 0.8.0'}\n\n  setimmediate@1.0.5:\n    resolution: {integrity: sha512-MATJdZp8sLqDl/68LfQmbP8zKPLQNV6BIZoIgrscFDQ+RsvK/BxeDQOgyxKKoh0y/8h3BqVFnCqQ/gd+reiIXA==}\n\n  setprototypeof@1.2.0:\n    resolution: {integrity: sha512-E5LDX7Wrp85Kil5bhZv46j8jOeboKq5JMmYM3gVGdGH8xFpPWXUMsNrlODCrkoxMEeNi/XZIwuRvY4XNwYMJpw==}\n\n  side-channel-list@1.0.0:\n    resolution: {integrity: sha512-FCLHtRD/gnpCiCHEiJLOwdmFP+wzCmDEkc9y7NsYxeF4u7Btsn1ZuwgwJGxImImHicJArLP4R0yX4c2KCrMrTA==}\n    engines: {node: '>= 0.4'}\n\n  side-channel-map@1.0.1:\n    resolution: {integrity: sha512-VCjCNfgMsby3tTdo02nbjtM/ewra6jPHmpThenkTYh8pG9ucZ/1P8So4u4FGBek/BjpOVsDCMoLA/iuBKIFXRA==}\n    engines: {node: '>= 0.4'}\n\n  side-channel-weakmap@1.0.2:\n    resolution: {integrity: sha512-WPS/HvHQTYnHisLo9McqBHOJk2FkHO/tlpvldyrnem4aeQp4hai3gythswg6p01oSoTl58rcpiFAjF2br2Ak2A==}\n    engines: {node: '>= 0.4'}\n\n  side-channel@1.1.0:\n    resolution: {integrity: sha512-ZX99e6tRweoUXqR+VBrslhda51Nh5MTQwou5tnUDgbtyM0dBgmhEDtWGP/xbKn6hqfPRHujUNwz5fy/wbbhnpw==}\n    engines: {node: '>= 0.4'}\n\n  socket.io-adapter@2.5.5:\n    resolution: {integrity: sha512-eLDQas5dzPgOWCk9GuuJC2lBqItuhKI4uxGgo9aIV7MYbk2h9Q6uULEh8WBzThoI7l+qU9Ast9fVUmkqPP9wYg==}\n\n  socket.io-client@4.8.1:\n    resolution: {integrity: sha512-hJVXfu3E28NmzGk8o1sHhN3om52tRvwYeidbj7xKy2eIIse5IoKX3USlS6Tqt3BHAtflLIkCQBkzVrEEfWUyYQ==}\n    engines: {node: '>=10.0.0'}\n\n  socket.io-parser@4.2.4:\n    resolution: {integrity: sha512-/GbIKmo8ioc+NIWIhwdecY0ge+qVBSMdgxGygevmdHj24bsfgtCmcUUcQ5ZzcylGFHsN3k4HB4Cgkl96KVnuew==}\n    engines: {node: '>=10.0.0'}\n\n  socket.io@4.8.1:\n    resolution: {integrity: sha512-oZ7iUCxph8WYRHHcjBEc9unw3adt5CmSNlppj/5Q4k2RIrhl8Z5yY2Xr4j9zj0+wzVZ0bxmYoGSzKJnRl6A4yg==}\n    engines: {node: '>=10.2.0'}\n\n  sqlstring@2.3.3:\n    resolution: {integrity: sha512-qC9iz2FlN7DQl3+wjwn3802RTyjCx7sDvfQEXchwa6CWOx07/WVfh91gBmQ9fahw8snwGEWU3xGzOt4tFyHLxg==}\n    engines: {node: '>= 0.6'}\n\n  statuses@2.0.1:\n    resolution: {integrity: sha512-RwNA9Z/7PrK06rYLIzFMlaF+l73iwpzsqRIFgbMLbTcLD6cOao82TaWefPXQvB2fOC4AjuYSEndS7N/mTCbkdQ==}\n    engines: {node: '>= 0.8'}\n\n  streamsearch@1.1.0:\n    resolution: {integrity: sha512-Mcc5wHehp9aXz1ax6bZUyY5afg9u2rv5cqQI3mRrYkGC8rW2hM02jWuwjtL++LS5qinSyhj2QfLyNsuc+VsExg==}\n    engines: {node: '>=10.0.0'}\n\n  string_decoder@1.1.1:\n    resolution: {integrity: sha512-n/ShnvDi6FHbbVfviro+WojiFzv+s8MPMHBczVePfUpDJLwoLT0ht1l4YwBCbi8pJAveEEdnkHyPyTP/mzRfwg==}\n\n  string_decoder@1.3.0:\n    resolution: {integrity: sha512-hkRX8U1WjJFd8LsDJ2yQ/wWWxaopEsABU1XfkM8A+j0+85JAGppt16cr1Whg6KIbb4okU6Mql6BOj+uup/wKeA==}\n\n  tar-stream@2.2.0:\n    resolution: {integrity: sha512-ujeqbceABgwMZxEJnk2HDY2DlnUZ+9oEcb1KzTVfYHio0UE6dG71n60d8D2I4qNvleWrrXpmjpt7vZeF1LnMZQ==}\n    engines: {node: '>=6'}\n\n  tmp@0.2.3:\n    resolution: {integrity: sha512-nZD7m9iCPC5g0pYmcaxogYKggSfLsdxl8of3Q/oIbqCqLLIO9IAF0GWjX1z9NZRHPiXv8Wex4yDCaZsgEw0Y8w==}\n    engines: {node: '>=14.14'}\n\n  toidentifier@1.0.1:\n    resolution: {integrity: sha512-o5sSPKEkg/DIQNmH43V0/uerLrpzVedkUh8tGNvaeXpfpuwjKenlSox/2O/BTlZUtEe+JG7s5YhEz608PlAHRA==}\n    engines: {node: '>=0.6'}\n\n  toposort-class@1.0.1:\n    resolution: {integrity: sha512-OsLcGGbYF3rMjPUf8oKktyvCiUxSbqMMS39m33MAjLTC1DVIH6x3WSt63/M77ihI09+Sdfk1AXvfhCEeUmC7mg==}\n\n  traverse@0.3.9:\n    resolution: {integrity: sha512-iawgk0hLP3SxGKDfnDJf8wTz4p2qImnyihM5Hh/sGvQ3K37dPi/w8sRhdNIxYA1TwFwc5mDhIJq+O0RsvXBKdQ==}\n\n  type-is@1.6.18:\n    resolution: {integrity: sha512-TkRKr9sUTxEH8MdfuCSP7VizJyzRNMjj2J2do2Jr3Kym598JVdEksuzPQCnlFPW4ky9Q+iA+ma9BGm06XQBy8g==}\n    engines: {node: '>= 0.6'}\n\n  typedarray@0.0.6:\n    resolution: {integrity: sha512-/aCDEGatGvZ2BIk+HmLf4ifCJFwvKFNb9/JeZPMulfgFracn9QFcAf5GO8B/mweUjSoblS5In0cWhqpfs/5PQA==}\n\n  undici-types@6.20.0:\n    resolution: {integrity: sha512-Ny6QZ2Nju20vw1SRHe3d9jVu6gJ+4e3+MMpqu7pqE5HT6WsTSlce++GQmK5UXS8mzV8DSYHrQH+Xrf2jVcuKNg==}\n\n  unpipe@1.0.0:\n    resolution: {integrity: sha512-pjy2bYhSsufwWlKwPc+l3cN7+wuJlK6uz0YdJEOlQDbl6jo/YlPi4mb8agUkVC8BF7V8NuzeyPNqRksA3hztKQ==}\n    engines: {node: '>= 0.8'}\n\n  unzipper@0.10.14:\n    resolution: {integrity: sha512-ti4wZj+0bQTiX2KmKWuwj7lhV+2n//uXEotUmGuQqrbVZSEGFMbI68+c6JCQ8aAmUWYvtHEz2A8K6wXvueR/6g==}\n\n  util-deprecate@1.0.2:\n    resolution: {integrity: sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==}\n\n  utils-merge@1.0.1:\n    resolution: {integrity: sha512-pMZTvIkT1d+TFGvDOqodOclx0QWkkgi6Tdoa8gC8ffGAAqz9pzPTZWAybbsHHoED/ztMtkv/VoYTYyShUn81hA==}\n    engines: {node: '>= 0.4.0'}\n\n  uuid@11.1.0:\n    resolution: {integrity: sha512-0/A9rDy9P7cJ+8w1c9WD9V//9Wj15Ce2MPz8Ri6032usz+NfePxx5AcN3bN+r6ZL6jEo066/yNYB3tn4pQEx+A==}\n    hasBin: true\n\n  uuid@8.3.2:\n    resolution: {integrity: sha512-+NYs2QeMWy+GWFOEm9xnn6HCDp0l7QBD7ml8zLUmJ+93Q5NF0NocErnwkTkXVFNiX3/fpC6afS8Dhb/gz7R7eg==}\n    hasBin: true\n\n  validator@13.15.0:\n    resolution: {integrity: sha512-36B2ryl4+oL5QxZ3AzD0t5SsMNGvTtQHpjgFO5tbNxfXbMFkY822ktCDe1MnlqV3301QQI9SLHDNJokDI+Z9pA==}\n    engines: {node: '>= 0.10'}\n\n  vary@1.1.2:\n    resolution: {integrity: sha512-BNGbWLfd0eUPabhkXUVm0j8uuvREyTh5ovRa/dyow/BqAbZJyC+5fU+IzQOzmAKzYqYRAISoRhdQr3eIZ/PXqg==}\n    engines: {node: '>= 0.8'}\n\n  wkx@0.5.0:\n    resolution: {integrity: sha512-Xng/d4Ichh8uN4l0FToV/258EjMGU9MGcA0HV2d9B/ZpZB3lqQm7nkOdZdm5GhKtLLhAE7PiVQwN4eN+2YJJUg==}\n\n  wrappy@1.0.2:\n    resolution: {integrity: sha512-l4Sp/DRseor9wL6EvV2+TuQn63dMkPjZ/sp9XkghTEbV9KlPS1xUsZ3u7/IQO4wxtcFB4bgpQPRcR3QCvezPcQ==}\n\n  ws@8.17.1:\n    resolution: {integrity: sha512-6XQFvXTkbfUOZOKKILFG1PDK2NDQs4azKQl26T0YS5CxqWLgXajbPZ+h4gZekJyRqFU8pvnbAbbs/3TgRPy+GQ==}\n    engines: {node: '>=10.0.0'}\n    peerDependencies:\n      bufferutil: ^4.0.1\n      utf-8-validate: '>=5.0.2'\n    peerDependenciesMeta:\n      bufferutil:\n        optional: true\n      utf-8-validate:\n        optional: true\n\n  xmlchars@2.2.0:\n    resolution: {integrity: sha512-JZnDKK8B0RCDw84FNdDAIpZK+JuJw+s7Lz8nksI7SIuU3UXJJslUthsi+uWBUYOwPFwW7W7PRLRfUKpxjtjFCw==}\n\n  xmlhttprequest-ssl@2.1.2:\n    resolution: {integrity: sha512-TEU+nJVUUnA4CYJFLvK5X9AOeH4KvDvhIfm0vV1GaQRtchnG0hgK5p8hw/xjv8cunWYCsiPCSDzObPyhEwq3KQ==}\n    engines: {node: '>=0.4.0'}\n\n  xtend@4.0.2:\n    resolution: {integrity: sha512-LKYU1iAXJXUgAXn9URjiu+MWhyUXHsvfp7mcuYm9dSUKK0/CjtrUwFAxD82/mCWbtLsGjFIad0wIsod4zrTAEQ==}\n    engines: {node: '>=0.4'}\n\n  zip-stream@4.1.1:\n    resolution: {integrity: sha512-9qv4rlDiopXg4E69k+vMHjNN63YFMe9sZMrdlvKnCjlCRWeCBswPPMPUfx+ipsAWq1LXHe70RcbaHdJJpS6hyQ==}\n    engines: {node: '>= 10'}\n\nsnapshots:\n\n  '@fast-csv/format@4.3.5':\n    dependencies:\n      '@types/node': 14.18.63\n      lodash.escaperegexp: 4.1.2\n      lodash.isboolean: 3.0.3\n      lodash.isequal: 4.5.0\n      lodash.isfunction: 3.0.9\n      lodash.isnil: 4.0.0\n\n  '@fast-csv/parse@4.3.6':\n    dependencies:\n      '@types/node': 14.18.63\n      lodash.escaperegexp: 4.1.2\n      lodash.groupby: 4.6.0\n      lodash.isfunction: 3.0.9\n      lodash.isnil: 4.0.0\n      lodash.isundefined: 3.0.1\n      lodash.uniq: 4.5.0\n\n  '@socket.io/component-emitter@3.1.2': {}\n\n  '@types/cors@2.8.17':\n    dependencies:\n      '@types/node': 22.13.13\n\n  '@types/debug@4.1.12':\n    dependencies:\n      '@types/ms': 2.1.0\n\n  '@types/ms@2.1.0': {}\n\n  '@types/node@14.18.63': {}\n\n  '@types/node@22.13.13':\n    dependencies:\n      undici-types: 6.20.0\n\n  '@types/validator@13.12.3': {}\n\n  accepts@1.3.8:\n    dependencies:\n      mime-types: 2.1.35\n      negotiator: 0.6.3\n\n  append-field@1.0.0: {}\n\n  archiver-utils@2.1.0:\n    dependencies:\n      glob: 7.2.3\n      graceful-fs: 4.2.11\n      lazystream: 1.0.1\n      lodash.defaults: 4.2.0\n      lodash.difference: 4.5.0\n      lodash.flatten: 4.4.0\n      lodash.isplainobject: 4.0.6\n      lodash.union: 4.6.0\n      normalize-path: 3.0.0\n      readable-stream: 2.3.8\n\n  archiver-utils@3.0.4:\n    dependencies:\n      glob: 7.2.3\n      graceful-fs: 4.2.11\n      lazystream: 1.0.1\n      lodash.defaults: 4.2.0\n      lodash.difference: 4.5.0\n      lodash.flatten: 4.4.0\n      lodash.isplainobject: 4.0.6\n      lodash.union: 4.6.0\n      normalize-path: 3.0.0\n      readable-stream: 3.6.2\n\n  archiver@5.3.2:\n    dependencies:\n      archiver-utils: 2.1.0\n      async: 3.2.6\n      buffer-crc32: 0.2.13\n      readable-stream: 3.6.2\n      readdir-glob: 1.1.3\n      tar-stream: 2.2.0\n      zip-stream: 4.1.1\n\n  array-flatten@1.1.1: {}\n\n  async@3.2.6: {}\n\n  aws-ssl-profiles@1.1.2: {}\n\n  balanced-match@1.0.2: {}\n\n  base64-js@1.5.1: {}\n\n  base64id@2.0.0: {}\n\n  bcryptjs@2.4.3: {}\n\n  big-integer@1.6.52: {}\n\n  binary@0.3.0:\n    dependencies:\n      buffers: 0.1.1\n      chainsaw: 0.1.0\n\n  bl@4.1.0:\n    dependencies:\n      buffer: 5.7.1\n      inherits: 2.0.4\n      readable-stream: 3.6.2\n\n  bluebird@3.4.7: {}\n\n  body-parser@1.20.3:\n    dependencies:\n      bytes: 3.1.2\n      content-type: 1.0.5\n      debug: 2.6.9\n      depd: 2.0.0\n      destroy: 1.2.0\n      http-errors: 2.0.0\n      iconv-lite: 0.4.24\n      on-finished: 2.4.1\n      qs: 6.13.0\n      raw-body: 2.5.2\n      type-is: 1.6.18\n      unpipe: 1.0.0\n    transitivePeerDependencies:\n      - supports-color\n\n  brace-expansion@1.1.11:\n    dependencies:\n      balanced-match: 1.0.2\n      concat-map: 0.0.1\n\n  brace-expansion@2.0.1:\n    dependencies:\n      balanced-match: 1.0.2\n\n  buffer-crc32@0.2.13: {}\n\n  buffer-equal-constant-time@1.0.1: {}\n\n  buffer-from@1.1.2: {}\n\n  buffer-indexof-polyfill@1.0.2: {}\n\n  buffer@5.7.1:\n    dependencies:\n      base64-js: 1.5.1\n      ieee754: 1.2.1\n\n  buffers@0.1.1: {}\n\n  busboy@1.6.0:\n    dependencies:\n      streamsearch: 1.1.0\n\n  bytes@3.1.2: {}\n\n  call-bind-apply-helpers@1.0.2:\n    dependencies:\n      es-errors: 1.3.0\n      function-bind: 1.1.2\n\n  call-bound@1.0.4:\n    dependencies:\n      call-bind-apply-helpers: 1.0.2\n      get-intrinsic: 1.3.0\n\n  chainsaw@0.1.0:\n    dependencies:\n      traverse: 0.3.9\n\n  compress-commons@4.1.2:\n    dependencies:\n      buffer-crc32: 0.2.13\n      crc32-stream: 4.0.3\n      normalize-path: 3.0.0\n      readable-stream: 3.6.2\n\n  concat-map@0.0.1: {}\n\n  concat-stream@1.6.2:\n    dependencies:\n      buffer-from: 1.1.2\n      inherits: 2.0.4\n      readable-stream: 2.3.8\n      typedarray: 0.0.6\n\n  content-disposition@0.5.4:\n    dependencies:\n      safe-buffer: 5.2.1\n\n  content-type@1.0.5: {}\n\n  cookie-signature@1.0.6: {}\n\n  cookie@0.7.1: {}\n\n  cookie@0.7.2: {}\n\n  core-util-is@1.0.3: {}\n\n  cors@2.8.5:\n    dependencies:\n      object-assign: 4.1.1\n      vary: 1.1.2\n\n  crc-32@1.2.2: {}\n\n  crc32-stream@4.0.3:\n    dependencies:\n      crc-32: 1.2.2\n      readable-stream: 3.6.2\n\n  date-fns@4.1.0: {}\n\n  dayjs@1.11.13: {}\n\n  debug@2.6.9:\n    dependencies:\n      ms: 2.0.0\n\n  debug@4.3.7:\n    dependencies:\n      ms: 2.1.3\n\n  debug@4.4.0:\n    dependencies:\n      ms: 2.1.3\n\n  denque@2.1.0: {}\n\n  depd@2.0.0: {}\n\n  destroy@1.2.0: {}\n\n  dotenv@16.4.7: {}\n\n  dottie@2.0.6: {}\n\n  dunder-proto@1.0.1:\n    dependencies:\n      call-bind-apply-helpers: 1.0.2\n      es-errors: 1.3.0\n      gopd: 1.2.0\n\n  duplexer2@0.1.4:\n    dependencies:\n      readable-stream: 2.3.8\n\n  ecdsa-sig-formatter@1.0.11:\n    dependencies:\n      safe-buffer: 5.2.1\n\n  ee-first@1.1.1: {}\n\n  encodeurl@1.0.2: {}\n\n  encodeurl@2.0.0: {}\n\n  end-of-stream@1.4.4:\n    dependencies:\n      once: 1.4.0\n\n  engine.io-client@6.6.3:\n    dependencies:\n      '@socket.io/component-emitter': 3.1.2\n      debug: 4.3.7\n      engine.io-parser: 5.2.3\n      ws: 8.17.1\n      xmlhttprequest-ssl: 2.1.2\n    transitivePeerDependencies:\n      - bufferutil\n      - supports-color\n      - utf-8-validate\n\n  engine.io-parser@5.2.3: {}\n\n  engine.io@6.6.4:\n    dependencies:\n      '@types/cors': 2.8.17\n      '@types/node': 22.13.13\n      accepts: 1.3.8\n      base64id: 2.0.0\n      cookie: 0.7.2\n      cors: 2.8.5\n      debug: 4.3.7\n      engine.io-parser: 5.2.3\n      ws: 8.17.1\n    transitivePeerDependencies:\n      - bufferutil\n      - supports-color\n      - utf-8-validate\n\n  es-define-property@1.0.1: {}\n\n  es-errors@1.3.0: {}\n\n  es-object-atoms@1.1.1:\n    dependencies:\n      es-errors: 1.3.0\n\n  escape-html@1.0.3: {}\n\n  etag@1.8.1: {}\n\n  exceljs@4.4.0:\n    dependencies:\n      archiver: 5.3.2\n      dayjs: 1.11.13\n      fast-csv: 4.3.6\n      jszip: 3.10.1\n      readable-stream: 3.6.2\n      saxes: 5.0.1\n      tmp: 0.2.3\n      unzipper: 0.10.14\n      uuid: 8.3.2\n\n  express@4.21.2:\n    dependencies:\n      accepts: 1.3.8\n      array-flatten: 1.1.1\n      body-parser: 1.20.3\n      content-disposition: 0.5.4\n      content-type: 1.0.5\n      cookie: 0.7.1\n      cookie-signature: 1.0.6\n      debug: 2.6.9\n      depd: 2.0.0\n      encodeurl: 2.0.0\n      escape-html: 1.0.3\n      etag: 1.8.1\n      finalhandler: 1.3.1\n      fresh: 0.5.2\n      http-errors: 2.0.0\n      merge-descriptors: 1.0.3\n      methods: 1.1.2\n      on-finished: 2.4.1\n      parseurl: 1.3.3\n      path-to-regexp: 0.1.12\n      proxy-addr: 2.0.7\n      qs: 6.13.0\n      range-parser: 1.2.1\n      safe-buffer: 5.2.1\n      send: 0.19.0\n      serve-static: 1.16.2\n      setprototypeof: 1.2.0\n      statuses: 2.0.1\n      type-is: 1.6.18\n      utils-merge: 1.0.1\n      vary: 1.1.2\n    transitivePeerDependencies:\n      - supports-color\n\n  fast-csv@4.3.6:\n    dependencies:\n      '@fast-csv/format': 4.3.5\n      '@fast-csv/parse': 4.3.6\n\n  finalhandler@1.3.1:\n    dependencies:\n      debug: 2.6.9\n      encodeurl: 2.0.0\n      escape-html: 1.0.3\n      on-finished: 2.4.1\n      parseurl: 1.3.3\n      statuses: 2.0.1\n      unpipe: 1.0.0\n    transitivePeerDependencies:\n      - supports-color\n\n  forwarded@0.2.0: {}\n\n  fresh@0.5.2: {}\n\n  fs-constants@1.0.0: {}\n\n  fs.realpath@1.0.0: {}\n\n  fstream@1.0.12:\n    dependencies:\n      graceful-fs: 4.2.11\n      inherits: 2.0.4\n      mkdirp: 0.5.6\n      rimraf: 2.7.1\n\n  function-bind@1.1.2: {}\n\n  generate-function@2.3.1:\n    dependencies:\n      is-property: 1.0.2\n\n  get-intrinsic@1.3.0:\n    dependencies:\n      call-bind-apply-helpers: 1.0.2\n      es-define-property: 1.0.1\n      es-errors: 1.3.0\n      es-object-atoms: 1.1.1\n      function-bind: 1.1.2\n      get-proto: 1.0.1\n      gopd: 1.2.0\n      has-symbols: 1.1.0\n      hasown: 2.0.2\n      math-intrinsics: 1.1.0\n\n  get-proto@1.0.1:\n    dependencies:\n      dunder-proto: 1.0.1\n      es-object-atoms: 1.1.1\n\n  glob@7.2.3:\n    dependencies:\n      fs.realpath: 1.0.0\n      inflight: 1.0.6\n      inherits: 2.0.4\n      minimatch: 3.1.2\n      once: 1.4.0\n      path-is-absolute: 1.0.1\n\n  gopd@1.2.0: {}\n\n  graceful-fs@4.2.11: {}\n\n  has-symbols@1.1.0: {}\n\n  hasown@2.0.2:\n    dependencies:\n      function-bind: 1.1.2\n\n  http-errors@2.0.0:\n    dependencies:\n      depd: 2.0.0\n      inherits: 2.0.4\n      setprototypeof: 1.2.0\n      statuses: 2.0.1\n      toidentifier: 1.0.1\n\n  iconv-lite@0.4.24:\n    dependencies:\n      safer-buffer: 2.1.2\n\n  iconv-lite@0.6.3:\n    dependencies:\n      safer-buffer: 2.1.2\n\n  ieee754@1.2.1: {}\n\n  immediate@3.0.6: {}\n\n  inflection@1.13.4: {}\n\n  inflight@1.0.6:\n    dependencies:\n      once: 1.4.0\n      wrappy: 1.0.2\n\n  inherits@2.0.4: {}\n\n  ipaddr.js@1.9.1: {}\n\n  is-property@1.0.2: {}\n\n  isarray@1.0.0: {}\n\n  jsonwebtoken@9.0.2:\n    dependencies:\n      jws: 3.2.2\n      lodash.includes: 4.3.0\n      lodash.isboolean: 3.0.3\n      lodash.isinteger: 4.0.4\n      lodash.isnumber: 3.0.3\n      lodash.isplainobject: 4.0.6\n      lodash.isstring: 4.0.1\n      lodash.once: 4.1.1\n      ms: 2.1.3\n      semver: 7.7.1\n\n  jszip@3.10.1:\n    dependencies:\n      lie: 3.3.0\n      pako: 1.0.11\n      readable-stream: 2.3.8\n      setimmediate: 1.0.5\n\n  jwa@1.4.1:\n    dependencies:\n      buffer-equal-constant-time: 1.0.1\n      ecdsa-sig-formatter: 1.0.11\n      safe-buffer: 5.2.1\n\n  jws@3.2.2:\n    dependencies:\n      jwa: 1.4.1\n      safe-buffer: 5.2.1\n\n  lazystream@1.0.1:\n    dependencies:\n      readable-stream: 2.3.8\n\n  lie@3.3.0:\n    dependencies:\n      immediate: 3.0.6\n\n  listenercount@1.0.1: {}\n\n  lodash.defaults@4.2.0: {}\n\n  lodash.difference@4.5.0: {}\n\n  lodash.escaperegexp@4.1.2: {}\n\n  lodash.flatten@4.4.0: {}\n\n  lodash.groupby@4.6.0: {}\n\n  lodash.includes@4.3.0: {}\n\n  lodash.isboolean@3.0.3: {}\n\n  lodash.isequal@4.5.0: {}\n\n  lodash.isfunction@3.0.9: {}\n\n  lodash.isinteger@4.0.4: {}\n\n  lodash.isnil@4.0.0: {}\n\n  lodash.isnumber@3.0.3: {}\n\n  lodash.isplainobject@4.0.6: {}\n\n  lodash.isstring@4.0.1: {}\n\n  lodash.isundefined@3.0.1: {}\n\n  lodash.once@4.1.1: {}\n\n  lodash.union@4.6.0: {}\n\n  lodash.uniq@4.5.0: {}\n\n  lodash@4.17.21: {}\n\n  long@5.3.1: {}\n\n  lru-cache@7.18.3: {}\n\n  lru.min@1.1.2: {}\n\n  math-intrinsics@1.1.0: {}\n\n  media-typer@0.3.0: {}\n\n  merge-descriptors@1.0.3: {}\n\n  methods@1.1.2: {}\n\n  mime-db@1.52.0: {}\n\n  mime-types@2.1.35:\n    dependencies:\n      mime-db: 1.52.0\n\n  mime@1.6.0: {}\n\n  minimatch@3.1.2:\n    dependencies:\n      brace-expansion: 1.1.11\n\n  minimatch@5.1.6:\n    dependencies:\n      brace-expansion: 2.0.1\n\n  minimist@1.2.8: {}\n\n  mkdirp@0.5.6:\n    dependencies:\n      minimist: 1.2.8\n\n  moment-timezone@0.5.48:\n    dependencies:\n      moment: 2.30.1\n\n  moment@2.30.1: {}\n\n  ms@2.0.0: {}\n\n  ms@2.1.3: {}\n\n  multer@1.4.5-lts.2:\n    dependencies:\n      append-field: 1.0.0\n      busboy: 1.6.0\n      concat-stream: 1.6.2\n      mkdirp: 0.5.6\n      object-assign: 4.1.1\n      type-is: 1.6.18\n      xtend: 4.0.2\n\n  mysql2@3.14.0:\n    dependencies:\n      aws-ssl-profiles: 1.1.2\n      denque: 2.1.0\n      generate-function: 2.3.1\n      iconv-lite: 0.6.3\n      long: 5.3.1\n      lru.min: 1.1.2\n      named-placeholders: 1.1.3\n      seq-queue: 0.0.5\n      sqlstring: 2.3.3\n\n  named-placeholders@1.1.3:\n    dependencies:\n      lru-cache: 7.18.3\n\n  negotiator@0.6.3: {}\n\n  nodemailer@6.10.0: {}\n\n  normalize-path@3.0.0: {}\n\n  object-assign@4.1.1: {}\n\n  object-inspect@1.13.4: {}\n\n  on-finished@2.4.1:\n    dependencies:\n      ee-first: 1.1.1\n\n  once@1.4.0:\n    dependencies:\n      wrappy: 1.0.2\n\n  pako@1.0.11: {}\n\n  parseurl@1.3.3: {}\n\n  path-is-absolute@1.0.1: {}\n\n  path-to-regexp@0.1.12: {}\n\n  pg-connection-string@2.7.0: {}\n\n  process-nextick-args@2.0.1: {}\n\n  proxy-addr@2.0.7:\n    dependencies:\n      forwarded: 0.2.0\n      ipaddr.js: 1.9.1\n\n  qs@6.13.0:\n    dependencies:\n      side-channel: 1.1.0\n\n  range-parser@1.2.1: {}\n\n  raw-body@2.5.2:\n    dependencies:\n      bytes: 3.1.2\n      http-errors: 2.0.0\n      iconv-lite: 0.4.24\n      unpipe: 1.0.0\n\n  readable-stream@2.3.8:\n    dependencies:\n      core-util-is: 1.0.3\n      inherits: 2.0.4\n      isarray: 1.0.0\n      process-nextick-args: 2.0.1\n      safe-buffer: 5.1.2\n      string_decoder: 1.1.1\n      util-deprecate: 1.0.2\n\n  readable-stream@3.6.2:\n    dependencies:\n      inherits: 2.0.4\n      string_decoder: 1.3.0\n      util-deprecate: 1.0.2\n\n  readdir-glob@1.1.3:\n    dependencies:\n      minimatch: 5.1.6\n\n  retry-as-promised@7.1.1: {}\n\n  rimraf@2.7.1:\n    dependencies:\n      glob: 7.2.3\n\n  safe-buffer@5.1.2: {}\n\n  safe-buffer@5.2.1: {}\n\n  safer-buffer@2.1.2: {}\n\n  saxes@5.0.1:\n    dependencies:\n      xmlchars: 2.2.0\n\n  semver@7.7.1: {}\n\n  send@0.19.0:\n    dependencies:\n      debug: 2.6.9\n      depd: 2.0.0\n      destroy: 1.2.0\n      encodeurl: 1.0.2\n      escape-html: 1.0.3\n      etag: 1.8.1\n      fresh: 0.5.2\n      http-errors: 2.0.0\n      mime: 1.6.0\n      ms: 2.1.3\n      on-finished: 2.4.1\n      range-parser: 1.2.1\n      statuses: 2.0.1\n    transitivePeerDependencies:\n      - supports-color\n\n  seq-queue@0.0.5: {}\n\n  sequelize-pool@7.1.0: {}\n\n  sequelize@6.37.6(mysql2@3.14.0):\n    dependencies:\n      '@types/debug': 4.1.12\n      '@types/validator': 13.12.3\n      debug: 4.4.0\n      dottie: 2.0.6\n      inflection: 1.13.4\n      lodash: 4.17.21\n      moment: 2.30.1\n      moment-timezone: 0.5.48\n      pg-connection-string: 2.7.0\n      retry-as-promised: 7.1.1\n      semver: 7.7.1\n      sequelize-pool: 7.1.0\n      toposort-class: 1.0.1\n      uuid: 8.3.2\n      validator: 13.15.0\n      wkx: 0.5.0\n    optionalDependencies:\n      mysql2: 3.14.0\n    transitivePeerDependencies:\n      - supports-color\n\n  serve-static@1.16.2:\n    dependencies:\n      encodeurl: 2.0.0\n      escape-html: 1.0.3\n      parseurl: 1.3.3\n      send: 0.19.0\n    transitivePeerDependencies:\n      - supports-color\n\n  setimmediate@1.0.5: {}\n\n  setprototypeof@1.2.0: {}\n\n  side-channel-list@1.0.0:\n    dependencies:\n      es-errors: 1.3.0\n      object-inspect: 1.13.4\n\n  side-channel-map@1.0.1:\n    dependencies:\n      call-bound: 1.0.4\n      es-errors: 1.3.0\n      get-intrinsic: 1.3.0\n      object-inspect: 1.13.4\n\n  side-channel-weakmap@1.0.2:\n    dependencies:\n      call-bound: 1.0.4\n      es-errors: 1.3.0\n      get-intrinsic: 1.3.0\n      object-inspect: 1.13.4\n      side-channel-map: 1.0.1\n\n  side-channel@1.1.0:\n    dependencies:\n      es-errors: 1.3.0\n      object-inspect: 1.13.4\n      side-channel-list: 1.0.0\n      side-channel-map: 1.0.1\n      side-channel-weakmap: 1.0.2\n\n  socket.io-adapter@2.5.5:\n    dependencies:\n      debug: 4.3.7\n      ws: 8.17.1\n    transitivePeerDependencies:\n      - bufferutil\n      - supports-color\n      - utf-8-validate\n\n  socket.io-client@4.8.1:\n    dependencies:\n      '@socket.io/component-emitter': 3.1.2\n      debug: 4.3.7\n      engine.io-client: 6.6.3\n      socket.io-parser: 4.2.4\n    transitivePeerDependencies:\n      - bufferutil\n      - supports-color\n      - utf-8-validate\n\n  socket.io-parser@4.2.4:\n    dependencies:\n      '@socket.io/component-emitter': 3.1.2\n      debug: 4.3.7\n    transitivePeerDependencies:\n      - supports-color\n\n  socket.io@4.8.1:\n    dependencies:\n      accepts: 1.3.8\n      base64id: 2.0.0\n      cors: 2.8.5\n      debug: 4.3.7\n      engine.io: 6.6.4\n      socket.io-adapter: 2.5.5\n      socket.io-parser: 4.2.4\n    transitivePeerDependencies:\n      - bufferutil\n      - supports-color\n      - utf-8-validate\n\n  sqlstring@2.3.3: {}\n\n  statuses@2.0.1: {}\n\n  streamsearch@1.1.0: {}\n\n  string_decoder@1.1.1:\n    dependencies:\n      safe-buffer: 5.1.2\n\n  string_decoder@1.3.0:\n    dependencies:\n      safe-buffer: 5.2.1\n\n  tar-stream@2.2.0:\n    dependencies:\n      bl: 4.1.0\n      end-of-stream: 1.4.4\n      fs-constants: 1.0.0\n      inherits: 2.0.4\n      readable-stream: 3.6.2\n\n  tmp@0.2.3: {}\n\n  toidentifier@1.0.1: {}\n\n  toposort-class@1.0.1: {}\n\n  traverse@0.3.9: {}\n\n  type-is@1.6.18:\n    dependencies:\n      media-typer: 0.3.0\n      mime-types: 2.1.35\n\n  typedarray@0.0.6: {}\n\n  undici-types@6.20.0: {}\n\n  unpipe@1.0.0: {}\n\n  unzipper@0.10.14:\n    dependencies:\n      big-integer: 1.6.52\n      binary: 0.3.0\n      bluebird: 3.4.7\n      buffer-indexof-polyfill: 1.0.2\n      duplexer2: 0.1.4\n      fstream: 1.0.12\n      graceful-fs: 4.2.11\n      listenercount: 1.0.1\n      readable-stream: 2.3.8\n      setimmediate: 1.0.5\n\n  util-deprecate@1.0.2: {}\n\n  utils-merge@1.0.1: {}\n\n  uuid@11.1.0: {}\n\n  uuid@8.3.2: {}\n\n  validator@13.15.0: {}\n\n  vary@1.1.2: {}\n\n  wkx@0.5.0:\n    dependencies:\n      '@types/node': 22.13.13\n\n  wrappy@1.0.2: {}\n\n  ws@8.17.1: {}\n\n  xmlchars@2.2.0: {}\n\n  xmlhttprequest-ssl@2.1.2: {}\n\n  xtend@4.0.2: {}\n\n  zip-stream@4.1.1:\n    dependencies:\n      archiver-utils: 3.0.4\n      compress-commons: 4.1.2\n      readable-stream: 3.6.2\n","size_bytes":55285},"qms-source/frontend-new/src/pages/onboarding/CompanyList.jsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  Paper,\n  Typography,\n  IconButton,\n  CircularProgress,\n  Box,\n} from \"@mui/material\";\nimport { Edit, Delete } from \"@mui/icons-material\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst companyModuleId = \"5d896834-fedd-4e0b-a882-8d05396fc346\";\n\nconst OrganizationList = () => {\n  const [companies, setCompanies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [pageSize, setPageSize] = useState(5);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchCompanies();\n  }, []);\n\n  const fetchCompanies = async () => {\n    try {\n      const response = await axiosInstance.get(`/companies/${companyModuleId}`);\n      setCompanies(response.data);\n    } catch (error) {\n      toast.error(\"Failed to fetch companies. Please try again later.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEdit = (companyId, companyName) => {\n    sessionStorage.setItem(\"companyId\", companyId);\n    sessionStorage.setItem(\"companyName\", companyName);\n    navigate(\"/company-details\", {\n      state: { companyId, from: \"company-list\" },\n    });\n  };\n\n  const handleDelete = (companyId) => {\n    const ConfirmToast = ({ closeToast }) => (\n      <div>\n        <p>Are you sure you want to delete this organization?</p>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"flex-end\",\n            gap: \"10px\",\n            marginTop: \"10px\",\n          }}\n        >\n          <button\n            onClick={async () => {\n              try {\n                await axiosInstance.delete(\n                  `/companies/${companyModuleId}/${companyId}`,\n                  { data: { confirmed: true } }\n                );\n                setCompanies((prev) =>\n                  prev.filter((company) => company.id !== companyId)\n                );\n                toast.success(\n                  \"organization and its users deactivated successfully.\"\n                );\n                closeToast();\n              } catch (error) {\n                toast.error(\"Unable to delete the organization.\");\n              }\n            }}\n            style={{\n              background: \"#d33\",\n              color: \"#fff\",\n              padding: \"5px 10px\",\n              border: \"none\",\n              borderRadius: \"4px\",\n            }}\n          >\n            Yes\n          </button>\n          <button\n            onClick={() => {\n              toast.info(\"organization deletion cancelled.\");\n              closeToast();\n            }}\n            style={{\n              background: \"#aaa\",\n              color: \"#fff\",\n              padding: \"5px 10px\",\n              border: \"none\",\n              borderRadius: \"4px\",\n            }}\n          >\n            No\n          </button>\n        </div>\n      </div>\n    );\n\n    toast(<ConfirmToast />, {\n      closeOnClick: false,\n      closeButton: false,\n      autoClose: false,\n      draggable: false,\n    });\n  };\n\n  const columns = [\n    { field: \"name\", headerName: \"Name\", flex: 1 ,width: 180,},\n    { field: \"domain\", headerName: \"Domain\", flex: 1,width: 180, },\n    { field: \"industry\", headerName: \"Industry\", flex: 1,width: 180, },\n    {\n      field: \"actions\",\n      headerName: \"Actions\",\n      flex: 1,\n      sortable: false,\n      renderCell: (params) => (\n        <>\n          <IconButton\n            color=\"primary\"\n            onClick={() => handleEdit(params.row.id, params.row.name)}\n          >\n            <Edit />\n          </IconButton>\n          <IconButton color=\"error\" onClick={() => handleDelete(params.row.id)}>\n            <Delete />\n          </IconButton>\n        </>\n      ),\n    },\n  ];\n\n  return (\n    <Paper sx={{ p: 3, mx: { xs: 2, sm: 4 }, my: 4 }}>\n      <ToastContainer />\n      <Typography variant=\"h4\" fontWeight=\"bold\" mb={3}>\n        Organization List\n      </Typography>\n\n      {loading ? (\n        <Box sx={{ display: \"flex\", justifyContent: \"center\", mt: 4 }}>\n          <CircularProgress />\n        </Box>\n      ) : companies.length > 0 ? (\n        <DataGrid\n          rows={companies}\n          columns={columns}\n          getRowId={(row) => row.id}\n          autoHeight\n          pagination\n          pageSizeOptions={[5, 10, 25]}\n          pageSize={pageSize}\n          onPageSizeChange={(newPageSize) => setPageSize(newPageSize)}\n          disableRowSelectionOnClick\n          sx={{\n            fontSize: \"1rem\",\n            \"& .MuiDataGrid-cell\": {\n              whiteSpace: \"normal\",\n              wordWrap: \"break-word\",\n              alignItems: \"center\",\n              display: \"flex\",\n            },\n          }}\n        />\n      ) : (\n        <Typography sx={{ textAlign: \"center\", mt: 3 }} color=\"text.secondary\">\n          No organizations found.\n        </Typography>\n      )}\n    </Paper>\n  );\n};\n\nexport default OrganizationList;\n","size_bytes":5009},"qms-source/frontend-new/src/assets/theme/components/slider.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport boxShadow from \"assets/theme/functions/boxShadow\";\n\nconst { grey, white, black, info } = colors;\nconst { borderRadius, borderWidth } = borders;\nconst { sliderBoxShadow } = boxShadows;\n\nconst slider = {\n  styleOverrides: {\n    root: {\n      width: \"100%\",\n\n      \"& .MuiSlider-active, & .Mui-focusVisible\": {\n        boxShadow: \"none !important\",\n      },\n\n      \"& .MuiSlider-valueLabel\": {\n        color: black.main,\n      },\n    },\n\n    rail: {\n      height: pxToRem(2),\n      background: grey[200],\n      borderRadius: borderRadius.sm,\n      opacity: 1,\n    },\n\n    track: {\n      background: info.main,\n      height: pxToRem(2),\n      position: \"relative\",\n      border: \"none\",\n      borderRadius: borderRadius.lg,\n      zIndex: 1,\n    },\n\n    thumb: {\n      width: pxToRem(14),\n      height: pxToRem(14),\n      backgroundColor: white.main,\n      zIndex: 10,\n      boxShadow: sliderBoxShadow.thumb,\n      border: `${borderWidth[1]} solid ${info.main}`,\n      transition: \"all 200ms linear\",\n\n      \"&:hover\": {\n        boxShadow: \"none\",\n      },\n\n      \"&:active\": {\n        transform: \"translate(-50%, -50%) scale(1.4)\",\n      },\n\n      \"&.Mui-active\": { boxShadow: boxShadow([0, 0], [0, 14], info.main, 0.16) },\n    },\n  },\n};\n\nexport default slider;\n","size_bytes":2084},"frontend-new/src/services/axiosinstance.js":{"content":"import axios from \"axios\";\nimport { BASE_API_URL } from \"../utils/Constants\";\n\n// Fix for Replit environment: use window.location.origin for relative API calls\nconst baseURL = BASE_API_URL || (typeof window !== 'undefined' ? window.location.origin + '/api' : '/api');\n\nconst axiosInstance = axios.create({\n    baseURL: baseURL,\n});\n\n// Add Authorization Header to Every Request\naxiosInstance.interceptors.request.use((config) => {\n    const token = localStorage.getItem(\"jwtToken\");\n    if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n}, (error) => Promise.reject(error));\n\nexport default axiosInstance;\n","size_bytes":652},"qms-source/frontend-new/src/assets/theme/components/icon.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst icon = {\n  defaultProps: {\n    baseClassName: \"material-icons-round\",\n    fontSize: \"inherit\",\n  },\n\n  styleOverrides: {\n    fontSizeInherit: {\n      fontSize: \"inherit !important\",\n    },\n\n    fontSizeSmall: {\n      fontSize: `${pxToRem(20)} !important`,\n    },\n\n    fontSizeLarge: {\n      fontSize: `${pxToRem(36)} !important`,\n    },\n  },\n};\n\nexport default icon;\n","size_bytes":998},"frontend-new/src/assets/theme/base/borders.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base border styles for the Material Dashboard 2 React.\n * You can add new border width, border color or border radius using this file.\n * You can customized the borders value for the entire Material Dashboard 2 React using thie file.\n */\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"../../../assets/theme/base/colors\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"../../../assets/theme/functions/pxToRem\";\n\nconst { grey } = colors;\n\nconst borders = {\n  borderColor: grey[300],\n\n  borderWidth: {\n    0: 0,\n    1: pxToRem(1),\n    2: pxToRem(2),\n    3: pxToRem(3),\n    4: pxToRem(4),\n    5: pxToRem(5),\n  },\n\n  borderRadius: {\n    xs: pxToRem(1.6),\n    sm: pxToRem(2),\n    md: pxToRem(6),\n    lg: pxToRem(8),\n    xl: pxToRem(12),\n    xxl: pxToRem(16),\n    section: pxToRem(160),\n  },\n};\n\nexport default borders;\n","size_bytes":1385},"frontend-new/src/assets/theme/components/dialog/dialogContent.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme/base/typography\";\nimport borders from \"assets/theme/base/borders\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { size } = typography;\nconst { text } = colors;\nconst { borderWidth, borderColor } = borders;\n\nconst dialogContent = {\n  styleOverrides: {\n    root: {\n      padding: pxToRem(16),\n      fontSize: size.md,\n      color: text.main,\n    },\n\n    dividers: {\n      borderTop: `${borderWidth[1]} solid ${borderColor}`,\n      borderBottom: `${borderWidth[1]} solid ${borderColor}`,\n    },\n  },\n};\n\nexport default dialogContent;\n","size_bytes":1244},"qms-source/frontend-new/src/assets/theme-dark/components/form/inputOutlined.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport typography from \"assets/theme-dark/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { inputBorderColor, info, grey, transparent, white } = colors;\nconst { borderRadius } = borders;\nconst { size } = typography;\n\nconst inputOutlined = {\n  styleOverrides: {\n    root: {\n      backgroundColor: transparent.main,\n      fontSize: size.sm,\n      borderRadius: borderRadius.md,\n\n      \"&:hover .MuiOutlinedInput-notchedOutline\": {\n        borderColor: rgba(inputBorderColor, 0.6),\n      },\n\n      \"&.Mui-focused\": {\n        \"& .MuiOutlinedInput-notchedOutline\": {\n          borderColor: info.main,\n        },\n      },\n    },\n\n    notchedOutline: {\n      borderColor: rgba(inputBorderColor, 0.6),\n    },\n\n    input: {\n      color: white.main,\n      padding: pxToRem(12),\n      backgroundColor: transparent.main,\n\n      \"&::-webkit-input-placeholder\": {\n        color: grey[100],\n      },\n    },\n\n    inputSizeSmall: {\n      fontSize: size.xs,\n      padding: pxToRem(10),\n    },\n\n    multiline: {\n      color: grey[700],\n      padding: 0,\n    },\n  },\n};\n\nexport default inputOutlined;\n","size_bytes":1889},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"qms-source/frontend-new/src/assets/theme-dark/components/table/tableCell.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { borderWidth } = borders;\nconst { light } = colors;\n\nconst tableCell = {\n  styleOverrides: {\n    root: {\n      padding: `${pxToRem(12)} ${pxToRem(16)}`,\n      borderBottom: `${borderWidth[1]} solid ${light.main}`,\n    },\n  },\n};\n\nexport default tableCell;\n","size_bytes":1042},"frontend-new/src/assets/theme/components/stepper/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport linearGradient from \"assets/theme/functions/linearGradient\";\n\nconst { transparent, gradients } = colors;\nconst { borderRadius } = borders;\nconst { colored } = boxShadows;\n\nconst stepper = {\n  styleOverrides: {\n    root: {\n      background: linearGradient(gradients.info.main, gradients.info.state),\n      padding: `${pxToRem(24)} 0 ${pxToRem(16)}`,\n      borderRadius: borderRadius.lg,\n      boxShadow: colored.info,\n\n      \"&.MuiPaper-root\": {\n        backgroundColor: transparent.main,\n      },\n    },\n  },\n};\n\nexport default stepper;\n","size_bytes":1362},"frontend-new/src/pages/user_management/changePassword.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  Container,\n  TextField,\n  Button,\n  Paper,\n  Typography,\n  Box,\n  Grid,\n} from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst ChangePassword = () => {\n  const [email, setEmail] = useState(\"\");\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmNewPassword, setConfirmNewPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate(); // Hook for navigation\n\n  // Automatically fetch email from localStorage.\n  useEffect(() => {\n    const storedEmail = localStorage.getItem(\"userEmail\");\n    if (storedEmail) setEmail(storedEmail);\n  }, []);\n\n  const handleChangePassword = async (e) => {\n    e.preventDefault();\n\n    // ðŸ”¹ Validations\n    if (!email.trim()) return toast.warning(\"Email is required.\");\n    if (!oldPassword.trim()) return toast.warning(\"Old Password is required.\");\n    if (!newPassword.trim()) return toast.warning(\"New Password is required.\");\n    if (newPassword !== confirmNewPassword)\n      return toast.error(\"Passwords do not match.\");\n    if (newPassword.length < 8)\n      return toast.warning(\"New password must be at least 8 characters long.\");\n\n    setLoading(true);\n\n    try {\n      const token = localStorage.getItem(\"jwtToken\"); // Get JWT token\n\n      const response = await axiosInstance.post(\n        \"/auth/changePassword\",\n        { email, oldPassword, newPassword },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      toast.success(response.data.message || \"Password changed successfully!\");\n\n      // ðŸ”¹ Clear form fields after success\n      setOldPassword(\"\");\n      setNewPassword(\"\");\n      setConfirmNewPassword(\"\");\n\n      // ðŸ”¹ Redirect to the previous page after 2 seconds\n      setTimeout(() => {\n        navigate(-1); // Navigates back to the previous page\n      }, 2000);\n    } catch (error) {\n      console.error(\"Error:\", error.response?.data || error);\n      toast.error(\n        error.response?.data?.message || \"Failed to change password.\"\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ px: { xs: 2, sm: 3 } }}>\n      <Paper\n        elevation={4}\n        sx={{\n          mt: 4,\n          p: 3,\n          mx: 8,\n          borderRadius: 3,\n          backgroundColor: \"#f9f9f9\",\n          boxShadow: \"0px 4px 12px rgba(0, 0, 0, 0.1)\",\n        }}\n      >\n        <Grid container justifyContent=\"flex-start\" mb={3}>\n          <Grid item>\n            <Typography variant=\"h5\" sx={{ fontWeight: 600 }}>\n              Change Password\n            </Typography>\n          </Grid>\n        </Grid>\n\n        <form onSubmit={handleChangePassword}>\n          <Box sx={{ display: \"grid\", gap: 2 }}>\n            <TextField\n              label=\"Email\"\n              variant=\"outlined\"\n              fullWidth\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              disabled\n            />\n            <TextField\n              label=\"Old Password\"\n              variant=\"outlined\"\n              fullWidth\n              type=\"password\"\n              value={oldPassword}\n              onChange={(e) => setOldPassword(e.target.value)}\n            />\n            <TextField\n              label=\"New Password\"\n              variant=\"outlined\"\n              fullWidth\n              type=\"password\"\n              value={newPassword}\n              onChange={(e) => setNewPassword(e.target.value)}\n            />\n            <TextField\n              label=\"Confirm New Password\"\n              variant=\"outlined\"\n              fullWidth\n              type=\"password\"\n              value={confirmNewPassword}\n              onChange={(e) => setConfirmNewPassword(e.target.value)}\n            />\n          </Box>\n\n          <Box\n            sx={{\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              mt: 3,\n            }}\n          >\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={loading}\n              sx={{\n                px: 4,\n                py: 1.5,\n                fontSize: \"16px\",\n                fontWeight: 500,\n                borderRadius: 2,\n                boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n              }}\n            >\n              {loading ? \"Updating...\" : \"Change Password\"}\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default ChangePassword;\n","size_bytes":4834},"qms-source/frontend-new/src/assets/theme-dark/components/button/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Button Styles\nimport root from \"assets/theme-dark/components/button/root\";\nimport contained from \"assets/theme-dark/components/button/contained\";\nimport outlined from \"assets/theme-dark/components/button/outlined\";\nimport buttonText from \"assets/theme-dark/components/button/text\";\n\nconst button = {\n  defaultProps: {\n    disableRipple: false,\n  },\n  styleOverrides: {\n    root: { ...root },\n    contained: { ...contained.base },\n    containedSizeSmall: { ...contained.small },\n    containedSizeLarge: { ...contained.large },\n    containedPrimary: { ...contained.primary },\n    containedSecondary: { ...contained.secondary },\n    outlined: { ...outlined.base },\n    outlinedSizeSmall: { ...outlined.small },\n    outlinedSizeLarge: { ...outlined.large },\n    outlinedPrimary: { ...outlined.primary },\n    outlinedSecondary: { ...outlined.secondary },\n    text: { ...buttonText.base },\n    textSizeSmall: { ...buttonText.small },\n    textSizeLarge: { ...buttonText.large },\n    textPrimary: { ...buttonText.primary },\n    textSecondary: { ...buttonText.secondary },\n  },\n};\n\nexport default button;\n","size_bytes":1649},"frontend-new/src/assets/theme-dark/components/button/text.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { text, info, secondary, transparent } = colors;\nconst { size } = typography;\n\nconst buttonText = {\n  base: {\n    backgroundColor: transparent.main,\n    minHeight: pxToRem(37),\n    color: text.main,\n    boxShadow: \"none\",\n    padding: `${pxToRem(9)} ${pxToRem(24)}`,\n\n    \"&:hover\": {\n      backgroundColor: transparent.main,\n      boxShadow: \"none\",\n    },\n\n    \"&:focus\": {\n      boxShadow: \"none\",\n    },\n\n    \"&:active, &:active:focus, &:active:hover\": {\n      opacity: 0.85,\n      boxShadow: \"none\",\n    },\n\n    \"&:disabled\": {\n      boxShadow: \"none\",\n    },\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(16)} !important`,\n    },\n  },\n\n  small: {\n    minHeight: pxToRem(29),\n    padding: `${pxToRem(6)} ${pxToRem(18)}`,\n    fontSize: size.xs,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(12)} !important`,\n    },\n  },\n\n  large: {\n    minHeight: pxToRem(44),\n    padding: `${pxToRem(12)} ${pxToRem(64)}`,\n    fontSize: size.sm,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(22)} !important`,\n    },\n  },\n\n  primary: {\n    color: info.main,\n\n    \"&:hover\": {\n      color: info.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      color: info.focus,\n      boxShadow: \"none\",\n    },\n  },\n\n  secondary: {\n    color: secondary.main,\n\n    \"&:hover\": {\n      color: secondary.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      color: secondary.focus,\n      boxShadow: \"none\",\n    },\n  },\n};\n\nexport default buttonText;\n","size_bytes":2311},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"frontend-new/src/assets/theme-dark/functions/rgba.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The rgba() function helps you to create a rgba color code, it uses the hexToRgb() function\n  to convert the hex code into rgb for using it inside the rgba color format.\n */\n\n// Material Dashboard 2 React helper functions\nimport hexToRgb from \"assets/theme-dark/functions/hexToRgb\";\n\nfunction rgba(color, opacity) {\n  return `rgba(${hexToRgb(color)}, ${opacity})`;\n}\n\nexport default rgba;\n","size_bytes":917},"qms-source/frontend-new/src/assets/theme/components/card/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\n\n// Material Dashboard 2 React Helper Function\nimport rgba from \"assets/theme/functions/rgba\";\n\nconst { black, white } = colors;\nconst { borderWidth, borderRadius } = borders;\nconst { md } = boxShadows;\n\nconst card = {\n  styleOverrides: {\n    root: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      position: \"relative\",\n      minWidth: 0,\n      wordWrap: \"break-word\",\n      backgroundColor: white.main,\n      backgroundClip: \"border-box\",\n      border: `${borderWidth[0]} solid ${rgba(black.main, 0.125)}`,\n      borderRadius: borderRadius.xl,\n      boxShadow: md,\n      overflow: \"visible\",\n    },\n  },\n};\n\nexport default card;\n","size_bytes":1359},"frontend-new/src/styles/TaskList.css":{"content":"/* Task Container */\n.task-container {\n    padding: 20px;\n    background: #f4f4f4;\n    border-radius: 8px;\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n    max-width: 95%;\n    margin: auto;\n    overflow-x: hidden;\n}\n\n/* Header */\n.task-container h2 {\n    text-align: center;\n    color: #333;\n}\n\n/* Scrollable Table Container */\n.task-table {\n    margin-top: 20px;\n    border-radius: 8px;\n    max-width: 100%;\n    overflow-x: auto;\n    max-height: 70vh;\n    display: block;\n}\n\n/* Scrollable Table Container */\n.task-table {\n    margin-top: 20px;\n    border-radius: 8px;\n    width: 100%; /* Ensure full width */\n    max-height: 70vh;\n    overflow: auto; /* Enables both horizontal and vertical scrollbars */\n    display: block;\n}\n\n\n\n/* Sticky Header */\n.task-table thead {\n    position: sticky;\n    top: 0;\n    background: #007bff;\n    z-index: 2;\n}\n\n/* Table Headers */\n.task-table th {\n    background-color: #007bff;\n    color: white;\n    font-weight: bold;\n    text-align: center;\n    padding: 14px;\n    min-width: 150px;  /* Ensures enough space */\n    max-width: 200px;  /* Prevents headers from getting too wide */\n    border: 1px solid #0056b3;\n    border-radius: 6px;\n    font-size: 15px;\n    white-space: normal; /* Allows multi-line text */\n    word-break: break-word; /* Ensures words don't split awkwardly */\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n/* Table Cells */\n.task-table td {\n    padding: 12px;\n    text-align: left;\n    border-bottom: 1px solid #ddd;\n    white-space: normal;\n    word-break: break-word;\n}\n\n/* Hover Effect */\n.task-table tbody tr:hover {\n    background: #f1f1f1;\n}\n\n/* Action Buttons */\n.task-table button {\n    margin-right: 5px;\n    padding: 5px 10px;\n    border-radius: 5px;\n    font-size: 14px;\n}\n\n.task-table .delete-btn {\n    background-color: #dc3545;\n    color: white;\n}\n\n.task-table .delete-btn:hover {\n    background-color: #c82333;\n}\n\n/* Scrollbar Customization */\n.task-table::-webkit-scrollbar {\n    width: 8px;\n}\n\n.task-table::-webkit-scrollbar-thumb {\n    background: #888;\n    border-radius: 4px;\n}\n\n.task-table::-webkit-scrollbar-thumb:hover {\n    background: #555;\n}\n\n/* Dialog Styles */\n.MuiDialog-paper {\n    border-radius: 8px !important;\n    padding: 10px;\n}\n\n.MuiDialogTitle-root {\n    text-align: center;\n    font-weight: bold;\n}\n\n.MuiDialogActions-root {\n    justify-content: center;\n}\n\n/* Icon Buttons */\n.task-table .MuiIconButton-root {\n    padding: 5px;\n}\n\n.task-table .MuiSvgIcon-root {\n    font-size: 1.2rem;\n}\n\n.task-table .MuiIconButton-root:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n}\n\n/* Ensures column headers wrap correctly without splitting words */\n.header-cell {\n    background-color: #007bff;\n    color: white;\n    font-weight: bold;\n    text-align: center;\n    padding: 10px;\n    min-width: 150px;\n    max-width: 200px;\n    white-space: normal;\n    word-break: break-word;\n}\n\n/* Ensures dropdown filters match header style */\n.filter-dropdown {\n    background: white;\n    border-radius: 4px;\n}\n\n/* Responsive Adjustments */\n@media (max-width: 768px) {\n    .task-container {\n        padding: 15px;\n    }\n\n    .task-table {\n        max-height: 60vh;\n    }\n\n    .task-table table {\n        display: block;\n        overflow-x: auto;\n    }\n\n    .task-table th, .task-table td {\n        font-size: 14px;\n    }\n    \n    .cloud-upload-btn {\n        background-color: #007bff;\n        color: white;\n        border: none;\n        padding: 10px 15px;\n        border-radius: 5px;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        gap: 5px;\n      }\n      \n      .cloud-upload-btn:hover {\n        background-color: #0056b3;\n      }\n         \n/* File Upload Section (Same as Edit Task) */\n.file-upload-section {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 12px;\n    margin-top: 20px;\n    padding: 15px;\n    border: 2px dashed #b3b3b3;\n    border-radius: 10px;\n    background-color: #f7f7f7;\n    width: 100%;\n  }\n  \n  /* File Input */\n  .custom-file-input {\n    position: relative;\n    display: inline-block;\n    cursor: pointer;\n  }\n  \n  .custom-file-input input[type=\"file\"] {\n    position: absolute;\n    left: 0;\n    top: 0;\n    opacity: 0;\n    width: 100%;\n    height: 100%;\n    cursor: pointer;\n  }\n  \n  .custom-file-button {\n    display: inline-block;\n    padding: 10px 20px;\n    font-size: 16px;\n    font-weight: bold;\n    color: white;\n    background-color: #1976d2;\n    border-radius: 8px;\n    border: none;\n    cursor: pointer;\n    transition: background-color 0.3s;\n  }\n  \n  .custom-file-button:hover {\n    background-color: #509ce7;\n  }\n  \n  /* File Name Display */\n  .file-name {\n    margin-top: 5px;\n    font-size: 14px;\n    color: #333;\n    font-weight: bold;\n  }\n  \n  /* Button Group (Matches Edit Task) */\n  .button-group {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 25px;\n  }\n  \n  .button-group button {\n    width: 48%;\n    padding: 10px;\n    font-size: 16px;\n    font-weight: bold;\n  }\n  \n  /* Primary Button (Upload) */\n  .MuiButton-containedPrimary {\n    background-color: #1976d2 !important;\n    color: white !important;\n    transition: 0.3s;\n  }\n  \n  .MuiButton-containedPrimary:hover {\n    background-color: #509ce7 !important;\n  }\n  \n  /* Secondary Button (Cancel) */\n  .MuiButton-outlinedSecondary {\n    color: #d32f2f !important;\n    border-color: #d32f2f !important;\n    transition: 0.3s;\n  }\n  \n  .MuiButton-outlinedSecondary:hover {\n    background-color: #f8d7da !important;\n    border-color: #d32f2f !important;\n  }\n  .task-table-wrapper {\n    width: 100%;\n    overflow-x: auto; /* Enable horizontal scrolling */\n  }\n  \n  .task-table {\n    min-width: 1200px; /* Ensure the table doesnâ€™t shrink too much */\n  }\n  \n  .table-header-cell {\n    font-weight: bold;\n    background-color: #f4f4f4;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n  }\n  \n  /* Make the table more compact on small screens */\n  @media (max-width: 1024px) {\n    .task-table {\n      min-width: 100%;\n    }\n    .table-header-cell {\n      font-size: 14px;\n      padding: 8px;\n    }\n    .table-row td {\n      font-size: 12px;\n      padding: 6px;\n    }\n  }\n  \n  /* Hide less important columns on smaller screens */\n  @media (max-width: 768px) {\n    .task-table thead th:nth-child(2),\n    .task-table tbody td:nth-child(2),\n    .task-table thead th:nth-child(5),\n    .task-table tbody td:nth-child(5),\n    .task-table thead th:nth-child(7),\n    .task-table tbody td:nth-child(7) {\n      display: none;\n    }\n  }\n  .task-table-wrapper {\n    width: 100%;\n    max-width: 100%;\n    height: 500px; /* Set a fixed height for the table */\n    overflow: hidden; /* Prevent scrolling outside */\n  }\n  \n  .task-table {\n    width: 100%;\n    max-height: 100%;\n    overflow-y: auto; /* Enable vertical scrolling only for table */\n    display: block;\n  }\n  \n  .task-table thead {\n    position: sticky;\n    top: 0;\n    background-color: white;\n    z-index: 10;\n  }\n  \n  /* Ensure only the table body scrolls while the headers remain fixed */\n  .task-table tbody {\n    display: block;\n    max-height: 450px; /* Adjust based on your layout */\n    overflow-y: auto;\n    width: 100%;\n  }\n  \n  .task-table thead,\n  .task-table tbody tr {\n    display: table;\n    width: 100%;\n    table-layout: fixed;\n  }\n\n/* Each log entry styled like a card */\n.task-log-entry {\n    margin-bottom: 20px;\n    padding: 16px;\n    border: 1px solid #ddd;\n    border-radius: 12px;\n    background-color: #fdfdfd;\n    box-shadow: 0 1px 6px rgba(0, 0, 0, 0.08);\n  }\n\n/* Style the top line with who changed what and when */\n.task-log-header {\n  font-weight: 600;\n  color: #2e3a59;\n  font-size: 15px;\n  margin-bottom: 12px;\n  padding-bottom: 8px;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n/* Grid layout for From and To */\n.task-log-table {\n  display: grid;\n  grid-template-columns: max-content 1fr;\n  row-gap: 8px;\n  column-gap: 16px;\n  width: 100%;\n}\n\n\n/* Label styling (From:, To:) */\n.task-log-label {\n  font-weight: 500;\n  color: #555;\n  font-size: 14px;\n  white-space: nowrap;\n}\n\n/* Value cell */\n.task-log-table td {\n  font-size: 14px;\n  color: #333;\n  padding: 6px 0;\n}\n\n/* Empty values styled subtly */\n.task-log-empty {\n  font-style: italic;\n  color: #999;\n}\n\n.task-log-table tr {\n  margin-bottom: 6px;\n  display: contents; /* allows the grid structure to apply inside tr */\n}\n\n    \n}\n","size_bytes":8334},"qms-source/BackEnd/src/utils/getHigherRoleUserRecurcievly.js":{"content":"import User from \"../models/User.js\";\n\nexport const getAllReportToUsers = async (userId, visited = new Set()) => {\n    if (visited.has(userId)) return [];\n    visited.add(userId);\n\n    const user = await User.findByPk(userId);\n    if (!user || !user.reportTo) return [];\n\n    const managerId = user.reportTo;\n    const higherUps = await getAllReportToUsers(managerId, visited);\n\n    return [managerId, ...higherUps];\n};\n","size_bytes":420},"frontend-new/src/assets/theme-dark/components/table/tableHead.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { borderRadius } = borders;\n\nconst tableHead = {\n  styleOverrides: {\n    root: {\n      display: \"block\",\n      padding: `${pxToRem(16)} ${pxToRem(16)} 0  ${pxToRem(16)}`,\n      borderRadius: `${borderRadius.xl} ${borderRadius.xl} 0 0`,\n    },\n  },\n};\n\nexport default tableHead;\n","size_bytes":1011},"frontend-new/src/assets/theme/components/sidenav.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { white } = colors;\nconst { borderRadius } = borders;\n\nconst sidenav = {\n  styleOverrides: {\n    root: {\n      width: pxToRem(250),\n      whiteSpace: \"nowrap\",\n      border: \"none\",\n    },\n\n    paper: {\n      width: pxToRem(250),\n      backgroundColor: white.main,\n      height: `calc(100vh - ${pxToRem(32)})`,\n      margin: pxToRem(16),\n      borderRadius: borderRadius.xl,\n      border: \"none\",\n    },\n\n    paperAnchorDockedLeft: {\n      borderRight: \"none\",\n    },\n  },\n};\n\nexport default sidenav;\n","size_bytes":1271},"frontend-new/src/assets/theme-dark/components/container.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport breakpoints from \"assets/theme-dark/base/breakpoints\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst {\n  values: { sm, md, lg, xl, xxl },\n} = breakpoints;\n\nconst SM = `@media (min-width: ${sm}px)`;\nconst MD = `@media (min-width: ${md}px)`;\nconst LG = `@media (min-width: ${lg}px)`;\nconst XL = `@media (min-width: ${xl}px)`;\nconst XXL = `@media (min-width: ${xxl}px)`;\n\nconst sharedClasses = {\n  paddingRight: `${pxToRem(24)} !important`,\n  paddingLeft: `${pxToRem(24)} !important`,\n  marginRight: \"auto !important\",\n  marginLeft: \"auto !important\",\n  width: \"100% !important\",\n  position: \"relative\",\n};\n\nconst container = {\n  [SM]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"540px !important\",\n    },\n  },\n  [MD]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"720px !important\",\n    },\n  },\n  [LG]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"960px !important\",\n    },\n  },\n  [XL]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"1140px !important\",\n    },\n  },\n  [XXL]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"1320px !important\",\n    },\n  },\n};\n\nexport default container;\n","size_bytes":1848},"qms-source/frontend-new/src/assets/theme/components/form/select.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { transparent } = colors;\n\nconst select = {\n  styleOverrides: {\n    select: {\n      display: \"grid\",\n      alignItems: \"center\",\n      padding: `0 ${pxToRem(12)} !important`,\n      lineHeight: \"2.8rem\",\n      \"& .Mui-selected\": {\n        backgroundColor: transparent.main,\n      },\n    },\n\n    selectMenu: {\n      background: \"none\",\n      height: \"none\",\n      minHeight: \"none\",\n      overflow: \"unset\",\n    },\n\n    icon: {\n      display: \"none\",\n    },\n  },\n};\n\nexport default select;\n","size_bytes":1209},"frontend-new/src/assets/theme-dark/components/card/cardMedia.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { borderRadius } = borders;\n\nconst cardMedia = {\n  styleOverrides: {\n    root: {\n      borderRadius: borderRadius.xl,\n      margin: `${pxToRem(16)} ${pxToRem(16)} 0`,\n    },\n\n    media: {\n      width: \"auto\",\n    },\n  },\n};\n\nexport default cardMedia;\n","size_bytes":984},"frontend-new/src/styles/AssignedTaskspage.css":{"content":"/* Container */\n.container {\n    max-width: 800px;\n    margin: auto;\n    padding: 20px;\n    background: #f8f9fa;\n    border-radius: 8px;\n    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n    text-align: center;\n  }\n  \n  /* Heading */\n  h2 {\n    margin-bottom: 15px;\n    color: #343a40;\n    font-size: 24px;\n  }\n  \n  /* Table Styling */\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    margin-top: 15px;\n    background: white;\n  }\n  \n  th, td {\n    padding: 12px;\n    border: 1px solid #ddd;\n    text-align: left;\n  }\n  \n  th {\n    background: #007bff;\n    color: white;\n    font-weight: 600;\n    text-transform: uppercase;\n  }\n  \n  tr:nth-child(even) {\n    background: #f2f2f2;\n  }\n  \n  tr:hover {\n    background: #e9ecef;\n  }\n  \n  /* Error Message */\n  .error {\n    color: red;\n    font-weight: bold;\n    margin-top: 10px;\n  }\n  \n  /* Responsive Design */\n  @media (max-width: 600px) {\n    th, td {\n      padding: 10px;\n      font-size: 14px;\n    }\n  }\n  ","size_bytes":968},"qms-source/frontend-new/src/pages/TaskManagement/AssignedTaskPage.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport \"../../styles/AssignedTaskspage.css\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst AssignedTasksPage = () => {\n  const [tasks, setTasks] = useState([]);\n  const [taskId, setTaskId] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    axiosInstance.get(\"/tasks\")\n      .then((res) => res.data.length && setTaskId(res.data[0].id))\n      .catch(() => setError(\"Failed to load tasks.\"));\n  }, []);\n\n  useEffect(() => {\n    if (taskId) {\n      axiosInstance.get(`/task-assignments/task/${taskId}`)\n        .then((res) => setTasks(res.data))\n        .catch(() => setError(\"Failed to load assigned tasks.\"));\n    }\n  }, [taskId]);\n\n  if (error) return <p className=\"error\">{error}</p>;\n\n  return (\n    <div className=\"container\">\n      <h2>Assigned Users for Task</h2>\n      <table>\n        <thead>\n          <tr>\n            <th>User Name</th>\n            <th>Role</th>\n            <th>Email</th>\n          </tr>\n        </thead>\n        <tbody>\n          {tasks.length ? tasks.map(({ userId, userName, role, email }) => (\n            <tr key={userId}>\n              <td>{userName}</td>\n              <td>{role}</td>\n              <td>{email}</td>\n            </tr>\n          )) : (\n            <tr>\n              <td colSpan=\"3\">No users assigned.</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default AssignedTasksPage;\n","size_bytes":1478},"qms-source/BackEnd/src/controllers/notificationController.js":{"content":"import Notification from \"../models/Notification.js\";\n\n// Get Unseen Notifications for a User\nexport const getUnseenNotifications = async (req, res) => {\n    try {\n        const userId = req.user.id;\n        const notifications = await Notification.findAll({\n            where: { user_id: userId, is_seen: false },\n            order: [[\"created_at\", \"DESC\"]],\n        });\n\n        if (notifications.length === 0) {\n            return res.status(200).json({ message: \"No unseen notifications found.\" });\n        }\n\n        res.json(notifications);\n    } catch (error) {\n        console.error(\"Error fetching unseen notifications:\", error);\n        res.status(500).json({ error: \"Server Error\" });\n    }\n};\n\n// Mark Notifications as Seen\nexport const markNotificationsAsSeen = async (req, res) => {\n    try {\n        const userId = req.user.id;\n        const updatedCount = await Notification.update(\n            { is_seen: true }, \n            { where: { user_id: userId, is_seen: false } }\n        );\n\n        if (updatedCount[0] === 0) {\n            return res.status(200).json({ message: \"No unseen notifications to mark as seen.\" });\n        }\n\n        res.json({ message: \"Notifications marked as seen.\" });\n    } catch (error) {\n        console.error(\"Error marking notifications as seen:\", error);\n        res.status(500).json({ error: \"Server Error\" });\n    }\n};\n\n// Get All Notifications for a User\nexport const getAllNotifications = async (req, res) => {\n    try {\n        const userId = req.user.id;\n        const notifications = await Notification.findAll({\n            where: { user_id: userId },\n            order: [[\"created_at\", \"DESC\"]],\n        });\n\n        if (notifications.length === 0) {\n            return res.status(200).json({ message: \"No notifications available.\" });\n        }\n\n        res.json(notifications);\n    } catch (error) {\n        console.error(\"Error fetching all notifications:\", error);\n        res.status(500).json({ error: \"Server Error\" });\n    }\n};\n","size_bytes":1993},"frontend-new/src/pages/user_management/UserList.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport {\n  Grid,\n  Paper,\n  Button,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Typography,\n  CircularProgress,\n  Container,\n} from \"@mui/material\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport { Edit, Delete } from \"@mui/icons-material\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst API_URL = \"/users/bd168912-e40c-48e3-b3d1-440a3e129d52\";\n\nconst UserList = () => {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [deleteUserId, setDeleteUserId] = useState(null);\n  const [page, setPage] = useState(0);\n  const [pageSize, setPageSize] = useState(5);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const company_id = sessionStorage.getItem(\"selectedCompany\");\n      const response = await axiosInstance.get(API_URL, {\n        params: company_id ? { company_id } : {},\n      });\n      console.log(\"Users API response:\", response.data);\n\n      setUsers(response.data);\n      setError(\"\");\n    } catch (err) {\n      setError(\"Failed to load users\");\n      toast.error(\"Error fetching users.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteUser = async () => {\n    try {\n      await axiosInstance.delete(`${API_URL}/${deleteUserId}`);\n      setUsers(users.filter((user) => user.id !== deleteUserId));\n      toast.success(\"User deleted successfully!\");\n    } catch (err) {\n      toast.error(\"Failed to delete user.\");\n    } finally {\n      setDeleteUserId(null);\n    }\n  };\n\n  const columns = [\n    { field: \"name\", headerName: \"Name\", width: 200 },\n    { field: \"email\", headerName: \"Email\", width: 250 },\n    {\n      field: \"Role\",\n      headerName: \"Role\",\n      width: 200,\n      renderCell: (params) => (\n        <span>{params.row.Role ? params.row.Role.name : \"N/A\"}</span>\n      ),\n    },\n    {\n      field: \"Company\",\n      headerName: \"Company\",\n      width: 200,\n      renderCell: (params) => (\n        <span>{params.row.Company ? params.row.Company.name : \"N/A\"}</span>\n      ),\n    },\n    {\n      field: \"Manager\",\n      headerName: \"Report To\",\n      width: 200,\n      renderCell: (params) => (\n        <span>{params.row.Manager ? params.row.Manager.name : \"N/A\"}</span>\n      ),\n    },\n    {\n      field: \"Department\",\n      headerName: \"Department\",\n      width: 200,\n      renderCell: (params) => (\n        <span>\n          {params.row.department ? params.row.department.name : \"N/A\"}\n        </span>\n      ),\n    },\n    {\n      field: \"actions\",\n      headerName: \"Actions\",\n      width: 150,\n      sortable: false,\n      renderCell: (params) => (\n        <>\n          <IconButton\n            color=\"primary\"\n            onClick={() => {\n              toast.info(\"Redirecting to Update User...\");\n              navigate(`/users/update/${params.row.id}`, {\n                state: {\n                  name: params.row.name,\n                  email: params.row.email,\n                  company_id: params.row.company_id,\n                  role_id: params.row.Role ? params.row.Role.id : \"\",\n                  company_name: params.row.Company\n                    ? params.row.Company.name\n                    : \"\",\n                  manager: params.row.Manager ? params.row.Manager.id : \"\",\n                  managerName: params.row.Manager\n                    ? params.row.Manager.name\n                    : \"\",\n                  department_id: params.row.department\n                    ? params.row.department.id\n                    : \"\",\n                },\n              });\n            }}\n          >\n            <Edit />\n          </IconButton>\n          <IconButton\n            color=\"error\"\n            onClick={() => setDeleteUserId(params.row.id)}\n          >\n            <Delete />\n          </IconButton>\n        </>\n      ),\n    },\n  ];\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ px: { xs: 2, sm: 3, md: 4 } }}>\n      <Paper\n        elevation={4}\n        sx={{\n          borderRadius: \"0.5rem\",\n          mx: { xs: 1, sm: 2, md: 4 },\n          my: 2,\n          p: { xs: 1, sm: 2, md: 3 },\n        }}\n      >\n        <div className=\"user-list-container\">\n          <ToastContainer />\n          <Grid\n            container\n            justifyContent=\"space-between\"\n            alignItems=\"center\"\n            sx={{ mb: 3, px: 2 }}\n          >\n            <Grid item xs={12} sm={6}>\n              <Typography variant=\"h4\" sx={{ fontWeight: \"bold\", mt: 1 }}>\n                Users\n              </Typography>\n            </Grid>\n            <Grid\n              item\n              xs={12}\n              sm={6}\n              sx={{\n                textAlign: { xs: \"left\", sm: \"right\" },\n                mt: { xs: 2, sm: 0 },\n              }}\n            >\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  toast.info(\"Redirecting to Add User Page...\");\n                  navigate(\"/users/create\");\n                }}\n                sx={{\n                  textTransform: \"none\",\n                  fontWeight: \"medium\",\n                  px: 3,\n                  boxShadow: 2,\n                }}\n              >\n                Add New User\n              </Button>\n            </Grid>\n          </Grid>\n\n          {loading ? (\n            <CircularProgress />\n          ) : error ? (\n            <Typography color=\"error\">{error}</Typography>\n          ) : (\n            <Paper elevation={2} sx={{ p: 2 }}>\n              <DataGrid\n                rows={users}\n                columns={columns}\n                getRowId={(row) => row.id}\n                autoHeight\n                pagination\n                pageSizeOptions={[5, 10, 25]}\n                paginationModel={{ page, pageSize }}\n                onPaginationModelChange={(model) => {\n                  setPage(model.page);\n                  setPageSize(model.pageSize);\n                }}\n                disableRowSelectionOnClick\n                sx={{\n                  fontSize: \"1rem\",\n                  \"& .MuiDataGrid-cell\": {\n                    whiteSpace: \"normal\",\n                    wordWrap: \"break-word\",\n                    alignItems: \"center\",\n                    display: \"flex\",\n                  },\n                }}\n              />\n            </Paper>\n          )}\n\n          {/* Delete Dialog */}\n          <Dialog open={!!deleteUserId} onClose={() => setDeleteUserId(null)}>\n            <DialogTitle>Confirm Delete</DialogTitle>\n            <DialogContent>\n              <Typography>\n                Are you sure you want to delete this user?\n              </Typography>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={() => setDeleteUserId(null)} color=\"secondary\">\n                Cancel\n              </Button>\n              <Button\n                onClick={handleDeleteUser}\n                color=\"error\"\n                variant=\"contained\"\n              >\n                Delete\n              </Button>\n            </DialogActions>\n          </Dialog>\n        </div>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default UserList;\n","size_bytes":7468},"qms-source/frontend-new/src/assets/theme/components/menu/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport boxShadows from \"assets/theme/base/boxShadows\";\nimport typography from \"assets/theme/base/typography\";\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { lg } = boxShadows;\nconst { size } = typography;\nconst { text, white } = colors;\nconst { borderRadius } = borders;\n\nconst menu = {\n  defaultProps: {\n    disableAutoFocusItem: true,\n  },\n\n  styleOverrides: {\n    paper: {\n      minWidth: pxToRem(160),\n      boxShadow: lg,\n      padding: `${pxToRem(16)} ${pxToRem(8)}`,\n      fontSize: size.sm,\n      color: text.main,\n      textAlign: \"left\",\n      backgroundColor: `${white.main} !important`,\n      borderRadius: borderRadius.md,\n    },\n  },\n};\n\nexport default menu;\n","size_bytes":1398},"qms-source/frontend-new/src/assets/theme-dark/components/form/checkbox.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport linearGradient from \"assets/theme-dark/functions/linearGradient\";\n\nconst { borderWidth, borderColor } = borders;\nconst { transparent, info } = colors;\n\nconst checkbox = {\n  styleOverrides: {\n    root: {\n      \"& .MuiSvgIcon-root\": {\n        backgroundPosition: \"center\",\n        backgroundSize: \"contain\",\n        backgroundRepeat: \"no-repeat\",\n        width: pxToRem(20),\n        height: pxToRem(20),\n        color: transparent.main,\n        border: `${borderWidth[1]} solid ${borderColor}`,\n        borderRadius: pxToRem(5.6),\n      },\n\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n\n      \"&.Mui-focusVisible\": {\n        border: `${borderWidth[2]} solid ${info.main} !important`,\n      },\n    },\n\n    colorPrimary: {\n      color: borderColor,\n\n      \"&.Mui-checked\": {\n        color: info.main,\n\n        \"& .MuiSvgIcon-root\": {\n          backgroundImage: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -1 22 22'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\"), ${linearGradient(\n            info.main,\n            info.main\n          )}`,\n          borderColor: info.main,\n        },\n      },\n    },\n\n    colorSecondary: {\n      color: borderColor,\n\n      \"& .MuiSvgIcon-root\": {\n        color: info.main,\n        \"&.Mui-checked\": {\n          backgroundImage: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -1 22 22'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\"), ${linearGradient(\n            info.main,\n            info.main\n          )}`,\n          borderColor: info.main,\n        },\n      },\n    },\n  },\n};\n\nexport default checkbox;\n","size_bytes":2594},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: -8; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n\n  --background: 0 0% 98%;\n\n  --foreground: 220 13% 13%;\n\n  --border: 220 13% 88%;\n\n  --card: 0 0% 96%;\n\n  --card-foreground: 220 13% 13%;\n\n  --card-border: 220 13% 90%;\n\n  --sidebar: 220 8% 94%;\n\n  --sidebar-foreground: 220 13% 13%;\n\n  --sidebar-border: 220 13% 86%;\n\n  --sidebar-primary: 210 92% 45%;\n\n  --sidebar-primary-foreground: 210 92% 97%;\n\n  --sidebar-accent: 220 8% 88%;\n\n  --sidebar-accent-foreground: 220 13% 13%;\n\n  --sidebar-ring: 210 92% 45%;\n\n  --popover: 220 8% 92%;\n\n  --popover-foreground: 220 13% 13%;\n\n  --popover-border: 220 13% 84%;\n\n  --primary: 210 92% 45%;\n\n  --primary-foreground: 210 92% 97%;\n\n  --secondary: 220 8% 86%;\n\n  --secondary-foreground: 220 13% 13%;\n\n  --muted: 220 12% 90%;\n\n  --muted-foreground: 220 10% 38%;\n\n  --accent: 220 14% 88%;\n\n  --accent-foreground: 220 13% 13%;\n\n  --destructive: 0 84% 42%;\n\n  --destructive-foreground: 0 84% 97%;\n\n  --input: 220 13% 75%;\n  --ring: 210 92% 45%;\n  --chart-1: 210 92% 35%;\n  --chart-2: 190 85% 32%;\n  --chart-3: 25 90% 40%;\n  --chart-4: 280 75% 38%;\n  --chart-5: 140 70% 35%;\n\n  --font-sans: Open Sans, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --radius: .5rem; /* 8px */\n  --shadow-2xs: 0px 2px 0px 0px hsl(220 13% 13% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(220 13% 13% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(220 13% 13% / 0.00), 0px 1px 2px -1px hsl(220 13% 13% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(220 13% 13% / 0.00), 0px 1px 2px -1px hsl(220 13% 13% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(220 13% 13% / 0.00), 0px 2px 4px -1px hsl(220 13% 13% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(220 13% 13% / 0.00), 0px 4px 6px -1px hsl(220 13% 13% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(220 13% 13% / 0.00), 0px 8px 10px -1px hsl(220 13% 13% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(220 13% 13% / 0.00);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n\n  --opaque-button-border-intensity: 9;  /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n\n  --background: 220 13% 9%;\n\n  --foreground: 220 13% 92%;\n\n  --border: 220 13% 18%;\n\n  --card: 220 13% 11%;\n\n  --card-foreground: 220 13% 92%;\n\n  --card-border: 220 13% 16%;\n\n  --sidebar: 220 13% 13%;\n\n  --sidebar-foreground: 220 13% 92%;\n\n  --sidebar-border: 220 13% 20%;\n\n  --sidebar-primary: 210 92% 52%;\n\n  --sidebar-primary-foreground: 210 92% 97%;\n\n  --sidebar-accent: 220 13% 18%;\n\n  --sidebar-accent-foreground: 220 13% 92%;\n\n  --sidebar-ring: 210 92% 52%;\n\n  --popover: 220 13% 15%;\n\n  --popover-foreground: 220 13% 92%;\n\n  --popover-border: 220 13% 22%;\n\n  --primary: 210 92% 52%;\n\n  --primary-foreground: 210 92% 97%;\n\n  --secondary: 220 13% 19%;\n\n  --secondary-foreground: 220 13% 92%;\n\n  --muted: 220 13% 17%;\n\n  --muted-foreground: 220 10% 65%;\n\n  --accent: 220 14% 18%;\n\n  --accent-foreground: 220 13% 92%;\n\n  --destructive: 0 84% 48%;\n\n  --destructive-foreground: 0 84% 97%;\n\n  --input: 220 13% 28%;\n  --ring: 210 92% 52%;\n  --chart-1: 210 92% 65%;\n  --chart-2: 190 85% 62%;\n  --chart-3: 25 90% 65%;\n  --chart-4: 280 75% 68%;\n  --chart-5: 140 70% 60%;\n\n  --shadow-2xs: 0px 2px 0px 0px hsl(220 13% 5% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(220 13% 5% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(220 13% 5% / 0.00), 0px 1px 2px -1px hsl(220 13% 5% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(220 13% 5% / 0.00), 0px 1px 2px -1px hsl(220 13% 5% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(220 13% 5% / 0.00), 0px 2px 4px -1px hsl(220 13% 5% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(220 13% 5% / 0.00), 0px 4px 6px -1px hsl(220 13% 5% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(220 13% 5% / 0.00), 0px 8px 10px -1px hsl(220 13% 5% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(220 13% 5% / 0.00);\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    border-radius: inherit;\n    z-index: -1;\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    border-radius: inherit;\n    z-index: 999;\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}","size_bytes":9566},"qms-source/frontend-new/src/assets/theme/components/sidenav.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { white } = colors;\nconst { borderRadius } = borders;\n\nconst sidenav = {\n  styleOverrides: {\n    root: {\n      width: pxToRem(250),\n      whiteSpace: \"nowrap\",\n      border: \"none\",\n    },\n\n    paper: {\n      width: pxToRem(250),\n      backgroundColor: white.main,\n      height: `calc(100vh - ${pxToRem(32)})`,\n      margin: pxToRem(16),\n      borderRadius: borderRadius.xl,\n      border: \"none\",\n    },\n\n    paperAnchorDockedLeft: {\n      borderRight: \"none\",\n    },\n  },\n};\n\nexport default sidenav;\n","size_bytes":1271},"frontend-new/src/assets/theme/base/breakpoints.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base breakpoints for the Material Dashboard 2 React.\n * You can add new breakpoints using this file.\n * You can customized the breakpoints for the entire Material Dashboard 2 React using thie file.\n */\n\nconst breakpoints = {\n  values: {\n    xs: 0,\n    sm: 576,\n    md: 768,\n    lg: 992,\n    xl: 1200,\n    xxl: 1400,\n  },\n};\n\nexport default breakpoints;\n","size_bytes":887},"qms-source/frontend-new/src/assets/theme/components/card/cardMedia.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport borders from \"assets/theme/base/borders\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { borderRadius } = borders;\n\nconst cardMedia = {\n  styleOverrides: {\n    root: {\n      borderRadius: borderRadius.xl,\n      margin: `${pxToRem(16)} ${pxToRem(16)} 0`,\n    },\n\n    media: {\n      width: \"auto\",\n    },\n  },\n};\n\nexport default cardMedia;\n","size_bytes":974},"qms-source/frontend-new/src/assets/theme/components/form/switchButton.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\n// import rgba from \"assets/theme/functions/rgba\";\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport linearGradient from \"assets/theme/functions/linearGradient\";\n\nconst { white, gradients, grey, transparent } = colors;\nconst { borderWidth } = borders;\nconst { md } = boxShadows;\n\nconst switchButton = {\n  defaultProps: {\n    disableRipple: false,\n  },\n\n  styleOverrides: {\n    switchBase: {\n      color: gradients.dark.main,\n\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n\n      \"&.Mui-checked\": {\n        color: gradients.dark.main,\n\n        \"&:hover\": {\n          backgroundColor: transparent.main,\n        },\n\n        \"& .MuiSwitch-thumb\": {\n          borderColor: `${gradients.dark.main} !important`,\n        },\n\n        \"& + .MuiSwitch-track\": {\n          backgroundColor: `${gradients.dark.main} !important`,\n          borderColor: `${gradients.dark.main} !important`,\n          opacity: 1,\n        },\n      },\n\n      \"&.Mui-disabled + .MuiSwitch-track\": {\n        opacity: \"0.3 !important\",\n      },\n\n      \"&.Mui-focusVisible .MuiSwitch-thumb\": {\n        backgroundImage: linearGradient(gradients.info.main, gradients.info.state),\n      },\n    },\n\n    thumb: {\n      backgroundColor: white.main,\n      boxShadow: md,\n      border: `${borderWidth[1]} solid ${grey[400]}`,\n    },\n\n    track: {\n      width: pxToRem(32),\n      height: pxToRem(15),\n      backgroundColor: grey[400],\n      border: `${borderWidth[1]} solid ${grey[400]}`,\n      opacity: 1,\n    },\n\n    checked: {},\n  },\n};\n\nexport default switchButton;\n","size_bytes":2322},"qms-source/frontend-new/src/assets/theme-dark/components/buttonBase.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst buttonBase = {\n  defaultProps: {\n    disableRipple: false,\n  },\n};\n\nexport default buttonBase;\n","size_bytes":624},"frontend-new/src/assets/theme-dark/components/form/radio.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport linearGradient from \"assets/theme-dark/functions/linearGradient\";\n\nconst { borderWidth, borderColor } = borders;\nconst { transparent, info } = colors;\n\nconst radio = {\n  styleOverrides: {\n    root: {\n      \"& .MuiSvgIcon-root\": {\n        width: pxToRem(20),\n        height: pxToRem(20),\n        color: transparent.main,\n        border: `${borderWidth[1]} solid ${borderColor}`,\n        borderRadius: \"50%\",\n      },\n\n      \"&:after\": {\n        transition: \"opacity 250ms ease-in-out\",\n        content: `\"\"`,\n        position: \"absolute\",\n        width: pxToRem(14),\n        height: pxToRem(14),\n        borderRadius: \"50%\",\n        backgroundImage: linearGradient(info.main, info.main),\n        opacity: 0,\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        margin: \"auto\",\n      },\n\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n\n      \"&.Mui-focusVisible\": {\n        border: `${borderWidth[2]} solid ${info.main} !important`,\n      },\n    },\n\n    colorPrimary: {\n      color: borderColor,\n\n      \"&.Mui-checked\": {\n        color: info.main,\n\n        \"& .MuiSvgIcon-root\": {\n          borderColor: info.main,\n        },\n\n        \"&:after\": {\n          opacity: 1,\n        },\n      },\n    },\n\n    colorSecondary: {\n      color: borderColor,\n\n      \"&.Mui-checked\": {\n        color: info.main,\n\n        \"& .MuiSvgIcon-root\": {\n          borderColor: info.main,\n        },\n\n        \"&:after\": {\n          opacity: 1,\n        },\n      },\n    },\n  },\n};\n\nexport default radio;\n","size_bytes":2310},"frontend-new/src/assets/theme-dark/components/icon.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst icon = {\n  defaultProps: {\n    baseClassName: \"material-icons-round\",\n    fontSize: \"inherit\",\n  },\n\n  styleOverrides: {\n    fontSizeInherit: {\n      fontSize: \"inherit !important\",\n    },\n\n    fontSizeSmall: {\n      fontSize: `${pxToRem(20)} !important`,\n    },\n\n    fontSizeLarge: {\n      fontSize: `${pxToRem(36)} !important`,\n    },\n  },\n};\n\nexport default icon;\n","size_bytes":1003},"qms-source/BackEnd/src/config/db.js":{"content":"import { Sequelize } from 'sequelize';\nimport { config } from 'dotenv';\n\n// Load environment variables\nconfig();\n\nconsole.log('Database Configuration:', {\n    database: process.env.DB_NAME,\n    user: process.env.DB_USER,\n    password: process.env.DB_PASS,\n    host: process.env.DB_HOST\n});\n\nconst sequelize = new Sequelize(\n    process.env.DB_NAME || 'ISOAudit_db',\n    process.env.DB_USER || 'bonaventure',\n    process.env.DB_PASS || 'bona12345#',\n    {\n        host: process.env.DB_HOST || 'localhost',\n        dialect: 'mysql',\n        logging: console.log, // Optional: Logs SQL queries\n        timezone: '+05:30'\n    }\n);\n\nawait sequelize.sync({ force: false, hooks: true });\n\n\nsequelize.authenticate()\n    .then(() => console.log('Database connected'))\n    .catch(err => console.error('Error: ' + err));\n\nexport default sequelize;\n","size_bytes":837},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"qms-source/frontend-new/src/assets/theme/components/avatar.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\n\nconst { borderRadius } = borders;\n\nconst avatar = {\n  styleOverrides: {\n    root: {\n      transition: \"all 200ms ease-in-out\",\n    },\n\n    rounded: {\n      borderRadius: borderRadius.lg,\n    },\n\n    img: {\n      height: \"auto\",\n    },\n  },\n};\n\nexport default avatar;\n","size_bytes":882},"frontend-new/src/Components/Sidebar/styles/sidenav.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\nexport default function sidenavLogoLabel(theme, ownerState) {\n  const { functions, transitions, typography, breakpoints } = theme;\n  const { miniSidenav } = ownerState;\n\n  const { pxToRem } = functions;\n  const { fontWeightMedium } = typography;\n\n  return {\n    ml: 0.5,\n    fontWeight: fontWeightMedium,\n    wordSpacing: pxToRem(-1),\n    transition: transitions.create(\"opacity\", {\n      easing: transitions.easing.easeInOut,\n      duration: transitions.duration.standard,\n    }),\n\n    [breakpoints.up(\"xl\")]: {\n      opacity: miniSidenav ? 0 : 1,\n    },\n  };\n}\n","size_bytes":1085},"frontend-new/src/assets/theme/components/table/tableContainer.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\nimport borders from \"assets/theme/base/borders\";\n\nconst { white } = colors;\nconst { md } = boxShadows;\nconst { borderRadius } = borders;\n\nconst tableContainer = {\n  styleOverrides: {\n    root: {\n      backgroundColor: white.main,\n      boxShadow: md,\n      borderRadius: borderRadius.xl,\n    },\n  },\n};\n\nexport default tableContainer;\n","size_bytes":1002},"qms-source/frontend-new/src/assets/theme/components/button/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Button Styles\nimport root from \"assets/theme/components/button/root\";\nimport contained from \"assets/theme/components/button/contained\";\nimport outlined from \"assets/theme/components/button/outlined\";\nimport buttonText from \"assets/theme/components/button/text\";\n\nconst button = {\n  defaultProps: {\n    disableRipple: false,\n  },\n  styleOverrides: {\n    root: { ...root },\n    contained: { ...contained.base },\n    containedSizeSmall: { ...contained.small },\n    containedSizeLarge: { ...contained.large },\n    containedPrimary: { ...contained.primary },\n    containedSecondary: { ...contained.secondary },\n    outlined: { ...outlined.base },\n    outlinedSizeSmall: { ...outlined.small },\n    outlinedSizeLarge: { ...outlined.large },\n    outlinedPrimary: { ...outlined.primary },\n    outlinedSecondary: { ...outlined.secondary },\n    text: { ...buttonText.base },\n    textSizeSmall: { ...buttonText.small },\n    textSizeLarge: { ...buttonText.large },\n    textPrimary: { ...buttonText.primary },\n    textSecondary: { ...buttonText.secondary },\n  },\n};\n\nexport default button;\n","size_bytes":1629},"qms-source/frontend-new/src/assets/theme/components/table/tableCell.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { borderWidth } = borders;\nconst { light } = colors;\n\nconst tableCell = {\n  styleOverrides: {\n    root: {\n      padding: `${pxToRem(12)} ${pxToRem(16)}`,\n      borderBottom: `${borderWidth[1]} solid ${light.main}`,\n    },\n  },\n};\n\nexport default tableCell;\n","size_bytes":1027},"BackEnd/src/models/GeneralDocumentFolder.js":{"content":"// models/GeneralDocumentFolder.js\nimport { DataTypes } from 'sequelize';\nimport sequelize from \"../config/db.js\";\nimport User from './User.js';\n\nconst GeneralDocumentFolder = sequelize.define('GeneralDocumentFolder', {\n  id: {\n    type: DataTypes.UUID,\n    defaultValue: DataTypes.UUIDV4,\n    primaryKey: true\n  },\n  company_id: {\n    type: DataTypes.UUID,\n    allowNull: false\n  },\n  parent_folder_id: {\n    type: DataTypes.UUID,\n    allowNull: true\n  },\n  folder_name: {\n    type: DataTypes.STRING(255),\n    allowNull: false\n  },\n  visibility_scope: {\n    type: DataTypes.ENUM('all', 'above', 'below', 'specific', 'private'),\n    allowNull: false\n  },\n  created_by_user_id: {\n    type: DataTypes.UUID,\n    allowNull: false\n  },\n  deleted_at: {\n    type: DataTypes.DATE,\n    allowNull: true\n  }\n}, {\n  tableName: 'general_document_folder',\n  timestamps: true,\n  paranoid: true,\n  deletedAt: 'deleted_at'\n});\n\n\n\n\nexport default GeneralDocumentFolder;\n","size_bytes":952},"qms-source/frontend-new/src/assets/theme-dark/components/tabs/tab.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme-dark/base/typography\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { size, fontWeightRegular } = typography;\nconst { borderRadius } = borders;\nconst { white } = colors;\n\nconst tab = {\n  styleOverrides: {\n    root: {\n      display: \"flex\",\n      alignItems: \"center\",\n      flexDirection: \"row\",\n      flex: \"1 1 auto\",\n      textAlign: \"center\",\n      maxWidth: \"unset !important\",\n      minWidth: \"unset !important\",\n      minHeight: \"unset !important\",\n      fontSize: size.md,\n      fontWeight: fontWeightRegular,\n      textTransform: \"none\",\n      lineHeight: \"inherit\",\n      padding: pxToRem(4),\n      borderRadius: borderRadius.lg,\n      color: `${white.main} !important`,\n      opacity: \"1 !important\",\n\n      \"& .material-icons, .material-icons-round\": {\n        marginBottom: \"0 !important\",\n        marginRight: pxToRem(6),\n      },\n\n      \"& svg\": {\n        marginBottom: \"0 !important\",\n        marginRight: pxToRem(6),\n      },\n    },\n\n    labelIcon: {\n      paddingTop: pxToRem(4),\n    },\n  },\n};\n\nexport default tab;\n","size_bytes":1811},"frontend-new/src/App.test.js":{"content":"import { render, screen } from '@testing-library/react';\nimport App from './App';\n\ntest('renders learn react link', () => {\n  render(<App />);\n  const linkElement = screen.getByText(/learn react/i);\n  expect(linkElement).toBeInTheDocument();\n});\n","size_bytes":246},"frontend-new/src/assets/theme-dark/components/form/switchButton.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\n// import rgba from \"assets/theme-dark/functions/rgba\";\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport linearGradient from \"assets/theme-dark/functions/linearGradient\";\n\nconst { white, gradients, grey, transparent } = colors;\nconst { borderWidth } = borders;\nconst { md } = boxShadows;\n\nconst switchButton = {\n  defaultProps: {\n    disableRipple: false,\n  },\n\n  styleOverrides: {\n    switchBase: {\n      color: gradients.dark.main,\n\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n\n      \"&.Mui-checked\": {\n        color: gradients.dark.main,\n\n        \"&:hover\": {\n          backgroundColor: transparent.main,\n        },\n\n        \"& .MuiSwitch-thumb\": {\n          borderColor: `${gradients.dark.main} !important`,\n        },\n\n        \"& + .MuiSwitch-track\": {\n          backgroundColor: `${gradients.dark.main} !important`,\n          borderColor: `${gradients.dark.main} !important`,\n          opacity: 1,\n        },\n      },\n\n      \"&.Mui-disabled + .MuiSwitch-track\": {\n        opacity: \"0.3 !important\",\n      },\n\n      \"&.Mui-focusVisible .MuiSwitch-thumb\": {\n        backgroundImage: linearGradient(gradients.info.main, gradients.info.state),\n      },\n    },\n\n    thumb: {\n      backgroundColor: white.main,\n      boxShadow: md,\n      border: `${borderWidth[1]} solid ${grey[400]}`,\n    },\n\n    track: {\n      width: pxToRem(32),\n      height: pxToRem(15),\n      backgroundColor: grey[400],\n      border: `${borderWidth[1]} solid ${grey[400]}`,\n      opacity: 1,\n    },\n\n    checked: {},\n  },\n};\n\nexport default switchButton;\n","size_bytes":2352},"frontend-new/src/assets/theme/components/card/cardMedia.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport borders from \"assets/theme/base/borders\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { borderRadius } = borders;\n\nconst cardMedia = {\n  styleOverrides: {\n    root: {\n      borderRadius: borderRadius.xl,\n      margin: `${pxToRem(16)} ${pxToRem(16)} 0`,\n    },\n\n    media: {\n      width: \"auto\",\n    },\n  },\n};\n\nexport default cardMedia;\n","size_bytes":974},"BackEnd/src/models/Comment.js":{"content":"import { DataTypes } from \"sequelize\";\nimport sequelize from \"../config/db.js\";\nimport Task from \"./Task.js\";\nimport User from \"./User.js\";\n\nconst Comment = sequelize.define(\"Comment\", {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    task_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: Task, key: \"id\" }\n    },\n    user_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: User, key: \"id\" }\n    },\n    comment_text: {\n        type: DataTypes.TEXT,\n        allowNull: false\n    },\n    created_at: {\n        type: DataTypes.DATE,\n        defaultValue: DataTypes.NOW\n    }\n}, { timestamps: false });\n\nexport default Comment;\n","size_bytes":773},"frontend-new/src/assets/theme-dark/functions/gradientChartLine.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The gradientChartLine() function helps you to create a gradient color for the chart line\n */\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nfunction gradientChartLine(chart, color, opacity = 0.2) {\n  const ctx = chart.getContext(\"2d\");\n  const gradientStroke = ctx.createLinearGradient(0, 230, 0, 50);\n  const primaryColor = rgba(color, opacity).toString();\n\n  gradientStroke.addColorStop(1, primaryColor);\n  gradientStroke.addColorStop(0.2, \"rgba(72, 72, 176, 0.0)\");\n  gradientStroke.addColorStop(0, \"rgba(203, 12, 159, 0)\");\n\n  return gradientStroke;\n}\n\nexport default gradientChartLine;\n","size_bytes":1175},"BackEnd/src/controllers/taskAssignmentController.js":{"content":"import TaskAssignment from \"../models/TaskAssignment.js\";\nimport { Op } from \"sequelize\";\nimport User from \"../models/User.js\";\nimport Role from \"../models/Role.js\";\nimport Task from \"../models/Task.js\";\nimport TaskChangeLog from \"../models/TaskChangeLog.js\";\nimport { Sequelize } from 'sequelize';\nimport { getAllReportToUsers } from \"../utils/getHigherRoleUserRecurcievly.js\";\n\n\n\nexport const assignTasks = async (req, res) => {\n    try {\n        const { assignments, user_id, task_ids } = req.body;\n        const assign_by = req.user.id;\n\n        if (!assignments && (!user_id || !Array.isArray(task_ids) || task_ids.length === 0)) {\n            return res.status(400).json({ error: \"Either provide assignments or user_id with task_ids.\" });\n        }\n\n        const taskAssignments = [];\n\n        // âœ… Scenario 1: Bulk assignment { task_id, user_ids[] }\n        if (Array.isArray(assignments) && assignments.length > 0) {\n            for (const { task_id, user_ids } of assignments) {\n                if (!task_id || !Array.isArray(user_ids) || user_ids.length === 0) {\n                    return res.status(400).json({ error: \"Each assignment must include a valid task_id and a non-empty user_ids array.\" });\n                }\n\n                // ðŸ§  Build complete user list including managers\n                let allUserIds = [...user_ids];\n                for (const uid of user_ids) {\n                    const hierarchy = await getAllReportToUsers(uid);\n                    allUserIds.push(...hierarchy);\n                }\n                const uniqueUsers = [...new Set(allUserIds)];\n\n                const existingAssignment = await TaskAssignment.findOne({ where: { task_id } });\n                const previousUsers = existingAssignment ? existingAssignment.user_ids || [] : [];\n\n                if (existingAssignment) {\n                    await existingAssignment.update({ user_ids: uniqueUsers });\n                } else {\n                    await TaskAssignment.create({\n                        task_id,\n                        user_ids: uniqueUsers,\n                        assign_by,\n                    });\n                }\n\n                // ðŸ“ Log the change\n                await TaskChangeLog.create({\n                    task_id,\n                    changed_by: assign_by,\n                    field_changed: \"assignment\",\n                    old_value: JSON.stringify(previousUsers),\n                    new_value: JSON.stringify(uniqueUsers)\n                });\n\n                taskAssignments.push({ task_id, user_ids: uniqueUsers });\n            }\n        }\n\n        // âœ… Scenario 2: Single user to multiple tasks\n        else if (user_id && Array.isArray(task_ids)) {\n            // ðŸ§  Resolve full hierarchy once\n            let allUserIds = [user_id, ...(await getAllReportToUsers(user_id))];\n            const uniqueUsers = [...new Set(allUserIds)];\n\n            for (const task_id of task_ids) {\n                const existingAssignment = await TaskAssignment.findOne({ where: { task_id } });\n                const previousUsers = existingAssignment ? existingAssignment.user_ids || [] : [];\n\n                if (existingAssignment) {\n                    await existingAssignment.update({ user_ids: uniqueUsers });\n                } else {\n                    await TaskAssignment.create({\n                        task_id,\n                        user_ids: uniqueUsers,\n                        assign_by,\n                    });\n                }\n\n                await TaskChangeLog.create({\n                    task_id,\n                    changed_by: assign_by,\n                    field_changed: \"assignment\",\n                    old_value: JSON.stringify(previousUsers),\n                    new_value: JSON.stringify(uniqueUsers)\n                });\n\n                taskAssignments.push({ task_id, user_ids: uniqueUsers });\n            }\n        }\n\n        res.status(201).json({ message: \"Tasks assigned successfully\", taskAssignments });\n\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n\n\n\n// export const assignTasks = async (req, res) => {\n//     try {\n//         const { assignments, user_id, task_ids } = req.body;\n//         const assign_by = req.user.id;\n\n//         if (!assignments && (!user_id || !Array.isArray(task_ids) || task_ids.length === 0)) {\n//             return res.status(400).json({ error: \"Either provide assignments or user_id with task_ids.\" });\n//         }\n\n//         const taskAssignments = [];\n\n//         // ðŸŸ¢ **Scenario 1: Assign multiple users to tasks (Bulk Assignment)**\n//         if (Array.isArray(assignments) && assignments.length > 0) {\n//             for (const { task_id, user_ids } of assignments) {\n//                 if (!task_id || !Array.isArray(user_ids) || user_ids.length === 0) {\n//                     return res.status(400).json({ error: \"Each assignment must include a valid task_id and a non-empty user_ids array.\" });\n//                 }\n\n//                 let taskAssignment = await TaskAssignment.findOne({ where: { task_id } });\n\n//                 if (!taskAssignment) {\n//                     // Create a new task assignment\n//                     taskAssignment = await TaskAssignment.create({ task_id, user_ids: [...new Set(user_ids)], assign_by });\n\n//                     // âœ… Log new assignment\n//                     await TaskChangeLog.create({\n//                         task_id,\n//                         changed_by: assign_by,\n//                         field_changed: \"assignment\",\n//                         old_value: null,\n//                         new_value: JSON.stringify([...new Set(user_ids)])\n//                     });\n//                 } else {\n//                     // const previousUsers = taskAssignment.user_ids || [];\n//                     // const uniqueUsers = [...new Set([...previousUsers, ...user_ids])]; // Remove duplicates\n//                     const previousUsers = taskAssignment.user_ids || [];\n//                     const uniqueUsers = [...new Set(user_ids)]; \n\n//                     if (JSON.stringify(previousUsers.sort()) !== JSON.stringify(uniqueUsers.sort())) {\n//                         await taskAssignment.update({ user_ids: uniqueUsers });\n\n//                         // âœ… Log the update\n//                         await TaskChangeLog.create({\n//                             task_id,\n//                             changed_by: assign_by,\n//                             field_changed: \"assignment\",\n//                             old_value: JSON.stringify(previousUsers),\n//                             new_value: JSON.stringify(uniqueUsers)\n//                         });\n//                     }\n//                 }\n\n//                 taskAssignments.push(taskAssignment);\n//             }\n//         }\n\n//         // ðŸŸ¢ **Scenario 2: Assign a single user to multiple tasks**\n//         else if (user_id && Array.isArray(task_ids) && task_ids.length > 0) {\n//             for (const task_id of task_ids) {\n//                 let taskAssignment = await TaskAssignment.findOne({ where: { task_id } });\n\n//                 if (!taskAssignment) {\n//                     // Create a new assignment\n//                     taskAssignment = await TaskAssignment.create({ task_id, user_ids: [user_id], assign_by });\n\n//                     // âœ… Log new assignment\n//                     await TaskChangeLog.create({\n//                         task_id,\n//                         changed_by: assign_by,\n//                         field_changed: \"assignment\",\n//                         old_value: null,\n//                         new_value: JSON.stringify([user_id])\n//                     });\n//                 } else {\n//                     const previousUsers = taskAssignment.user_ids || [];\n\n//                     if (!previousUsers.includes(user_id)) {\n//                         const uniqueUsers = [...new Set([...previousUsers, user_id])];\n\n//                         await taskAssignment.update({ user_ids: uniqueUsers });\n\n//                         // âœ… Log the update\n//                         await TaskChangeLog.create({\n//                             task_id,\n//                             changed_by: assign_by,\n//                             field_changed: \"assignment\",\n//                             old_value: JSON.stringify(previousUsers),\n//                             new_value: JSON.stringify(uniqueUsers)\n//                         });\n//                     }\n//                 }\n\n//                 taskAssignments.push(taskAssignment);\n//             }\n//         }\n\n//         res.status(201).json({ message: \"Tasks assigned successfully\", taskAssignments });\n\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\n\n// export const assignTask = async (req, res) => {\n//     try {\n//         const { task_id, user_ids} = req.body;\n//          const assign_by = req.user.id;\n//         if (!Array.isArray(user_ids) || user_ids.length === 0) {\n//             return res.status(400).json({ error: \"user_ids must be a non-empty array\" });\n//         }\n\n//         // Check if a record for this task already exists\n//         let taskAssignment = await TaskAssignment.findOne({ where: { task_id } });\n\n//         if (!taskAssignment) {\n//             // Create new task assignment with user_ids array\n//             taskAssignment = await TaskAssignment.create({ task_id, user_ids, assign_by });\n\n//             // âœ… Log the assignment in TaskChangeLog\n//             await TaskChangeLog.create({\n//                 task_id,\n//                 changed_by: assign_by,\n//                 field_changed: \"assignment\",\n//                 old_value: null,\n//                 new_value: `Assigned to users: ${JSON.stringify(user_ids)}`\n//             });\n\n//         } else {\n//             // Existing assignment: update user_ids (merge new users)\n//             const previousUsers = taskAssignment.user_ids || [];\n//             const newUsers = [...new Set([...previousUsers, ...user_ids])]; // Merge and remove duplicates\n\n//             await taskAssignment.update({ user_ids: newUsers });\n\n//             // âœ… Log the update in TaskChangeLog\n//             await TaskChangeLog.create({\n//                 task_id,\n//                 changed_by: assign_by,\n//                 field_changed: \"assignment\",\n//                 old_value: JSON.stringify(previousUsers),\n//                 new_value: JSON.stringify(newUsers)\n//             });\n//         }\n\n//         res.status(201).json(taskAssignment);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// export const getAllTaskAssignments = async (req, res) => {\n//     try {\n//         const user_id = req.user.id; // Assuming `req.user` contains the logged-in user details\n        \n//         // Fetch the user's role by including Role in the query\n//         const user = await User.findByPk(user_id, {\n//             include: [{ model: Role, attributes: [\"name\"] }] // Fetch role name\n//         });\n\n//         if (!user) {\n//             return res.status(404).json({ error: \"User not found\" });\n//         }\n\n//         let assignments;\n\n//         if (user.Role?.name === \"Super Admin\") {\n//             // Super Admin gets all task assignments\n//             assignments = await TaskAssignment.findAll({\n//                 include: [\n//                     { model: Task },\n//                     { model: User, as: \"Assigner\", attributes: [\"id\", \"name\", \"email\"] } // Assigner user details\n//                 ]\n//             });\n//         } else {\n//             // Regular users only see tasks where they are assigned or assigned by them\n//             assignments = await TaskAssignment.findAll({\n//                 where: {\n//                     [Op.or]: [\n//                         { assign_by: user_id },  // Tasks assigned by the user\n//                     ]\n//                 },\n//                 include: [\n//                     { model: Task },\n//                     { model: User, as: \"Assigner\", attributes: [\"id\", \"name\", \"email\"] }\n//                 ]\n//             });\n//         }\n\n//         // Fetch Assignees for each assignment\n//         for (let assignment of assignments) {\n//             if (assignment.user_ids && assignment.user_ids.length > 0) {\n//                 const assignees = await User.findAll({\n//                     where: { id: { [Op.in]: assignment.user_ids } },\n//                     attributes: [\"id\", \"name\", \"email\"]\n//                 });\n//                 assignment.dataValues.Assignees = assignees; // Add the assignee list to response\n//             } else {\n//                 assignment.dataValues.Assignees = []; // Ensure response structure remains consistent\n//             }\n//         }\n\n//         res.json(assignments);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\nexport const getAllTaskAssignments = async (req, res) => {\n    try {\n        const user_id = req.user.id;\n        let company_id = req.user.company; // Default: fetch from token\n\n        // Fetch the user's role\n        const user = await User.findByPk(user_id, {\n            include: [{ model: Role, attributes: [\"name\"] }]\n        });\n\n        if (!user) {\n            return res.status(404).json({ error: \"User not found\" });\n        }\n\n        const isSystemSuperAdmin = user.Role?.name === \"System Super Admin\";\n\n        // If system super admin, require company_id from query param\n        if (isSystemSuperAdmin) {\n            company_id = req.query.company_id;\n            if (!company_id) {\n                return res.status(400).json({ error: \"company_id is required for System Super Admin\" });\n            }\n        }\n\n        let whereClause = { \"$Task.company_id$\": company_id };\n\n        if (!isSystemSuperAdmin) {\n            whereClause[Op.or] = [\n                { assign_by: user_id },\n                Sequelize.literal(`JSON_CONTAINS(user_ids, '[\"${user_id}\"]')`) // âœ… MySQL JSON column check\n            ];\n        }\n\n        const assignments = await TaskAssignment.findAll({\n            where: whereClause,\n            include: [\n                { model: Task },\n                { model: User, as: \"Assigner\", attributes: [\"id\", \"name\", \"email\"] }\n            ]\n        });\n\n        // Fetch Assignees\n        for (let assignment of assignments) {\n            if (assignment.user_ids && assignment.user_ids.length > 0) {\n                const assignees = await User.findAll({\n                    where: { id: { [Op.in]: assignment.user_ids } },\n                    attributes: [\"id\", \"name\", \"email\"]\n                });\n                assignment.dataValues.Assignees = assignees;\n            } else {\n                assignment.dataValues.Assignees = [];\n            }\n        }\n\n        res.json(assignments);\n    } catch (error) {\n        console.error(\"âŒ Error in getAllTaskAssignments:\", error);\n        res.status(500).json({ error: error.message });\n    }\n};\n\n\nexport const getTaskAssignments = async (req, res) => {\n    try {\n        const { task_id } = req.params;\n\n        // Fetch task assignments for the given task_id\n        const assignments = await TaskAssignment.findAll({\n            where: { task_id },\n            include: [\n                { model: Task },  // Include task details\n                { model: User.scope('all'), as: \"Assigner\", attributes: [\"id\", \"name\", \"email\",\"is_active\"] } // Include assigner details\n            ]\n        });\n\n        // Fetch Assignees for each assignment\n        for (let assignment of assignments) {\n            if (assignment.user_ids && assignment.user_ids.length > 0) {\n                const assignees = await User.scope('all').findAll({\n                    where: { id: { [Op.in]: assignment.user_ids } },\n                    attributes: [\"id\", \"name\", \"email\",\"is_active\"]\n                });\n                assignment.dataValues.Assignees = assignees; // Add assignees to response\n            } else {\n                assignment.dataValues.Assignees = []; // Ensure structure consistency\n            }\n        }\n\n        res.json(assignments);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport const unassignTask = async (req, res) => {\n    try {\n        const { task_id, user_id  } = req.body;\n         const changed_by =req.user.id;\n        // Find the assignment\n        const taskAssignment = await TaskAssignment.findOne({ where: { task_id } });\n\n        if (!taskAssignment) {\n            return res.status(404).json({ error: \"Task assignment not found\" });\n        }\n\n        const previousUsers = taskAssignment.user_ids || [];\n        const newUsers = previousUsers.filter(id => id !== user_id); // Remove the user\n\n        if (newUsers.length === 0) {\n            // If no users left, delete the assignment record\n            await taskAssignment.destroy();\n        } else {\n            // Update with new user list\n            await taskAssignment.update({ user_ids: newUsers });\n        }\n\n        // âœ… Log the removal in TaskChangeLog\n        await TaskChangeLog.create({\n            task_id,\n            changed_by,\n            field_changed: \"assignment\",\n            old_value: JSON.stringify(previousUsers),\n            new_value: JSON.stringify(newUsers)\n        });\n\n        res.json({ message: `User ${user_id} unassigned from task successfully` });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport const changeAssignee = async (req, res) => {\n    try {\n        const { task_id, new_assignees } = req.body;\n        const changed_by = req.user.id;\n\n        if (!task_id || !Array.isArray(new_assignees) || new_assignees.length === 0) {\n            return res.status(400).json({ error: \"task_id and non-empty new_assignees array are required.\" });\n        }\n\n        // ðŸ§  Rebuild full user list based on current selection\n        let allUserIds = [...new_assignees];\n        for (const uid of new_assignees) {\n            const higherUps = await getAllReportToUsers(uid);\n            allUserIds.push(...higherUps);\n        }\n\n        const uniqueUsers = [...new Set(allUserIds)];\n\n        const existingAssignment = await TaskAssignment.findOne({ where: { task_id } });\n\n        let oldUsers = existingAssignment ? existingAssignment.user_ids || [] : [];\n\n        if (existingAssignment) {\n            await existingAssignment.update({ user_ids: uniqueUsers });\n\n        } else {\n            await TaskAssignment.create({\n                task_id,\n                user_ids: uniqueUsers,\n                assign_by: changed_by,\n            });\n        }\n\n        // Log change\n        await TaskChangeLog.create({\n            task_id,\n            changed_by,\n            field_changed: \"assignment\",\n            old_value: JSON.stringify(oldUsers),\n            new_value: JSON.stringify(uniqueUsers),\n        });\n\n        res.status(200).json({ message: \"Assignees updated successfully\", new_assignees: uniqueUsers });\n\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n\n// export const changeAssignee = async (req, res) => {\n//     try {\n//         const { task_id, new_assignees } = req.body; // Expect array of new assignees\n//         const changed_by = req.user.id;\n\n//         let existingAssignment = await TaskAssignment.findOne({ where: { task_id } });\n\n//         let oldUsers = [];\n//         let updatedAssignees = [];\n\n//         if (existingAssignment) {\n//             oldUsers = existingAssignment.user_ids || [];\n\n//             // Filter out user IDs that already exist\n//             const newUniqueUsers = new_assignees.filter(\n//                 (userId) => !oldUsers.includes(userId)\n//             );\n\n//             // Merge and deduplicate\n//             updatedAssignees = [...new Set([...oldUsers, ...newUniqueUsers])];\n\n//             await existingAssignment.update({ user_ids: updatedAssignees });\n//         } else {\n//             // No previous assignment, just store unique users\n//             updatedAssignees = [...new Set(new_assignees)];\n\n//             existingAssignment = await TaskAssignment.create({\n//                 task_id,\n//                 user_ids: updatedAssignees,\n//                 assign_by: changed_by,\n//             });\n//         }\n\n//         await TaskChangeLog.create({\n//             task_id,\n//             changed_by,\n//             field_changed: \"assignment\",\n//             old_value: JSON.stringify(oldUsers),\n//             new_value: JSON.stringify(updatedAssignees),\n//         });\n\n//         res.status(200).json({ message: \"Assignees saved successfully\", new_assignees: updatedAssignees });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// export const changeAssignee = async (req, res) => {\n//     try {\n//         const { task_id, new_assignees } = req.body; // Expect array of new assignees\n//         const changed_by = req.user.id;\n\n//         // Try to find existing task assignment\n//         let existingAssignment = await TaskAssignment.findOne({ where: { task_id } });\n\n//         let oldUsers = [];\n\n//         if (existingAssignment) {\n//             // Store old users\n//             oldUsers = existingAssignment.user_ids || [];\n\n//             // Update the existing assignment\n//             await existingAssignment.update({ user_ids: new_assignees });\n//         } else {\n//             // Create a new assignment with assign_by included\n//             existingAssignment = await TaskAssignment.create({\n//                 task_id,\n//                 user_ids: new_assignees,\n//                 assign_by: changed_by, // âœ… Required field\n//             });\n//         }\n\n//         // Log the change\n//         await TaskChangeLog.create({\n//             task_id,\n//             changed_by,\n//             field_changed: \"assignment\",\n//             old_value: JSON.stringify(oldUsers),\n//             new_value: JSON.stringify(new_assignees),\n//         });\n\n//         res.status(200).json({ message: \"Assignees saved successfully\", new_assignees });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\n\n\n","size_bytes":22357},"frontend-new/src/assets/theme/components/form/formControlLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { dark } = colors;\nconst { size, fontWeightBold } = typography;\n\nconst formControlLabel = {\n  styleOverrides: {\n    root: {\n      display: \"block\",\n      minHeight: pxToRem(24),\n      marginBottom: pxToRem(2),\n    },\n\n    label: {\n      display: \"inline-block\",\n      fontSize: size.sm,\n      fontWeight: fontWeightBold,\n      color: dark.main,\n      lineHeight: 1,\n      transform: `translateY(${pxToRem(1)})`,\n      marginLeft: pxToRem(4),\n\n      \"&.Mui-disabled\": {\n        color: dark.main,\n      },\n    },\n  },\n};\n\nexport default formControlLabel;\n","size_bytes":1329},"qms-source/frontend-new/src/assets/theme-dark/components/stepper/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport linearGradient from \"assets/theme-dark/functions/linearGradient\";\n\nconst { transparent, gradients } = colors;\nconst { borderRadius } = borders;\nconst { colored } = boxShadows;\n\nconst stepper = {\n  styleOverrides: {\n    root: {\n      background: linearGradient(gradients.info.main, gradients.info.state),\n      padding: `${pxToRem(24)} 0 ${pxToRem(16)}`,\n      borderRadius: borderRadius.lg,\n      boxShadow: colored.info,\n\n      \"&.MuiPaper-root\": {\n        backgroundColor: transparent.main,\n      },\n    },\n  },\n};\n\nexport default stepper;\n","size_bytes":1387},"qms-source/frontend-new/src/assets/theme/components/menu/menuItem.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport typography from \"assets/theme/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { light, text, dark } = colors;\nconst { borderRadius } = borders;\nconst { size } = typography;\n\nconst menuItem = {\n  styleOverrides: {\n    root: {\n      minWidth: pxToRem(160),\n      minHeight: \"unset\",\n      padding: `${pxToRem(4.8)} ${pxToRem(16)}`,\n      borderRadius: borderRadius.md,\n      fontSize: size.sm,\n      color: text.main,\n      transition: \"background-color 300ms ease, color 300ms ease\",\n\n      \"&:hover, &:focus, &.Mui-selected, &.Mui-selected:hover, &.Mui-selected:focus\": {\n        backgroundColor: light.main,\n        color: dark.main,\n      },\n    },\n  },\n};\n\nexport default menuItem;\n","size_bytes":1432},"server/index.ts":{"content":"/**\n * QMS Application Server Wrapper\n * This file runs both the QMS backend and frontend within the Replit environment\n */\n\nimport { spawn } from 'child_process';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\nimport { existsSync } from 'fs';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nconst BACKEND_DIR = path.resolve(__dirname, '..', 'BackEnd');\nconst FRONTEND_DIR = path.resolve(__dirname, '..', 'frontend-new');\nconst BACKEND_SERVER = 'src/server.js';\n\nconsole.log('ðŸ¥ Starting QMS Application...');\nconsole.log('ðŸ“ Backend directory:', BACKEND_DIR);\nconsole.log('ðŸ“ Frontend directory:', FRONTEND_DIR);\n\n// Function to install frontend dependencies if needed\nfunction installFrontendDeps() {\n  return new Promise((resolve, reject) => {\n    const nodeModulesPath = path.join(FRONTEND_DIR, 'node_modules');\n    \n    if (existsSync(nodeModulesPath)) {\n      console.log('âœ… Frontend dependencies already installed');\n      resolve(true);\n      return;\n    }\n    \n    console.log('ðŸ“¦ Installing frontend dependencies...');\n    const install = spawn('npm', ['install'], {\n      cwd: FRONTEND_DIR,\n      stdio: 'inherit',\n      shell: true\n    });\n    \n    install.on('close', (code) => {\n      if (code === 0) {\n        console.log('âœ… Frontend dependencies installed successfully');\n        resolve(true);\n      } else {\n        reject(new Error(`npm install failed with code ${code}`));\n      }\n    });\n    \n    install.on('error', (err) => {\n      reject(err);\n    });\n  });\n}\n\n// Install frontend dependencies first, then start servers\ninstallFrontendDeps()\n  .then(() => {\n    // Start the frontend Vite dev server\n    console.log('ðŸŽ¨ Starting frontend on port 3000...');\n    const frontend = spawn('npm', ['run', 'dev'], {\n      cwd: FRONTEND_DIR,\n      stdio: 'inherit',\n      shell: true,\n      env: {\n        ...process.env,\n        PORT: '3000',\n        NODE_ENV: process.env.NODE_ENV || 'development'\n      }\n    });\n\n    frontend.on('error', (err) => {\n      console.error('âŒ Failed to start frontend:', err);\n    });\n\n    // Give frontend a moment to start, then start backend\n    setTimeout(() => {\n      console.log('ðŸš€ Starting backend on port 5000...');\n      \n      // Run the QMS backend as a child process\n      const backend = spawn('node', [BACKEND_SERVER], {\n        cwd: BACKEND_DIR,\n        stdio: 'inherit',\n        shell: true,\n        env: {\n          ...process.env,\n          PORT: '5000',\n          NODE_ENV: process.env.NODE_ENV || 'development'\n        }\n      });\n\n      backend.on('error', (err) => {\n        console.error('âŒ Failed to start QMS backend:', err);\n        process.exit(1);\n      });\n\n      backend.on('exit', (code, signal) => {\n        if (code !== 0) {\n          console.error(`âŒ Backend exited with code ${code} and signal ${signal}`);\n          frontend.kill();\n          process.exit(code || 1);\n        }\n      });\n\n      // Handle shutdown\n      process.on('SIGINT', () => {\n        console.log('\\nðŸ›‘ Shutting down QMS application...');\n        backend.kill('SIGINT');\n        frontend.kill('SIGINT');\n        process.exit(0);\n      });\n\n      process.on('SIGTERM', () => {\n        backend.kill('SIGTERM');\n        frontend.kill('SIGTERM');\n        process.exit(0);\n      });\n    }, 3000);\n  })\n  .catch((err) => {\n    console.error('âŒ Failed to install frontend dependencies:', err);\n    process.exit(1);\n  });\n","size_bytes":3463},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"frontend-new/src/assets/theme/components/form/select.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { transparent } = colors;\n\nconst select = {\n  styleOverrides: {\n    select: {\n      display: \"grid\",\n      alignItems: \"center\",\n      padding: `0 ${pxToRem(12)} !important`,\n      lineHeight: \"2.8rem\",\n      \"& .Mui-selected\": {\n        backgroundColor: transparent.main,\n      },\n    },\n\n    selectMenu: {\n      background: \"none\",\n      height: \"none\",\n      minHeight: \"none\",\n      overflow: \"unset\",\n    },\n\n    icon: {\n      display: \"none\",\n    },\n  },\n};\n\nexport default select;\n","size_bytes":1209},"frontend-new/src/context/index.jsx":{"content":"\n/**\n  This file is used for controlling the global states of the components,\n  you can customize the states for the different components here.\n*/\n\nimport { createContext, useContext, useReducer, useMemo } from \"react\";\n\n// Material Dashboard 2 React main context\nconst MaterialUI = createContext();\n\n// Setting custom name for the context which is visible on react dev tools\nMaterialUI.displayName = \"MaterialUIContext\";\n\n// Material Dashboard 2 React reducer\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"MINI_SIDENAV\": {\n      return { ...state, miniSidenav: action.value };\n    }\n    case \"TRANSPARENT_SIDENAV\": {\n      return { ...state, transparentSidenav: action.value };\n    }\n    case \"WHITE_SIDENAV\": {\n      return { ...state, whiteSidenav: action.value };\n    }\n    case \"SIDENAV_COLOR\": {\n      return { ...state, sidenavColor: action.value };\n    }\n    case \"TRANSPARENT_NAVBAR\": {\n      return { ...state, transparentNavbar: action.value };\n    }\n    case \"FIXED_NAVBAR\": {\n      return { ...state, fixedNavbar: action.value };\n    }\n    case \"OPEN_CONFIGURATOR\": {\n      return { ...state, openConfigurator: action.value };\n    }\n    case \"DIRECTION\": {\n      return { ...state, direction: action.value };\n    }\n    case \"LAYOUT\": {\n      return { ...state, layout: action.value };\n    }\n    case \"DARKMODE\": {\n      return { ...state, darkMode: action.value };\n    }\n    case \"SIDEBAR_OPEN\": {\n      return { ...state, sidebarOpen: action.value };\n    }\n    case \"SET_SELECTED_COMPANY_NAME\": {\n      return { ...state, selectedCompanyName: action.value };\n    }\n    default: {\n      throw new Error(`Unhandled action type: ${action.type}`);\n    }\n  }\n}\n\n// Material Dashboard 2 React context provider\nfunction MaterialUIControllerProvider({ children }) {\n  const initialState = {\n    miniSidenav: false,\n    transparentSidenav: false,\n    whiteSidenav: false,\n    sidenavColor: \"info\",\n    transparentNavbar: true,\n    fixedNavbar: true,\n    openConfigurator: false,\n    direction: \"ltr\",\n    layout: \"dashboard\",\n    darkMode: false,\n    sidebarOpen: true, \n    selectedCompanyName: \"\",\n  };\n\n  const [controller, dispatch] = useReducer(reducer, initialState);\n\n  const value = useMemo(() => [controller, dispatch], [controller, dispatch]);\n\n  return <MaterialUI.Provider value={value}>{children}</MaterialUI.Provider>;\n}\n\n// Material Dashboard 2 React custom hook for using context\nfunction useMaterialUIController() {\n  const context = useContext(MaterialUI);\n\n  if (!context) {\n    throw new Error(\n      \"useMaterialUIController should be used inside the MaterialUIControllerProvider.\"\n    );\n  }\n\n  return context;\n}\n\n// Context module functions\nconst setMiniSidenav = (dispatch, value) =>\n  dispatch({ type: \"MINI_SIDENAV\", value });\nconst setTransparentSidenav = (dispatch, value) =>\n  dispatch({ type: \"TRANSPARENT_SIDENAV\", value });\nconst setWhiteSidenav = (dispatch, value) =>\n  dispatch({ type: \"WHITE_SIDENAV\", value });\nconst setSidenavColor = (dispatch, value) =>\n  dispatch({ type: \"SIDENAV_COLOR\", value });\nconst setTransparentNavbar = (dispatch, value) =>\n  dispatch({ type: \"TRANSPARENT_NAVBAR\", value });\nconst setFixedNavbar = (dispatch, value) =>\n  dispatch({ type: \"FIXED_NAVBAR\", value });\nconst setOpenConfigurator = (dispatch, value) =>\n  dispatch({ type: \"OPEN_CONFIGURATOR\", value });\nconst setDirection = (dispatch, value) =>\n  dispatch({ type: \"DIRECTION\", value });\nconst setLayout = (dispatch, value) => dispatch({ type: \"LAYOUT\", value });\nconst setDarkMode = (dispatch, value) => dispatch({ type: \"DARKMODE\", value });\nconst setSidebarOpen = (dispatch, value) =>\n  dispatch({ type: \"SIDEBAR_OPEN\", value });\nconst setSelectedCompanyName = (dispatch, value) =>\n  dispatch({ type: \"SET_SELECTED_COMPANY_NAME\", value });\n\nexport {\n  MaterialUIControllerProvider,\n  useMaterialUIController,\n  setMiniSidenav,\n  setTransparentSidenav,\n  setWhiteSidenav,\n  setSidenavColor,\n  setTransparentNavbar,\n  setFixedNavbar,\n  setOpenConfigurator,\n  setDirection,\n  setLayout,\n  setDarkMode,\n  setSidebarOpen,\n  setSelectedCompanyName\n};\n","size_bytes":4099},"BackEnd/src/utils/getHigherRoleUserRecurcievly.js":{"content":"import User from \"../models/User.js\";\n\nexport const getAllReportToUsers = async (userId, visited = new Set()) => {\n    if (visited.has(userId)) return [];\n    visited.add(userId);\n\n    const user = await User.findByPk(userId);\n    if (!user || !user.reportTo) return [];\n\n    const managerId = user.reportTo;\n    const higherUps = await getAllReportToUsers(managerId, visited);\n\n    return [managerId, ...higherUps];\n};\n","size_bytes":420},"qms-source/frontend-new/src/assets/theme/components/dialog/dialogContent.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme/base/typography\";\nimport borders from \"assets/theme/base/borders\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { size } = typography;\nconst { text } = colors;\nconst { borderWidth, borderColor } = borders;\n\nconst dialogContent = {\n  styleOverrides: {\n    root: {\n      padding: pxToRem(16),\n      fontSize: size.md,\n      color: text.main,\n    },\n\n    dividers: {\n      borderTop: `${borderWidth[1]} solid ${borderColor}`,\n      borderBottom: `${borderWidth[1]} solid ${borderColor}`,\n    },\n  },\n};\n\nexport default dialogContent;\n","size_bytes":1244},"frontend-new/src/assets/theme-dark/components/dialog/dialogTitle.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme-dark/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { size } = typography;\n\nconst dialogTitle = {\n  styleOverrides: {\n    root: {\n      padding: pxToRem(16),\n      fontSize: size.xl,\n    },\n  },\n};\n\nexport default dialogTitle;\n","size_bytes":914},"qms-source/frontend-new/src/assets/theme-dark/components/menu/menuItem.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport typography from \"assets/theme-dark/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { dark, white } = colors;\nconst { borderRadius } = borders;\nconst { size } = typography;\n\nconst menuItem = {\n  styleOverrides: {\n    root: {\n      minWidth: pxToRem(160),\n      minHeight: \"unset\",\n      padding: `${pxToRem(4.8)} ${pxToRem(16)}`,\n      borderRadius: borderRadius.md,\n      fontSize: size.sm,\n      color: rgba(white.main, 0.8),\n      transition: \"background-color 300ms ease, color 300ms ease\",\n\n      \"&:hover, &:focus, &.Mui-selected, &.Mui-selected:hover, &.Mui-selected:focus\": {\n        backgroundColor: dark.main,\n        color: white.main,\n      },\n    },\n  },\n};\n\nexport default menuItem;\n","size_bytes":1511},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"BackEnd/pnpm-lock.yaml":{"content":"lockfileVersion: '9.0'\n\nsettings:\n  autoInstallPeers: true\n  excludeLinksFromLockfile: false\n\nimporters:\n\n  .:\n    dependencies:\n      bcryptjs:\n        specifier: ^2.4.3\n        version: 2.4.3\n      body-parser:\n        specifier: ^1.20.3\n        version: 1.20.3\n      cors:\n        specifier: ^2.8.5\n        version: 2.8.5\n      date-fns:\n        specifier: ^4.1.0\n        version: 4.1.0\n      dotenv:\n        specifier: ^16.4.7\n        version: 16.4.7\n      exceljs:\n        specifier: ^4.4.0\n        version: 4.4.0\n      express:\n        specifier: ^4.21.2\n        version: 4.21.2\n      jsonwebtoken:\n        specifier: ^9.0.2\n        version: 9.0.2\n      multer:\n        specifier: ^1.4.5-lts.1\n        version: 1.4.5-lts.2\n      mysql2:\n        specifier: ^3.12.0\n        version: 3.14.0\n      nodemailer:\n        specifier: ^6.10.0\n        version: 6.10.0\n      sequelize:\n        specifier: ^6.37.5\n        version: 6.37.6(mysql2@3.14.0)\n      socket.io:\n        specifier: ^4.8.1\n        version: 4.8.1\n      socket.io-client:\n        specifier: ^4.8.1\n        version: 4.8.1\n      uuid:\n        specifier: ^11.1.0\n        version: 11.1.0\n\npackages:\n\n  '@fast-csv/format@4.3.5':\n    resolution: {integrity: sha512-8iRn6QF3I8Ak78lNAa+Gdl5MJJBM5vRHivFtMRUWINdevNo00K7OXxS2PshawLKTejVwieIlPmK5YlLu6w4u8A==}\n\n  '@fast-csv/parse@4.3.6':\n    resolution: {integrity: sha512-uRsLYksqpbDmWaSmzvJcuApSEe38+6NQZBUsuAyMZKqHxH0g1wcJgsKUvN3WC8tewaqFjBMMGrkHmC+T7k8LvA==}\n\n  '@socket.io/component-emitter@3.1.2':\n    resolution: {integrity: sha512-9BCxFwvbGg/RsZK9tjXd8s4UcwR0MWeFQ1XEKIQVVvAGJyINdrqKMcTRyLoK8Rse1GjzLV9cwjWV1olXRWEXVA==}\n\n  '@types/cors@2.8.17':\n    resolution: {integrity: sha512-8CGDvrBj1zgo2qE+oS3pOCyYNqCPryMWY2bGfwA0dcfopWGgxs+78df0Rs3rc9THP4JkOhLsAa+15VdpAqkcUA==}\n\n  '@types/debug@4.1.12':\n    resolution: {integrity: sha512-vIChWdVG3LG1SMxEvI/AK+FWJthlrqlTu7fbrlywTkkaONwk/UAGaULXRlf8vkzFBLVm0zkMdCquhL5aOjhXPQ==}\n\n  '@types/ms@2.1.0':\n    resolution: {integrity: sha512-GsCCIZDE/p3i96vtEqx+7dBUGXrc7zeSK3wwPHIaRThS+9OhWIXRqzs4d6k1SVU8g91DrNRWxWUGhp5KXQb2VA==}\n\n  '@types/node@14.18.63':\n    resolution: {integrity: sha512-fAtCfv4jJg+ExtXhvCkCqUKZ+4ok/JQk01qDKhL5BDDoS3AxKXhV5/MAVUZyQnSEd2GT92fkgZl0pz0Q0AzcIQ==}\n\n  '@types/node@22.13.13':\n    resolution: {integrity: sha512-ClsL5nMwKaBRwPcCvH8E7+nU4GxHVx1axNvMZTFHMEfNI7oahimt26P5zjVCRrjiIWj6YFXfE1v3dEp94wLcGQ==}\n\n  '@types/validator@13.12.3':\n    resolution: {integrity: sha512-2ipwZ2NydGQJImne+FhNdhgRM37e9lCev99KnqkbFHd94Xn/mErARWI1RSLem1QA19ch5kOhzIZd7e8CA2FI8g==}\n\n  accepts@1.3.8:\n    resolution: {integrity: sha512-PYAthTa2m2VKxuvSD3DPC/Gy+U+sOA1LAuT8mkmRuvw+NACSaeXEQ+NHcVF7rONl6qcaxV3Uuemwawk+7+SJLw==}\n    engines: {node: '>= 0.6'}\n\n  append-field@1.0.0:\n    resolution: {integrity: sha512-klpgFSWLW1ZEs8svjfb7g4qWY0YS5imI82dTg+QahUvJ8YqAY0P10Uk8tTyh9ZGuYEZEMaeJYCF5BFuX552hsw==}\n\n  archiver-utils@2.1.0:\n    resolution: {integrity: sha512-bEL/yUb/fNNiNTuUz979Z0Yg5L+LzLxGJz8x79lYmR54fmTIb6ob/hNQgkQnIUDWIFjZVQwl9Xs356I6BAMHfw==}\n    engines: {node: '>= 6'}\n\n  archiver-utils@3.0.4:\n    resolution: {integrity: sha512-KVgf4XQVrTjhyWmx6cte4RxonPLR9onExufI1jhvw/MQ4BB6IsZD5gT8Lq+u/+pRkWna/6JoHpiQioaqFP5Rzw==}\n    engines: {node: '>= 10'}\n\n  archiver@5.3.2:\n    resolution: {integrity: sha512-+25nxyyznAXF7Nef3y0EbBeqmGZgeN/BxHX29Rs39djAfaFalmQ89SE6CWyDCHzGL0yt/ycBtNOmGTW0FyGWNw==}\n    engines: {node: '>= 10'}\n\n  array-flatten@1.1.1:\n    resolution: {integrity: sha512-PCVAQswWemu6UdxsDFFX/+gVeYqKAod3D3UVm91jHwynguOwAvYPhx8nNlM++NqRcK6CxxpUafjmhIdKiHibqg==}\n\n  async@3.2.6:\n    resolution: {integrity: sha512-htCUDlxyyCLMgaM3xXg0C0LW2xqfuQ6p05pCEIsXuyQ+a1koYKTuBMzRNwmybfLgvJDMd0r1LTn4+E0Ti6C2AA==}\n\n  aws-ssl-profiles@1.1.2:\n    resolution: {integrity: sha512-NZKeq9AfyQvEeNlN0zSYAaWrmBffJh3IELMZfRpJVWgrpEbtEpnjvzqBPf+mxoI287JohRDoa+/nsfqqiZmF6g==}\n    engines: {node: '>= 6.0.0'}\n\n  balanced-match@1.0.2:\n    resolution: {integrity: sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==}\n\n  base64-js@1.5.1:\n    resolution: {integrity: sha512-AKpaYlHn8t4SVbOHCy+b5+KKgvR4vrsD8vbvrbiQJps7fKDTkjkDry6ji0rUJjC0kzbNePLwzxq8iypo41qeWA==}\n\n  base64id@2.0.0:\n    resolution: {integrity: sha512-lGe34o6EHj9y3Kts9R4ZYs/Gr+6N7MCaMlIFA3F1R2O5/m7K06AxfSeO5530PEERE6/WyEg3lsuyw4GHlPZHog==}\n    engines: {node: ^4.5.0 || >= 5.9}\n\n  bcryptjs@2.4.3:\n    resolution: {integrity: sha512-V/Hy/X9Vt7f3BbPJEi8BdVFMByHi+jNXrYkW3huaybV/kQ0KJg0Y6PkEMbn+zeT+i+SiKZ/HMqJGIIt4LZDqNQ==}\n\n  big-integer@1.6.52:\n    resolution: {integrity: sha512-QxD8cf2eVqJOOz63z6JIN9BzvVs/dlySa5HGSBH5xtR8dPteIRQnBxxKqkNTiT6jbDTF6jAfrd4oMcND9RGbQg==}\n    engines: {node: '>=0.6'}\n\n  binary@0.3.0:\n    resolution: {integrity: sha512-D4H1y5KYwpJgK8wk1Cue5LLPgmwHKYSChkbspQg5JtVuR5ulGckxfR62H3AE9UDkdMC8yyXlqYihuz3Aqg2XZg==}\n\n  bl@4.1.0:\n    resolution: {integrity: sha512-1W07cM9gS6DcLperZfFSj+bWLtaPGSOHWhPiGzXmvVJbRLdG82sH/Kn8EtW1VqWVA54AKf2h5k5BbnIbwF3h6w==}\n\n  bluebird@3.4.7:\n    resolution: {integrity: sha512-iD3898SR7sWVRHbiQv+sHUtHnMvC1o3nW5rAcqnq3uOn07DSAppZYUkIGslDz6gXC7HfunPe7YVBgoEJASPcHA==}\n\n  body-parser@1.20.3:\n    resolution: {integrity: sha512-7rAxByjUMqQ3/bHJy7D6OGXvx/MMc4IqBn/X0fcM1QUcAItpZrBEYhWGem+tzXH90c+G01ypMcYJBO9Y30203g==}\n    engines: {node: '>= 0.8', npm: 1.2.8000 || >= 1.4.16}\n\n  brace-expansion@1.1.11:\n    resolution: {integrity: sha512-iCuPHDFgrHX7H2vEI/5xpz07zSHB00TpugqhmYtVmMO6518mCuRMoOYFldEBl0g187ufozdaHgWKcYFb61qGiA==}\n\n  brace-expansion@2.0.1:\n    resolution: {integrity: sha512-XnAIvQ8eM+kC6aULx6wuQiwVsnzsi9d3WxzV3FpWTGA19F621kwdbsAcFKXgKUHZWsy+mY6iL1sHTxWEFCytDA==}\n\n  buffer-crc32@0.2.13:\n    resolution: {integrity: sha512-VO9Ht/+p3SN7SKWqcrgEzjGbRSJYTx+Q1pTQC0wrWqHx0vpJraQ6GtHx8tvcg1rlK1byhU5gccxgOgj7B0TDkQ==}\n\n  buffer-equal-constant-time@1.0.1:\n    resolution: {integrity: sha512-zRpUiDwd/xk6ADqPMATG8vc9VPrkck7T07OIx0gnjmJAnHnTVXNQG3vfvWNuiZIkwu9KrKdA1iJKfsfTVxE6NA==}\n\n  buffer-from@1.1.2:\n    resolution: {integrity: sha512-E+XQCRwSbaaiChtv6k6Dwgc+bx+Bs6vuKJHHl5kox/BaKbhiXzqQOwK4cO22yElGp2OCmjwVhT3HmxgyPGnJfQ==}\n\n  buffer-indexof-polyfill@1.0.2:\n    resolution: {integrity: sha512-I7wzHwA3t1/lwXQh+A5PbNvJxgfo5r3xulgpYDB5zckTu/Z9oUK9biouBKQUjEqzaz3HnAT6TYoovmE+GqSf7A==}\n    engines: {node: '>=0.10'}\n\n  buffer@5.7.1:\n    resolution: {integrity: sha512-EHcyIPBQ4BSGlvjB16k5KgAJ27CIsHY/2JBmCRReo48y9rQ3MaUzWX3KVlBa4U7MyX02HdVj0K7C3WaB3ju7FQ==}\n\n  buffers@0.1.1:\n    resolution: {integrity: sha512-9q/rDEGSb/Qsvv2qvzIzdluL5k7AaJOTrw23z9reQthrbF7is4CtlT0DXyO1oei2DCp4uojjzQ7igaSHp1kAEQ==}\n    engines: {node: '>=0.2.0'}\n\n  busboy@1.6.0:\n    resolution: {integrity: sha512-8SFQbg/0hQ9xy3UNTB0YEnsNBbWfhf7RtnzpL7TkBiTBRfrQ9Fxcnz7VJsleJpyp6rVLvXiuORqjlHi5q+PYuA==}\n    engines: {node: '>=10.16.0'}\n\n  bytes@3.1.2:\n    resolution: {integrity: sha512-/Nf7TyzTx6S3yRJObOAV7956r8cr2+Oj8AC5dt8wSP3BQAoeX58NoHyCU8P8zGkNXStjTSi6fzO6F0pBdcYbEg==}\n    engines: {node: '>= 0.8'}\n\n  call-bind-apply-helpers@1.0.2:\n    resolution: {integrity: sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ==}\n    engines: {node: '>= 0.4'}\n\n  call-bound@1.0.4:\n    resolution: {integrity: sha512-+ys997U96po4Kx/ABpBCqhA9EuxJaQWDQg7295H4hBphv3IZg0boBKuwYpt4YXp6MZ5AmZQnU/tyMTlRpaSejg==}\n    engines: {node: '>= 0.4'}\n\n  chainsaw@0.1.0:\n    resolution: {integrity: sha512-75kWfWt6MEKNC8xYXIdRpDehRYY/tNSgwKaJq+dbbDcxORuVrrQ+SEHoWsniVn9XPYfP4gmdWIeDk/4YNp1rNQ==}\n\n  compress-commons@4.1.2:\n    resolution: {integrity: sha512-D3uMHtGc/fcO1Gt1/L7i1e33VOvD4A9hfQLP+6ewd+BvG/gQ84Yh4oftEhAdjSMgBgwGL+jsppT7JYNpo6MHHg==}\n    engines: {node: '>= 10'}\n\n  concat-map@0.0.1:\n    resolution: {integrity: sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==}\n\n  concat-stream@1.6.2:\n    resolution: {integrity: sha512-27HBghJxjiZtIk3Ycvn/4kbJk/1uZuJFfuPEns6LaEvpvG1f0hTea8lilrouyo9mVc2GWdcEZ8OLoGmSADlrCw==}\n    engines: {'0': node >= 0.8}\n\n  content-disposition@0.5.4:\n    resolution: {integrity: sha512-FveZTNuGw04cxlAiWbzi6zTAL/lhehaWbTtgluJh4/E95DqMwTmha3KZN1aAWA8cFIhHzMZUvLevkw5Rqk+tSQ==}\n    engines: {node: '>= 0.6'}\n\n  content-type@1.0.5:\n    resolution: {integrity: sha512-nTjqfcBFEipKdXCv4YDQWCfmcLZKm81ldF0pAopTvyrFGVbcR6P/VAAd5G7N+0tTr8QqiU0tFadD6FK4NtJwOA==}\n    engines: {node: '>= 0.6'}\n\n  cookie-signature@1.0.6:\n    resolution: {integrity: sha512-QADzlaHc8icV8I7vbaJXJwod9HWYp8uCqf1xa4OfNu1T7JVxQIrUgOWtHdNDtPiywmFbiS12VjotIXLrKM3orQ==}\n\n  cookie@0.7.1:\n    resolution: {integrity: sha512-6DnInpx7SJ2AK3+CTUE/ZM0vWTUboZCegxhC2xiIydHR9jNuTAASBrfEpHhiGOZw/nX51bHt6YQl8jsGo4y/0w==}\n    engines: {node: '>= 0.6'}\n\n  cookie@0.7.2:\n    resolution: {integrity: sha512-yki5XnKuf750l50uGTllt6kKILY4nQ1eNIQatoXEByZ5dWgnKqbnqmTrBE5B4N7lrMJKQ2ytWMiTO2o0v6Ew/w==}\n    engines: {node: '>= 0.6'}\n\n  core-util-is@1.0.3:\n    resolution: {integrity: sha512-ZQBvi1DcpJ4GDqanjucZ2Hj3wEO5pZDS89BWbkcrvdxksJorwUDDZamX9ldFkp9aw2lmBDLgkObEA4DWNJ9FYQ==}\n\n  cors@2.8.5:\n    resolution: {integrity: sha512-KIHbLJqu73RGr/hnbrO9uBeixNGuvSQjul/jdFvS/KFSIH1hWVd1ng7zOHx+YrEfInLG7q4n6GHQ9cDtxv/P6g==}\n    engines: {node: '>= 0.10'}\n\n  crc-32@1.2.2:\n    resolution: {integrity: sha512-ROmzCKrTnOwybPcJApAA6WBWij23HVfGVNKqqrZpuyZOHqK2CwHSvpGuyt/UNNvaIjEd8X5IFGp4Mh+Ie1IHJQ==}\n    engines: {node: '>=0.8'}\n    hasBin: true\n\n  crc32-stream@4.0.3:\n    resolution: {integrity: sha512-NT7w2JVU7DFroFdYkeq8cywxrgjPHWkdX1wjpRQXPX5Asews3tA+Ght6lddQO5Mkumffp3X7GEqku3epj2toIw==}\n    engines: {node: '>= 10'}\n\n  date-fns@4.1.0:\n    resolution: {integrity: sha512-Ukq0owbQXxa/U3EGtsdVBkR1w7KOQ5gIBqdH2hkvknzZPYvBxb/aa6E8L7tmjFtkwZBu3UXBbjIgPo/Ez4xaNg==}\n\n  dayjs@1.11.13:\n    resolution: {integrity: sha512-oaMBel6gjolK862uaPQOVTA7q3TZhuSvuMQAAglQDOWYO9A91IrAOUJEyKVlqJlHE0vq5p5UXxzdPfMH/x6xNg==}\n\n  debug@2.6.9:\n    resolution: {integrity: sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==}\n    peerDependencies:\n      supports-color: '*'\n    peerDependenciesMeta:\n      supports-color:\n        optional: true\n\n  debug@4.3.7:\n    resolution: {integrity: sha512-Er2nc/H7RrMXZBFCEim6TCmMk02Z8vLC2Rbi1KEBggpo0fS6l0S1nnapwmIi3yW/+GOJap1Krg4w0Hg80oCqgQ==}\n    engines: {node: '>=6.0'}\n    peerDependencies:\n      supports-color: '*'\n    peerDependenciesMeta:\n      supports-color:\n        optional: true\n\n  debug@4.4.0:\n    resolution: {integrity: sha512-6WTZ/IxCY/T6BALoZHaE4ctp9xm+Z5kY/pzYaCHRFeyVhojxlrm+46y68HA6hr0TcwEssoxNiDEUJQjfPZ/RYA==}\n    engines: {node: '>=6.0'}\n    peerDependencies:\n      supports-color: '*'\n    peerDependenciesMeta:\n      supports-color:\n        optional: true\n\n  denque@2.1.0:\n    resolution: {integrity: sha512-HVQE3AAb/pxF8fQAoiqpvg9i3evqug3hoiwakOyZAwJm+6vZehbkYXZ0l4JxS+I3QxM97v5aaRNhj8v5oBhekw==}\n    engines: {node: '>=0.10'}\n\n  depd@2.0.0:\n    resolution: {integrity: sha512-g7nH6P6dyDioJogAAGprGpCtVImJhpPk/roCzdb3fIh61/s/nPsfR6onyMwkCAR/OlC3yBC0lESvUoQEAssIrw==}\n    engines: {node: '>= 0.8'}\n\n  destroy@1.2.0:\n    resolution: {integrity: sha512-2sJGJTaXIIaR1w4iJSNoN0hnMY7Gpc/n8D4qSCJw8QqFWXf7cuAgnEHxBpweaVcPevC2l3KpjYCx3NypQQgaJg==}\n    engines: {node: '>= 0.8', npm: 1.2.8000 || >= 1.4.16}\n\n  dotenv@16.4.7:\n    resolution: {integrity: sha512-47qPchRCykZC03FhkYAhrvwU4xDBFIj1QPqaarj6mdM/hgUzfPHcpkHJOn3mJAufFeeAxAzeGsr5X0M4k6fLZQ==}\n    engines: {node: '>=12'}\n\n  dottie@2.0.6:\n    resolution: {integrity: sha512-iGCHkfUc5kFekGiqhe8B/mdaurD+lakO9txNnTvKtA6PISrw86LgqHvRzWYPyoE2Ph5aMIrCw9/uko6XHTKCwA==}\n\n  dunder-proto@1.0.1:\n    resolution: {integrity: sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A==}\n    engines: {node: '>= 0.4'}\n\n  duplexer2@0.1.4:\n    resolution: {integrity: sha512-asLFVfWWtJ90ZyOUHMqk7/S2w2guQKxUI2itj3d92ADHhxUSbCMGi1f1cBcJ7xM1To+pE/Khbwo1yuNbMEPKeA==}\n\n  ecdsa-sig-formatter@1.0.11:\n    resolution: {integrity: sha512-nagl3RYrbNv6kQkeJIpt6NJZy8twLB/2vtz6yN9Z4vRKHN4/QZJIEbqohALSgwKdnksuY3k5Addp5lg8sVoVcQ==}\n\n  ee-first@1.1.1:\n    resolution: {integrity: sha512-WMwm9LhRUo+WUaRN+vRuETqG89IgZphVSNkdFgeb6sS/E4OrDIN7t48CAewSHXc6C8lefD8KKfr5vY61brQlow==}\n\n  encodeurl@1.0.2:\n    resolution: {integrity: sha512-TPJXq8JqFaVYm2CWmPvnP2Iyo4ZSM7/QKcSmuMLDObfpH5fi7RUGmd/rTDf+rut/saiDiQEeVTNgAmJEdAOx0w==}\n    engines: {node: '>= 0.8'}\n\n  encodeurl@2.0.0:\n    resolution: {integrity: sha512-Q0n9HRi4m6JuGIV1eFlmvJB7ZEVxu93IrMyiMsGC0lrMJMWzRgx6WGquyfQgZVb31vhGgXnfmPNNXmxnOkRBrg==}\n    engines: {node: '>= 0.8'}\n\n  end-of-stream@1.4.4:\n    resolution: {integrity: sha512-+uw1inIHVPQoaVuHzRyXd21icM+cnt4CzD5rW+NC1wjOUSTOs+Te7FOv7AhN7vS9x/oIyhLP5PR1H+phQAHu5Q==}\n\n  engine.io-client@6.6.3:\n    resolution: {integrity: sha512-T0iLjnyNWahNyv/lcjS2y4oE358tVS/SYQNxYXGAJ9/GLgH4VCvOQ/mhTjqU88mLZCQgiG8RIegFHYCdVC+j5w==}\n\n  engine.io-parser@5.2.3:\n    resolution: {integrity: sha512-HqD3yTBfnBxIrbnM1DoD6Pcq8NECnh8d4As1Qgh0z5Gg3jRRIqijury0CL3ghu/edArpUYiYqQiDUQBIs4np3Q==}\n    engines: {node: '>=10.0.0'}\n\n  engine.io@6.6.4:\n    resolution: {integrity: sha512-ZCkIjSYNDyGn0R6ewHDtXgns/Zre/NT6Agvq1/WobF7JXgFff4SeDroKiCO3fNJreU9YG429Sc81o4w5ok/W5g==}\n    engines: {node: '>=10.2.0'}\n\n  es-define-property@1.0.1:\n    resolution: {integrity: sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==}\n    engines: {node: '>= 0.4'}\n\n  es-errors@1.3.0:\n    resolution: {integrity: sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==}\n    engines: {node: '>= 0.4'}\n\n  es-object-atoms@1.1.1:\n    resolution: {integrity: sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==}\n    engines: {node: '>= 0.4'}\n\n  escape-html@1.0.3:\n    resolution: {integrity: sha512-NiSupZ4OeuGwr68lGIeym/ksIZMJodUGOSCZ/FSnTxcrekbvqrgdUxlJOMpijaKZVjAJrWrGs/6Jy8OMuyj9ow==}\n\n  etag@1.8.1:\n    resolution: {integrity: sha512-aIL5Fx7mawVa300al2BnEE4iNvo1qETxLrPI/o05L7z6go7fCw1J6EQmbK4FmJ2AS7kgVF/KEZWufBfdClMcPg==}\n    engines: {node: '>= 0.6'}\n\n  exceljs@4.4.0:\n    resolution: {integrity: sha512-XctvKaEMaj1Ii9oDOqbW/6e1gXknSY4g/aLCDicOXqBE4M0nRWkUu0PTp++UPNzoFY12BNHMfs/VadKIS6llvg==}\n    engines: {node: '>=8.3.0'}\n\n  express@4.21.2:\n    resolution: {integrity: sha512-28HqgMZAmih1Czt9ny7qr6ek2qddF4FclbMzwhCREB6OFfH+rXAnuNCwo1/wFvrtbgsQDb4kSbX9de9lFbrXnA==}\n    engines: {node: '>= 0.10.0'}\n\n  fast-csv@4.3.6:\n    resolution: {integrity: sha512-2RNSpuwwsJGP0frGsOmTb9oUF+VkFSM4SyLTDgwf2ciHWTarN0lQTC+F2f/t5J9QjW+c65VFIAAu85GsvMIusw==}\n    engines: {node: '>=10.0.0'}\n\n  finalhandler@1.3.1:\n    resolution: {integrity: sha512-6BN9trH7bp3qvnrRyzsBz+g3lZxTNZTbVO2EV1CS0WIcDbawYVdYvGflME/9QP0h0pYlCDBCTjYa9nZzMDpyxQ==}\n    engines: {node: '>= 0.8'}\n\n  forwarded@0.2.0:\n    resolution: {integrity: sha512-buRG0fpBtRHSTCOASe6hD258tEubFoRLb4ZNA6NxMVHNw2gOcwHo9wyablzMzOA5z9xA9L1KNjk/Nt6MT9aYow==}\n    engines: {node: '>= 0.6'}\n\n  fresh@0.5.2:\n    resolution: {integrity: sha512-zJ2mQYM18rEFOudeV4GShTGIQ7RbzA7ozbU9I/XBpm7kqgMywgmylMwXHxZJmkVoYkna9d2pVXVXPdYTP9ej8Q==}\n    engines: {node: '>= 0.6'}\n\n  fs-constants@1.0.0:\n    resolution: {integrity: sha512-y6OAwoSIf7FyjMIv94u+b5rdheZEjzR63GTyZJm5qh4Bi+2YgwLCcI/fPFZkL5PSixOt6ZNKm+w+Hfp/Bciwow==}\n\n  fs.realpath@1.0.0:\n    resolution: {integrity: sha512-OO0pH2lK6a0hZnAdau5ItzHPI6pUlvI7jMVnxUQRtw4owF2wk8lOSabtGDCTP4Ggrg2MbGnWO9X8K1t4+fGMDw==}\n\n  fstream@1.0.12:\n    resolution: {integrity: sha512-WvJ193OHa0GHPEL+AycEJgxvBEwyfRkN1vhjca23OaPVMCaLCXTd5qAu82AjTcgP1UJmytkOKb63Ypde7raDIg==}\n    engines: {node: '>=0.6'}\n    deprecated: This package is no longer supported.\n\n  function-bind@1.1.2:\n    resolution: {integrity: sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==}\n\n  generate-function@2.3.1:\n    resolution: {integrity: sha512-eeB5GfMNeevm/GRYq20ShmsaGcmI81kIX2K9XQx5miC8KdHaC6Jm0qQ8ZNeGOi7wYB8OsdxKs+Y2oVuTFuVwKQ==}\n\n  get-intrinsic@1.3.0:\n    resolution: {integrity: sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ==}\n    engines: {node: '>= 0.4'}\n\n  get-proto@1.0.1:\n    resolution: {integrity: sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g==}\n    engines: {node: '>= 0.4'}\n\n  glob@7.2.3:\n    resolution: {integrity: sha512-nFR0zLpU2YCaRxwoCJvL6UvCH2JFyFVIvwTLsIf21AuHlMskA1hhTdk+LlYJtOlYt9v6dvszD2BGRqBL+iQK9Q==}\n    deprecated: Glob versions prior to v9 are no longer supported\n\n  gopd@1.2.0:\n    resolution: {integrity: sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==}\n    engines: {node: '>= 0.4'}\n\n  graceful-fs@4.2.11:\n    resolution: {integrity: sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==}\n\n  has-symbols@1.1.0:\n    resolution: {integrity: sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ==}\n    engines: {node: '>= 0.4'}\n\n  hasown@2.0.2:\n    resolution: {integrity: sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==}\n    engines: {node: '>= 0.4'}\n\n  http-errors@2.0.0:\n    resolution: {integrity: sha512-FtwrG/euBzaEjYeRqOgly7G0qviiXoJWnvEH2Z1plBdXgbyjv34pHTSb9zoeHMyDy33+DWy5Wt9Wo+TURtOYSQ==}\n    engines: {node: '>= 0.8'}\n\n  iconv-lite@0.4.24:\n    resolution: {integrity: sha512-v3MXnZAcvnywkTUEZomIActle7RXXeedOR31wwl7VlyoXO4Qi9arvSenNQWne1TcRwhCL1HwLI21bEqdpj8/rA==}\n    engines: {node: '>=0.10.0'}\n\n  iconv-lite@0.6.3:\n    resolution: {integrity: sha512-4fCk79wshMdzMp2rH06qWrJE4iolqLhCUH+OiuIgU++RB0+94NlDL81atO7GX55uUKueo0txHNtvEyI6D7WdMw==}\n    engines: {node: '>=0.10.0'}\n\n  ieee754@1.2.1:\n    resolution: {integrity: sha512-dcyqhDvX1C46lXZcVqCpK+FtMRQVdIMN6/Df5js2zouUsqG7I6sFxitIC+7KYK29KdXOLHdu9zL4sFnoVQnqaA==}\n\n  immediate@3.0.6:\n    resolution: {integrity: sha512-XXOFtyqDjNDAQxVfYxuF7g9Il/IbWmmlQg2MYKOH8ExIT1qg6xc4zyS3HaEEATgs1btfzxq15ciUiY7gjSXRGQ==}\n\n  inflection@1.13.4:\n    resolution: {integrity: sha512-6I/HUDeYFfuNCVS3td055BaXBwKYuzw7K3ExVMStBowKo9oOAMJIXIHvdyR3iboTCp1b+1i5DSkIZTcwIktuDw==}\n    engines: {'0': node >= 0.4.0}\n\n  inflight@1.0.6:\n    resolution: {integrity: sha512-k92I/b08q4wvFscXCLvqfsHCrjrF7yiXsQuIVvVE7N82W3+aqpzuUdBbfhWcy/FZR3/4IgflMgKLOsvPDrGCJA==}\n    deprecated: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.\n\n  inherits@2.0.4:\n    resolution: {integrity: sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==}\n\n  ipaddr.js@1.9.1:\n    resolution: {integrity: sha512-0KI/607xoxSToH7GjN1FfSbLoU0+btTicjsQSWQlh/hZykN8KpmMf7uYwPW3R+akZ6R/w18ZlXSHBYXiYUPO3g==}\n    engines: {node: '>= 0.10'}\n\n  is-property@1.0.2:\n    resolution: {integrity: sha512-Ks/IoX00TtClbGQr4TWXemAnktAQvYB7HzcCxDGqEZU6oCmb2INHuOoKxbtR+HFkmYWBKv/dOZtGRiAjDhj92g==}\n\n  isarray@1.0.0:\n    resolution: {integrity: sha512-VLghIWNM6ELQzo7zwmcg0NmTVyWKYjvIeM83yjp0wRDTmUnrM678fQbcKBo6n2CJEF0szoG//ytg+TKla89ALQ==}\n\n  jsonwebtoken@9.0.2:\n    resolution: {integrity: sha512-PRp66vJ865SSqOlgqS8hujT5U4AOgMfhrwYIuIhfKaoSCZcirrmASQr8CX7cUg+RMih+hgznrjp99o+W4pJLHQ==}\n    engines: {node: '>=12', npm: '>=6'}\n\n  jszip@3.10.1:\n    resolution: {integrity: sha512-xXDvecyTpGLrqFrvkrUSoxxfJI5AH7U8zxxtVclpsUtMCq4JQ290LY8AW5c7Ggnr/Y/oK+bQMbqK2qmtk3pN4g==}\n\n  jwa@1.4.1:\n    resolution: {integrity: sha512-qiLX/xhEEFKUAJ6FiBMbes3w9ATzyk5W7Hvzpa/SLYdxNtng+gcurvrI7TbACjIXlsJyr05/S1oUhZrc63evQA==}\n\n  jws@3.2.2:\n    resolution: {integrity: sha512-YHlZCB6lMTllWDtSPHz/ZXTsi8S00usEV6v1tjq8tOUZzw7DpSDWVXjXDre6ed1w/pd495ODpHZYSdkRTsa0HA==}\n\n  lazystream@1.0.1:\n    resolution: {integrity: sha512-b94GiNHQNy6JNTrt5w6zNyffMrNkXZb3KTkCZJb2V1xaEGCk093vkZ2jk3tpaeP33/OiXC+WvK9AxUebnf5nbw==}\n    engines: {node: '>= 0.6.3'}\n\n  lie@3.3.0:\n    resolution: {integrity: sha512-UaiMJzeWRlEujzAuw5LokY1L5ecNQYZKfmyZ9L7wDHb/p5etKaxXhohBcrw0EYby+G/NA52vRSN4N39dxHAIwQ==}\n\n  listenercount@1.0.1:\n    resolution: {integrity: sha512-3mk/Zag0+IJxeDrxSgaDPy4zZ3w05PRZeJNnlWhzFz5OkX49J4krc+A8X2d2M69vGMBEX0uyl8M+W+8gH+kBqQ==}\n\n  lodash.defaults@4.2.0:\n    resolution: {integrity: sha512-qjxPLHd3r5DnsdGacqOMU6pb/avJzdh9tFX2ymgoZE27BmjXrNy/y4LoaiTeAb+O3gL8AfpJGtqfX/ae2leYYQ==}\n\n  lodash.difference@4.5.0:\n    resolution: {integrity: sha512-dS2j+W26TQ7taQBGN8Lbbq04ssV3emRw4NY58WErlTO29pIqS0HmoT5aJ9+TUQ1N3G+JOZSji4eugsWwGp9yPA==}\n\n  lodash.escaperegexp@4.1.2:\n    resolution: {integrity: sha512-TM9YBvyC84ZxE3rgfefxUWiQKLilstD6k7PTGt6wfbtXF8ixIJLOL3VYyV/z+ZiPLsVxAsKAFVwWlWeb2Y8Yyw==}\n\n  lodash.flatten@4.4.0:\n    resolution: {integrity: sha512-C5N2Z3DgnnKr0LOpv/hKCgKdb7ZZwafIrsesve6lmzvZIRZRGaZ/l6Q8+2W7NaT+ZwO3fFlSCzCzrDCFdJfZ4g==}\n\n  lodash.groupby@4.6.0:\n    resolution: {integrity: sha512-5dcWxm23+VAoz+awKmBaiBvzox8+RqMgFhi7UvX9DHZr2HdxHXM/Wrf8cfKpsW37RNrvtPn6hSwNqurSILbmJw==}\n\n  lodash.includes@4.3.0:\n    resolution: {integrity: sha512-W3Bx6mdkRTGtlJISOvVD/lbqjTlPPUDTMnlXZFnVwi9NKJ6tiAk6LVdlhZMm17VZisqhKcgzpO5Wz91PCt5b0w==}\n\n  lodash.isboolean@3.0.3:\n    resolution: {integrity: sha512-Bz5mupy2SVbPHURB98VAcw+aHh4vRV5IPNhILUCsOzRmsTmSQ17jIuqopAentWoehktxGd9e/hbIXq980/1QJg==}\n\n  lodash.isequal@4.5.0:\n    resolution: {integrity: sha512-pDo3lu8Jhfjqls6GkMgpahsF9kCyayhgykjyLMNFTKWrpVdAQtYyB4muAMWozBB4ig/dtWAmsMxLEI8wuz+DYQ==}\n    deprecated: This package is deprecated. Use require('node:util').isDeepStrictEqual instead.\n\n  lodash.isfunction@3.0.9:\n    resolution: {integrity: sha512-AirXNj15uRIMMPihnkInB4i3NHeb4iBtNg9WRWuK2o31S+ePwwNmDPaTL3o7dTJ+VXNZim7rFs4rxN4YU1oUJw==}\n\n  lodash.isinteger@4.0.4:\n    resolution: {integrity: sha512-DBwtEWN2caHQ9/imiNeEA5ys1JoRtRfY3d7V9wkqtbycnAmTvRRmbHKDV4a0EYc678/dia0jrte4tjYwVBaZUA==}\n\n  lodash.isnil@4.0.0:\n    resolution: {integrity: sha512-up2Mzq3545mwVnMhTDMdfoG1OurpA/s5t88JmQX809eH3C8491iu2sfKhTfhQtKY78oPNhiaHJUpT/dUDAAtng==}\n\n  lodash.isnumber@3.0.3:\n    resolution: {integrity: sha512-QYqzpfwO3/CWf3XP+Z+tkQsfaLL/EnUlXWVkIk5FUPc4sBdTehEqZONuyRt2P67PXAk+NXmTBcc97zw9t1FQrw==}\n\n  lodash.isplainobject@4.0.6:\n    resolution: {integrity: sha512-oSXzaWypCMHkPC3NvBEaPHf0KsA5mvPrOPgQWDsbg8n7orZ290M0BmC/jgRZ4vcJ6DTAhjrsSYgdsW/F+MFOBA==}\n\n  lodash.isstring@4.0.1:\n    resolution: {integrity: sha512-0wJxfxH1wgO3GrbuP+dTTk7op+6L41QCXbGINEmD+ny/G/eCqGzxyCsh7159S+mgDDcoarnBw6PC1PS5+wUGgw==}\n\n  lodash.isundefined@3.0.1:\n    resolution: {integrity: sha512-MXB1is3s899/cD8jheYYE2V9qTHwKvt+npCwpD+1Sxm3Q3cECXCiYHjeHWXNwr6Q0SOBPrYUDxendrO6goVTEA==}\n\n  lodash.once@4.1.1:\n    resolution: {integrity: sha512-Sb487aTOCr9drQVL8pIxOzVhafOjZN9UU54hiN8PU3uAiSV7lx1yYNpbNmex2PK6dSJoNTSJUUswT651yww3Mg==}\n\n  lodash.union@4.6.0:\n    resolution: {integrity: sha512-c4pB2CdGrGdjMKYLA+XiRDO7Y0PRQbm/Gzg8qMj+QH+pFVAoTp5sBpO0odL3FjoPCGjK96p6qsP+yQoiLoOBcw==}\n\n  lodash.uniq@4.5.0:\n    resolution: {integrity: sha512-xfBaXQd9ryd9dlSDvnvI0lvxfLJlYAZzXomUYzLKtUeOQvOP5piqAWuGtrhWeqaXK9hhoM/iyJc5AV+XfsX3HQ==}\n\n  lodash@4.17.21:\n    resolution: {integrity: sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==}\n\n  long@5.3.1:\n    resolution: {integrity: sha512-ka87Jz3gcx/I7Hal94xaN2tZEOPoUOEVftkQqZx2EeQRN7LGdfLlI3FvZ+7WDplm+vK2Urx9ULrvSowtdCieng==}\n\n  lru-cache@7.18.3:\n    resolution: {integrity: sha512-jumlc0BIUrS3qJGgIkWZsyfAM7NCWiBcCDhnd+3NNM5KbBmLTgHVfWBcg6W+rLUsIpzpERPsvwUP7CckAQSOoA==}\n    engines: {node: '>=12'}\n\n  lru.min@1.1.2:\n    resolution: {integrity: sha512-Nv9KddBcQSlQopmBHXSsZVY5xsdlZkdH/Iey0BlcBYggMd4two7cZnKOK9vmy3nY0O5RGH99z1PCeTpPqszUYg==}\n    engines: {bun: '>=1.0.0', deno: '>=1.30.0', node: '>=8.0.0'}\n\n  math-intrinsics@1.1.0:\n    resolution: {integrity: sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g==}\n    engines: {node: '>= 0.4'}\n\n  media-typer@0.3.0:\n    resolution: {integrity: sha512-dq+qelQ9akHpcOl/gUVRTxVIOkAJ1wR3QAvb4RsVjS8oVoFjDGTc679wJYmUmknUF5HwMLOgb5O+a3KxfWapPQ==}\n    engines: {node: '>= 0.6'}\n\n  merge-descriptors@1.0.3:\n    resolution: {integrity: sha512-gaNvAS7TZ897/rVaZ0nMtAyxNyi/pdbjbAwUpFQpN70GqnVfOiXpeUUMKRBmzXaSQ8DdTX4/0ms62r2K+hE6mQ==}\n\n  methods@1.1.2:\n    resolution: {integrity: sha512-iclAHeNqNm68zFtnZ0e+1L2yUIdvzNoauKU4WBA3VvH/vPFieF7qfRlwUZU+DA9P9bPXIS90ulxoUoCH23sV2w==}\n    engines: {node: '>= 0.6'}\n\n  mime-db@1.52.0:\n    resolution: {integrity: sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==}\n    engines: {node: '>= 0.6'}\n\n  mime-types@2.1.35:\n    resolution: {integrity: sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==}\n    engines: {node: '>= 0.6'}\n\n  mime@1.6.0:\n    resolution: {integrity: sha512-x0Vn8spI+wuJ1O6S7gnbaQg8Pxh4NNHb7KSINmEWKiPE4RKOplvijn+NkmYmmRgP68mc70j2EbeTFRsrswaQeg==}\n    engines: {node: '>=4'}\n    hasBin: true\n\n  minimatch@3.1.2:\n    resolution: {integrity: sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==}\n\n  minimatch@5.1.6:\n    resolution: {integrity: sha512-lKwV/1brpG6mBUFHtb7NUmtABCb2WZZmm2wNiOA5hAb8VdCS4B3dtMWyvcoViccwAW/COERjXLt0zP1zXUN26g==}\n    engines: {node: '>=10'}\n\n  minimist@1.2.8:\n    resolution: {integrity: sha512-2yyAR8qBkN3YuheJanUpWC5U3bb5osDywNB8RzDVlDwDHbocAJveqqj1u8+SVD7jkWT4yvsHCpWqqWqAxb0zCA==}\n\n  mkdirp@0.5.6:\n    resolution: {integrity: sha512-FP+p8RB8OWpF3YZBCrP5gtADmtXApB5AMLn+vdyA+PyxCjrCs00mjyUozssO33cwDeT3wNGdLxJ5M//YqtHAJw==}\n    hasBin: true\n\n  moment-timezone@0.5.48:\n    resolution: {integrity: sha512-f22b8LV1gbTO2ms2j2z13MuPogNoh5UzxL3nzNAYKGraILnbGc9NEE6dyiiiLv46DGRb8A4kg8UKWLjPthxBHw==}\n\n  moment@2.30.1:\n    resolution: {integrity: sha512-uEmtNhbDOrWPFS+hdjFCBfy9f2YoyzRpwcl+DqpC6taX21FzsTLQVbMV/W7PzNSX6x/bhC1zA3c2UQ5NzH6how==}\n\n  ms@2.0.0:\n    resolution: {integrity: sha512-Tpp60P6IUJDTuOq/5Z8cdskzJujfwqfOTkrwIwj7IRISpnkJnT6SyJ4PCPnGMoFjC9ddhal5KVIYtAt97ix05A==}\n\n  ms@2.1.3:\n    resolution: {integrity: sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==}\n\n  multer@1.4.5-lts.2:\n    resolution: {integrity: sha512-VzGiVigcG9zUAoCNU+xShztrlr1auZOlurXynNvO9GiWD1/mTBbUljOKY+qMeazBqXgRnjzeEgJI/wyjJUHg9A==}\n    engines: {node: '>= 6.0.0'}\n\n  mysql2@3.14.0:\n    resolution: {integrity: sha512-8eMhmG6gt/hRkU1G+8KlGOdQi2w+CgtNoD1ksXZq9gQfkfDsX4LHaBwTe1SY0Imx//t2iZA03DFnyYKPinxSRw==}\n    engines: {node: '>= 8.0'}\n\n  named-placeholders@1.1.3:\n    resolution: {integrity: sha512-eLoBxg6wE/rZkJPhU/xRX1WTpkFEwDJEN96oxFrTsqBdbT5ec295Q+CoHrL9IT0DipqKhmGcaZmwOt8OON5x1w==}\n    engines: {node: '>=12.0.0'}\n\n  negotiator@0.6.3:\n    resolution: {integrity: sha512-+EUsqGPLsM+j/zdChZjsnX51g4XrHFOIXwfnCVPGlQk/k5giakcKsuxCObBRu6DSm9opw/O6slWbJdghQM4bBg==}\n    engines: {node: '>= 0.6'}\n\n  nodemailer@6.10.0:\n    resolution: {integrity: sha512-SQ3wZCExjeSatLE/HBaXS5vqUOQk6GtBdIIKxiFdmm01mOQZX/POJkO3SUX1wDiYcwUOJwT23scFSC9fY2H8IA==}\n    engines: {node: '>=6.0.0'}\n\n  normalize-path@3.0.0:\n    resolution: {integrity: sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==}\n    engines: {node: '>=0.10.0'}\n\n  object-assign@4.1.1:\n    resolution: {integrity: sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==}\n    engines: {node: '>=0.10.0'}\n\n  object-inspect@1.13.4:\n    resolution: {integrity: sha512-W67iLl4J2EXEGTbfeHCffrjDfitvLANg0UlX3wFUUSTx92KXRFegMHUVgSqE+wvhAbi4WqjGg9czysTV2Epbew==}\n    engines: {node: '>= 0.4'}\n\n  on-finished@2.4.1:\n    resolution: {integrity: sha512-oVlzkg3ENAhCk2zdv7IJwd/QUD4z2RxRwpkcGY8psCVcCYZNq4wYnVWALHM+brtuJjePWiYF/ClmuDr8Ch5+kg==}\n    engines: {node: '>= 0.8'}\n\n  once@1.4.0:\n    resolution: {integrity: sha512-lNaJgI+2Q5URQBkccEKHTQOPaXdUxnZZElQTZY0MFUAuaEqe1E+Nyvgdz/aIyNi6Z9MzO5dv1H8n58/GELp3+w==}\n\n  pako@1.0.11:\n    resolution: {integrity: sha512-4hLB8Py4zZce5s4yd9XzopqwVv/yGNhV1Bl8NTmCq1763HeK2+EwVTv+leGeL13Dnh2wfbqowVPXCIO0z4taYw==}\n\n  parseurl@1.3.3:\n    resolution: {integrity: sha512-CiyeOxFT/JZyN5m0z9PfXw4SCBJ6Sygz1Dpl0wqjlhDEGGBP1GnsUVEL0p63hoG1fcj3fHynXi9NYO4nWOL+qQ==}\n    engines: {node: '>= 0.8'}\n\n  path-is-absolute@1.0.1:\n    resolution: {integrity: sha512-AVbw3UJ2e9bq64vSaS9Am0fje1Pa8pbGqTTsmXfaIiMpnr5DlDhfJOuLj9Sf95ZPVDAUerDfEk88MPmPe7UCQg==}\n    engines: {node: '>=0.10.0'}\n\n  path-to-regexp@0.1.12:\n    resolution: {integrity: sha512-RA1GjUVMnvYFxuqovrEqZoxxW5NUZqbwKtYz/Tt7nXerk0LbLblQmrsgdeOxV5SFHf0UDggjS/bSeOZwt1pmEQ==}\n\n  pg-connection-string@2.7.0:\n    resolution: {integrity: sha512-PI2W9mv53rXJQEOb8xNR8lH7Hr+EKa6oJa38zsK0S/ky2er16ios1wLKhZyxzD7jUReiWokc9WK5nxSnC7W1TA==}\n\n  process-nextick-args@2.0.1:\n    resolution: {integrity: sha512-3ouUOpQhtgrbOa17J7+uxOTpITYWaGP7/AhoR3+A+/1e9skrzelGi/dXzEYyvbxubEF6Wn2ypscTKiKJFFn1ag==}\n\n  proxy-addr@2.0.7:\n    resolution: {integrity: sha512-llQsMLSUDUPT44jdrU/O37qlnifitDP+ZwrmmZcoSKyLKvtZxpyV0n2/bD/N4tBAAZ/gJEdZU7KMraoK1+XYAg==}\n    engines: {node: '>= 0.10'}\n\n  qs@6.13.0:\n    resolution: {integrity: sha512-+38qI9SOr8tfZ4QmJNplMUxqjbe7LKvvZgWdExBOmd+egZTtjLB67Gu0HRX3u/XOq7UU2Nx6nsjvS16Z9uwfpg==}\n    engines: {node: '>=0.6'}\n\n  range-parser@1.2.1:\n    resolution: {integrity: sha512-Hrgsx+orqoygnmhFbKaHE6c296J+HTAQXoxEF6gNupROmmGJRoyzfG3ccAveqCBrwr/2yxQ5BVd/GTl5agOwSg==}\n    engines: {node: '>= 0.6'}\n\n  raw-body@2.5.2:\n    resolution: {integrity: sha512-8zGqypfENjCIqGhgXToC8aB2r7YrBX+AQAfIPs/Mlk+BtPTztOvTS01NRW/3Eh60J+a48lt8qsCzirQ6loCVfA==}\n    engines: {node: '>= 0.8'}\n\n  readable-stream@2.3.8:\n    resolution: {integrity: sha512-8p0AUk4XODgIewSi0l8Epjs+EVnWiK7NoDIEGU0HhE7+ZyY8D1IMY7odu5lRrFXGg71L15KG8QrPmum45RTtdA==}\n\n  readable-stream@3.6.2:\n    resolution: {integrity: sha512-9u/sniCrY3D5WdsERHzHE4G2YCXqoG5FTHUiCC4SIbr6XcLZBY05ya9EKjYek9O5xOAwjGq+1JdGBAS7Q9ScoA==}\n    engines: {node: '>= 6'}\n\n  readdir-glob@1.1.3:\n    resolution: {integrity: sha512-v05I2k7xN8zXvPD9N+z/uhXPaj0sUFCe2rcWZIpBsqxfP7xXFQ0tipAd/wjj1YxWyWtUS5IDJpOG82JKt2EAVA==}\n\n  retry-as-promised@7.1.1:\n    resolution: {integrity: sha512-hMD7odLOt3LkTjcif8aRZqi/hybjpLNgSk5oF5FCowfCjok6LukpN2bDX7R5wDmbgBQFn7YoBxSagmtXHaJYJw==}\n\n  rimraf@2.7.1:\n    resolution: {integrity: sha512-uWjbaKIK3T1OSVptzX7Nl6PvQ3qAGtKEtVRjRuazjfL3Bx5eI409VZSqgND+4UNnmzLVdPj9FqFJNPqBZFve4w==}\n    deprecated: Rimraf versions prior to v4 are no longer supported\n    hasBin: true\n\n  safe-buffer@5.1.2:\n    resolution: {integrity: sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g==}\n\n  safe-buffer@5.2.1:\n    resolution: {integrity: sha512-rp3So07KcdmmKbGvgaNxQSJr7bGVSVk5S9Eq1F+ppbRo70+YeaDxkw5Dd8NPN+GD6bjnYm2VuPuCXmpuYvmCXQ==}\n\n  safer-buffer@2.1.2:\n    resolution: {integrity: sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==}\n\n  saxes@5.0.1:\n    resolution: {integrity: sha512-5LBh1Tls8c9xgGjw3QrMwETmTMVk0oFgvrFSvWx62llR2hcEInrKNZ2GZCCuuy2lvWrdl5jhbpeqc5hRYKFOcw==}\n    engines: {node: '>=10'}\n\n  semver@7.7.1:\n    resolution: {integrity: sha512-hlq8tAfn0m/61p4BVRcPzIGr6LKiMwo4VM6dGi6pt4qcRkmNzTcWq6eCEjEh+qXjkMDvPlOFFSGwQjoEa6gyMA==}\n    engines: {node: '>=10'}\n    hasBin: true\n\n  send@0.19.0:\n    resolution: {integrity: sha512-dW41u5VfLXu8SJh5bwRmyYUbAoSB3c9uQh6L8h/KtsFREPWpbX1lrljJo186Jc4nmci/sGUZ9a0a0J2zgfq2hw==}\n    engines: {node: '>= 0.8.0'}\n\n  seq-queue@0.0.5:\n    resolution: {integrity: sha512-hr3Wtp/GZIc/6DAGPDcV4/9WoZhjrkXsi5B/07QgX8tsdc6ilr7BFM6PM6rbdAX1kFSDYeZGLipIZZKyQP0O5Q==}\n\n  sequelize-pool@7.1.0:\n    resolution: {integrity: sha512-G9c0qlIWQSK29pR/5U2JF5dDQeqqHRragoyahj/Nx4KOOQ3CPPfzxnfqFPCSB7x5UgjOgnZ61nSxz+fjDpRlJg==}\n    engines: {node: '>= 10.0.0'}\n\n  sequelize@6.37.6:\n    resolution: {integrity: sha512-4Slqjqpktofs7AVqWviFOInzP9w8ZRQDhF+DnRtm4WKIdIATpyzGgedyseP3xbgpBxapvfQcJv6CeIdZe4ZL2A==}\n    engines: {node: '>=10.0.0'}\n    peerDependencies:\n      ibm_db: '*'\n      mariadb: '*'\n      mysql2: '*'\n      oracledb: '*'\n      pg: '*'\n      pg-hstore: '*'\n      snowflake-sdk: '*'\n      sqlite3: '*'\n      tedious: '*'\n    peerDependenciesMeta:\n      ibm_db:\n        optional: true\n      mariadb:\n        optional: true\n      mysql2:\n        optional: true\n      oracledb:\n        optional: true\n      pg:\n        optional: true\n      pg-hstore:\n        optional: true\n      snowflake-sdk:\n        optional: true\n      sqlite3:\n        optional: true\n      tedious:\n        optional: true\n\n  serve-static@1.16.2:\n    resolution: {integrity: sha512-VqpjJZKadQB/PEbEwvFdO43Ax5dFBZ2UECszz8bQ7pi7wt//PWe1P6MN7eCnjsatYtBT6EuiClbjSWP2WrIoTw==}\n    engines: {node: '>= 0.8.0'}\n\n  setimmediate@1.0.5:\n    resolution: {integrity: sha512-MATJdZp8sLqDl/68LfQmbP8zKPLQNV6BIZoIgrscFDQ+RsvK/BxeDQOgyxKKoh0y/8h3BqVFnCqQ/gd+reiIXA==}\n\n  setprototypeof@1.2.0:\n    resolution: {integrity: sha512-E5LDX7Wrp85Kil5bhZv46j8jOeboKq5JMmYM3gVGdGH8xFpPWXUMsNrlODCrkoxMEeNi/XZIwuRvY4XNwYMJpw==}\n\n  side-channel-list@1.0.0:\n    resolution: {integrity: sha512-FCLHtRD/gnpCiCHEiJLOwdmFP+wzCmDEkc9y7NsYxeF4u7Btsn1ZuwgwJGxImImHicJArLP4R0yX4c2KCrMrTA==}\n    engines: {node: '>= 0.4'}\n\n  side-channel-map@1.0.1:\n    resolution: {integrity: sha512-VCjCNfgMsby3tTdo02nbjtM/ewra6jPHmpThenkTYh8pG9ucZ/1P8So4u4FGBek/BjpOVsDCMoLA/iuBKIFXRA==}\n    engines: {node: '>= 0.4'}\n\n  side-channel-weakmap@1.0.2:\n    resolution: {integrity: sha512-WPS/HvHQTYnHisLo9McqBHOJk2FkHO/tlpvldyrnem4aeQp4hai3gythswg6p01oSoTl58rcpiFAjF2br2Ak2A==}\n    engines: {node: '>= 0.4'}\n\n  side-channel@1.1.0:\n    resolution: {integrity: sha512-ZX99e6tRweoUXqR+VBrslhda51Nh5MTQwou5tnUDgbtyM0dBgmhEDtWGP/xbKn6hqfPRHujUNwz5fy/wbbhnpw==}\n    engines: {node: '>= 0.4'}\n\n  socket.io-adapter@2.5.5:\n    resolution: {integrity: sha512-eLDQas5dzPgOWCk9GuuJC2lBqItuhKI4uxGgo9aIV7MYbk2h9Q6uULEh8WBzThoI7l+qU9Ast9fVUmkqPP9wYg==}\n\n  socket.io-client@4.8.1:\n    resolution: {integrity: sha512-hJVXfu3E28NmzGk8o1sHhN3om52tRvwYeidbj7xKy2eIIse5IoKX3USlS6Tqt3BHAtflLIkCQBkzVrEEfWUyYQ==}\n    engines: {node: '>=10.0.0'}\n\n  socket.io-parser@4.2.4:\n    resolution: {integrity: sha512-/GbIKmo8ioc+NIWIhwdecY0ge+qVBSMdgxGygevmdHj24bsfgtCmcUUcQ5ZzcylGFHsN3k4HB4Cgkl96KVnuew==}\n    engines: {node: '>=10.0.0'}\n\n  socket.io@4.8.1:\n    resolution: {integrity: sha512-oZ7iUCxph8WYRHHcjBEc9unw3adt5CmSNlppj/5Q4k2RIrhl8Z5yY2Xr4j9zj0+wzVZ0bxmYoGSzKJnRl6A4yg==}\n    engines: {node: '>=10.2.0'}\n\n  sqlstring@2.3.3:\n    resolution: {integrity: sha512-qC9iz2FlN7DQl3+wjwn3802RTyjCx7sDvfQEXchwa6CWOx07/WVfh91gBmQ9fahw8snwGEWU3xGzOt4tFyHLxg==}\n    engines: {node: '>= 0.6'}\n\n  statuses@2.0.1:\n    resolution: {integrity: sha512-RwNA9Z/7PrK06rYLIzFMlaF+l73iwpzsqRIFgbMLbTcLD6cOao82TaWefPXQvB2fOC4AjuYSEndS7N/mTCbkdQ==}\n    engines: {node: '>= 0.8'}\n\n  streamsearch@1.1.0:\n    resolution: {integrity: sha512-Mcc5wHehp9aXz1ax6bZUyY5afg9u2rv5cqQI3mRrYkGC8rW2hM02jWuwjtL++LS5qinSyhj2QfLyNsuc+VsExg==}\n    engines: {node: '>=10.0.0'}\n\n  string_decoder@1.1.1:\n    resolution: {integrity: sha512-n/ShnvDi6FHbbVfviro+WojiFzv+s8MPMHBczVePfUpDJLwoLT0ht1l4YwBCbi8pJAveEEdnkHyPyTP/mzRfwg==}\n\n  string_decoder@1.3.0:\n    resolution: {integrity: sha512-hkRX8U1WjJFd8LsDJ2yQ/wWWxaopEsABU1XfkM8A+j0+85JAGppt16cr1Whg6KIbb4okU6Mql6BOj+uup/wKeA==}\n\n  tar-stream@2.2.0:\n    resolution: {integrity: sha512-ujeqbceABgwMZxEJnk2HDY2DlnUZ+9oEcb1KzTVfYHio0UE6dG71n60d8D2I4qNvleWrrXpmjpt7vZeF1LnMZQ==}\n    engines: {node: '>=6'}\n\n  tmp@0.2.3:\n    resolution: {integrity: sha512-nZD7m9iCPC5g0pYmcaxogYKggSfLsdxl8of3Q/oIbqCqLLIO9IAF0GWjX1z9NZRHPiXv8Wex4yDCaZsgEw0Y8w==}\n    engines: {node: '>=14.14'}\n\n  toidentifier@1.0.1:\n    resolution: {integrity: sha512-o5sSPKEkg/DIQNmH43V0/uerLrpzVedkUh8tGNvaeXpfpuwjKenlSox/2O/BTlZUtEe+JG7s5YhEz608PlAHRA==}\n    engines: {node: '>=0.6'}\n\n  toposort-class@1.0.1:\n    resolution: {integrity: sha512-OsLcGGbYF3rMjPUf8oKktyvCiUxSbqMMS39m33MAjLTC1DVIH6x3WSt63/M77ihI09+Sdfk1AXvfhCEeUmC7mg==}\n\n  traverse@0.3.9:\n    resolution: {integrity: sha512-iawgk0hLP3SxGKDfnDJf8wTz4p2qImnyihM5Hh/sGvQ3K37dPi/w8sRhdNIxYA1TwFwc5mDhIJq+O0RsvXBKdQ==}\n\n  type-is@1.6.18:\n    resolution: {integrity: sha512-TkRKr9sUTxEH8MdfuCSP7VizJyzRNMjj2J2do2Jr3Kym598JVdEksuzPQCnlFPW4ky9Q+iA+ma9BGm06XQBy8g==}\n    engines: {node: '>= 0.6'}\n\n  typedarray@0.0.6:\n    resolution: {integrity: sha512-/aCDEGatGvZ2BIk+HmLf4ifCJFwvKFNb9/JeZPMulfgFracn9QFcAf5GO8B/mweUjSoblS5In0cWhqpfs/5PQA==}\n\n  undici-types@6.20.0:\n    resolution: {integrity: sha512-Ny6QZ2Nju20vw1SRHe3d9jVu6gJ+4e3+MMpqu7pqE5HT6WsTSlce++GQmK5UXS8mzV8DSYHrQH+Xrf2jVcuKNg==}\n\n  unpipe@1.0.0:\n    resolution: {integrity: sha512-pjy2bYhSsufwWlKwPc+l3cN7+wuJlK6uz0YdJEOlQDbl6jo/YlPi4mb8agUkVC8BF7V8NuzeyPNqRksA3hztKQ==}\n    engines: {node: '>= 0.8'}\n\n  unzipper@0.10.14:\n    resolution: {integrity: sha512-ti4wZj+0bQTiX2KmKWuwj7lhV+2n//uXEotUmGuQqrbVZSEGFMbI68+c6JCQ8aAmUWYvtHEz2A8K6wXvueR/6g==}\n\n  util-deprecate@1.0.2:\n    resolution: {integrity: sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==}\n\n  utils-merge@1.0.1:\n    resolution: {integrity: sha512-pMZTvIkT1d+TFGvDOqodOclx0QWkkgi6Tdoa8gC8ffGAAqz9pzPTZWAybbsHHoED/ztMtkv/VoYTYyShUn81hA==}\n    engines: {node: '>= 0.4.0'}\n\n  uuid@11.1.0:\n    resolution: {integrity: sha512-0/A9rDy9P7cJ+8w1c9WD9V//9Wj15Ce2MPz8Ri6032usz+NfePxx5AcN3bN+r6ZL6jEo066/yNYB3tn4pQEx+A==}\n    hasBin: true\n\n  uuid@8.3.2:\n    resolution: {integrity: sha512-+NYs2QeMWy+GWFOEm9xnn6HCDp0l7QBD7ml8zLUmJ+93Q5NF0NocErnwkTkXVFNiX3/fpC6afS8Dhb/gz7R7eg==}\n    hasBin: true\n\n  validator@13.15.0:\n    resolution: {integrity: sha512-36B2ryl4+oL5QxZ3AzD0t5SsMNGvTtQHpjgFO5tbNxfXbMFkY822ktCDe1MnlqV3301QQI9SLHDNJokDI+Z9pA==}\n    engines: {node: '>= 0.10'}\n\n  vary@1.1.2:\n    resolution: {integrity: sha512-BNGbWLfd0eUPabhkXUVm0j8uuvREyTh5ovRa/dyow/BqAbZJyC+5fU+IzQOzmAKzYqYRAISoRhdQr3eIZ/PXqg==}\n    engines: {node: '>= 0.8'}\n\n  wkx@0.5.0:\n    resolution: {integrity: sha512-Xng/d4Ichh8uN4l0FToV/258EjMGU9MGcA0HV2d9B/ZpZB3lqQm7nkOdZdm5GhKtLLhAE7PiVQwN4eN+2YJJUg==}\n\n  wrappy@1.0.2:\n    resolution: {integrity: sha512-l4Sp/DRseor9wL6EvV2+TuQn63dMkPjZ/sp9XkghTEbV9KlPS1xUsZ3u7/IQO4wxtcFB4bgpQPRcR3QCvezPcQ==}\n\n  ws@8.17.1:\n    resolution: {integrity: sha512-6XQFvXTkbfUOZOKKILFG1PDK2NDQs4azKQl26T0YS5CxqWLgXajbPZ+h4gZekJyRqFU8pvnbAbbs/3TgRPy+GQ==}\n    engines: {node: '>=10.0.0'}\n    peerDependencies:\n      bufferutil: ^4.0.1\n      utf-8-validate: '>=5.0.2'\n    peerDependenciesMeta:\n      bufferutil:\n        optional: true\n      utf-8-validate:\n        optional: true\n\n  xmlchars@2.2.0:\n    resolution: {integrity: sha512-JZnDKK8B0RCDw84FNdDAIpZK+JuJw+s7Lz8nksI7SIuU3UXJJslUthsi+uWBUYOwPFwW7W7PRLRfUKpxjtjFCw==}\n\n  xmlhttprequest-ssl@2.1.2:\n    resolution: {integrity: sha512-TEU+nJVUUnA4CYJFLvK5X9AOeH4KvDvhIfm0vV1GaQRtchnG0hgK5p8hw/xjv8cunWYCsiPCSDzObPyhEwq3KQ==}\n    engines: {node: '>=0.4.0'}\n\n  xtend@4.0.2:\n    resolution: {integrity: sha512-LKYU1iAXJXUgAXn9URjiu+MWhyUXHsvfp7mcuYm9dSUKK0/CjtrUwFAxD82/mCWbtLsGjFIad0wIsod4zrTAEQ==}\n    engines: {node: '>=0.4'}\n\n  zip-stream@4.1.1:\n    resolution: {integrity: sha512-9qv4rlDiopXg4E69k+vMHjNN63YFMe9sZMrdlvKnCjlCRWeCBswPPMPUfx+ipsAWq1LXHe70RcbaHdJJpS6hyQ==}\n    engines: {node: '>= 10'}\n\nsnapshots:\n\n  '@fast-csv/format@4.3.5':\n    dependencies:\n      '@types/node': 14.18.63\n      lodash.escaperegexp: 4.1.2\n      lodash.isboolean: 3.0.3\n      lodash.isequal: 4.5.0\n      lodash.isfunction: 3.0.9\n      lodash.isnil: 4.0.0\n\n  '@fast-csv/parse@4.3.6':\n    dependencies:\n      '@types/node': 14.18.63\n      lodash.escaperegexp: 4.1.2\n      lodash.groupby: 4.6.0\n      lodash.isfunction: 3.0.9\n      lodash.isnil: 4.0.0\n      lodash.isundefined: 3.0.1\n      lodash.uniq: 4.5.0\n\n  '@socket.io/component-emitter@3.1.2': {}\n\n  '@types/cors@2.8.17':\n    dependencies:\n      '@types/node': 22.13.13\n\n  '@types/debug@4.1.12':\n    dependencies:\n      '@types/ms': 2.1.0\n\n  '@types/ms@2.1.0': {}\n\n  '@types/node@14.18.63': {}\n\n  '@types/node@22.13.13':\n    dependencies:\n      undici-types: 6.20.0\n\n  '@types/validator@13.12.3': {}\n\n  accepts@1.3.8:\n    dependencies:\n      mime-types: 2.1.35\n      negotiator: 0.6.3\n\n  append-field@1.0.0: {}\n\n  archiver-utils@2.1.0:\n    dependencies:\n      glob: 7.2.3\n      graceful-fs: 4.2.11\n      lazystream: 1.0.1\n      lodash.defaults: 4.2.0\n      lodash.difference: 4.5.0\n      lodash.flatten: 4.4.0\n      lodash.isplainobject: 4.0.6\n      lodash.union: 4.6.0\n      normalize-path: 3.0.0\n      readable-stream: 2.3.8\n\n  archiver-utils@3.0.4:\n    dependencies:\n      glob: 7.2.3\n      graceful-fs: 4.2.11\n      lazystream: 1.0.1\n      lodash.defaults: 4.2.0\n      lodash.difference: 4.5.0\n      lodash.flatten: 4.4.0\n      lodash.isplainobject: 4.0.6\n      lodash.union: 4.6.0\n      normalize-path: 3.0.0\n      readable-stream: 3.6.2\n\n  archiver@5.3.2:\n    dependencies:\n      archiver-utils: 2.1.0\n      async: 3.2.6\n      buffer-crc32: 0.2.13\n      readable-stream: 3.6.2\n      readdir-glob: 1.1.3\n      tar-stream: 2.2.0\n      zip-stream: 4.1.1\n\n  array-flatten@1.1.1: {}\n\n  async@3.2.6: {}\n\n  aws-ssl-profiles@1.1.2: {}\n\n  balanced-match@1.0.2: {}\n\n  base64-js@1.5.1: {}\n\n  base64id@2.0.0: {}\n\n  bcryptjs@2.4.3: {}\n\n  big-integer@1.6.52: {}\n\n  binary@0.3.0:\n    dependencies:\n      buffers: 0.1.1\n      chainsaw: 0.1.0\n\n  bl@4.1.0:\n    dependencies:\n      buffer: 5.7.1\n      inherits: 2.0.4\n      readable-stream: 3.6.2\n\n  bluebird@3.4.7: {}\n\n  body-parser@1.20.3:\n    dependencies:\n      bytes: 3.1.2\n      content-type: 1.0.5\n      debug: 2.6.9\n      depd: 2.0.0\n      destroy: 1.2.0\n      http-errors: 2.0.0\n      iconv-lite: 0.4.24\n      on-finished: 2.4.1\n      qs: 6.13.0\n      raw-body: 2.5.2\n      type-is: 1.6.18\n      unpipe: 1.0.0\n    transitivePeerDependencies:\n      - supports-color\n\n  brace-expansion@1.1.11:\n    dependencies:\n      balanced-match: 1.0.2\n      concat-map: 0.0.1\n\n  brace-expansion@2.0.1:\n    dependencies:\n      balanced-match: 1.0.2\n\n  buffer-crc32@0.2.13: {}\n\n  buffer-equal-constant-time@1.0.1: {}\n\n  buffer-from@1.1.2: {}\n\n  buffer-indexof-polyfill@1.0.2: {}\n\n  buffer@5.7.1:\n    dependencies:\n      base64-js: 1.5.1\n      ieee754: 1.2.1\n\n  buffers@0.1.1: {}\n\n  busboy@1.6.0:\n    dependencies:\n      streamsearch: 1.1.0\n\n  bytes@3.1.2: {}\n\n  call-bind-apply-helpers@1.0.2:\n    dependencies:\n      es-errors: 1.3.0\n      function-bind: 1.1.2\n\n  call-bound@1.0.4:\n    dependencies:\n      call-bind-apply-helpers: 1.0.2\n      get-intrinsic: 1.3.0\n\n  chainsaw@0.1.0:\n    dependencies:\n      traverse: 0.3.9\n\n  compress-commons@4.1.2:\n    dependencies:\n      buffer-crc32: 0.2.13\n      crc32-stream: 4.0.3\n      normalize-path: 3.0.0\n      readable-stream: 3.6.2\n\n  concat-map@0.0.1: {}\n\n  concat-stream@1.6.2:\n    dependencies:\n      buffer-from: 1.1.2\n      inherits: 2.0.4\n      readable-stream: 2.3.8\n      typedarray: 0.0.6\n\n  content-disposition@0.5.4:\n    dependencies:\n      safe-buffer: 5.2.1\n\n  content-type@1.0.5: {}\n\n  cookie-signature@1.0.6: {}\n\n  cookie@0.7.1: {}\n\n  cookie@0.7.2: {}\n\n  core-util-is@1.0.3: {}\n\n  cors@2.8.5:\n    dependencies:\n      object-assign: 4.1.1\n      vary: 1.1.2\n\n  crc-32@1.2.2: {}\n\n  crc32-stream@4.0.3:\n    dependencies:\n      crc-32: 1.2.2\n      readable-stream: 3.6.2\n\n  date-fns@4.1.0: {}\n\n  dayjs@1.11.13: {}\n\n  debug@2.6.9:\n    dependencies:\n      ms: 2.0.0\n\n  debug@4.3.7:\n    dependencies:\n      ms: 2.1.3\n\n  debug@4.4.0:\n    dependencies:\n      ms: 2.1.3\n\n  denque@2.1.0: {}\n\n  depd@2.0.0: {}\n\n  destroy@1.2.0: {}\n\n  dotenv@16.4.7: {}\n\n  dottie@2.0.6: {}\n\n  dunder-proto@1.0.1:\n    dependencies:\n      call-bind-apply-helpers: 1.0.2\n      es-errors: 1.3.0\n      gopd: 1.2.0\n\n  duplexer2@0.1.4:\n    dependencies:\n      readable-stream: 2.3.8\n\n  ecdsa-sig-formatter@1.0.11:\n    dependencies:\n      safe-buffer: 5.2.1\n\n  ee-first@1.1.1: {}\n\n  encodeurl@1.0.2: {}\n\n  encodeurl@2.0.0: {}\n\n  end-of-stream@1.4.4:\n    dependencies:\n      once: 1.4.0\n\n  engine.io-client@6.6.3:\n    dependencies:\n      '@socket.io/component-emitter': 3.1.2\n      debug: 4.3.7\n      engine.io-parser: 5.2.3\n      ws: 8.17.1\n      xmlhttprequest-ssl: 2.1.2\n    transitivePeerDependencies:\n      - bufferutil\n      - supports-color\n      - utf-8-validate\n\n  engine.io-parser@5.2.3: {}\n\n  engine.io@6.6.4:\n    dependencies:\n      '@types/cors': 2.8.17\n      '@types/node': 22.13.13\n      accepts: 1.3.8\n      base64id: 2.0.0\n      cookie: 0.7.2\n      cors: 2.8.5\n      debug: 4.3.7\n      engine.io-parser: 5.2.3\n      ws: 8.17.1\n    transitivePeerDependencies:\n      - bufferutil\n      - supports-color\n      - utf-8-validate\n\n  es-define-property@1.0.1: {}\n\n  es-errors@1.3.0: {}\n\n  es-object-atoms@1.1.1:\n    dependencies:\n      es-errors: 1.3.0\n\n  escape-html@1.0.3: {}\n\n  etag@1.8.1: {}\n\n  exceljs@4.4.0:\n    dependencies:\n      archiver: 5.3.2\n      dayjs: 1.11.13\n      fast-csv: 4.3.6\n      jszip: 3.10.1\n      readable-stream: 3.6.2\n      saxes: 5.0.1\n      tmp: 0.2.3\n      unzipper: 0.10.14\n      uuid: 8.3.2\n\n  express@4.21.2:\n    dependencies:\n      accepts: 1.3.8\n      array-flatten: 1.1.1\n      body-parser: 1.20.3\n      content-disposition: 0.5.4\n      content-type: 1.0.5\n      cookie: 0.7.1\n      cookie-signature: 1.0.6\n      debug: 2.6.9\n      depd: 2.0.0\n      encodeurl: 2.0.0\n      escape-html: 1.0.3\n      etag: 1.8.1\n      finalhandler: 1.3.1\n      fresh: 0.5.2\n      http-errors: 2.0.0\n      merge-descriptors: 1.0.3\n      methods: 1.1.2\n      on-finished: 2.4.1\n      parseurl: 1.3.3\n      path-to-regexp: 0.1.12\n      proxy-addr: 2.0.7\n      qs: 6.13.0\n      range-parser: 1.2.1\n      safe-buffer: 5.2.1\n      send: 0.19.0\n      serve-static: 1.16.2\n      setprototypeof: 1.2.0\n      statuses: 2.0.1\n      type-is: 1.6.18\n      utils-merge: 1.0.1\n      vary: 1.1.2\n    transitivePeerDependencies:\n      - supports-color\n\n  fast-csv@4.3.6:\n    dependencies:\n      '@fast-csv/format': 4.3.5\n      '@fast-csv/parse': 4.3.6\n\n  finalhandler@1.3.1:\n    dependencies:\n      debug: 2.6.9\n      encodeurl: 2.0.0\n      escape-html: 1.0.3\n      on-finished: 2.4.1\n      parseurl: 1.3.3\n      statuses: 2.0.1\n      unpipe: 1.0.0\n    transitivePeerDependencies:\n      - supports-color\n\n  forwarded@0.2.0: {}\n\n  fresh@0.5.2: {}\n\n  fs-constants@1.0.0: {}\n\n  fs.realpath@1.0.0: {}\n\n  fstream@1.0.12:\n    dependencies:\n      graceful-fs: 4.2.11\n      inherits: 2.0.4\n      mkdirp: 0.5.6\n      rimraf: 2.7.1\n\n  function-bind@1.1.2: {}\n\n  generate-function@2.3.1:\n    dependencies:\n      is-property: 1.0.2\n\n  get-intrinsic@1.3.0:\n    dependencies:\n      call-bind-apply-helpers: 1.0.2\n      es-define-property: 1.0.1\n      es-errors: 1.3.0\n      es-object-atoms: 1.1.1\n      function-bind: 1.1.2\n      get-proto: 1.0.1\n      gopd: 1.2.0\n      has-symbols: 1.1.0\n      hasown: 2.0.2\n      math-intrinsics: 1.1.0\n\n  get-proto@1.0.1:\n    dependencies:\n      dunder-proto: 1.0.1\n      es-object-atoms: 1.1.1\n\n  glob@7.2.3:\n    dependencies:\n      fs.realpath: 1.0.0\n      inflight: 1.0.6\n      inherits: 2.0.4\n      minimatch: 3.1.2\n      once: 1.4.0\n      path-is-absolute: 1.0.1\n\n  gopd@1.2.0: {}\n\n  graceful-fs@4.2.11: {}\n\n  has-symbols@1.1.0: {}\n\n  hasown@2.0.2:\n    dependencies:\n      function-bind: 1.1.2\n\n  http-errors@2.0.0:\n    dependencies:\n      depd: 2.0.0\n      inherits: 2.0.4\n      setprototypeof: 1.2.0\n      statuses: 2.0.1\n      toidentifier: 1.0.1\n\n  iconv-lite@0.4.24:\n    dependencies:\n      safer-buffer: 2.1.2\n\n  iconv-lite@0.6.3:\n    dependencies:\n      safer-buffer: 2.1.2\n\n  ieee754@1.2.1: {}\n\n  immediate@3.0.6: {}\n\n  inflection@1.13.4: {}\n\n  inflight@1.0.6:\n    dependencies:\n      once: 1.4.0\n      wrappy: 1.0.2\n\n  inherits@2.0.4: {}\n\n  ipaddr.js@1.9.1: {}\n\n  is-property@1.0.2: {}\n\n  isarray@1.0.0: {}\n\n  jsonwebtoken@9.0.2:\n    dependencies:\n      jws: 3.2.2\n      lodash.includes: 4.3.0\n      lodash.isboolean: 3.0.3\n      lodash.isinteger: 4.0.4\n      lodash.isnumber: 3.0.3\n      lodash.isplainobject: 4.0.6\n      lodash.isstring: 4.0.1\n      lodash.once: 4.1.1\n      ms: 2.1.3\n      semver: 7.7.1\n\n  jszip@3.10.1:\n    dependencies:\n      lie: 3.3.0\n      pako: 1.0.11\n      readable-stream: 2.3.8\n      setimmediate: 1.0.5\n\n  jwa@1.4.1:\n    dependencies:\n      buffer-equal-constant-time: 1.0.1\n      ecdsa-sig-formatter: 1.0.11\n      safe-buffer: 5.2.1\n\n  jws@3.2.2:\n    dependencies:\n      jwa: 1.4.1\n      safe-buffer: 5.2.1\n\n  lazystream@1.0.1:\n    dependencies:\n      readable-stream: 2.3.8\n\n  lie@3.3.0:\n    dependencies:\n      immediate: 3.0.6\n\n  listenercount@1.0.1: {}\n\n  lodash.defaults@4.2.0: {}\n\n  lodash.difference@4.5.0: {}\n\n  lodash.escaperegexp@4.1.2: {}\n\n  lodash.flatten@4.4.0: {}\n\n  lodash.groupby@4.6.0: {}\n\n  lodash.includes@4.3.0: {}\n\n  lodash.isboolean@3.0.3: {}\n\n  lodash.isequal@4.5.0: {}\n\n  lodash.isfunction@3.0.9: {}\n\n  lodash.isinteger@4.0.4: {}\n\n  lodash.isnil@4.0.0: {}\n\n  lodash.isnumber@3.0.3: {}\n\n  lodash.isplainobject@4.0.6: {}\n\n  lodash.isstring@4.0.1: {}\n\n  lodash.isundefined@3.0.1: {}\n\n  lodash.once@4.1.1: {}\n\n  lodash.union@4.6.0: {}\n\n  lodash.uniq@4.5.0: {}\n\n  lodash@4.17.21: {}\n\n  long@5.3.1: {}\n\n  lru-cache@7.18.3: {}\n\n  lru.min@1.1.2: {}\n\n  math-intrinsics@1.1.0: {}\n\n  media-typer@0.3.0: {}\n\n  merge-descriptors@1.0.3: {}\n\n  methods@1.1.2: {}\n\n  mime-db@1.52.0: {}\n\n  mime-types@2.1.35:\n    dependencies:\n      mime-db: 1.52.0\n\n  mime@1.6.0: {}\n\n  minimatch@3.1.2:\n    dependencies:\n      brace-expansion: 1.1.11\n\n  minimatch@5.1.6:\n    dependencies:\n      brace-expansion: 2.0.1\n\n  minimist@1.2.8: {}\n\n  mkdirp@0.5.6:\n    dependencies:\n      minimist: 1.2.8\n\n  moment-timezone@0.5.48:\n    dependencies:\n      moment: 2.30.1\n\n  moment@2.30.1: {}\n\n  ms@2.0.0: {}\n\n  ms@2.1.3: {}\n\n  multer@1.4.5-lts.2:\n    dependencies:\n      append-field: 1.0.0\n      busboy: 1.6.0\n      concat-stream: 1.6.2\n      mkdirp: 0.5.6\n      object-assign: 4.1.1\n      type-is: 1.6.18\n      xtend: 4.0.2\n\n  mysql2@3.14.0:\n    dependencies:\n      aws-ssl-profiles: 1.1.2\n      denque: 2.1.0\n      generate-function: 2.3.1\n      iconv-lite: 0.6.3\n      long: 5.3.1\n      lru.min: 1.1.2\n      named-placeholders: 1.1.3\n      seq-queue: 0.0.5\n      sqlstring: 2.3.3\n\n  named-placeholders@1.1.3:\n    dependencies:\n      lru-cache: 7.18.3\n\n  negotiator@0.6.3: {}\n\n  nodemailer@6.10.0: {}\n\n  normalize-path@3.0.0: {}\n\n  object-assign@4.1.1: {}\n\n  object-inspect@1.13.4: {}\n\n  on-finished@2.4.1:\n    dependencies:\n      ee-first: 1.1.1\n\n  once@1.4.0:\n    dependencies:\n      wrappy: 1.0.2\n\n  pako@1.0.11: {}\n\n  parseurl@1.3.3: {}\n\n  path-is-absolute@1.0.1: {}\n\n  path-to-regexp@0.1.12: {}\n\n  pg-connection-string@2.7.0: {}\n\n  process-nextick-args@2.0.1: {}\n\n  proxy-addr@2.0.7:\n    dependencies:\n      forwarded: 0.2.0\n      ipaddr.js: 1.9.1\n\n  qs@6.13.0:\n    dependencies:\n      side-channel: 1.1.0\n\n  range-parser@1.2.1: {}\n\n  raw-body@2.5.2:\n    dependencies:\n      bytes: 3.1.2\n      http-errors: 2.0.0\n      iconv-lite: 0.4.24\n      unpipe: 1.0.0\n\n  readable-stream@2.3.8:\n    dependencies:\n      core-util-is: 1.0.3\n      inherits: 2.0.4\n      isarray: 1.0.0\n      process-nextick-args: 2.0.1\n      safe-buffer: 5.1.2\n      string_decoder: 1.1.1\n      util-deprecate: 1.0.2\n\n  readable-stream@3.6.2:\n    dependencies:\n      inherits: 2.0.4\n      string_decoder: 1.3.0\n      util-deprecate: 1.0.2\n\n  readdir-glob@1.1.3:\n    dependencies:\n      minimatch: 5.1.6\n\n  retry-as-promised@7.1.1: {}\n\n  rimraf@2.7.1:\n    dependencies:\n      glob: 7.2.3\n\n  safe-buffer@5.1.2: {}\n\n  safe-buffer@5.2.1: {}\n\n  safer-buffer@2.1.2: {}\n\n  saxes@5.0.1:\n    dependencies:\n      xmlchars: 2.2.0\n\n  semver@7.7.1: {}\n\n  send@0.19.0:\n    dependencies:\n      debug: 2.6.9\n      depd: 2.0.0\n      destroy: 1.2.0\n      encodeurl: 1.0.2\n      escape-html: 1.0.3\n      etag: 1.8.1\n      fresh: 0.5.2\n      http-errors: 2.0.0\n      mime: 1.6.0\n      ms: 2.1.3\n      on-finished: 2.4.1\n      range-parser: 1.2.1\n      statuses: 2.0.1\n    transitivePeerDependencies:\n      - supports-color\n\n  seq-queue@0.0.5: {}\n\n  sequelize-pool@7.1.0: {}\n\n  sequelize@6.37.6(mysql2@3.14.0):\n    dependencies:\n      '@types/debug': 4.1.12\n      '@types/validator': 13.12.3\n      debug: 4.4.0\n      dottie: 2.0.6\n      inflection: 1.13.4\n      lodash: 4.17.21\n      moment: 2.30.1\n      moment-timezone: 0.5.48\n      pg-connection-string: 2.7.0\n      retry-as-promised: 7.1.1\n      semver: 7.7.1\n      sequelize-pool: 7.1.0\n      toposort-class: 1.0.1\n      uuid: 8.3.2\n      validator: 13.15.0\n      wkx: 0.5.0\n    optionalDependencies:\n      mysql2: 3.14.0\n    transitivePeerDependencies:\n      - supports-color\n\n  serve-static@1.16.2:\n    dependencies:\n      encodeurl: 2.0.0\n      escape-html: 1.0.3\n      parseurl: 1.3.3\n      send: 0.19.0\n    transitivePeerDependencies:\n      - supports-color\n\n  setimmediate@1.0.5: {}\n\n  setprototypeof@1.2.0: {}\n\n  side-channel-list@1.0.0:\n    dependencies:\n      es-errors: 1.3.0\n      object-inspect: 1.13.4\n\n  side-channel-map@1.0.1:\n    dependencies:\n      call-bound: 1.0.4\n      es-errors: 1.3.0\n      get-intrinsic: 1.3.0\n      object-inspect: 1.13.4\n\n  side-channel-weakmap@1.0.2:\n    dependencies:\n      call-bound: 1.0.4\n      es-errors: 1.3.0\n      get-intrinsic: 1.3.0\n      object-inspect: 1.13.4\n      side-channel-map: 1.0.1\n\n  side-channel@1.1.0:\n    dependencies:\n      es-errors: 1.3.0\n      object-inspect: 1.13.4\n      side-channel-list: 1.0.0\n      side-channel-map: 1.0.1\n      side-channel-weakmap: 1.0.2\n\n  socket.io-adapter@2.5.5:\n    dependencies:\n      debug: 4.3.7\n      ws: 8.17.1\n    transitivePeerDependencies:\n      - bufferutil\n      - supports-color\n      - utf-8-validate\n\n  socket.io-client@4.8.1:\n    dependencies:\n      '@socket.io/component-emitter': 3.1.2\n      debug: 4.3.7\n      engine.io-client: 6.6.3\n      socket.io-parser: 4.2.4\n    transitivePeerDependencies:\n      - bufferutil\n      - supports-color\n      - utf-8-validate\n\n  socket.io-parser@4.2.4:\n    dependencies:\n      '@socket.io/component-emitter': 3.1.2\n      debug: 4.3.7\n    transitivePeerDependencies:\n      - supports-color\n\n  socket.io@4.8.1:\n    dependencies:\n      accepts: 1.3.8\n      base64id: 2.0.0\n      cors: 2.8.5\n      debug: 4.3.7\n      engine.io: 6.6.4\n      socket.io-adapter: 2.5.5\n      socket.io-parser: 4.2.4\n    transitivePeerDependencies:\n      - bufferutil\n      - supports-color\n      - utf-8-validate\n\n  sqlstring@2.3.3: {}\n\n  statuses@2.0.1: {}\n\n  streamsearch@1.1.0: {}\n\n  string_decoder@1.1.1:\n    dependencies:\n      safe-buffer: 5.1.2\n\n  string_decoder@1.3.0:\n    dependencies:\n      safe-buffer: 5.2.1\n\n  tar-stream@2.2.0:\n    dependencies:\n      bl: 4.1.0\n      end-of-stream: 1.4.4\n      fs-constants: 1.0.0\n      inherits: 2.0.4\n      readable-stream: 3.6.2\n\n  tmp@0.2.3: {}\n\n  toidentifier@1.0.1: {}\n\n  toposort-class@1.0.1: {}\n\n  traverse@0.3.9: {}\n\n  type-is@1.6.18:\n    dependencies:\n      media-typer: 0.3.0\n      mime-types: 2.1.35\n\n  typedarray@0.0.6: {}\n\n  undici-types@6.20.0: {}\n\n  unpipe@1.0.0: {}\n\n  unzipper@0.10.14:\n    dependencies:\n      big-integer: 1.6.52\n      binary: 0.3.0\n      bluebird: 3.4.7\n      buffer-indexof-polyfill: 1.0.2\n      duplexer2: 0.1.4\n      fstream: 1.0.12\n      graceful-fs: 4.2.11\n      listenercount: 1.0.1\n      readable-stream: 2.3.8\n      setimmediate: 1.0.5\n\n  util-deprecate@1.0.2: {}\n\n  utils-merge@1.0.1: {}\n\n  uuid@11.1.0: {}\n\n  uuid@8.3.2: {}\n\n  validator@13.15.0: {}\n\n  vary@1.1.2: {}\n\n  wkx@0.5.0:\n    dependencies:\n      '@types/node': 22.13.13\n\n  wrappy@1.0.2: {}\n\n  ws@8.17.1: {}\n\n  xmlchars@2.2.0: {}\n\n  xmlhttprequest-ssl@2.1.2: {}\n\n  xtend@4.0.2: {}\n\n  zip-stream@4.1.1:\n    dependencies:\n      archiver-utils: 3.0.4\n      compress-commons: 4.1.2\n      readable-stream: 3.6.2\n","size_bytes":55285},"frontend-new/src/assets/theme/components/dialog/dialogTitle.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { size } = typography;\n\nconst dialogTitle = {\n  styleOverrides: {\n    root: {\n      padding: pxToRem(16),\n      fontSize: size.xl,\n    },\n  },\n};\n\nexport default dialogTitle;\n","size_bytes":904},"frontend-new/src/assets/theme/components/form/inputOutlined.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport typography from \"assets/theme/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { inputBorderColor, info, grey, transparent } = colors;\nconst { borderRadius } = borders;\nconst { size } = typography;\n\nconst inputOutlined = {\n  styleOverrides: {\n    root: {\n      backgroundColor: transparent.main,\n      fontSize: size.sm,\n      borderRadius: borderRadius.md,\n\n      \"&:hover .MuiOutlinedInput-notchedOutline\": {\n        borderColor: inputBorderColor,\n      },\n\n      \"&.Mui-focused\": {\n        \"& .MuiOutlinedInput-notchedOutline\": {\n          borderColor: info.main,\n        },\n      },\n    },\n\n    notchedOutline: {\n      borderColor: inputBorderColor,\n    },\n\n    input: {\n      color: grey[700],\n      padding: pxToRem(12),\n      backgroundColor: transparent.main,\n    },\n\n    inputSizeSmall: {\n      fontSize: size.xs,\n      padding: pxToRem(10),\n    },\n\n    multiline: {\n      color: grey[700],\n      padding: 0,\n    },\n  },\n};\n\nexport default inputOutlined;\n","size_bytes":1710},"qms-source/BackEnd/src/routes/roleModulePermissionRoutes.js":{"content":"import express from 'express';\nimport roleModulePermissionController from '../controllers/roleModulePermissionController.js';\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post('/:moduleId',authenticateUser, checkPermission(\"write\"),roleModulePermissionController.assignPermission);     // Assign permissions\nrouter.get('/',authenticateUser, roleModulePermissionController.getAllPermissions);     // Get all role-module permissions\nrouter.get('/:role_id',authenticateUser, roleModulePermissionController.getPermissionsByRole); // Get permissions by role\n//router.put('/:role_id/:module_id',authenticateUser, roleModulePermissionController.updatePermission); // Update permissions\nrouter.delete('/:moduleId', authenticateUser,checkPermission(\"delete\"),roleModulePermissionController.deletePermission); // Remove permission\n\nexport default router;\n","size_bytes":980},"qms-source/frontend-new/src/assets/theme/components/form/autocomplete.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport boxShadows from \"assets/theme/base/boxShadows\";\nimport typography from \"assets/theme/base/typography\";\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { lg } = boxShadows;\nconst { size } = typography;\nconst { text, white, transparent, light, dark, gradients } = colors;\nconst { borderRadius } = borders;\n\nconst autocomplete = {\n  styleOverrides: {\n    popper: {\n      boxShadow: lg,\n      padding: pxToRem(8),\n      fontSize: size.sm,\n      color: text.main,\n      textAlign: \"left\",\n      backgroundColor: `${white.main} !important`,\n      borderRadius: borderRadius.md,\n    },\n\n    paper: {\n      boxShadow: \"none\",\n      backgroundColor: transparent.main,\n    },\n\n    option: {\n      padding: `${pxToRem(4.8)} ${pxToRem(16)}`,\n      borderRadius: borderRadius.md,\n      fontSize: size.sm,\n      color: text.main,\n      transition: \"background-color 300ms ease, color 300ms ease\",\n\n      \"&:hover, &:focus, &.Mui-selected, &.Mui-selected:hover, &.Mui-selected:focus\": {\n        backgroundColor: light.main,\n        color: dark.main,\n      },\n\n      '&[aria-selected=\"true\"]': {\n        backgroundColor: `${light.main} !important`,\n        color: `${dark.main} !important`,\n      },\n    },\n\n    noOptions: {\n      fontSize: size.sm,\n      color: text.main,\n    },\n\n    groupLabel: {\n      color: dark.main,\n    },\n\n    loading: {\n      fontSize: size.sm,\n      color: text.main,\n    },\n\n    tag: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: \"auto\",\n      padding: pxToRem(4),\n      backgroundColor: gradients.dark.state,\n      color: white.main,\n\n      \"& .MuiChip-label\": {\n        lineHeight: 1.2,\n        padding: `0 ${pxToRem(10)} 0 ${pxToRem(4)}`,\n      },\n\n      \"& .MuiSvgIcon-root, & .MuiSvgIcon-root:hover, & .MuiSvgIcon-root:focus\": {\n        color: white.main,\n        marginRight: 0,\n      },\n    },\n  },\n};\n\nexport default autocomplete;\n","size_bytes":2602},"qms-source/frontend-new/src/assets/theme/base/boxShadows.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base box-shadow styles for the Material Dashboard 2 React.\n * You can add new box-shadow using this file.\n * You can customized the box-shadow for the entire Material Dashboard 2 React using thie file.\n */\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"../../../assets/theme/base/colors\";\n\n// Material Dashboard 2 React Helper Functions\nimport boxShadow from \"../../../assets/theme/functions/boxShadow\";\n\nconst { black, white, tabs, coloredShadows } = colors;\n\nconst boxShadows = {\n  xs: boxShadow([0, 2], [9, -5], black.main, 0.15),\n  sm: boxShadow([0, 5], [10, 0], black.main, 0.12),\n  md: `${boxShadow([0, 4], [6, -1], black.main, 0.1)}, ${boxShadow(\n    [0, 2],\n    [4, -1],\n    black.main,\n    0.06\n  )}`,\n  lg: `${boxShadow([0, 10], [15, -3], black.main, 0.1)}, ${boxShadow(\n    [0, 4],\n    [6, -2],\n    black.main,\n    0.05\n  )}`,\n  xl: `${boxShadow([0, 20], [25, -5], black.main, 0.1)}, ${boxShadow(\n    [0, 10],\n    [10, -5],\n    black.main,\n    0.04\n  )}`,\n  xxl: boxShadow([0, 20], [27, 0], black.main, 0.05),\n  inset: boxShadow([0, 1], [2, 0], black.main, 0.075, \"inset\"),\n  colored: {\n    primary: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.primary,\n      0.4\n    )}`,\n    secondary: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.secondary,\n      0.4\n    )}`,\n    info: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.info,\n      0.4\n    )}`,\n    success: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.success,\n      0.4\n    )}`,\n    warning: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.warning,\n      0.4\n    )}`,\n    error: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.error,\n      0.4\n    )}`,\n    light: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.light,\n      0.4\n    )}`,\n    dark: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.dark,\n      0.4\n    )}`,\n  },\n\n  navbarBoxShadow: `${boxShadow([0, 0], [1, 1], white.main, 0.9, \"inset\")}, ${boxShadow(\n    [0, 20],\n    [27, 0],\n    black.main,\n    0.05\n  )}`,\n  sliderBoxShadow: {\n    thumb: boxShadow([0, 1], [13, 0], black.main, 0.2),\n  },\n  tabsBoxShadow: {\n    indicator: boxShadow([0, 1], [5, 1], tabs.indicator.boxShadow, 1),\n  },\n};\n\nexport default boxShadows;\n","size_bytes":3233},"qms-source/frontend-new/src/assets/theme/components/button/contained.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { white, text, info, secondary } = colors;\nconst { size } = typography;\n\nconst contained = {\n  base: {\n    backgroundColor: white.main,\n    minHeight: pxToRem(40),\n    color: text.main,\n    padding: `${pxToRem(10)} ${pxToRem(24)}`,\n\n    \"&:hover\": {\n      backgroundColor: white.main,\n    },\n\n    \"&:active, &:active:focus, &:active:hover\": {\n      opacity: 0.85,\n    },\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(16)} !important`,\n    },\n  },\n\n  small: {\n    minHeight: pxToRem(32),\n    padding: `${pxToRem(6)} ${pxToRem(16)}`,\n    fontSize: size.xs,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(12)} !important`,\n    },\n  },\n\n  large: {\n    minHeight: pxToRem(47),\n    padding: `${pxToRem(12)} ${pxToRem(28)}`,\n    fontSize: size.sm,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(22)} !important`,\n    },\n  },\n\n  primary: {\n    backgroundColor: info.main,\n\n    \"&:hover\": {\n      backgroundColor: info.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      backgroundColor: info.focus,\n    },\n  },\n\n  secondary: {\n    backgroundColor: secondary.main,\n\n    \"&:hover\": {\n      backgroundColor: secondary.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      backgroundColor: secondary.focus,\n    },\n  },\n};\n\nexport default contained;\n","size_bytes":2111},"qms-source/frontend-new/src/reportWebVitals.js":{"content":"const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","size_bytes":362},"frontend-new/src/assets/theme/components/container.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport breakpoints from \"assets/theme/base/breakpoints\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst {\n  values: { sm, md, lg, xl, xxl },\n} = breakpoints;\n\nconst SM = `@media (min-width: ${sm}px)`;\nconst MD = `@media (min-width: ${md}px)`;\nconst LG = `@media (min-width: ${lg}px)`;\nconst XL = `@media (min-width: ${xl}px)`;\nconst XXL = `@media (min-width: ${xxl}px)`;\n\nconst sharedClasses = {\n  paddingRight: `${pxToRem(24)} !important`,\n  paddingLeft: `${pxToRem(24)} !important`,\n  marginRight: \"auto !important\",\n  marginLeft: \"auto !important\",\n  width: \"100% !important\",\n  position: \"relative\",\n};\n\nconst container = {\n  [SM]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"540px !important\",\n    },\n  },\n  [MD]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"720px !important\",\n    },\n  },\n  [LG]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"960px !important\",\n    },\n  },\n  [XL]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"1140px !important\",\n    },\n  },\n  [XXL]: {\n    \".MuiContainer-root\": {\n      ...sharedClasses,\n      maxWidth: \"1320px !important\",\n    },\n  },\n};\n\nexport default container;\n","size_bytes":1838},"qms-source/BackEnd/src/utils/checkSuperRoleAdded.js":{"content":"import { v4 as uuidv4 } from 'uuid';\nimport Role from '../models/Role.js';\n\nconst ensureSuperAdminRole = async () => {\n    try {\n        // Check if \"Super Admin\" role exists\n        const superAdminRole = await Role.findOne({ where: { name: \"Super Admin\" } });\n\n        if (!superAdminRole) {\n            // Create Super Admin role if it doesn't exist\n            await Role.create({\n                id: uuidv4(), // Generate unique ID\n                name: \"Super Admin\",\n                description: \"This is Super Admin and he is responsible for all tasks related to the company. He is the point of contact.\"\n            });\n\n            console.log(\"âœ… Super Admin role created successfully.\");\n        } else {\n            console.log(\"âœ… Super Admin role already exists.\");\n        }\n    } catch (error) {\n        console.error(\"âŒ Error ensuring Super Admin role:\", error.message);\n    }\n};\n\nexport default ensureSuperAdminRole;\n","size_bytes":940},"qms-source/frontend-new/src/assets/theme-dark/components/svgIcon.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst svgIcon = {\n  defaultProps: {\n    fontSize: \"inherit\",\n  },\n\n  styleOverrides: {\n    fontSizeInherit: {\n      fontSize: \"inherit !important\",\n    },\n\n    fontSizeSmall: {\n      fontSize: `${pxToRem(20)} !important`,\n    },\n\n    fontSizeLarge: {\n      fontSize: `${pxToRem(36)} !important`,\n    },\n  },\n};\n\nexport default svgIcon;\n","size_bytes":966},"qms-source/frontend-new/src/main.jsx":{"content":"import { StrictMode } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport './index.css'\nimport App from './App.jsx'\nimport \"react-toastify/dist/ReactToastify.css\";\n// Material Dashboard 2 React Context Provider\nimport { MaterialUIControllerProvider } from \"../src/context\";\n\ncreateRoot(document.getElementById('root')).render(\n  <StrictMode>\n    <MaterialUIControllerProvider>\n      <App />\n    </MaterialUIControllerProvider>\n\n  </StrictMode>,\n)\n","size_bytes":461},"BackEnd/src/routes/notificationRoutes.js":{"content":"import express from \"express\";\nimport { getUnseenNotifications, markNotificationsAsSeen ,getAllNotifications} from \"../controllers/notificationController.js\";\nimport authenticateUser from '../middlewares/authMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.get(\"/\",authenticateUser, getUnseenNotifications);\nrouter.get(\"/all\",authenticateUser, getAllNotifications);\nrouter.post(\"/mark-seen\", authenticateUser,markNotificationsAsSeen);\n\nexport default router;\n","size_bytes":469},"BackEnd/src/routes/authRoutes.js":{"content":"import express from 'express';\nimport { login, logout , forgotPassword , changePassword} from '../controllers/authController.js';\n\nconst router = express.Router();\n\n// POST - Login\nrouter.post('/login', login);\n\n// POST - Logout\nrouter.post('/logout', logout);\n\n//POST - forgotPassword \nrouter.post('/forgotPassword',forgotPassword);\n\n//POST - Change Password \nrouter.post('/changePassword',changePassword);\n\nexport default router;\n","size_bytes":432},"qms-source/frontend-new/src/assets/theme-dark/components/list/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst list = {\n  styleOverrides: {\n    padding: {\n      paddingTop: 0,\n      paddingBottom: 0,\n    },\n  },\n};\n\nexport default list;\n","size_bytes":655},"qms-source/frontend-new/src/styles/LoginPage.css":{"content":".login-form-container {\n    max-width: 400px;\n    margin: 50px auto;\n    padding: 30px;\n    background: white;\n    border-radius: 10px;\n    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n    text-align: center;\n}\n\n.login-form-container h5 {\n    font-size: 22px;\n    margin-bottom: 20px;\n    color: #333;\n}\n\n.login-input {\n    width: 100%;\n    margin-bottom: 20px !important;\n}\n\n.login-button {\n    width: 100%;\n    padding: 10px;\n    background-color: #007bff !important;\n    color: white !important;\n    border: none;\n    border-radius: 5px;\n    font-size: 16px;\n    cursor: pointer;\n    margin-top: 10px;\n}\n\n.login-button:hover {\n    background-color: #0056b3 !important;\n}\n\n.forgot-password {\n    display: block;\n    text-align: right;\n    margin-bottom: 10px;\n    color: #007bff;\n    font-size: 14px;\n    cursor: pointer;\n}\n","size_bytes":826},"BackEnd/src/routes/companyRoutes.js":{"content":"import express from 'express';\nimport companyController from '../controllers/companyController.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\nimport authenticateUser from '../middlewares/authMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post('/:moduleId',authenticateUser,checkPermission(\"write\"), companyController.createCompany);\nrouter.put('/:moduleId/:id', authenticateUser,checkPermission(\"write\"),companyController.updateCompanyDetails);\nrouter.delete('/:moduleId/:id', authenticateUser,checkPermission(\"delete\"),companyController.softDeleteCompany);\nrouter.get('/:moduleId/:id',authenticateUser,checkPermission(\"read\"), companyController.getCompanyDetails);\nrouter.get('/:moduleId',authenticateUser,checkPermission(\"read\"), companyController.getCompanyDetails);\n\nexport default router;\n","size_bytes":836},"BackEnd/src/controllers/authController.js":{"content":"import bcrypt from 'bcryptjs';\nimport jwt from 'jsonwebtoken';\nimport User from '../models/User.js';\nimport generateRandomPassword from '../utils/generateRandomPassword.js';\nimport sendEmail from '../utils/sendEmail.js';\nimport Company from '../models/Company.js';\n\nimport { config } from 'dotenv';\n\n// Load environment variables\nconfig();\n\nconst SECRET_KEY = process.env.JWT_SECRET; // Use env variable\n\n// ðŸŸ¢ Login API\n\nexport const login = async (req, res) => {\n    try {\n        const { email, password } = req.body;\n\n        const user = await User.findOne({\n            where: {\n                email\n            },\n            include: {\n                model: Company.scope('all'),\n                attributes: ['is_active'],\n                required: true\n            }\n        });\n\n        if (!user) {\n            return res.status(401).json({ error: \"User not found. Please check your email.\" });\n        }\n\n        if (!user.is_active) {\n            return res.status(403).json({ error: \"User is deactivated. Please contact admin.\" });\n        }\n\n        if (!user.Company?.is_active) {\n            return res.status(403).json({ error: \"Company is deactivated. Please contact admin.\" });\n        }\n\n        const isMatch = await bcrypt.compare(password, user.password_hash);\n        if (!isMatch) {\n            return res.status(401).json({ error: \"Incorrect password. Please try again.\" });\n        }\n\n        const token = jwt.sign(\n            {\n                id: user.id,\n                email: user.email,\n                role: user.role_id,\n                company: user.company_id\n            },\n            SECRET_KEY,\n            { expiresIn: '1d' }\n        );\n\n        res.status(200).json({ message: \"Login successful\", token });\n\n    } catch (error) {\n        res.status(500).json({ error: \"Internal Server Error: \" + error.message });\n    }\n};\n\n\n\n// ðŸ”´ Logout API (Client-side should delete the token)\nexport const logout = async (req, res) => {\n    try {\n        // No need to invalidate token on backend (handled on client-side)\n        res.status(200).json({ message: \"Logout successful\" });\n    } catch (error) {\n        res.status(500).json({ error: \"Internal Server Error: \" + error.message });\n    }\n};\n\n\nexport const forgotPassword = async (req, res) => {\n    try {\n        const { email } = req.body;\n\n        if (!email) {\n            return res.status(400).json({ error: 'Email is required' });\n        }\n\n        const user = await User.findOne({ where: { email } });\n\n        if (!user) {\n            return res.status(404).json({ error: 'User not found' });\n        }\n\n        // Generate a new password\n        const newPassword = generateRandomPassword();\n        console.log(\"New password while forgot is \"+newPassword);\n        const hashedPassword = await bcrypt.hash(newPassword, 10);\n\n        // Update password in database\n        await user.update({ password_hash: hashedPassword });\n\n        // Send email with new password\n        const subject = 'Password Reset - Your New Credentials';\n        const message = `\n            Hello ${user.name},\n            \\nYour password has been reset. Below are your new login credentials:\\n\n            Email: ${email}\n            Password: ${newPassword}\n            \\nPlease change your password after logging in.\\n\n            Regards,\n            Your Team\n        `;\n\n        await sendEmail(email, subject, message);\n\n        res.status(200).json({ message: 'New password sent to your email' });\n\n    } catch (error) {\n        console.error(error);\n        res.status(500).json({ error: 'Internal Server Error' });\n    }\n};\n\n\nexport const changePassword = async (req, res) => {\n    try {\n        const { email, oldPassword, newPassword } = req.body;\n\n        if (!email || !oldPassword || !newPassword) {\n            return res.status(400).json({ error: 'Email, old password, and new password are required' });\n        }\n\n        const user = await User.findOne({ where: { email } });\n\n        if (!user) {\n            return res.status(404).json({ error: 'User not found' });\n        }\n\n        // Verify old password\n        const isMatch = await bcrypt.compare(oldPassword, user.password_hash);\n        if (!isMatch) {\n            return res.status(400).json({ error: 'Old password is incorrect' });\n        }\n\n        // Hash new password and update it\n       const hashedNewPassword = await bcrypt.hash(newPassword, 10);\n        await user.update({ password_hash: hashedNewPassword });\n\n        res.status(200).json({ message: 'Password changed successfully' });\n\n    } catch (error) {\n        console.error(error);\n        res.status(500).json({ error: 'Internal Server Error' });\n    }\n};","size_bytes":4696},"frontend-new/src/assets/theme-dark/base/boxShadows.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base box-shadow styles for the Material Dashboard 2 React.\n * You can add new box-shadow using this file.\n * You can customized the box-shadow for the entire Material Dashboard 2 React using thie file.\n */\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React Helper Functions\nimport boxShadow from \"assets/theme-dark/functions/boxShadow\";\n\nconst { black, dark, tabs, coloredShadows } = colors;\n\nconst boxShadows = {\n  xs: boxShadow([0, 2], [9, -5], black.main, 0.15),\n  sm: boxShadow([0, 5], [10, 0], black.main, 0.12),\n  md: `${boxShadow([0, 2], [2, 0], black.main, 0.14)}, ${boxShadow(\n    [0, 3],\n    [1, -2],\n    black.main,\n    0.2\n  )}, ${boxShadow([0, 1], [5, 0], black.main, 0.12)}`,\n  lg: `${boxShadow([0, 10], [15, -3], black.main, 0.1)}, ${boxShadow(\n    [0, 4],\n    [6, -2],\n    black.main,\n    0.05\n  )}`,\n  xl: `${boxShadow([0, 20], [25, -5], black.main, 0.1)}, ${boxShadow(\n    [0, 10],\n    [10, -5],\n    black.main,\n    0.04\n  )}`,\n  xxl: boxShadow([0, 20], [27, 0], black.main, 0.05),\n  inset: boxShadow([0, 1], [2, 0], black.main, 0.075, \"inset\"),\n  colored: {\n    primary: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.primary,\n      0.4\n    )}`,\n    secondary: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.secondary,\n      0.4\n    )}`,\n    info: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.info,\n      0.4\n    )}`,\n    success: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.success,\n      0.4\n    )}`,\n    warning: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.warning,\n      0.4\n    )}`,\n    error: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.error,\n      0.4\n    )}`,\n    light: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.light,\n      0.4\n    )}`,\n    dark: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.dark,\n      0.4\n    )}`,\n  },\n\n  navbarBoxShadow: `${boxShadow([0, 0], [1, 1], dark.main, 0.9, \"inset\")}, ${boxShadow(\n    [0, 20],\n    [27, 0],\n    black.main,\n    0.05\n  )}`,\n  sliderBoxShadow: {\n    thumb: boxShadow([0, 1], [13, 0], black.main, 0.2),\n  },\n  tabsBoxShadow: {\n    indicator: boxShadow([0, 1], [5, 1], tabs.indicator.boxShadow, 1),\n  },\n};\n\nexport default boxShadows;\n","size_bytes":3270},"frontend-new/src/assets/theme-dark/components/breadcrumbs.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\n\nconst { grey } = colors;\nconst { size } = typography;\n\nconst breadcrumbs = {\n  styleOverrides: {\n    li: {\n      lineHeight: 0,\n    },\n\n    separator: {\n      fontSize: size.sm,\n      color: grey[600],\n    },\n  },\n};\n\nexport default breadcrumbs;\n","size_bytes":924},"qms-source/frontend-new/src/styles/AssignPermissions.css":{"content":"\n\n/* .permissions-container {\n  padding: 20px;\n  max-width: 900px;\n  margin: auto;\n  background: #fff;\n  border-radius: 10px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  text-align: center;\n}\n\nh2, h3 {\n  color: #333;\n  margin-bottom: 15px;\n} */\n\n/* Common table styling for both pages */\n/* .permissions-table, .role-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n} */\n\n/* .permissions-table th, \n.permissions-table td,\n.role-table th,\n.role-table td {\n  border: 1px solid #ddd;\n  padding: 10px;\n  text-align: left;\n} */\n\n/* .permissions-table th,\n.role-table th {\n  background-color: #f4f4f4;\n  font-weight: bold;\n}\n\n.permissions-table tr:hover,\n.role-table tr:hover {\n  background-color: #f1f1f1;\n} */\n\n/* Styling for checkboxes */\n/* input[type=\"checkbox\"] {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n} */\n\n/* Save Button */\n/* .save-btn {\n  display: block;\n  margin: 20px auto;\n  padding: 12px 20px;\n  background: #0d6efd;\n  color: white;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n  font-size: 16px;\n}\n\n.save-btn:hover {\n  background: #0b5ed7;\n} */\n\n/* Assign Button  */\n/* .assign-button {\n  margin-top: 10px;\n  padding: 10px 15px;\n  font-size: 16px;\n  background-color: #1d72b8;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: 0.3s ease;\n}\n\n.assign-button:hover {\n  background-color: #155a8a;\n} */\n\n/* Role Selection Section */\n/* .role-info {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n}\n\nselect {\n  padding: 10px;\n  width: 100%;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n} */\n\n/* Styling for the Roles Table */\n/* .roles-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\n.roles-table th, \n.roles-table td {\n  border: 1px solid #ddd;\n  padding: 10px;\n  text-align: left;\n}\n\n.roles-table th {\n  background-color: #f4f4f4;\n  font-weight: bold;\n}\n\n.roles-table tr:hover {\n  background-color: #f1f1f1;\n}\n\n\n.assign-button {\n  margin-top: 10px;\n  padding: 10px 15px;\n  font-size: 16px;\n  background-color: #1d72b8;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: 0.3s ease;\n}\n\n.assign-button:hover {\n  background-color: #155a8a;\n} */\n\n\n.permissions-container {\n  padding: 20px;\n  max-width: 900px;\n  margin: auto;\n  background: #ffffff;\n  border-radius: 10px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  text-align: center;\n}\n\nh2, h3 {\n  color: #222;\n  margin-bottom: 15px;\n}\n\n/* Common table styling for both pages */\n.permissions-table, .role-table, .roles-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n  border-radius: 8px;\n  overflow: hidden;\n  background: white;\n}\n\n.permissions-table th, \n.permissions-table td,\n.role-table th,\n.role-table td,\n.roles-table th,\n.roles-table td {\n  border: 1px solid #ddd;\n  padding: 12px;\n  text-align: left;\n}\n\n.permissions-table th,\n.role-table th,\n.roles-table th {\n  background-color: #34495e;\n  color: white;\n  font-weight: bold;\n  padding: 14px;\n}\n\n.permissions-table tr:nth-child(even),\n.role-table tr:nth-child(even),\n.roles-table tr:nth-child(even) {\n  background-color: #f9f9f9;\n}\n\n.permissions-table tr:hover,\n.role-table tr:hover,\n.roles-table tr:hover {\n  background-color: #f1f1f1;\n}\n\n/* Styling for checkboxes */\ninput[type=\"checkbox\"] {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n}\n\n/* Save Button */\n.save-btn {\n  display: block;\n  margin: 20px auto;\n  padding: 12px 20px;\n  background: #007bff;\n  color: white;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n  font-size: 16px;\n  transition: 0.3s ease-in-out;\n}\n\n.save-btn:hover {\n  background: #0056b3;\n  transform: scale(1.05);\n}\n\n/* Assign Button */\n.assign-button {\n  margin-top: 10px;\n  padding: 10px 15px;\n  font-size: 16px;\n  background-color: #1d72b8;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n}\n\n.assign-button:hover {\n  background-color: #155a8a;\n  transform: scale(1.05);\n}\n\n/* Role Selection Section */\n.role-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  background: #f8f9fa;\n  padding: 10px;\n  border-radius: 8px;\n}\n\nselect {\n  padding: 10px;\n  width: 100%;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  font-size: 14px;\n  background: white;\n  cursor: pointer;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .permissions-container {\n    width: 95%;\n  }\n\n  .permissions-table th, \n  .role-table th, \n  .roles-table th,\n  .permissions-table td,\n  .role-table td,\n  .roles-table td {\n    padding: 10px;\n    font-size: 14px;\n  }\n\n  .assign-button, .save-btn {\n    font-size: 14px;\n    padding: 8px 12px;\n  }\n}\n","size_bytes":4702},"qms-source/frontend-new/src/pages/module_management/ModuleList.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport {\n  Container,\n  Paper,\n  Grid,\n  Typography,\n  Button,\n  IconButton,\n} from \"@mui/material\";\nimport { Edit, Delete } from \"@mui/icons-material\";\nimport axiosInstance from \"../../services/axiosinstance\";\nconst modulesModelId = \"881fc061-b852-4a9b-a430-ea96ba99194d\";\n\nconst ModuleList = () => {\n  const [modules, setModules] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Fetch module list on component mount\n    axiosInstance\n      .get(`/modules/${modulesModelId}`)\n      .then((res) => setModules(res.data))\n      .catch((err) => {\n        console.error(\"Error fetching modules:\", err);\n        toast.error(\"Failed to fetch modules\");\n      });\n  }, []);\n\n  const handleEdit = (moduleId) => navigate(`/modules/${moduleId}`); // Navigate to edit page\n\n  const handleDelete = (moduleId) => {\n    toast.dismiss();\n    toast.info(\n      <div>\n        <p>Are you sure you want to delete this module?</p>\n        <button onClick={() => confirmDelete(moduleId)}>Yes</button>\n        <button onClick={() => toast.dismiss()}>No</button>\n      </div>,\n      {\n        position: \"top-center\",\n        autoClose: false,\n        closeOnClick: false,\n        draggable: false,\n        closeButton: false,\n      }\n    );\n  };\n\n  const confirmDelete = (moduleId) => {\n    axiosInstance\n      .delete(`/modules/${modulesModelId}/${moduleId}`)\n      .then(() => {\n        setModules(modules.filter((module) => module.id !== moduleId)); // Remove deleted module\n        toast.success(\"Module deleted successfully\");\n      })\n      .catch((err) => {\n        console.error(\"Error deleting module:\", err);\n        toast.error(\"Failed to delete module\");\n      });\n    toast.dismiss();\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ px: { xs: 2, sm: 3 }, mt: 4 }}>\n      <ToastContainer />\n\n      <Paper\n        elevation={4}\n        sx={{\n          p: 3,\n          mx: { xs: 1, sm: 3, md: 4 }, // ðŸ‘ˆ add horizontal margin (left & right)\n          borderRadius: 3,\n          backgroundColor: \"#f9f9f9\",\n          boxShadow: \"0px 4px 12px rgba(0, 0, 0, 0.1)\",\n        }}\n      >\n        {/* Header Section */}\n        <Grid\n          container\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          sx={{ mb: 3 }}\n        >\n          <Grid item>\n            <Typography variant=\"h5\" fontWeight={600}>\n              Modules\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => navigate(\"/modules/new\")}\n              sx={{ textTransform: \"none\", px: 3 }}\n            >\n              Add Module\n            </Button>\n          </Grid>\n        </Grid>\n\n        {/* Grid Header */}\n        <Grid\n          container\n          sx={{\n            display: { xs: \"none\", sm: \"flex\" },\n            py: 1,\n            px: 1,\n            backgroundColor: \"#f5f5f5\",\n            borderBottom: \"2px solid #ddd\",\n            fontWeight: \"bold\",\n          }}\n        >\n          <Grid item sm={4}>\n            Module Name\n          </Grid>\n          <Grid item sm={6}>\n            Description\n          </Grid>\n          <Grid item sm={2}>\n            Actions\n          </Grid>\n        </Grid>\n\n        {/* Module Rows */}\n        {modules.map((module, index) => (\n          <Grid\n            container\n            key={module.id}\n            spacing={2}\n            sx={{\n              py: 1.5,\n              px: 1,\n              borderBottom:\n                index !== modules.length - 1 ? \"1px solid #eee\" : \"none\",\n              bgcolor: \"#fff\",\n              borderRadius: { xs: 2, sm: 0 },\n              mt: { xs: 2, sm: 0 },\n              flexDirection: { xs: \"column\", sm: \"row\" },\n              transition: \"background-color 0.2s ease\",\n              \"&:hover\": {\n                backgroundColor: \"#f5f5f5\",\n              },\n            }}\n          >\n            {/* Module Name */}\n            <Grid item xs={12} sm={4}>\n              <Typography\n                fontWeight=\"bold\"\n                sx={{ display: { sm: \"none\" }, mb: 0.5 }}\n              >\n                Module Name:\n              </Typography>\n              <Typography>{module.name}</Typography>\n            </Grid>\n\n            {/* Description */}\n            <Grid item xs={12} sm={6}>\n              <Typography\n                fontWeight=\"bold\"\n                sx={{ display: { sm: \"none\" }, mb: 0.5 }}\n              >\n                Description:\n              </Typography>\n              <Typography>{module.description}</Typography>\n            </Grid>\n\n            {/* Actions */}\n            <Grid\n              item\n              xs={12}\n              sm={2}\n              sx={{\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: 1,\n                mt: { xs: 1, sm: 0 },\n                justifyContent: { xs: \"flex-start\", sm: \"center\" },\n              }}\n            >\n              <IconButton color=\"primary\" onClick={() => handleEdit(module.id)}>\n                <Edit />\n              </IconButton>\n              <IconButton color=\"error\" onClick={() => handleDelete(module.id)}>\n                <Delete />\n              </IconButton>\n            </Grid>\n          </Grid>\n        ))}\n      </Paper>\n    </Container>\n  );\n};\n\nexport default ModuleList;\n","size_bytes":5553},"frontend-new/src/assets/theme-dark/components/stepper/stepLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme-dark/base/typography\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { size, fontWeightRegular } = typography;\nconst { white } = colors;\n\nconst stepLabel = {\n  styleOverrides: {\n    label: {\n      marginTop: `${pxToRem(8)} !important`,\n      fontWeight: fontWeightRegular,\n      fontSize: size.xs,\n      color: \"#9fc9ff\",\n      textTransform: \"uppercase\",\n\n      \"&.Mui-active\": {\n        fontWeight: `${fontWeightRegular} !important`,\n        color: `${rgba(white.main, 0.8)} !important`,\n      },\n\n      \"&.Mui-completed\": {\n        fontWeight: `${fontWeightRegular} !important`,\n        color: `${rgba(white.main, 0.8)} !important`,\n      },\n    },\n  },\n};\n\nexport default stepLabel;\n","size_bytes":1462},"BackEnd/src/controllers/taskChangeLogController.js":{"content":"import TaskChangeLog from \"../models/TaskChangeLog.js\";\nimport User from \"../models/User.js\";\nimport Task from \"../models/Task.js\";\nimport { Op } from \"sequelize\";\n\nexport const getTaskChangeLogs = async (req, res) => {\n    try {\n        const { task_id } = req.params;\n\n        // Fetch change logs for the given task_id, including user details\n        const changeLogs = await TaskChangeLog.findAll({\n            where: { task_id },\n            include: [\n                { model: User.scope('all'), as: \"Changer\", attributes: [\"id\", \"name\", \"email\"] }, // User who made the change\n                { model: Task, attributes: [\"id\", \"Checklist_Item\"] } // Task details\n            ],\n            order: [[\"changed_at\", \"DESC\"]] // Show latest changes first\n        });\n\n        // Enhance details for assignment changes\n        const formattedLogs = await Promise.all(changeLogs.map(async (log) => {\n            let detailedOldValue = log.old_value;\n            let detailedNewValue = log.new_value;\n\n            if (log.field_changed === \"assignment\") {\n                try {\n                    const oldUserIds = JSON.parse(log.old_value || \"[]\");\n                    const newUserIds = JSON.parse(log.new_value || \"[]\");\n\n                    // Fetch user details for old and new assignees\n                    const oldUsers = await User.findAll({\n                        where: { id: { [Op.in]: oldUserIds } },\n                        attributes: [\"id\", \"name\", \"email\"]\n                    });\n\n                    const newUsers = await User.findAll({\n                        where: { id: { [Op.in]: newUserIds } },\n                        attributes: [\"id\", \"name\", \"email\"]\n                    });\n\n                    detailedOldValue = oldUsers.map(user => ({ id: user.id, name: user.name, email: user.email }));\n                    detailedNewValue = newUsers.map(user => ({ id: user.id, name: user.name, email: user.email }));\n                } catch (parseError) {\n                    console.error(\"Error parsing assignment values:\", parseError);\n                }\n            }\n\n            return {\n                id: log.id,\n                task_id: log.task_id,\n                task_name: log.Task?.Checklist_Item  || \"Unknown Task\",\n                changed_by: log.Changer ? { id: log.Changer.id, name: log.Changer.name, email: log.Changer.email } : null,\n                field_changed: log.field_changed,\n                old_value: detailedOldValue,\n                new_value: detailedNewValue,\n                changed_at: log.changed_at\n            };\n        }));\n\n        res.json(formattedLogs);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport default{getTaskChangeLogs};","size_bytes":2745},"qms-source/frontend-new/src/assets/theme-dark/components/table/tableContainer.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\nimport borders from \"assets/theme-dark/base/borders\";\n\nconst { background } = colors;\nconst { md } = boxShadows;\nconst { borderRadius } = borders;\n\nconst tableContainer = {\n  styleOverrides: {\n    root: {\n      backgroundColor: background.card,\n      boxShadow: md,\n      borderRadius: borderRadius.xl,\n    },\n  },\n};\n\nexport default tableContainer;\n","size_bytes":1027},"frontend-new/src/assets/theme-dark/components/dialog/dialogContent.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme-dark/base/typography\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { size } = typography;\nconst { white } = colors;\nconst { borderWidth, borderColor } = borders;\n\nconst dialogContent = {\n  styleOverrides: {\n    root: {\n      padding: pxToRem(16),\n      fontSize: size.md,\n      color: rgba(white.main, 0.8),\n    },\n\n    dividers: {\n      borderTop: `${borderWidth[1]} solid ${rgba(borderColor, 0.6)}`,\n      borderBottom: `${borderWidth[1]} solid ${rgba(borderColor, 0.6)}`,\n    },\n  },\n};\n\nexport default dialogContent;\n","size_bytes":1352},"frontend-new/src/assets/theme-dark/components/form/formLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\n\nconst { text } = colors;\n\nconst formLabel = {\n  styleOverrides: {\n    root: {\n      color: text.main,\n    },\n  },\n};\n\nexport default formLabel;\n","size_bytes":762},"BackEnd/src/config/constants.js":{"content":"//export const VALID_STATUS_VALUES = [\"Backlog\", \"Overdue\", \"In Progress\", \"Approved\", \"In Review\", \"FI\", \"PI\", \"NI\", \"NA\", \"TBD\", \"OFI\", \"Obs\", \"NC- Minor\", \"NC- Major\"];\n\nexport const VALID_STATUS_VALUES = [\"Not Done\", \"Partially Done\", \"In-Progress\", \"Largely Done\", \"Done\", \"NA\"];\nexport const VALID_PRIORITY_VALUES = [\"High\", \"Medium\", \"Low\"];\nexport const VALID_TASK_TYPES = [\"Control\", \"Process\", \"Procedure\", \"Monitoring\", \"Material\"];\nexport const VALID_TASK_CHANGE_FIELDS = [\"status\", \"priority\", \"assignment\",\"document\",\"task\"];\nexport const VALID_COMPLIANCE_VALUES = [\"Yes\", \"No\", \"Partial\", \"Not Applicable\"];\nexport const VALID_TYPE_OF_FINDING = [\"Compliance\",\"Observation\",\"Non-Compliance\",\"Opportunity For Improvement\"];\nexport const VALID_STANDARDS =[\"ISO_9001\",\"ISO_27001\"];\n\nexport const  VALID_STATUSWEIGHTAGE =  {\n    \"Not Done\": 0,\n    \"Partially Done\": 25,\n    \"In-Progress\": 50,\n    \"Largely Done\":75,\n    \"Done\":100,\n    \"NA\":100,    \n  }","size_bytes":963},"qms-source/frontend-new/src/assets/theme/components/form/input.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\nimport borders from \"assets/theme/base/borders\";\n\nconst { info, inputBorderColor, dark } = colors;\nconst { size } = typography;\nconst { borderWidth } = borders;\n\nconst input = {\n  styleOverrides: {\n    root: {\n      fontSize: size.sm,\n      color: dark.main,\n\n      \"&:hover:not(.Mui-disabled):before\": {\n        borderBottom: `${borderWidth[1]} solid ${inputBorderColor}`,\n      },\n\n      \"&:before\": {\n        borderColor: inputBorderColor,\n      },\n\n      \"&:after\": {\n        borderColor: info.main,\n      },\n    },\n  },\n};\n\nexport default input;\n","size_bytes":1218},"frontend-new/src/assets/theme/components/card/cardContent.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst cardContent = {\n  styleOverrides: {\n    root: {\n      marginTop: 0,\n      marginBottom: 0,\n      padding: `${pxToRem(8)} ${pxToRem(24)} ${pxToRem(24)}`,\n    },\n  },\n};\n\nexport default cardContent;\n","size_bytes":828},"qms-source/frontend-new/src/pages/TaskManagement/CreateTask.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  TextField,\n  MenuItem,\n  Button,\n  Container,\n  Typography,\n  Paper,\n  Grid2,\n} from \"@mui/material\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast } from \"react-toastify\";\n\nconst CreateTask = () => {\n  const navigate = useNavigate();\n  const [iterations, setIterations] = useState([]);\n  const [iterationId, setIterationId] = useState(\"\");\n  const [task, setTask] = useState({\n    auditee: \"\",\n    area: \"\",\n    Checklist_Item: \"\",\n    notes: \"\",\n    Type_of_Finding: \"\",\n    status: \"\",\n    description: \"\",\n    standard: \"\",\n    //task_type: \"Process\",\n    // expected_artifact: \"\",\n    // actual: \" \",\n    // compliance: \"\",\n    priority: \"\",\n    responsibility: \"\",\n    RCA_Details: \"\",\n    Planned_Completion_Date:\"\",\n    Actual_Completion_Date: null,\n    clause_number: \"\",\n    document_reference: \"\",\n    document: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n\n  const taskModuleId = \"1f0f190d-3a83-421c-af98-5d081100230e\";\n\n  useEffect(() => {\n    const fetchIterations = async () => {\n      try {\n        const company_id = sessionStorage.getItem(\"selectedCompany\");\n\n        if (!company_id) {\n          toast.error(\"Company ID is required.\");\n          return;\n        }\n\n        const response = await axiosInstance.get(`/iteration/${taskModuleId}`, {\n          params: { company_id },\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n          },\n        });\n\n        setIterations(response.data || []);\n      } catch (error) {\n        const errorMsg =\n          error?.response?.data?.error ||\n          error?.response?.data?.message ||\n          error?.message ||\n          \"Unknown error\";\n\n        console.error(\"Error fetching iterations:\", errorMsg, error.response);\n        toast.error(`Failed to fetch iterations: ${errorMsg}`);\n      }\n    };\n\n    fetchIterations();\n  }, []);\n\n  const validateFields = () => {\n    if (!task.Checklist_Item) {\n      toast.error(\"Checklist Item is required.\");\n      return false;\n    }\n\n    if (!iterationId) {\n      toast.error(\"Iteration is required.\");\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!validateFields()) return;\n    setLoading(true);\n\n    const moduleId = \"4a060652-4c92-47d8-9515-e500da5e94ef\";\n    let company_id = sessionStorage.getItem(\"selectedCompany\");\n\n    try {\n      console.log(\"Company ID:\", company_id);\n\n      const response = await axiosInstance.post(\n        `/tasks/${moduleId}`,\n        { ...task, company_id, iteration_id: iterationId },\n        {\n          headers: { \"Content-Type\": \"application/json\" },\n        }\n      );\n\n      if (response.status === 201) {\n        toast.success(\"Task created successfully\");\n        navigate(\"/tasks\");\n      } else {\n        toast.error(\"Unexpected response from server.\");\n      }\n    } catch (error) {\n      console.error(\n        \"Error creating task:\",\n        error.response?.data || error.message\n      );\n      toast.error(error.response?.data?.error || \"Failed to create task.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        mb: 2,\n        marginRight: 2,\n      }}\n    >\n      <Typography\n        variant=\"h3\"\n        fontWeight={\"'bold\"}\n        sx={{ textAlign: \"center\" }}\n      >\n        Create Task\n      </Typography>\n\n      <Grid2\n        container\n        spacing={4}\n        mt={2}\n        component=\"form\"\n        onSubmit={handleSubmit}\n      >\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            select\n            fullWidth\n            label=\"Select Iteration\"\n            value={iterationId}\n            onChange={(e) => setIterationId(e.target.value)}\n            required\n          >\n            <MenuItem value=\"\" disabled>\n              Select Iteration\n            </MenuItem>\n            {iterations.map((iter) => (\n              <MenuItem key={iter.id} value={iter.id}>\n                {iter.name}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            select\n            label=\"Auditee\"\n            name=\"auditee\"\n            value={task.auditee}\n            onChange={(e) => setTask({ ...task, auditee: e.target.value })}\n            required\n          >\n            {[\n              \"CISO\",\n              \"HOD-HR\",\n              \"HOD-Facility Admin\",\n              \"HOD-IT\",\n              \"HOD-Purchase\",\n              \"IT Administration\",\n              \"Project Manager - SDLC\",\n            ].map((auditee) => (\n              <MenuItem key={auditee} value={auditee}>\n                {auditee}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            label=\"Area\"\n            name=\"area\"\n            value={task.area}\n            onChange={(e) => setTask({ ...task, area: e.target.value })}\n            required\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            label=\"Checklist Item\"\n            name=\"Checklist Item\"\n            value={task.Checklist_Item}\n            onChange={(e) =>\n              setTask({ ...task, Checklist_Item: e.target.value })\n            }\n            required\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            label=\"Notes\"\n            name=\"notes\"\n            value={task.notes}\n            onChange={(e) => setTask({ ...task, notes: e.target.value })}\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6 ,lg: 6 }}>\n          <TextField\n            fullWidth\n            select\n            label=\"Type of Finding\"\n            name=\"Type_of_Finding\"\n            value={task.Type_of_Finding}\n            onChange={(e) =>\n              setTask({ ...task, Type_of_Finding: e.target.value })\n            }\n           // margin=\"normal\"\n            required\n          >\n            {[\n              \"Compliance\",\n              \"Observation\",\n              \"Non-Compliance\",\n              \"Opportunity For Improvement\",\n            ].map((option) => (\n              <MenuItem key={option} value={option}>\n                {option}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6 ,lg: 6 }}>\n          <TextField\n            fullWidth\n            select\n            label=\"Status\"\n            name=\"status\"\n            value={task.status}\n            onChange={(e) => setTask({ ...task, status: e.target.value })}\n            //margin=\"normal\"\n          >\n            {[\n              // \"FI\",\n              // \"PI\",\n              // \"NI\",\n              // \"NA\",\n              // \"TBD\",\n              // \"OFI\",\n              // \"Obs\",\n              // \"NC- Minor\",\n              // \"NC- Major\",\n              \"Not Done\",\n              \"Partially Done\",\n              \"In-Progress\",\n              \"Largely Done\",\n              \"Done\",\n              \"NA\",\n            ].map((status) => (\n              <MenuItem key={status} value={status}>\n                {status}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            label=\"Description\"\n            name=\"description\"\n            value={task.description}\n            onChange={(e) => setTask({ ...task, description: e.target.value })}\n            multiline\n            rows={1}\n            required\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            select\n            label=\"Standard\"\n            name=\"standard\"\n            value={task.standard}\n            onChange={(e) => setTask({ ...task, standard: e.target.value })}\n            required\n          >\n            {[\"ISO_9001\", \"ISO_27001\"].map((standard) => (\n              <MenuItem key={standard} value={standard}>\n                {standard}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid2>\n\n        {/* <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            select\n            label=\"Task Type\"\n            name=\"task_type\"\n            value={task.task_type}\n            onChange={(e) => setTask({ ...task, task_type: e.target.value })}\n            required\n          >\n            {[\"Control\", \"Process\", \"Procedure\", \"Monitoring\", \"Material\"].map(\n              (taskType) => (\n                <MenuItem key={taskType} value={taskType}>\n                  {taskType}\n                </MenuItem>\n              )\n            )}\n          </TextField>\n        </Grid2> */}\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            select\n            label=\"Priority\"\n            name=\"priority\"\n            value={task.priority}\n            onChange={(e) => setTask({ ...task, priority: e.target.value })}\n          >\n            {[\"High\", \"Medium\", \"Low\"].map((priority) => (\n              <MenuItem key={priority} value={priority}>\n                {priority}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            label=\"Responsibility\"\n            name=\"responsibility\"\n            value={task.responsibility}\n            onChange={(e) =>\n              setTask({ ...task, responsibility: e.target.value })\n            }\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, }}>\n          <TextField\n            fullWidth\n            label=\"RCA Details\"\n            name=\"RCA_Details\"\n            value={task.RCA_Details}\n            onChange={(e) => setTask({ ...task, RCA_Details: e.target.value })}\n          //  margin=\"normal\"\n            multiline\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6 , lg: 6 }}>\n          <TextField\n            fullWidth\n            type=\"date\"\n            label=\"Planned Completion Date\"\n            name=\"Planned_Completion_Date\"\n            value={task.Planned_Completion_Date}\n            onChange={(e) =>\n              setTask({ ...task, Planned_Completion_Date: e.target.value })\n            }\n           // margin=\"normal\"\n            InputLabelProps={{ shrink: true }}\n            required\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6 , lg: 6 }}>\n          <TextField\n            fullWidth\n            type=\"date\"\n            label=\"Actual Completion Date\"\n            name=\"Actual_Completion_Date\"\n            value={task.Actual_Completion_Date}\n            onChange={(e) =>\n              setTask({ ...task, Actual_Completion_Date: e.target.value })\n            }\n           // margin=\"normal\"\n            InputLabelProps={{ shrink: true }}\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6 , lg: 6 }}>\n          <TextField\n            fullWidth\n            label=\"Reference - Clause\"\n            name=\"clause_number\"\n            value={task.clause_number}\n            onChange={(e) =>\n              setTask({ ...task, clause_number: e.target.value })\n            }\n           // margin=\"normal\"\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}></Grid2>\n        <Grid2\n          size={{ xs: 12, md: 12 }}\n          sx={{ display: \"flex\", justifyContent: \"flex-end\", mt: 0, gap: 1 }}\n        >\n          <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n            Create Task\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={() => navigate(\"/tasks\")}\n          >\n            Cancel\n          </Button>\n        </Grid2>\n      </Grid2>\n    </Paper>\n  );\n};\n\nexport default CreateTask;\n","size_bytes":12238},"frontend-new/src/pages/TaskManagement/CreateTask.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  TextField,\n  MenuItem,\n  Button,\n  Container,\n  Typography,\n  Paper,\n  Grid2,\n} from \"@mui/material\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast } from \"react-toastify\";\n\nconst CreateTask = () => {\n  const navigate = useNavigate();\n  const [iterations, setIterations] = useState([]);\n  const [iterationId, setIterationId] = useState(\"\");\n  const [task, setTask] = useState({\n    auditee: \"\",\n    area: \"\",\n    Checklist_Item: \"\",\n    notes: \"\",\n    Type_of_Finding: \"\",\n    status: \"\",\n    description: \"\",\n    standard: \"\",\n    //task_type: \"Process\",\n    // expected_artifact: \"\",\n    // actual: \" \",\n    // compliance: \"\",\n    priority: \"\",\n    responsibility: \"\",\n    RCA_Details: \"\",\n    Planned_Completion_Date:\"\",\n    Actual_Completion_Date: null,\n    clause_number: \"\",\n    document_reference: \"\",\n    document: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n\n  const taskModuleId = \"1f0f190d-3a83-421c-af98-5d081100230e\";\n\n  useEffect(() => {\n    const fetchIterations = async () => {\n      try {\n        const company_id = sessionStorage.getItem(\"selectedCompany\");\n\n        if (!company_id) {\n          toast.error(\"Company ID is required.\");\n          return;\n        }\n\n        const response = await axiosInstance.get(`/iteration/${taskModuleId}`, {\n          params: { company_id },\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n          },\n        });\n\n        setIterations(response.data || []);\n      } catch (error) {\n        const errorMsg =\n          error?.response?.data?.error ||\n          error?.response?.data?.message ||\n          error?.message ||\n          \"Unknown error\";\n\n        console.error(\"Error fetching iterations:\", errorMsg, error.response);\n        toast.error(`Failed to fetch iterations: ${errorMsg}`);\n      }\n    };\n\n    fetchIterations();\n  }, []);\n\n  const validateFields = () => {\n    if (!task.Checklist_Item) {\n      toast.error(\"Checklist Item is required.\");\n      return false;\n    }\n\n    if (!iterationId) {\n      toast.error(\"Iteration is required.\");\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!validateFields()) return;\n    setLoading(true);\n\n    const moduleId = \"4a060652-4c92-47d8-9515-e500da5e94ef\";\n    let company_id = sessionStorage.getItem(\"selectedCompany\");\n\n    try {\n      console.log(\"Company ID:\", company_id);\n\n      const response = await axiosInstance.post(\n        `/tasks/${moduleId}`,\n        { ...task, company_id, iteration_id: iterationId },\n        {\n          headers: { \"Content-Type\": \"application/json\" },\n        }\n      );\n\n      if (response.status === 201) {\n        toast.success(\"Task created successfully\");\n        navigate(\"/tasks\");\n      } else {\n        toast.error(\"Unexpected response from server.\");\n      }\n    } catch (error) {\n      console.error(\n        \"Error creating task:\",\n        error.response?.data || error.message\n      );\n      toast.error(error.response?.data?.error || \"Failed to create task.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        mb: 2,\n        marginRight: 2,\n      }}\n    >\n      <Typography\n        variant=\"h3\"\n        fontWeight={\"'bold\"}\n        sx={{ textAlign: \"center\" }}\n      >\n        Create Task\n      </Typography>\n\n      <Grid2\n        container\n        spacing={4}\n        mt={2}\n        component=\"form\"\n        onSubmit={handleSubmit}\n      >\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            select\n            fullWidth\n            label=\"Select Iteration\"\n            value={iterationId}\n            onChange={(e) => setIterationId(e.target.value)}\n            required\n          >\n            <MenuItem value=\"\" disabled>\n              Select Iteration\n            </MenuItem>\n            {iterations.map((iter) => (\n              <MenuItem key={iter.id} value={iter.id}>\n                {iter.name}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            select\n            label=\"Auditee\"\n            name=\"auditee\"\n            value={task.auditee}\n            onChange={(e) => setTask({ ...task, auditee: e.target.value })}\n            required\n          >\n            {[\n              \"CISO\",\n              \"HOD-HR\",\n              \"HOD-Facility Admin\",\n              \"HOD-IT\",\n              \"HOD-Purchase\",\n              \"IT Administration\",\n              \"Project Manager - SDLC\",\n            ].map((auditee) => (\n              <MenuItem key={auditee} value={auditee}>\n                {auditee}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            label=\"Area\"\n            name=\"area\"\n            value={task.area}\n            onChange={(e) => setTask({ ...task, area: e.target.value })}\n            required\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            label=\"Checklist Item\"\n            name=\"Checklist Item\"\n            value={task.Checklist_Item}\n            onChange={(e) =>\n              setTask({ ...task, Checklist_Item: e.target.value })\n            }\n            required\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            label=\"Notes\"\n            name=\"notes\"\n            value={task.notes}\n            onChange={(e) => setTask({ ...task, notes: e.target.value })}\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6 ,lg: 6 }}>\n          <TextField\n            fullWidth\n            select\n            label=\"Type of Finding\"\n            name=\"Type_of_Finding\"\n            value={task.Type_of_Finding}\n            onChange={(e) =>\n              setTask({ ...task, Type_of_Finding: e.target.value })\n            }\n           // margin=\"normal\"\n            required\n          >\n            {[\n              \"Compliance\",\n              \"Observation\",\n              \"Non-Compliance\",\n              \"Opportunity For Improvement\",\n            ].map((option) => (\n              <MenuItem key={option} value={option}>\n                {option}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6 ,lg: 6 }}>\n          <TextField\n            fullWidth\n            select\n            label=\"Status\"\n            name=\"status\"\n            value={task.status}\n            onChange={(e) => setTask({ ...task, status: e.target.value })}\n            //margin=\"normal\"\n          >\n            {[\n              // \"FI\",\n              // \"PI\",\n              // \"NI\",\n              // \"NA\",\n              // \"TBD\",\n              // \"OFI\",\n              // \"Obs\",\n              // \"NC- Minor\",\n              // \"NC- Major\",\n              \"Not Done\",\n              \"Partially Done\",\n              \"In-Progress\",\n              \"Largely Done\",\n              \"Done\",\n              \"NA\",\n            ].map((status) => (\n              <MenuItem key={status} value={status}>\n                {status}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            label=\"Description\"\n            name=\"description\"\n            value={task.description}\n            onChange={(e) => setTask({ ...task, description: e.target.value })}\n            multiline\n            rows={1}\n            required\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            select\n            label=\"Standard\"\n            name=\"standard\"\n            value={task.standard}\n            onChange={(e) => setTask({ ...task, standard: e.target.value })}\n            required\n          >\n            {[\"ISO_9001\", \"ISO_27001\"].map((standard) => (\n              <MenuItem key={standard} value={standard}>\n                {standard}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid2>\n\n        {/* <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            select\n            label=\"Task Type\"\n            name=\"task_type\"\n            value={task.task_type}\n            onChange={(e) => setTask({ ...task, task_type: e.target.value })}\n            required\n          >\n            {[\"Control\", \"Process\", \"Procedure\", \"Monitoring\", \"Material\"].map(\n              (taskType) => (\n                <MenuItem key={taskType} value={taskType}>\n                  {taskType}\n                </MenuItem>\n              )\n            )}\n          </TextField>\n        </Grid2> */}\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            select\n            label=\"Priority\"\n            name=\"priority\"\n            value={task.priority}\n            onChange={(e) => setTask({ ...task, priority: e.target.value })}\n          >\n            {[\"High\", \"Medium\", \"Low\"].map((priority) => (\n              <MenuItem key={priority} value={priority}>\n                {priority}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}>\n          <TextField\n            fullWidth\n            label=\"Responsibility\"\n            name=\"responsibility\"\n            value={task.responsibility}\n            onChange={(e) =>\n              setTask({ ...task, responsibility: e.target.value })\n            }\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, }}>\n          <TextField\n            fullWidth\n            label=\"RCA Details\"\n            name=\"RCA_Details\"\n            value={task.RCA_Details}\n            onChange={(e) => setTask({ ...task, RCA_Details: e.target.value })}\n          //  margin=\"normal\"\n            multiline\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6 , lg: 6 }}>\n          <TextField\n            fullWidth\n            type=\"date\"\n            label=\"Planned Completion Date\"\n            name=\"Planned_Completion_Date\"\n            value={task.Planned_Completion_Date}\n            onChange={(e) =>\n              setTask({ ...task, Planned_Completion_Date: e.target.value })\n            }\n           // margin=\"normal\"\n            InputLabelProps={{ shrink: true }}\n            required\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6 , lg: 6 }}>\n          <TextField\n            fullWidth\n            type=\"date\"\n            label=\"Actual Completion Date\"\n            name=\"Actual_Completion_Date\"\n            value={task.Actual_Completion_Date}\n            onChange={(e) =>\n              setTask({ ...task, Actual_Completion_Date: e.target.value })\n            }\n           // margin=\"normal\"\n            InputLabelProps={{ shrink: true }}\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6 , lg: 6 }}>\n          <TextField\n            fullWidth\n            label=\"Reference - Clause\"\n            name=\"clause_number\"\n            value={task.clause_number}\n            onChange={(e) =>\n              setTask({ ...task, clause_number: e.target.value })\n            }\n           // margin=\"normal\"\n          />\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 6, lg: 6 }}></Grid2>\n        <Grid2\n          size={{ xs: 12, md: 12 }}\n          sx={{ display: \"flex\", justifyContent: \"flex-end\", mt: 0, gap: 1 }}\n        >\n          <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n            Create Task\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={() => navigate(\"/tasks\")}\n          >\n            Cancel\n          </Button>\n        </Grid2>\n      </Grid2>\n    </Paper>\n  );\n};\n\nexport default CreateTask;\n","size_bytes":12238},"qms-source/frontend-new/src/styles/RoleList.css":{"content":"/* Role List Container */\n.role-list-container {\n  padding: 20px;\n  background: #f4f4f4;\n  border-radius: 8px;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n}\n\n/* Table Styling */\n.role-table {\n  width: 100%;\n  border-collapse: collapse;\n  background: white;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);\n}\n\n/* Table Header */\n.role-table th {\n  padding: 14px;\n  background-color: #007bff;\n  color: white;\n  text-align: left;\n  font-weight: bold;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n/* Table Rows */\n.role-table td {\n  padding: 14px;\n  border-bottom: 1px solid #ddd;\n  text-align: left;\n  font-size: 14px;\n}\n\n/* Alternate Row Coloring */\n.role-table tr:nth-child(even) {\n  background-color: #f8f9fa;\n}\n\n/* Hover Effect */\n.role-table tr:hover {\n  background-color: #e9ecef;\n  transition: background 0.2s ease-in-out;\n}\n\n/* Buttons Container */\n.action-buttons {\n  display: flex;\n  gap: 10px;\n}\n\n/* View Modules Button */\n.view-modules-btn {\n  background-color: #007bff;\n  color: white;\n  padding: 8px 14px;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n  font-size: 14px;\n  transition: background 0.3s ease-in-out, transform 0.2s ease-in-out;\n}\n\n.view-modules-btn:hover {\n  background-color: #0056b3;\n  transform: scale(1.05);\n}\n\n/* Delete Button */\n.delete-btn {\n  background-color: #dc3545;\n  color: white;\n  padding: 8px 14px;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n  font-size: 14px;\n  transition: background 0.3s ease-in-out, transform 0.2s ease-in-out;\n}\n\n.delete-btn:hover {\n  background-color: #b02a37;\n  transform: scale(1.05);\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .role-table th, .role-table td {\n      padding: 10px;\n      font-size: 12px;\n  }\n\n  .view-modules-btn, .delete-btn {\n      padding: 6px 10px;\n      font-size: 12px;\n  }\n}\n","size_bytes":1854},"qms-source/frontend-new/src/assets/theme/components/stepper/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport linearGradient from \"assets/theme/functions/linearGradient\";\n\nconst { transparent, gradients } = colors;\nconst { borderRadius } = borders;\nconst { colored } = boxShadows;\n\nconst stepper = {\n  styleOverrides: {\n    root: {\n      background: linearGradient(gradients.info.main, gradients.info.state),\n      padding: `${pxToRem(24)} 0 ${pxToRem(16)}`,\n      borderRadius: borderRadius.lg,\n      boxShadow: colored.info,\n\n      \"&.MuiPaper-root\": {\n        backgroundColor: transparent.main,\n      },\n    },\n  },\n};\n\nexport default stepper;\n","size_bytes":1362},"qms-source/frontend-new/src/pages/department/DepartmentForm.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { TextField, Button, Typography, Box, Paper, Grid } from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst DepartmentForm = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [department, setDepartment] = useState({ name: \"\", description: \"\" });\n  const company_id = sessionStorage.getItem(\"selectedCompany\");\n  const UserModuleId = \"bd168912-e40c-48e3-b3d1-440a3e129d52\";\n\n  useEffect(() => {\n    if (id) {\n      axiosInstance\n        .get(`/department/${UserModuleId}/${id}`)\n        .then((res) => setDepartment(res.data))\n        .catch((err) => {\n          console.error(\"Failed to fetch department:\", err);\n          toast.error(\"Failed to fetch department\");\n        });\n    }\n  }, [id]);\n\n  const handleChange = (e) => {\n    setDepartment({ ...department, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!company_id) {\n      toast.error(\"Company ID is required.\");\n      return;\n    }\n\n    const dataToSend = { ...department, company_id };\n\n    try {\n      const token = localStorage.getItem(\"jwtToken\");\n      if (!token) {\n        toast.error(\"JWT Token is missing.\");\n        return;\n      }\n\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      };\n\n      if (id) {\n        await axiosInstance.put(\n          `/department/${UserModuleId}/${id}`,\n          dataToSend,\n          config\n        );\n      } else {\n        await axiosInstance.post(\n          `/department/${UserModuleId}`,\n          dataToSend,\n          config\n        );\n      }\n\n      toast.success(\"Department saved successfully!\");\n      navigate(\"/departments\"); // Redirect to departments list page after save\n    } catch (err) {\n      console.error(\"Failed to save department:\", err);\n      toast.error(\"Failed to save department\");\n    }\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        marginRight: 2,\n        marginTop: 4,\n        mb: 2,\n      }}\n    >\n      <Typography variant=\"h5\" gutterBottom>\n        {id ? \"Edit Department\" : \"Create Department\"}\n      </Typography>\n      <form onSubmit={handleSubmit}>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <TextField\n              label=\"Name\"\n              name=\"name\"\n              fullWidth\n              required\n              margin=\"normal\"\n              value={department.name}\n              onChange={handleChange}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              label=\"Description\"\n              name=\"description\"\n              fullWidth\n              margin=\"normal\"\n              value={department.description}\n              onChange={handleChange}\n            />\n          </Grid>\n          <Grid item xs={12} container justifyContent=\"flex-end\" mt={2}>\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              sx={{ mr: 2 }}\n            >\n              Save\n            </Button>\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => navigate(\"/departments\")}\n            >\n              Cancel\n            </Button>\n          </Grid>\n        </Grid>\n      </form>\n    </Paper>\n  );\n};\n\nexport default DepartmentForm;\n","size_bytes":3609},"frontend-new/src/Components/Header/index.jsx":{"content":"import { useState, useEffect } from \"react\";\nimport { jwtDecode } from \"jwt-decode\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { navbar, navbarContainer, navbarRow } from \"./style\";\n\nimport {\n  useMaterialUIController,\n  setTransparentNavbar,\n  setSelectedCompanyName,\n} from \"../../context\";\nimport {\n  AppBar,\n  Toolbar,\n  Box,\n  Breadcrumbs,\n  Typography,\n  IconButton,\n  Avatar,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n} from \"@mui/material\";\n\n// Icons\nimport NotificationMenu from \"../NotificationMenu\";\nimport LockIcon from \"@mui/icons-material/Lock\";\nimport ExitToAppIcon from \"@mui/icons-material/ExitToApp\";\nimport PersonIcon from \"@mui/icons-material/Person\";\n\n// api services\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { AccountCircle } from \"@mui/icons-material\";\n\n// Component definition\nexport default function Header() {\n  const token = localStorage.getItem(\"jwtToken\");\n  const decodedToken = token ? jwtDecode(token) : null;\n  const userId = decodedToken?.user_id || localStorage.getItem(\"userId\"); // Get from token or localStorage\n  const roleId = decodedToken?.role || \"\";\n  const company_id = decodedToken?.company || \"\";\n  const moduleId = \"bd168912-e40c-48e3-b3d1-440a3e129d52\";\n  const company_moduleId = \"5d896834-fedd-4e0b-a882-8d05396fc346\";\n\n  // state definitions\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [userName, setUserName] = useState(\"User\");\n  const [roleName, setRoleName] = useState(\"\");\n  const [companyName, setCompanyName] = useState(\"\");\n\n  // hooks\n  const [controller, dispatch] = useMaterialUIController();\n  const { transparentNavbar, fixedNavbar, darkMode, selectedCompanyName } =\n    controller;\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // A function that sets the transparent state of the navbar.\n    function handleTransparentNavbar() {\n      setTransparentNavbar(\n        dispatch,\n        (fixedNavbar && window.scrollY === 0) || !fixedNavbar\n      );\n    }\n\n    /** \n         The event listener that's calling the handleTransparentNavbar function when \n         scrolling the window.\n        */\n    window.addEventListener(\"scroll\", handleTransparentNavbar);\n\n    // Call the handleTransparentNavbar function to set the state with the initial value.\n    handleTransparentNavbar();\n\n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"scroll\", handleTransparentNavbar);\n  }, [dispatch, fixedNavbar]);\n\n  /** Handler functions -  starts */\n\n  const handleMenuOpen = (event) => setAnchorEl(event.currentTarget);\n  const handleMenuClose = () => setAnchorEl(null);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"userId\");\n    localStorage.removeItem(\"jwtToken\");\n    localStorage.removeItem(\"userRole\");\n    localStorage.removeItem(\"userEmail\");\n    localStorage.removeItem(\"name\");\n\n    sessionStorage.removeItem(\"selectedCompany\");\n    sessionStorage.removeItem(\"selectedCompanyName\");\n    sessionStorage.removeItem(\"companyname\");\n    sessionStorage.clear();\n    setSelectedCompanyName(dispatch, \"\");\n    navigate(\"/login\");\n  };\n\n  // 1ï¸ Fetch role\n  useEffect(() => {\n    if (!token) {\n      navigate(\"/login\", { replace: true });\n      return;\n    }\n\n    if (roleId) fetchRoleName();\n  }, [token, navigate, roleId]);\n\n  // 2ï¸ Once roleName is ready â†’ then fetch company name and profile\n  useEffect(() => {\n    if (!roleName) return;\n\n    if (roleName === \"System Super Admin\") {\n      const storedCompanyName =\n        typeof window !== \"undefined\"\n          ? sessionStorage.getItem(\"selectedCompanyName\")\n          : null;\n\n      if (storedCompanyName) {\n        setCompanyName(storedCompanyName);\n        setSelectedCompanyName(dispatch, storedCompanyName);\n      }\n    } else {\n      fetchCompanyName();\n    }\n\n    if (roleName !== \"System Super Admin\" || company_id) {\n      fetchUserProfile();\n    }\n  }, [roleName]);\n\n  useEffect(() => {\n    const storedCompanyName = sessionStorage.getItem(\"selectedCompanyName\");\n\n    if (!selectedCompanyName && storedCompanyName) {\n      setCompanyName(storedCompanyName);\n      setSelectedCompanyName(dispatch, storedCompanyName);\n    }\n  }, [selectedCompanyName, dispatch]);\n\n  const fetchRoleName = async () => {\n    try {\n      const response = await axiosInstance.get(`/roles/${moduleId}/${roleId}`, {\n        params: { company_id },\n      });\n      setRoleName(response.data.name || \"Unknown Role\");\n    } catch (error) {\n      console.error(\"Error fetching role name:\", error);\n    }\n  };\n\n  const fetchCompanyName = async () => {\n    try {\n      const token = localStorage.getItem(\"jwtToken\");\n      const role = localStorage.getItem(\"userRole\");\n      const storedCompanyName = sessionStorage.getItem(\"selectedCompanyName\");\n\n      if (role === \"System Super Admin\") {\n        // Get from sessionStorage\n        if (storedCompanyName) {\n          setCompanyName(storedCompanyName);\n          setSelectedCompanyName(dispatch, storedCompanyName);\n          return;\n        }\n      }\n\n      // For all other roles: get from JWT token\n      if (company_id && token) {\n        const response = await axiosInstance.get(\n          `/companies/${company_moduleId}/${company_id}`,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n\n        const name = response.data.name || \"Unknown Company\";\n        setCompanyName(name);\n        setSelectedCompanyName(dispatch, name);\n      }\n    } catch (error) {\n      console.error(\"Error fetching company name:\", error);\n\n      if (error.response) {\n        console.error(\"Backend error details:\", error.response.data);\n      } else if (error.request) {\n        console.error(\"Request made but no response received:\", error.request);\n      } else {\n        console.error(\"Error setting up request:\", error.message);\n      }\n    }\n  };\n\n  const fetchUserProfile = async () => {\n    if (userId) {\n      console.log(\"User ID:\", userId);\n      console.log(\"Role Name:\", roleName);\n      console.log(\"Company ID:\", company_id);\n\n      try {\n        const params =\n          roleName === \"System Super Admin\" && company_id\n            ? { company_id: company_id }\n            : {};\n\n        console.log(\"API request params:\", params); // Debugging\n\n        const response = await axiosInstance.get(\n          `/users/${moduleId}/${userId}`,\n          { params }\n        );\n\n        console.log(\"API Response:\", response.data); // Debugging\n\n        if (response.data) {\n          setUserName(response.data.name || \"User\");\n          localStorage.setItem(\"name\", response.data.name);\n        }\n      } catch (error) {\n        console.error(\"Error fetching user profile:\", error);\n        if (error.response) {\n          console.error(\"Backend error details:\", error.response.data);\n        }\n      }\n    }\n  };\n\n  /** Handler functions -  ends */\n\n  // main renderer\n  return (\n    <AppBar\n      position={\"relative\"}\n      color=\"inherit\"\n      sx={(theme) =>\n        navbar(theme, {\n          transparentNavbar,\n          absolute: false,\n          light: !darkMode,\n          darkMode,\n        })\n      }\n    >\n      <Toolbar sx={(theme) => navbarContainer(theme)}>\n        {/* <Box color=\"inherit\" mb={{ xs: 1, md: 0 }} sx={(theme) => navbarRow(theme, { isMini: false })}>\n                    <Breadcrumbs icon=\"home\" light={!darkMode} />\n                </Box> */}\n\n        <Box sx={{ color: \"initial\", display: \"flex\" }}>\n          <NotificationMenu userId={userId} />\n\n          {/* Profile Icon */}\n          <>\n            <IconButton onClick={handleMenuOpen} sx={{ p: 0 }}>\n              <AccountCircle fontSize=\"large\" />\n            </IconButton>\n\n            <Typography\n              variant=\"body1\"\n              sx={{\n                fontWeight: 600,\n                fontSize: \"1rem\",\n                color: \"#1976d2\",\n                alignSelf: \"center\",\n                marginRight: 2,\n              }}\n            >\n              {selectedCompanyName || \"No Company Selected\"}{\" \"}\n            </Typography>\n\n            {/* Dropdown Menu */}\n            <Menu\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={handleMenuClose}\n            >\n              <MenuItem>\n                <Typography\n                  sx={{\n                    fontWeight: \"bold\",\n                    wordWrap: \"break-word\",\n                    whiteSpace: \"normal\",\n                  }}\n                >\n                  Hi, {userName} ({roleName})\n                </Typography>\n              </MenuItem>\n              <MenuItem onClick={() => navigate(\"/changePassword\")}>\n                <ListItemIcon>\n                  <LockIcon fontSize=\"medium\" />\n                </ListItemIcon>\n                <Typography>Change Password</Typography>\n              </MenuItem>\n              <MenuItem onClick={handleLogout}>\n                <ListItemIcon>\n                  <ExitToAppIcon fontSize=\"medium\" />\n                </ListItemIcon>\n                <Typography>Logout</Typography>\n              </MenuItem>\n            </Menu>\n          </>\n        </Box>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","size_bytes":9138},"frontend-new/src/pages/TaskManagement/TaskList.jsx":{"content":"import React, { useEffect, useState, useRef } from \"react\";\nimport { useParams, useNavigate, useLocation } from \"react-router-dom\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast } from \"react-toastify\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport { CircularProgress } from \"@mui/material\";\nimport {\n  Paper,\n  Button,\n  IconButton,\n  TextField,\n  Box,\n  Typography,\n  Grid,\n  Grid2,\n  MenuItem,\n  Tooltip,\n} from \"@mui/material\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport HistoryIcon from \"@mui/icons-material/History\";\nimport {\n  Edit as EditIcon,\n  Delete as DeleteIcon,\n  AttachFileOutlined,\n  FilePresentOutlined,\n} from \"@mui/icons-material\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport FileDownloadIcon from \"@mui/icons-material/FileDownload\";\nimport jsPDF from \"jspdf\";\nimport html2canvas from \"html2canvas\";\nimport { format } from \"date-fns\";\nimport \"../../styles/UploadPopup.css\";\n\nconst TaskList = () => {\n  const navigate = useNavigate();\n  const [tasks, setTasks] = useState([]);\n  const [userRole, setUserRole] = useState(\"\");\n  const [users, setUsers] = useState([]);\n  const params = useParams();\n  const [taskAssignments, setTaskAssignments] = useState({});\n  const [companyName, setCompanyName] = useState(\"\");\n  const [documents, setDocuments] = useState({});\n  const [comments, setComments] = useState({});\n  const [isPopupOpen, setIsPopupOpen] = useState(false);\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [isViewDocumentsPopupOpen, setIsViewDocumentsPopupOpen] =\n    useState(false);\n  const [open, setOpen] = useState(false);\n  const [openLogModal, setOpenLogModal] = useState(false);\n  const [taskChangeLog, setTaskChangeLog] = useState([]);\n  const [checklistItem, setChecklistItem] = useState(\"\");\n  const scrollContentRef = useRef(null);\n  const [iterations, setIterations] = useState([]);\n  const location = useLocation();\n  const [iterationId, setIterationId] = useState(\n    location.state?.iterationId || \"\"\n  );\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n  const [selectedDocument, setSelectedDocument] = useState(null);\n  const [uploading, setUploading] = useState(false);\n\n  const [filters, setFilters] = useState({\n    task_type: \"\",\n    status: \"\",\n    priority: \"\",\n    auditee: \"\",\n  });\n  const [paginationModel, setPaginationModel] = useState({\n    pageSize: 5,\n    page: 0,\n  });\n\n  const userId = localStorage.getItem(\"userId\");\n  const moduleId = \"1f0f190d-3a83-421c-af98-5d081100230e\";\n  const Doc_moduleId = \"cb5010bc-83fd-4409-9845-bbba4ceda9c8\";\n  const TaskChangeLog_moduleid = \"2566950b-1718-4440-8b8d-d5ec94624d0f\";\n\n  useEffect(() => {\n    const fetchUsersAndTasks = async () => {\n      let token = localStorage.getItem(\"jwtToken\");\n      let company_id = sessionStorage.getItem(\"selectedCompany\");\n      let company_name = sessionStorage.getItem(\"companyname\");\n      let role = localStorage.getItem(\"userRole\");\n      setUserRole(role);\n      setCompanyName(company_name || \"\");\n\n      if (!token) {\n        toast.error(\"Session expired! Please log in.\");\n        navigate(\"/login\");\n        return;\n      }\n\n      const headers = { Authorization: `Bearer ${token}` };\n\n      try {\n        const [\n          usersResponse,\n          tasksResponse,\n          assignmentsResponse,\n          iterationsResponse,\n        ] = await Promise.all([\n          axiosInstance.get(`/users/${moduleId}`, {\n            headers,\n            params: { company_id },\n          }),\n          axiosInstance.get(`/tasks/${moduleId}`, {\n            headers,\n            params: { company_id, iteration_id: iterationId || undefined },\n          }),\n          axiosInstance.get(`/task-assignments/${moduleId}`, {\n            headers,\n            params: { company_id },\n          }),\n          axiosInstance.get(`/iteration/${moduleId}`, {\n            headers,\n            params: { company_id },\n          }),\n        ]);\n\n        setUsers(usersResponse.data || []);\n        setTasks(\n          (tasksResponse.data || []).map((task, index) => ({\n            srNo: index + 1,\n            ...task,\n          }))\n        );\n        setIterations(iterationsResponse.data || []);\n\n        const assignments = assignmentsResponse.data.reduce(\n          (acc, assignment) => {\n            acc[assignment.task_id] = assignment.user_ids\n              .map((id) => usersResponse.data.find((user) => user.id === id))\n              .filter(Boolean);\n            return acc;\n          },\n          {}\n        );\n\n        setTaskAssignments(assignments);\n      } catch (error) {\n        toast.error(\"Failed to load data.\");\n        console.error(\"Error fetching data:\", error.response?.data || error);\n      }\n    };\n\n    fetchUsersAndTasks();\n  }, [navigate, iterationId]);\n\n  const handleDelete = (taskId) => {\n    let token = localStorage.getItem(\"jwtToken\");\n    if (!token) {\n      toast.error(\"Session expired. Please log in again.\");\n      navigate(\"/login\");\n      return;\n    }\n\n    const ConfirmDeleteToast = ({ closeToast }) => (\n      <div>\n        <p>Are you sure you want to delete this task?</p>\n        <div style={{ display: \"flex\", justifyContent: \"center\", gap: \"10px\" }}>\n          <Button\n            variant=\"contained\"\n            color=\"error\"\n            size=\"small\"\n            onClick={async () => {\n              try {\n                const headers = { Authorization: `Bearer ${token}` };\n                await axiosInstance.delete(`/tasks/${moduleId}/${taskId}`, {\n                  headers,\n                });\n\n                toast.success(\"Task deleted successfully!\");\n                setTasks((prevTasks) =>\n                  prevTasks.filter((task) => task.id !== taskId)\n                );\n              } catch (error) {\n                console.error(\n                  \"Error deleting task:\",\n                  error.response?.data || error\n                );\n                toast.error(\"Failed to delete task. Please try again.\");\n              }\n              closeToast(); // Close the toast after the action\n            }}\n          >\n            Yes\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={closeToast}\n          >\n            No\n          </Button>\n        </div>\n      </div>\n    );\n\n    // Show the confirmation toast\n    toast.info(<ConfirmDeleteToast />, {\n      autoClose: false,\n      closeOnClick: false,\n    });\n  };\n\n  const handleFileUpload = async (taskId) => {\n    const selectedFiles = documents[taskId]; // Get selected files from the state\n    if (!selectedFiles || selectedFiles.length === 0) {\n      toast.error(\"Please select at least one file before uploading.\");\n      return;\n    }\n\n    let token = localStorage.getItem(\"jwtToken\");\n    const userId = localStorage.getItem(\"userId\");\n    const remark = comments[taskId] || \"\"; // Get comment for the task\n\n    const formData = new FormData();\n    selectedFiles.forEach((f) => formData.append(\"documents\", f)); // Append each file\n    formData.append(\"task_id\", taskId);\n    formData.append(\"user_id\", userId);\n    formData.append(\"remark\", remark);\n    formData.append(\"company_id\", sessionStorage.getItem(\"selectedCompany\"));\n\n    setUploading(true);\n\n    try {\n      const uploadResponse = await axiosInstance.post(\n        `/documents/${Doc_moduleId}`,\n        formData,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      );\n\n      toast.success(\"Documents uploaded successfully!\");\n\n      // Clear file input after successful upload\n      setDocuments((prevDocs) => ({ ...prevDocs, [taskId]: [] }));\n      setComments((prev) => ({ ...prev, [taskId]: \"\" })); // Clear the comment as well\n      setIsPopupOpen(false); // Close the upload popup\n    } catch (error) {\n      console.error(\"Upload Failed:\", error.response?.data || error);\n      toast.error(\"Failed to upload document.\");\n    } finally {\n      setUploading(false); // STOP loading spinner\n    }\n  };\n\n  const fetchDocumentsByTask = async (taskId) => {\n    try {\n      let token = localStorage.getItem(\"jwtToken\");\n      const response = await axiosInstance.get(\n        `/documents/${Doc_moduleId}/${taskId}`,\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      const data = response.data;\n      setDocuments(data);\n      console.log(\"Documents fetched:\", data);\n\n      return data;\n    } catch (error) {\n      console.error(\"Error fetching documents:\", error);\n      setDocuments([]);\n      return [];\n    }\n  };\n\n  const handleDeleteDoc = async (taskId, documentId) => {\n    if (!Doc_moduleId || !documentId) {\n      toast.error(\"Missing document module ID or document ID.\");\n      return;\n    }\n\n    let token = localStorage.getItem(\"jwtToken\");\n    if (!token) {\n      toast.error(\"Session expired. Please log in again.\");\n      navigate(\"/login\");\n      return;\n    }\n\n    try {\n      const headers = { Authorization: `Bearer ${token}` };\n      await axiosInstance.delete(`/documents/${Doc_moduleId}/${documentId}`, {\n        headers,\n      });\n\n      toast.success(\"Document deleted successfully!\");\n      setOpen(false);\n\n      // Remove the deleted document from the UI\n      setDocuments((prevDocuments) =>\n        prevDocuments.filter((doc) => doc.id !== documentId)\n      );\n\n      // Close the dialog after deletion\n      setOpen(false);\n    } catch (error) {\n      console.error(\"Error deleting document:\", error.response?.data || error);\n      toast.error(\"Failed to delete document.\");\n    }\n  };\n\n  const handleViewChangeLog = async (moduleId, taskId, name) => {\n    const token = localStorage.getItem(\"jwtToken\");\n    setChecklistItem(name);\n    try {\n      const response = await axiosInstance.get(\n        `/taskChangeLog/${TaskChangeLog_moduleid}/${taskId}`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      const data = response.data;\n\n      console.log(\"Raw task changelog response:\", data); // Debugging log\n\n      if (Array.isArray(data)) {\n        setTaskChangeLog(data);\n      } else {\n        console.warn(\"Expected array but got:\", data);\n        setTaskChangeLog([]);\n      }\n\n      setOpenLogModal(true);\n    } catch (error) {\n      console.error(\"Error fetching task changelog:\", error);\n      setTaskChangeLog([]);\n    }\n  };\n\n  const handleDownloadLogsAsPDF = async () => {\n    const input = scrollContentRef.current;\n    if (!input) return;\n\n    // Temporarily add task title inside scroll area\n    const titleDiv = document.createElement(\"div\");\n    titleDiv.innerText = `Task: ${checklistItem || \"Unnamed Task\"}`;\n    titleDiv.style.fontSize = \"15px\";\n    titleDiv.style.fontWeight = \"bold\";\n    titleDiv.style.marginBottom = \"16px\";\n    titleDiv.style.textAlign = \"center\";\n    input.prepend(titleDiv);\n\n    // Remove scroll limitation temporarily\n    const originalMaxHeight = input.style.maxHeight;\n    const originalOverflow = input.style.overflow;\n\n    input.style.maxHeight = \"none\";\n    input.style.overflow = \"visible\";\n\n    await new Promise((res) => setTimeout(res, 100)); // wait for DOM\n\n    const canvas = await html2canvas(input, { scale: 2, useCORS: true });\n    const imgData = canvas.toDataURL(\"image/png\");\n\n    const pdf = new jsPDF(\"p\", \"mm\", \"a4\");\n    const pdfWidth = pdf.internal.pageSize.getWidth();\n    const pdfHeight = pdf.internal.pageSize.getHeight();\n\n    const imgProps = pdf.getImageProperties(imgData);\n    const imgWidth = pdfWidth;\n    const imgHeight = (imgProps.height * imgWidth) / imgProps.width;\n\n    let heightLeft = imgHeight;\n    let position = 0;\n\n    // First page\n    pdf.setFontSize(16);\n    pdf.setFont(\"helvetica\", \"bold\");\n    pdf.text(checklistItem || \"Task Log\", 10, 15);\n    pdf.addImage(imgData, \"PNG\", 0, position, imgWidth, imgHeight);\n    heightLeft -= pdfHeight;\n\n    // Add extra pages if needed\n    while (heightLeft > 0) {\n      position = heightLeft - imgHeight;\n      pdf.addPage();\n      pdf.addImage(imgData, \"PNG\", 0, position, imgWidth, imgHeight);\n      heightLeft -= pdfHeight;\n    }\n\n    pdf.save(`${checklistItem || \"task-log\"}.pdf`);\n\n    // Restore original styles\n    input.style.maxHeight = originalMaxHeight;\n    input.style.overflow = originalOverflow;\n  };\n\n  const handleSaveEdit = async () => {\n    try {\n      const { id, remark, issue_date, module_id } = selectedDocument;\n      const token = localStorage.getItem(\"jwtToken\");\n\n      const response = await axiosInstance.put(\n        `/documents/${moduleId}/${id}`,\n        { remark, issue_date },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      toast.success(\"Document updated successfully\");\n\n      // Refresh document list after edit\n      const updatedDocs = await fetchDocumentsByTask(selectedTask);\n      setDocuments(updatedDocs);\n\n      setEditDialogOpen(false);\n    } catch (err) {\n      console.error(\n        \"Update failed:\",\n        err.response?.status,\n        err.response?.data || err.message\n      );\n      toast.error(\"Failed to update document\");\n    }\n  };\n\n  const handleEditClick = (doc) => {\n    const parsedDate =\n      doc.issue_date && !isNaN(new Date(doc.issue_date).getTime())\n        ? new Date(doc.issue_date).toISOString().split(\"T\")[0]\n        : \"\"; // fallback\n\n    setSelectedDocument({\n      ...doc,\n      issue_date: parsedDate,\n    });\n\n    setEditDialogOpen(true);\n  };\n\n  const formatDateForInput = (dateValue) => {\n    const date = new Date(dateValue);\n    return !isNaN(date.getTime()) ? date.toISOString().split(\"T\")[0] : \"\";\n  };\n\n  // Datagrid columns\n  const columns = [\n    {\n      field: \"srNo\",\n      headerName: \"Sr.No.\",\n      width: 80,\n      sortable: false,\n      filterable: false,\n    },\n    { field: \"auditee\", headerName: \"Auditee\", width: 150 },\n    { field: \"area\", headerName: \"Area\", width: 150 },\n    { field: \"Checklist_Item\", headerName: \"Checklist Item\", width: 300 },\n    { field: \"notes\", headerName: \"Notes\", width: 180 },\n    { field: \"Type_of_Finding\", headerName: \"Type of Finding\", width: 180 },\n    { field: \"status\", headerName: \"Status\", width: 180 },\n    { field: \"description\", headerName: \"Description\", width: 250 },\n    { field: \"standard\", headerName: \"Standard\", width: 150 },\n    { field: \"priority\", headerName: \"Priority\", width: 120 },\n    { field: \"responsibility\", headerName: \"Responsibility\", width: 180 },\n    { field: \"RCA_Details\", headerName: \"RCA Details\", width: 250 },\n    {\n      field: \"created_at\",\n      headerName: \"Task Created\",\n      width: 180,\n      renderCell: (params) => {\n        const value = params?.value;\n        return value ? format(new Date(value), \"PPpp\") : \"N/A\";\n      },\n    },\n    {\n      field: \"assigned_users\",\n      headerName: \"Assigned Users\",\n      width: 200,\n      renderCell: (cell) => {\n        return (\n          <Box>\n            {taskAssignments[cell.row.id]\n              ?.map((user) =>\n                user?.name\n                  ? `${user.name}${\n                      user.department?.name ? ` (${user.department.name})` : \"\"\n                    }`\n                  : \"Unknown\"\n              )\n              .join(\", \")}\n          </Box>\n        );\n      },\n      sortComparator: (a, b, rowA, rowB) => {\n        const usersA = taskAssignments[rowA.id] || [];\n        const usersB = taskAssignments[rowB.id] || [];\n        const nameA = (usersA[0]?.name || \"\").toLowerCase();\n        const nameB = (usersB[0]?.name || \"\").toLowerCase();\n        return nameA.localeCompare(nameB);\n      },\n    },\n    {\n      field: \"document\",\n      headerName: \"Document\",\n      width: 180,\n      renderCell: (cell) => (\n        <Box sx={{ display: \"flex\", justifyContent: \"space-around\" }}>\n          <IconButton\n            title=\"View document\"\n            onClick={async () => {\n              const docs = await fetchDocumentsByTask(cell.row.id);\n\n              if (!docs || docs.length === 0) {\n                // Show alert toast instead of opening popup\n                toast.warning(\"No documents available.\");\n                return;\n              }\n              setDocuments(docs || []);\n              setSelectedTask(cell.row.id);\n              setIsViewDocumentsPopupOpen(true);\n            }}\n          >\n            <FilePresentOutlined />\n          </IconButton>\n\n          <IconButton\n            title=\"Attach document\"\n            onClick={() => {\n              setSelectedTask(cell.row.id);\n              setIsPopupOpen(true);\n            }}\n          >\n            <AttachFileOutlined />\n          </IconButton>\n        </Box>\n      ),\n    },\n    {\n      field: \"Planned_Completion_Date\",\n      headerName: \"Planned Completion Date\",\n      width: 180,\n      renderCell: (params) =>\n        params.value ? format(new Date(params.value), \"dd MMM yyyy\") : \"N/A\",\n    },\n    {\n      field: \"Actual_Completion_Date\",\n      headerName: \"Actual Completion Date\",\n      width: 180,\n      renderCell: (params) =>\n        params.value ? format(new Date(params.value), \"dd MMM yyyy\") : \"N/A\",\n    },\n\n    {\n      field: \"clause_number\",\n      headerName: \"Reference - Clause\",\n      width: 150,\n    },\n\n    {\n      field: \"actions\",\n      headerName: \"Actions\",\n      width: 150,\n      renderCell: (cell) => {\n        return (\n          <Box sx={{ display: \"flex\", justifyContent: \"space-between\" }}>\n            <IconButton\n              color=\"primary\"\n              onClick={() =>\n                navigate(`/edit-task/${moduleId}/${cell.row.id}`, {\n                  state: { iterationId },\n                })\n              }\n            >\n              <EditIcon />\n            </IconButton>\n            &nbsp;&nbsp;\n            <IconButton color=\"error\" onClick={() => handleDelete(cell.row.id)}>\n              <DeleteIcon />\n            </IconButton>\n            <IconButton\n              onClick={() =>\n                handleViewChangeLog(\n                  cell.row.moduleId,\n                  cell.row.id,\n                  cell.row.Checklist_Item\n                )\n              }\n              title=\"View Change Log\"\n            >\n              <HistoryIcon fontSize=\"small\" sx={{ color: \"#1976d2\" }} />\n            </IconButton>\n          </Box>\n        );\n      },\n    },\n  ];\n\n  // main renderer\n  return (\n    <Paper\n      elevation={4}\n      sx={{ borderRadius: \"0.5rem\", marginLeft: 4, marginRight: 2 }}\n    >\n      <Grid2 container sx={{ padding: 2 }}>\n        <Grid2 size={{ xs: 12, lg: 9 }} mb={4}>\n          <Typography sx={{ fontWeight: \"bold\" }} variant=\"h4\">\n            Compliance Management\n          </Typography>\n          {userRole === \"System Super Admin\" && (\n            <Typography variant=\"h4\">Company: {companyName}</Typography>\n          )}\n        </Grid2>\n        <Grid2 size={{ xs: 12, lg: 3 }}>\n          <Box sx={{ display: \"flex\", justifyContent: \"end\" }}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => navigate(\"/select-iteration\")}\n              sx={{ display: \"inline-block\", marginRight: 3 }}\n            >\n              Upload Tasks\n            </Button>\n\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => navigate(\"/create-task\")}\n              className=\"add-task-btn\"\n            >\n              Add Task\n            </Button>\n          </Box>\n        </Grid2>\n\n        <Grid2 size={{ xs: 12, md: 4 }}>\n          <TextField\n            select\n            label=\"Filter by Iteration\"\n            value={iterationId}\n            onChange={(e) => setIterationId(e.target.value)}\n            fullWidth\n            size=\"small\"\n            variant=\"outlined\"\n            margin=\"normal\"\n            InputLabelProps={{ shrink: true }}\n            SelectProps={{\n              displayEmpty: true,\n              MenuProps: {\n                anchorOrigin: { vertical: \"bottom\", horizontal: \"left\" },\n                transformOrigin: { vertical: \"top\", horizontal: \"left\" },\n                PaperProps: {\n                  style: { maxHeight: 250, width: \"auto\" },\n                },\n              },\n            }}\n            sx={{\n              minWidth: 200,\n              \"& .MuiOutlinedInput-root\": {\n                borderRadius: 1,\n              },\n              \"& .MuiInputLabel-root\": {\n                color: \"rgba(0, 0, 0, 0.6)\",\n              },\n            }}\n          >\n            <MenuItem value=\"\">All Iterations</MenuItem>\n            {iterations.map((iter) => (\n              <MenuItem key={iter.id} value={iter.id}>\n                {iter.name}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid2>\n\n        <Grid2\n          size={{ xs: 12, md: 12, lg: 12 }}\n          sx={{\n            maxWidth: \"100%\",\n            overflow: \"hidden\",\n            mt: { xs: 2, sm: 0 },\n          }}\n        >\n          <Grid2\n            size={{ xs: 12, md: 12, lg: 12 }}\n            sx={{\n              maxWidth: \"100%\",\n              overflowX: \"auto\", //  This enables horizontal scrolling\n              overflowY: \"hidden\", //   This hides vertical scrolling\n              mt: { xs: 2, sm: 0 },\n            }}\n          ></Grid2>\n          <DataGrid\n            rows={tasks}\n            columns={columns}\n            pagination\n            paginationModel={paginationModel}\n            onPaginationModelChange={setPaginationModel}\n            pageSizeOptions={[5, 10, 25]}\n            sx={{\n              fontSize: \"1rem\",\n              \"& .MuiDataGrid-cell\": {\n                whiteSpace: \"normal\",\n                wordWrap: \"break-word\",\n                display: \"flex\",\n                alignItems: \"center\",\n                paddingY: 1,\n              },\n            }}\n            initialState={{\n              pinnedColumns: { left: [\"auditee\"] },\n            }}\n            getRowHeight={() => \"auto\"}\n          />\n        </Grid2>\n\n        {isPopupOpen && (\n          <Dialog\n            open={isPopupOpen}\n            onClose={() => setIsPopupOpen(false)}\n            fullWidth\n            maxWidth=\"sm\"\n          >\n            <DialogTitle>Upload Document</DialogTitle>\n            <DialogContent>\n              {/* File Upload Section */}\n              <div className=\"file-upload-section\">\n                <label className=\"custom-file-input\">\n                  <input\n                    type=\"file\"\n                    multiple\n                    onChange={(e) => {\n                      const selectedFiles = Array.from(e.target.files);\n                      if (selectedFiles.length > 0) {\n                        setDocuments((prevDocs) => ({\n                          ...prevDocs,\n                          [selectedTask]: selectedFiles,\n                        }));\n                      }\n                    }}\n                  />\n\n                  <span className=\"custom-file-button\">Browse File</span>\n                </label>\n\n                {/* Show selected file name */}\n                {Array.isArray(documents[selectedTask]) &&\n                  documents[selectedTask].length > 0 && (\n                    <Box sx={{ mt: 1 }}>\n                      <Typography variant=\"body2\" fontWeight={500}>\n                        Selected Files:\n                      </Typography>\n                      <ul style={{ margin: 0, paddingLeft: \"1rem\" }}>\n                        {documents[selectedTask].map((file, index) => (\n                          <li key={index}>\n                            <Typography variant=\"body2\">{file.name}</Typography>\n                          </li>\n                        ))}\n                      </ul>\n                    </Box>\n                  )}\n\n                {/* Comment Input */}\n                <TextField\n                  fullWidth\n                  label=\"File Comment\"\n                  variant=\"outlined\"\n                  className=\"comment-box\"\n                  placeholder=\"Add a comment...\"\n                  value={comments[selectedTask] || \"\"}\n                  onChange={(e) =>\n                    setComments((prev) => ({\n                      ...prev,\n                      [selectedTask]: e.target.value,\n                    }))\n                  }\n                  margin=\"normal\"\n                />\n              </div>\n            </DialogContent>\n\n            {/*Buttons*/}\n            <DialogActions className=\"button-group\">\n              <Button\n                className=\"MuiButton-outlinedSecondary\"\n                onClick={() => setIsPopupOpen(false)}\n              >\n                Cancel\n              </Button>\n              <Button\n                className=\"MuiButton-containedPrimary\"\n                onClick={() => handleFileUpload(selectedTask)}\n                disabled={uploading}\n                startIcon={\n                  uploading ? (\n                    <CircularProgress size={20} color=\"inherit\" />\n                  ) : null\n                }\n              >\n                {uploading ? \"Uploading...\" : \"Upload\"}\n              </Button>\n            </DialogActions>\n          </Dialog>\n        )}\n\n        <Dialog open={editDialogOpen} onClose={() => setEditDialogOpen(false)}>\n          <DialogTitle>Edit Document</DialogTitle>\n          <DialogContent>\n            <TextField\n              label=\"Remark\"\n              fullWidth\n              margin=\"dense\"\n              value={selectedDocument?.remark || \"\"}\n              onChange={(e) =>\n                setSelectedDocument({\n                  ...selectedDocument,\n                  remark: e.target.value,\n                })\n              }\n            />\n            <TextField\n              label=\"Issue Date\"\n              type=\"date\"\n              fullWidth\n              margin=\"dense\"\n              InputLabelProps={{ shrink: true }}\n              // value={\n              //   selectedDocument?.issue_date &&\n              //   !isNaN(new Date(selectedDocument.issue_date).getTime())\n              //     ? new Date(selectedDocument.issue_date)\n              //         .toISOString()\n              //         .split(\"T\")[0]\n              //     : \"\"\n              // }\n              value={formatDateForInput(selectedDocument?.issue_date)}\n              onChange={(e) =>\n                setSelectedDocument({\n                  ...selectedDocument,\n                  issue_date: e.target.value,\n                })\n              }\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => setEditDialogOpen(false)}>Cancel</Button>\n            <Button variant=\"contained\" onClick={handleSaveEdit}>\n              Save\n            </Button>\n          </DialogActions>\n        </Dialog>\n\n        {isViewDocumentsPopupOpen && (\n          <Dialog\n            open={isViewDocumentsPopupOpen}\n            onClose={() => setIsViewDocumentsPopupOpen(false)}\n            fullWidth\n            maxWidth=\"xl\"\n            PaperProps={{\n              sx: {\n                maxWidth: \"95vw\",\n                borderRadius: 2,\n                overflow: \"hidden\",\n              },\n            }}\n          >\n            <DialogTitle\n              sx={{\n                fontWeight: 600,\n                fontSize: \"1.5rem\",\n                backgroundColor: \"#f9f9f9\",\n                px: 3,\n                py: 2,\n                borderBottom: \"1px solid #e0e0e0\",\n              }}\n            >\n              View Uploaded Documents\n            </DialogTitle>\n\n            <DialogContent\n              sx={{\n                maxHeight: \"75vh\",\n                overflow: \"auto\",\n                p: 2,\n                backgroundColor: \"#fff\",\n              }}\n            >\n              {Array.isArray(documents) && documents.length > 0 ? (\n                <Box sx={{ minWidth: \"1000px\", overflowX: \"auto\" }}>\n                  <DataGrid\n                    autoHeight\n                    rows={documents.map((doc, index) => ({\n                      ...doc,\n                      id: doc.id || index,\n                      file_name: doc.file_name,\n                      remark: doc.remark || \"No remark provided\",\n                      uploader: doc.uploader?.name || \"Unknown\",\n                      uploaded_at: doc.uploaded_at\n                        ? new Date(doc.uploaded_at).toLocaleString()\n                        : \"N/A\",\n                      issue_version:\n                        doc.issue_version ||\n                        (doc.file_name?.match(/_v(\\d+)_/)?.[1]\n                          ? `v${doc.file_name.match(/_v(\\d+)_/)[1]}`\n                          : \"N/A\"),\n                      file_url: doc.file_url,\n                      module_id: doc.module_id,\n                    }))}\n                    columns={[\n                      {\n                        field: \"file_name\",\n                        headerName: \"Document File Name\",\n                        flex: 2,\n                        minWidth: 280,\n                      },\n                      {\n                        field: \"remark\",\n                        headerName: \"Remark\",\n                        flex: 1,\n                        minWidth: 200,\n                      },\n                      {\n                        field: \"uploader\",\n                        headerName: \"Uploaded by\",\n                        flex: 1,\n                      },\n                      {\n                        field: \"uploaded_at\",\n                        headerName: \"Uploaded on\",\n                        flex: 1,\n                      },\n                      {\n                        field: \"file_url\",\n                        headerName: \"File Link\",\n                        flex: 1,\n                        renderCell: (params) => (\n                          <a\n                            href={params.value}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            style={{\n                              color: \"#1976d2\",\n                              textDecoration: \"underline\",\n                              fontWeight: 500,\n                            }}\n                          >\n                            Open\n                          </a>\n                        ),\n                      },\n                      {\n                        field: \"delete\",\n                        headerName: \"Actions\",\n                        flex: 1,\n                        sortable: false,\n                        filterable: false,\n                        renderCell: (params) => (\n                          <>\n                            <Tooltip title=\"Edit\">\n                              <IconButton\n                                onClick={() => handleEditClick(params.row)}\n                                color=\"primary\"\n                              >\n                                <EditIcon />\n                              </IconButton>\n                            </Tooltip>\n                            <Tooltip title=\"Delete\">\n                              <IconButton\n                                onClick={() =>\n                                  handleDeleteDoc(\n                                    params.row.module_id,\n                                    params.row.id\n                                  )\n                                }\n                                color=\"error\"\n                              >\n                                <DeleteIcon />\n                              </IconButton>\n                            </Tooltip>\n                          </>\n                        ),\n                      },\n                      {\n                        field: \"id\",\n                        headerName: \"Document ID\",\n                        flex: 1,\n                        renderCell: (params) => {\n                          const fullId = params.value || \"N/A\";\n                          const truncated =\n                            fullId.length > 16\n                              ? `${fullId.slice(0, 8)}...${fullId.slice(-6)}`\n                              : fullId;\n                          return (\n                            <Tooltip title={fullId} arrow>\n                              <Typography\n                                variant=\"body2\"\n                                sx={{\n                                  fontFamily: \"monospace\",\n                                  whiteSpace: \"nowrap\",\n                                  overflow: \"hidden\",\n                                  textOverflow: \"ellipsis\",\n                                  width: \"100%\",\n                                }}\n                              >\n                                {truncated}\n                              </Typography>\n                            </Tooltip>\n                          );\n                        },\n                      },\n                      {\n                        field: \"issue_version\",\n                        headerName: \"Version\",\n                        flex: 1,\n                      },\n                      {\n                        field: \"issue_date\",\n                        headerName: \"Issue Date\",\n                        flex: 1,\n                        renderCell: (params) =>\n                          params.value &&\n                          !isNaN(new Date(params.value).getTime())\n                            ? new Date(params.value).toLocaleDateString()\n                            : \"N/A\",\n                      },\n                    ]}\n                    initialState={{\n                      pagination: {\n                        paginationModel: { pageSize: 5, page: 0 },\n                      },\n                    }}\n                    pageSizeOptions={[5, 10, 25]}\n                    disableRowSelectionOnClick\n                    getRowHeight={() => 64} // Increased from default (~52)\n                    sx={{\n                      fontSize: \"0.95rem\",\n                      \"& .MuiDataGrid-columnHeaders\": {\n                        backgroundColor: \"#f5f5f5\",\n                        fontWeight: \"bold\",\n                        fontSize: \"0.95rem\",\n                      },\n                      \"& .MuiDataGrid-row:nth-of-type(odd)\": {\n                        backgroundColor: \"#fafafa\",\n                      },\n                      \"& .MuiDataGrid-cell\": {\n                        whiteSpace: \"normal\",\n                        wordWrap: \"break-word\",\n                        lineHeight: \"1.6\",\n                        paddingTop: \"12px\",\n                        paddingBottom: \"12px\",\n                      },\n                    }}\n                  />\n                </Box>\n              ) : (\n                <Typography\n                  variant=\"body1\"\n                  color=\"text.secondary\"\n                  sx={{ textAlign: \"center\", mt: 3 }}\n                >\n                  No documents available for this task.\n                </Typography>\n              )}\n            </DialogContent>\n            <DialogActions className=\"button-group\">\n              <Button\n                className=\"MuiButton-outlinedSecondary\"\n                onClick={() => setIsViewDocumentsPopupOpen(false)}\n              >\n                Close\n              </Button>\n            </DialogActions>\n          </Dialog>\n        )}\n\n        <Dialog\n          open={openLogModal}\n          onClose={() => setOpenLogModal(false)}\n          maxWidth=\"md\"\n          fullWidth\n        >\n          <DialogTitle sx={{ m: 0, p: 2 }}>\n            Task Change Log\n            <IconButton\n              aria-label=\"close\"\n              onClick={() => setOpenLogModal(false)}\n              sx={{\n                position: \"absolute\",\n                right: 8,\n                top: 8,\n                color: (theme) => theme.palette.grey[500],\n              }}\n            >\n              <CloseIcon />\n            </IconButton>\n          </DialogTitle>\n\n          {/* Optional subtitle area for Task name and download */}\n          <Box\n            display=\"flex\"\n            justifyContent=\"space-between\"\n            alignItems=\"center\"\n            px={3}\n            py={1}\n            sx={{ backgroundColor: \"#f4f4f4\", borderBottom: \"1px solid #ddd\" }}\n          >\n            <Typography variant=\"subtitle1\" fontWeight={600}>\n              Task: {checklistItem || \"Unnamed Task\"}\n            </Typography>\n\n            <IconButton\n              aria-label=\"Download Logs\"\n              onClick={handleDownloadLogsAsPDF}\n              size=\"large\"\n              color=\"primary\"\n            >\n              <FileDownloadIcon />\n            </IconButton>\n          </Box>\n\n          <DialogContent dividers ref={scrollContentRef}>\n            {taskChangeLog.length === 0 ? (\n              <Typography variant=\"body2\">No changelogs available.</Typography>\n            ) : (\n              taskChangeLog.map((log, index) => {\n                const from =\n                  Array.isArray(log.old_value) && log.old_value.length > 0\n                    ? log.old_value\n                        .map((u) => u.name || JSON.stringify(u))\n                        .join(\", \")\n                    : typeof log.old_value === \"string\" && log.old_value.trim()\n                    ? log.old_value\n                    : \"\";\n\n                const to =\n                  Array.isArray(log.new_value) && log.new_value.length > 0\n                    ? log.new_value\n                        .map((u) => u.name || JSON.stringify(u))\n                        .join(\", \")\n                    : typeof log.new_value === \"string\" && log.new_value.trim()\n                    ? log.new_value\n                    : \"\";\n\n                return (\n                  <Paper\n                    key={index}\n                    elevation={3}\n                    sx={{\n                      p: 2,\n                      mb: 2,\n                      borderRadius: 2,\n                      backgroundColor: \"#fafafa\",\n                    }}\n                  >\n                    <Typography\n                      variant=\"subtitle1\"\n                      sx={{ fontWeight: 600, mb: 1, color: \"primary.main\" }}\n                    >\n                      {log.changed_by.name} changed{\" \"}\n                      <strong>{log.field_changed}</strong> on{\" \"}\n                      {new Date(log.changed_at).toLocaleString()}\n                    </Typography>\n\n                    <Grid container spacing={1}>\n                      <Grid item xs={12} sm={2}>\n                        <Typography variant=\"body2\" fontWeight={500}>\n                          From:\n                        </Typography>\n                      </Grid>\n                      <Grid item xs={12} sm={10}>\n                        <Typography\n                          variant=\"body2\"\n                          color={from ? \"text.primary\" : \"text.secondary\"}\n                        >\n                          {from || \"(empty)\"}\n                        </Typography>\n                      </Grid>\n\n                      <Grid item xs={12} sm={2}>\n                        <Typography variant=\"body2\" fontWeight={500}>\n                          To:\n                        </Typography>\n                      </Grid>\n                      <Grid item xs={12} sm={10}>\n                        <Typography\n                          variant=\"body2\"\n                          color={to ? \"text.primary\" : \"text.secondary\"}\n                        >\n                          {to || \"(empty)\"}\n                        </Typography>\n                      </Grid>\n                    </Grid>\n                  </Paper>\n                );\n              })\n            )}\n          </DialogContent>\n        </Dialog>\n      </Grid2>\n\n      {uploading && (\n        <Box\n          sx={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            zIndex: 1300,\n            width: \"100vw\",\n            height: \"100vh\",\n            backgroundColor: \"rgba(255,255,255,0.6)\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}\n        >\n          <CircularProgress size={60} />\n        </Box>\n      )}\n    </Paper>\n  );\n};\n\nexport default TaskList;\n","size_bytes":40523},"qms-source/frontend-new/src/assets/theme-dark/base/borders.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base border styles for the Material Dashboard 2 React.\n * You can add new border width, border color or border radius using this file.\n * You can customized the borders value for the entire Material Dashboard 2 React using thie file.\n */\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { white } = colors;\n\nconst borders = {\n  borderColor: rgba(white.main, 0.4),\n\n  borderWidth: {\n    0: 0,\n    1: pxToRem(1),\n    2: pxToRem(2),\n    3: pxToRem(3),\n    4: pxToRem(4),\n    5: pxToRem(5),\n  },\n\n  borderRadius: {\n    xs: pxToRem(1.6),\n    sm: pxToRem(2),\n    md: pxToRem(6),\n    lg: pxToRem(8),\n    xl: pxToRem(12),\n    xxl: pxToRem(16),\n    section: pxToRem(160),\n  },\n};\n\nexport default borders;\n","size_bytes":1443},"qms-source/frontend-new/src/assets/theme-dark/base/typography.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base typography styles for the Material Dashboard 2 React.\n * You can add new typography style using this file.\n * You can customized the typography styles for the entire Material Dashboard 2 React using thie file.\n */\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { white } = colors;\n\nconst baseProperties = {\n  fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n  fontWeightLighter: 100,\n  fontWeightLight: 300,\n  fontWeightRegular: 400,\n  fontWeightMedium: 600,\n  fontWeightBold: 700,\n  fontSizeXXS: pxToRem(10.4),\n  fontSizeXS: pxToRem(12),\n  fontSizeSM: pxToRem(14),\n  fontSizeMD: pxToRem(16),\n  fontSizeLG: pxToRem(18),\n  fontSizeXL: pxToRem(20),\n  fontSize2XL: pxToRem(24),\n  fontSize3XL: pxToRem(30),\n};\n\nconst baseHeadingProperties = {\n  fontFamily: baseProperties.fontFamily,\n  color: white.main,\n  fontWeight: baseProperties.fontWeightBold,\n};\n\nconst baseDisplayProperties = {\n  fontFamily: baseProperties.fontFamily,\n  color: white.main,\n  fontWeight: baseProperties.fontWeightLight,\n  lineHeight: 1.2,\n};\n\nconst typography = {\n  fontFamily: baseProperties.fontFamily,\n  fontWeightLighter: baseProperties.fontWeightLighter,\n  fontWeightLight: baseProperties.fontWeightLight,\n  fontWeightRegular: baseProperties.fontWeightRegular,\n  fontWeightMedium: baseProperties.fontWeightMedium,\n  fontWeightBold: baseProperties.fontWeightBold,\n\n  h1: {\n    fontSize: pxToRem(48),\n    lineHeight: 1.25,\n    ...baseHeadingProperties,\n  },\n\n  h2: {\n    fontSize: pxToRem(36),\n    lineHeight: 1.3,\n    ...baseHeadingProperties,\n  },\n\n  h3: {\n    fontSize: pxToRem(30),\n    lineHeight: 1.375,\n    ...baseHeadingProperties,\n  },\n\n  h4: {\n    fontSize: pxToRem(24),\n    lineHeight: 1.375,\n    ...baseHeadingProperties,\n  },\n\n  h5: {\n    fontSize: pxToRem(20),\n    lineHeight: 1.375,\n    ...baseHeadingProperties,\n  },\n\n  h6: {\n    fontSize: pxToRem(16),\n    lineHeight: 1.625,\n    ...baseHeadingProperties,\n  },\n\n  subtitle1: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeXL,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.625,\n  },\n\n  subtitle2: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeMD,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.6,\n  },\n\n  body1: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeXL,\n    fontWeight: baseProperties.fontWeightRegular,\n    lineHeight: 1.625,\n  },\n\n  body2: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeMD,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.6,\n  },\n\n  button: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeSM,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.5,\n    textTransform: \"uppercase\",\n  },\n\n  caption: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeXS,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.25,\n  },\n\n  overline: {\n    fontFamily: baseProperties.fontFamily,\n  },\n\n  d1: {\n    fontSize: pxToRem(80),\n    ...baseDisplayProperties,\n  },\n\n  d2: {\n    fontSize: pxToRem(72),\n    ...baseDisplayProperties,\n  },\n\n  d3: {\n    fontSize: pxToRem(64),\n    ...baseDisplayProperties,\n  },\n\n  d4: {\n    fontSize: pxToRem(56),\n    ...baseDisplayProperties,\n  },\n\n  d5: {\n    fontSize: pxToRem(48),\n    ...baseDisplayProperties,\n  },\n\n  d6: {\n    fontSize: pxToRem(40),\n    ...baseDisplayProperties,\n  },\n\n  size: {\n    xxs: baseProperties.fontSizeXXS,\n    xs: baseProperties.fontSizeXS,\n    sm: baseProperties.fontSizeSM,\n    md: baseProperties.fontSizeMD,\n    lg: baseProperties.fontSizeLG,\n    xl: baseProperties.fontSizeXL,\n    \"2xl\": baseProperties.fontSize2XL,\n    \"3xl\": baseProperties.fontSize3XL,\n  },\n\n  lineHeight: {\n    sm: 1.25,\n    md: 1.5,\n    lg: 2,\n  },\n};\n\nexport default typography;\n","size_bytes":4565},"frontend-new/src/pages/TaskManagement/TaskUploadPage.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport {\n  Button,\n  Typography,\n  Select,\n  MenuItem,\n  Paper,\n  Grid2,\n  Box,\n  TextField,\n} from \"@mui/material\";\nimport { DataGrid } from \"@mui/x-data-grid\";\nimport { useLocation } from \"react-router-dom\";\nimport UploadIcon from \"@mui/icons-material/Upload\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { format } from \"date-fns\";\n\nconst TaskUploadPage = () => {\n  const { moduleId } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const query = new URLSearchParams(location.search);\n\n  const iterationId = query.get(\"iterationId\") || \"\";\n  const selectedStandard = query.get(\"standard\");\n\n  const [tasks, setTasks] = useState([]);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const taskTypes = [\n    \"Control\",\n    \"Process\",\n    \"Procedure\",\n    \"Monitoring\",\n    \"Material\",\n  ];\n  const statuses = [\n    // \"FI\",\n    // \"PI\",\n    // \"NI\",\n    // \"NA\",\n    // \"TBD\",\n    // \"OFI\",\n    // \"Obs\",\n    // \"NC- Minor\",\n    // \"NC- Major\",\n    \"Not Done\",\n    \"Partially Done\",\n    \"In-Progress\",\n    \"Largely Done\",\n    \"Done\",\n    \"NA\",\n  ];\n  const auditeeOptions = [\n    \"CISO\",\n    \"HOD-HR\",\n    \"HOD-Facility Admin\",\n    \"HOD-IT\",\n    \"HOD-Purchase\",\n    \"IT Administration\",\n    \"Project Manager - SDLC\",\n  ];\n  const priorities = [\"High\", \"Medium\", \"Low\"];\n  const complianceOptions = [\"Yes\", \"No\", \"Partial\", \"Not Applicable\", \"\"];\n\n  const TypeofFinding = [\n    \"Compliance\",\n    \"Observation\",\n    \"Non-Compliance\",\n    \"Opportunity For Improvement\",\n  ];\n\n  // useEffect(() => {\n  //   const fetchIterations = async () => {\n  //     try {\n  //       const company_id = sessionStorage.getItem(\"selectedCompany\");\n  //       if (!company_id) {\n  //         toast.error(\"Company ID is required.\");\n  //         return;\n  //       }\n\n  //       const response = await axiosInstance.get(`/iteration/${moduleId}`, {\n  //         params: { company_id },\n  //         headers: {\n  //           Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n  //         },\n  //       });\n\n  //       setIterations(response.data || []);\n  //     } catch (error) {\n  //       const errorMsg =\n  //         error?.response?.data?.error ||\n  //         error?.response?.data?.message ||\n  //         error?.message ||\n  //         \"Unknown error\";\n\n  //       console.error(\"Error fetching iterations:\", errorMsg, error.response);\n  //       toast.error(`Failed to fetch iterations: ${errorMsg}`);\n  //     }\n  //   };\n\n  //   fetchIterations();\n  // }, []);\n\n  // Handle file selection\n  const handleFileChange = (event) => {\n    setSelectedFile(event.target.files[0]);\n  };\n\n  // Upload file and fetch tasks\n  const handleFileUpload = async () => {\n    if (!selectedFile) {\n      toast.error(\"Please select a file.\");\n      return;\n    }\n\n    const token = localStorage.getItem(\"jwtToken\");\n    if (!token) {\n      toast.error(\"Session expired. Please log in again.\");\n      return;\n    }\n\n    if (!iterationId || !selectedStandard) {\n      toast.error(\"Iteration or standard missing.\");\n      return;\n    }\n\n    if (!selectedStandard) {\n      toast.error(\"No standard selected. Please select a standard first.\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"file\", selectedFile);\n    formData.append(\"iteration_id\", iterationId);\n    formData.append(\"company_id\", sessionStorage.getItem(\"selectedCompany\"));\n    formData.append(\"standard\", selectedStandard);\n\n    try {\n      setLoading(true); // Start loading\n      const response = await axiosInstance.post(\n        `/tasks/upload-tasks/${moduleId}`,\n        formData,\n        {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      if (response.data.tasks) {\n        setTasks(\n          response.data.tasks.map((task, index) => ({\n            id: index + 1, // required for DataGrid\n            srNo: index + 1, // for Serial Number display\n            ...task,\n          }))\n        );\n        toast.success(\"File uploaded successfully!\");\n      }\n    } catch (error) {\n      console.error(\"Upload error:\", error.response?.data || error.message);\n      toast.error(error.response?.data?.message || \"Failed to upload file.\");\n    } finally {\n      setLoading(false); // Stop loading\n    }\n  };\n\n  // Insert approved tasks into the database\n  const handleInsertApprovedTasks = async () => {\n    console.log(\n      \"handleInsertApprovedTasks - selectedCompany:\",\n      sessionStorage.getItem(\"selectedCompany\")\n    );\n\n    if (tasks.length === 0) return;\n\n    const token = localStorage.getItem(\"jwtToken\");\n    if (!token) {\n      toast.error(\"Session expired. Please log in again.\");\n      navigate(\"/login\");\n      return;\n    }\n\n    try {\n      let company_id;\n      const base64Url = token.split(\".\")[1];\n      const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n      const decodedData = JSON.parse(atob(base64));\n      console.log(\" Decoded Token:\", decodedData);\n\n      const roleId = decodedData.role;\n      const companyFromToken = decodedData.company;\n      console.log(\" User Role ID:\", roleId);\n\n      // FETCH ROLE NAME BASED ON ROLE ID\n      const response = await axiosInstance.get(`/roles/${moduleId}/${roleId}`, {\n        params: { company_id: companyFromToken },\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      const roleName = response.data.name;\n      console.log(\" Resolved Role Name:\", roleName);\n\n      if (roleName === \"System Super Admin\") {\n        company_id = sessionStorage.getItem(\"selectedCompany\");\n        console.log(\" Company ID from Session (Super Admin):\", company_id);\n\n        if (!company_id) {\n          toast.error(\n            \"No company selected in session. Please select a company.\"\n          );\n          navigate(\"/SelectCompany\");\n          return;\n        }\n      } else {\n        company_id = companyFromToken;\n        console.log(\" Company ID from Token (non-Super Admin):\", company_id);\n      }\n\n      console.log(\"Sending company_id to backend:\", company_id);\n\n      await axiosInstance.post(\n        `/tasks/insert-approved-tasks/${moduleId}`,\n        { tasks, company_id, iteration_id: iterationId },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      toast.success(\"Approved tasks inserted successfully!\");\n      navigate(\"/tasks\");\n    } catch (error) {\n      const data = error.response?.data;\n      console.error(\"Insert Task Error:\", data || error.message);\n\n      if (data?.failed_tasks?.length) {\n        console.table(data.failed_tasks);\n        toast.error(\"Some tasks failed validation. Check console for details.\");\n      } else {\n        toast.error(data?.message || \"Failed to insert approved tasks.\");\n      }\n    }\n  };\n\n  const renderEditSelectCell = (params, options) => {\n    return (\n      <Select\n        value={params.value || \"\"}\n        onChange={(event) => {\n          params.api.setEditCellValue({\n            id: params.id,\n            field: params.field,\n            value: event.target.value,\n          });\n        }}\n        fullWidth\n      >\n        {options.map((option) => (\n          <MenuItem key={option} value={option}>\n            {option}\n          </MenuItem>\n        ))}\n      </Select>\n    );\n  };\n\n  const columns = [\n    {\n      field: \"srNo\",\n      headerName: \"Sr.No.\",\n      width: 80,\n      sortable: false,\n      filterable: false,\n    },\n    {\n      field: \"auditee\",\n      headerName: \"Auditee\",\n      width: 120,\n      editable: true,\n      renderEditCell: (params) => renderEditSelectCell(params, auditeeOptions),\n    },\n    { field: \"area\", headerName: \"Area\", width: 180 ,editable: true},\n    { field: \"Checklist_Item\", headerName: \"Checklist Item\", width: 180 ,editable: true},\n    { field: \"notes\", headerName: \"Notes\", width: 150 ,editable: true},\n    {\n      field: \"Type_of_Finding\",\n      headerName: \"Type of Finding\",\n      width: 180,\n      editable: true,\n      renderEditCell: (params) => renderEditSelectCell(params, TypeofFinding),\n    },\n    {\n      field: \"status\",\n      headerName: \"Status of action\",\n      width: 150,\n      editable: true,\n      renderEditCell: (params) => renderEditSelectCell(params, statuses),\n    },\n    { field: \"description\", headerName: \"Description\", width: 200 ,editable: true,},\n    { field: \"standard\", headerName: \"Standard\", width: 180 ,editable: true,},\n\n    {\n      field: \"priority\",\n      headerName: \"Priority\",\n      width: 120,\n      editable: true,\n      renderEditCell: (params) => renderEditSelectCell(params, priorities),\n    },\n\n    {\n      field: \"responsibility\",\n      headerName: \"Responsibility\",\n      width: 180,\n      editable: true,\n    },\n    {\n      field: \"RCA_Details\",\n      headerName: \"RCA Details\",\n      width: 220,\n      editable: true,\n    },\n    {\n      field: \"Planned_Completion_Date\",\n      headerName: \"Planned Completion Date\",\n      width: 180,\n      editable: true,\n      renderCell: (params) =>\n        params.value ? format(new Date(params.value), \"dd MMM yyyy\") : \"N/A\",\n    },\n    {\n      field: \"Actual_Completion_Date\",\n      headerName: \"Actual Completion Date\",\n      width: 180,\n      editable: true,\n      renderCell: (params) =>\n        params.value ? format(new Date(params.value), \"dd MMM yyyy\") : \"N/A\",\n    },\n\n    {\n      field: \"clause_number\",\n      headerName: \"Reference - Clause\",\n      width: 150,\n      editable: true,\n    },\n  ];\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{ borderRadius: \"0.5rem\", marginLeft: 4, marginRight: 2 }}\n    >\n      <Grid2 container  sx={{ padding: 2 }} spacing={2}>\n        {/* Left side - Heading */}\n        <Grid2 size={{ xs: 12, md: 6 }}>\n          <Typography sx={{ fontWeight: \"bold\" }} variant=\"h4\">\n            Task Upload\n          </Typography>\n        </Grid2>\n\n        {/* Right side - Iteration Dropdown + Insert Button */}\n        <Grid2\n          size={{ xs: 12, md: 6 }}\n          sx={{\n            display: \"flex\",\n            justifyContent: { xs: \"start\", md: \"end\" },\n            gap: 2,\n          }}\n        >\n          <Button\n            variant=\"contained\"\n            color=\"success\"\n            onClick={handleInsertApprovedTasks}\n            disabled={tasks.length === 0}\n          >\n            Insert Updated Tasks\n          </Button>\n        </Grid2>\n\n        {/* File input & upload */}\n        <Grid2 size={{ xs: 12, md: 12 }}>\n          <Box sx={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n            <input\n              type=\"file\"\n              id=\"fileInput\"\n              onChange={handleFileChange}\n              accept=\".xlsx, .xls\"\n              style={{ display: \"none\" }}\n            />\n            <label htmlFor=\"fileInput\">\n              <Button\n                variant=\"contained\"\n                component=\"span\"\n                startIcon={<UploadIcon />}\n                sx={{ marginRight: 2 }}\n              >\n                Choose File\n              </Button>\n            </label>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleFileUpload}\n              disabled={!selectedFile || !iterationId}\n            >\n              Upload Excel\n            </Button>\n          </Box>\n        </Grid2>\n\n        {/* File name display */}\n        <Grid2 size={{ xs: 12, md: 12 }}>\n          <Box sx={{ display: \"flex\", justifyContent: \"end\" }}>\n            {selectedFile && (\n              <Typography\n                variant=\"body2\"\n                color=\"textSecondary\"\n                sx={{ mt: 1, fontStyle: \"italic\" }}\n              >\n                Selected file: {selectedFile.name}\n              </Typography>\n            )}\n          </Box>\n        </Grid2>\n      </Grid2>\n\n      <Grid2\n        size={{ xs: 12, md: 12 }}\n        sx={{ maxWidth: \"100%\", overflow: \"hidden\", padding: 2 }}\n      >\n        <DataGrid\n          loading={loading}\n          rows={tasks}\n          columns={columns}\n          pageSize={10}\n          disableSelectionOnClick\n          processRowUpdate={(updatedRow) => {\n            setTasks((prevTasks) =>\n              prevTasks.map((task) =>\n                task.id === updatedRow.id ? { ...task, ...updatedRow } : task\n              )\n            );\n            return updatedRow;\n          }}\n        />\n      </Grid2>\n    </Paper>\n  );\n};\n\nexport default TaskUploadPage;\n","size_bytes":12786},"frontend-new/src/dashboard/Dashboard.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport {\n  Box,\n  IconButton,\n  Menu,\n  MenuItem,\n  Avatar,\n  Typography,\n  ListItemIcon,\n  Paper,\n  Grid2,\n} from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jwtDecode } from \"jwt-decode\";\nimport axiosInstance from \"../services/axiosinstance\";\nimport LockIcon from \"@mui/icons-material/Lock\";\nimport ExitToAppIcon from \"@mui/icons-material/ExitToApp\";\nimport PersonIcon from \"@mui/icons-material/Person\";\nimport { useMaterialUIController, setSelectedCompanyName } from \"../context\";\n\nconst moduleId = \"bd168912-e40c-48e3-b3d1-440a3e129d52\";\n\nconst Dashboard = () => {\n  const navigate = useNavigate();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [userName, setUserName] = useState(\"User\");\n  const [roleName, setRoleName] = useState(\"\");\n  const [companyName, setCompanyName] = useState(\"\");\n  const [profileImage, setProfileImage] = useState(null);\n  const [controller, dispatch] = useMaterialUIController();\n\n  // Extracting user details from JWT Token\n  const token = localStorage.getItem(\"jwtToken\");\n  const decodedToken = token ? jwtDecode(token) : null;\n  const userId = decodedToken?.user_id || localStorage.getItem(\"userId\"); // Get from token or localStorage\n  const roleId = decodedToken?.role || \"\";\n  const company_id = decodedToken?.company || \"\";\n  console.log(\"Decoded Token:\", decodedToken);\n\n  const fetchRoleName = async () => {\n    try {\n      const response = await axiosInstance.get(\n        `/roles/${moduleId}/${roleId}`, {\n        params: { company_id },\n      });\n      setRoleName(response.data.name || \"Unknown Role\");\n    } catch (error) {\n      console.error(\"Error fetching role name:\", error);\n    }\n  };\n\n  const fetchCompanyName = async () => {\n    try {\n      const storedCompanyName = sessionStorage.getItem(\"selectedCompanyName\");\n\n      if (storedCompanyName) {\n        setCompanyName(storedCompanyName);\n        return;\n      }\n\n      if (company_id) {\n        const token = localStorage.getItem(\"jwtToken\");\n\n        if (!token) {\n          console.error(\"JWT Token is missing\");\n          return;\n        }\n\n        console.log(\"Using token:\", token); // Debugging\n\n        const response = await axiosInstance.get(\n          `/companies/5d896834-fedd-4e0b-a882-8d05396fc346/${company_id}`,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n\n        const name = response.data.name || \"Unknown Company\";\n        setCompanyName(name);\n        sessionStorage.setItem(\"selectedCompanyName\", name);\n        setSelectedCompanyName(dispatch, name);\n      }\n    } catch (error) {\n      console.error(\"Error fetching company name:\", error);\n      if (error.response) {\n        console.error(\"Error details:\", error.response.data);\n      }\n    }\n  };\n\n  const fetchUserProfile = async () => {\n    if (userId) {\n      console.log(\"User ID:\", userId);\n      console.log(\"Role Name:\", roleName);\n      console.log(\"Company ID:\", company_id);\n\n      try {\n        const params =\n          roleName === \"System Super Admin\" && company_id\n            ? { company_id: company_id }\n            : {};\n\n        console.log(\"API request params:\", params); // Debugging\n\n        const response = await axiosInstance.get(\n          `/users/${moduleId}/${userId}`,\n          { params }\n        );\n\n        console.log(\"API Response:\", response.data); // Debugging\n\n        if (response.data) {\n          setUserName(response.data.name || \"User\");\n          localStorage.setItem(\"name\", response.data.name);\n        }\n      } catch (error) {\n        console.error(\"Error fetching user profile:\", error);\n        if (error.response) {\n          console.error(\"Backend error details:\", error.response.data);\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (!token) {\n      navigate(\"/login\", { replace: true });\n      return;\n    }\n\n    // Fetch role first, then fetch user profile\n    const fetchData = async () => {\n      if (roleId) await fetchRoleName();\n      if (company_id) await fetchCompanyName();\n\n      if (roleName && (roleName !== \"System Super Admin\" || company_id)) {\n        fetchUserProfile();\n      }\n    };\n\n    fetchData();\n  }, [navigate, userId, roleId, company_id, roleName]);\n\n  // Menu Handlers\n  const handleMenuOpen = (event) => setAnchorEl(event.currentTarget);\n  const handleMenuClose = () => setAnchorEl(null);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"userId\");\n    localStorage.removeItem(\"jwtToken\");\n    localStorage.removeItem(\"userRole\");\n    localStorage.removeItem(\"userEmail\");\n    localStorage.removeItem(\"name\");\n\n    sessionStorage.removeItem(\"selectedCompany\");\n    sessionStorage.removeItem(\"selectedCompanyName\");\n    sessionStorage.removeItem(\"companyname\");\n    sessionStorage.clear();\n    setSelectedCompanyName(dispatch, \"\");\n\n    navigate(\"/login\");\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        p: 2,\n        borderRadius: \"0.5rem\",\n        marginLeft: 4,\n        marginRight: 2,\n      }}\n    >\n      <Grid2 container fullWidth>\n        <Grid2\n          size={{ xs: 12, md: 5 }}\n          mb={4}\n          sx={{\n            display: \"flex\",\n            justifyContent: { xs: \"center\", md: \"start\" },\n          }}\n        >\n          <Typography\n            variant=\"h4\"\n            sx={{\n              fontWeight: 500,\n              fontSize: \"2.5rem\",\n              fontFamily: \"Poppins, sans-serif\",\n              color: \"#1976d2\",\n              textShadow: \"1px 1px 3px rgba(0, 0, 0, 0.2)\",\n            }}\n          >\n            Dashboard\n          </Typography>\n        </Grid2>\n\n        <Grid2\n          size={{ xs: 12, md: 7 }}\n          sx={{\n            display: \"flex\",\n            justifyContent: { xs: \"center\", md: \"flex-end\" },\n          }}\n        >\n          {/* User Info Box */}\n          <Box\n            sx={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              gap: 0.5,\n            }}\n          >\n            <Typography\n              variant=\"h6\"\n              sx={{\n                fontWeight: \"bold\",\n                color: \"#1976d2\",\n                fontSize: \"1.2rem\",\n                textAlign: \"center\",\n                whiteSpace: \"pre-line\",\n              }}\n            >\n              Hello, {userName} {\"\\n\"} ({roleName})\n            </Typography>\n\n            {/* Profile Icon */}\n            <IconButton onClick={handleMenuOpen} sx={{ p: 0 }}>\n              <Avatar\n                variant=\"square\"\n                src={profileImage || \"\"}\n                sx={{\n                  width: 45,\n                  height: 45,\n                  borderRadius: 2,\n                  backgroundColor: profileImage ? \"#fff\" : \"#1976d2\",\n                  border: \"2px solid #1976d2\",\n                  boxShadow: \"0px 4px 8px rgba(0, 0, 0, 0.15)\",\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                }}\n              >\n                {!profileImage && (\n                  <PersonIcon sx={{ color: \"#fff\", fontSize: 30 }} />\n                )}\n              </Avatar>\n            </IconButton>\n\n            {/* <IconButton\n              onClick={handleSelectStandardClick}\n              sx={{\n                backgroundColor: \"#1976d2\",\n                color: \"white\",\n                fontSize: \"0.8rem\",\n                fontWeight: \"bold\",\n                borderRadius: \"8px\",\n                mt: 1,\n                px: 2,\n                py: 0.5,\n                \"&:hover\": { backgroundColor: \"#125ea8\" },\n              }}\n            >\n              Select Standard\n            </IconButton> */}\n\n            {/* System Super Admin Features */}\n            {roleName === \"System Super Admin\" && (\n              <>\n                <IconButton\n                  onClick={() => navigate(\"/SelectCompany\")}\n                  sx={{\n                    backgroundColor: \"#1976d2\",\n                    color: \"white\",\n                    fontSize: \"0.8rem\",\n                    fontWeight: \"bold\",\n                    borderRadius: \"8px\",\n                    mt: 1,\n                    px: 2,\n                    py: 0.5,\n                    \"&:hover\": { backgroundColor: \"#125ea8\" },\n                  }}\n                >\n                  Select Company\n                </IconButton>\n                <Typography variant=\"body2\" sx={{ color: \"#555\" }}>\n                  {companyName || \"No Company Selected\"}\n                </Typography>\n              </>\n            )}\n          </Box>\n\n          {/* Dropdown Menu */}\n          <Menu\n            anchorEl={anchorEl}\n            open={Boolean(anchorEl)}\n            onClose={handleMenuClose}\n          >\n            <MenuItem onClick={() => navigate(\"/changePassword\")}>\n              <ListItemIcon>\n                <LockIcon fontSize=\"small\" sx={{ color: \"#1976d2\" }} />\n              </ListItemIcon>\n              Change Password\n            </MenuItem>\n            <MenuItem onClick={handleLogout} sx={{ color: \"red\" }}>\n              <ListItemIcon>\n                <ExitToAppIcon fontSize=\"small\" sx={{ color: \"red\" }} />\n              </ListItemIcon>\n              Logout\n            </MenuItem>\n          </Menu>\n        </Grid2>\n      </Grid2>\n\n    </Paper>\n  );\n};\nexport default Dashboard;\n","size_bytes":9384},"frontend-new/src/pages/user_management/UpdateUser.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport {\n  Container,\n  Paper,\n  TextField,\n  Button,\n  CircularProgress,\n  Typography,\n  Box,\n  MenuItem,\n  Select,\n  InputLabel,\n  FormControl,\n} from \"@mui/material\";\n\nconst ROLES_API_URL = \"/roles/bd168912-e40c-48e3-b3d1-440a3e129d52\";\nconst userModuleId = \"bd168912-e40c-48e3-b3d1-440a3e129d52\"; // Use same module ID\n\nconst UpdateUser = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation(); // Get passed state from UserList\n\n  // Read user details from state (fallback to empty string if missing)\n  const [user, setUser] = useState({\n    name: location.state?.name || \"\",\n    email: location.state?.email || \"\",\n    company_id: location.state?.company_id || \"\",\n    company_name: location.state?.company_name || \"\",\n    role_id: location.state?.role_id || \"\",\n    manager: location.state?.manager || \"\",\n    managerName: location.state?.managerName || \"\",\n    department_id: location.state?.department_id || \"\",\n  });\n  const [higherRoleUsers, setHigherRoleUsers] = useState([]); // state for higher roles\n\n  const [roles, setRoles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [departments, setDepartments] = useState([]);\n\n  useEffect(() => {\n    if (!id) {\n      toast.error(\"Invalid User ID!\");\n      return;\n    }\n\n    const fetchData = async () => {\n      try {\n        // Fetch user details first\n        const userRes = await axiosInstance.get(`/users/${id}`);\n\n        if (userRes.data) {\n          setUser((prevUser) => ({\n            ...prevUser,\n            name: prevUser.name || userRes.data.name, // Ensure name is preselected\n            email: prevUser.email || userRes.data.email,\n            company_id: prevUser.company_id || userRes.data.company_id,\n            role_id: prevUser.role_id || userRes.data.role_id, // Keep previous role\n            manager: prevUser.manager || userRes.data.manager,\n          }));\n        } else {\n          toast.error(\"User not found!\");\n        }\n      } catch (error) {\n        //toast.error(\"Failed to load user details.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [id]);\n\n  //  Fetch roles when `user.company_id` updates\n  useEffect(() => {\n    if (user.company_id) {\n      fetchRoles(user.company_id);\n    }\n  }, [user.company_id]);\n\n  useEffect(() => {\n    if (!user.role_id) {\n      setHigherRoleUsers([]);\n      return;\n    }\n\n    axiosInstance\n      .get(`/users/${userModuleId}//getUsersWithHigherRole`, {\n        params: { company_id: user.company_id, role_id: user.role_id },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n        },\n      })\n      .then((res) => {\n        console.log(\"Higher role users response:\", res.data);\n        setHigherRoleUsers(res.data || []);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching higher role users:\", error);\n        if (res.data.length === 0) {\n          toast.info(\"No higher role users available to report to.\");\n        }\n      });\n  }, [user.role_id]);\n\n  const fetchRoles = async (companyId) => {\n    if (!companyId) return;\n\n    try {\n      const response = await axiosInstance.get(ROLES_API_URL, {\n        params: { company_id: companyId },\n      });\n      const rolesData = response.data || [];\n      setRoles(rolesData);\n\n      if (user.role_id) {\n        const matchedRole = rolesData.find((role) => role.id === user.role_id);\n        if (matchedRole) {\n          setUser((prevUser) => ({\n            ...prevUser,\n            role_id: matchedRole.id,\n          }));\n        }\n      }\n    } catch (error) {\n      toast.error(\"Failed to load roles.\");\n    }\n  };\n\n  useEffect(() => {\n    const loadDepartments = async () => {\n      if (!user.company_id) {\n        toast.error(\"Company ID is missing. Please select a company.\");\n        console.error(\"Missing company ID for department load\");\n        return;\n      }\n\n      try {\n        const config = {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n          },\n          params: {\n            company_id: user.company_id,\n          },\n        };\n\n        const res = await axiosInstance.get(\n          `/department/${userModuleId}`,\n          config\n        );\n        setDepartments(res.data || []);\n      } catch (error) {\n        const errorMsg =\n          error?.response?.data?.error ||\n          error?.response?.data?.message ||\n          error?.message ||\n          \"Unknown error\";\n\n        console.error(\"Error fetching departments:\", errorMsg, error.response);\n        toast.error(`Failed to fetch departments: ${errorMsg}`);\n      }\n    };\n\n    loadDepartments();\n  }, [user.company_id]);\n\n  const handleChange = (e) => {\n    setUser((prevUser) => ({ ...prevUser, [e.target.name]: e.target.value }));\n  };\n\n  const handleUpdate = async (e) => {\n    e.preventDefault();\n    setSubmitting(true);\n\n    try {\n      await axiosInstance.put(`/users/${userModuleId}/${id}`, {\n        ...user,\n        reportTo: user.manager || null,\n        department_id: user.department_id || null,\n      });\n      toast.success(\"User updated successfully!\");\n      setTimeout(() => {\n        navigate(-1);\n      }, 1500);\n    } catch (error) {\n      console.error(\"Update error:\", error);\n      console.error(\"Error response:\", error.response);\n\n      if (error.response?.status === 409) {\n        const subordinates = error.response?.data?.subordinates || [];\n        let errorMessage = \"Cannot update role. User has subordinates.\";\n\n        if (subordinates.length > 0) {\n          errorMessage += `\\n\\nSubordinates:\\n${subordinates\n            .map((sub) => `â€¢ ${sub.name} (ID: ${sub.id})`)\n            .join(\"\\n\")}`;\n        }\n\n        alert(errorMessage); // Use a dialog instead of toast\n      }\n\n      //  Ensure toast message is valid before calling toast.error\n      const errorMessage =\n        error.response?.data?.message || \"Failed to update user.\";\n      toast.error(errorMessage);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (loading)\n    return (\n      <CircularProgress sx={{ display: \"block\", margin: \"auto\", mt: 5 }} />\n    );\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ px: 2 }}>\n      {\" \"}\n      {/* Added horizontal padding */}\n      <ToastContainer />\n      <Paper\n        elevation={4}\n        sx={{\n          padding: 4,\n          borderRadius: 3,\n          backgroundColor: \"#f9f9f9\",\n          mt: 4,\n          mx: { xs: 2, sm: 4, md: 8 },\n        }}\n      >\n        <Typography\n          variant=\"h5\"\n          sx={{ fontWeight: 600, textAlign: \"center\", mb: 2 }}\n        >\n          Update User\n        </Typography>\n\n        <form onSubmit={handleUpdate}>\n          <Box sx={{ display: \"grid\", gap: 2 }}>\n            <TextField\n              label=\"Name\"\n              name=\"name\"\n              value={user.name}\n              onChange={handleChange}\n              fullWidth\n              required\n            />\n            <TextField\n              label=\"Email\"\n              name=\"email\"\n              value={user.email}\n              fullWidth\n              disabled\n            />\n            <TextField\n              label=\"Company\"\n              name=\"company_name\"\n              value={user.company_name}\n              fullWidth\n              disabled\n            />\n            <FormControl fullWidth required>\n              <InputLabel id=\"role-label\">Role</InputLabel>\n              <Select\n                labelId=\"role-label\"\n                name=\"role_id\"\n                value={user.role_id || \"\"}\n                onChange={handleChange}\n              >\n                {roles.length > 0 ? (\n                  roles.map((role) => (\n                    <MenuItem key={role.id} value={role.id}>\n                      {role.name}\n                    </MenuItem>\n                  ))\n                ) : (\n                  <MenuItem disabled>No Roles Available</MenuItem>\n                )}\n              </Select>\n            </FormControl>\n\n            <FormControl fullWidth variant=\"outlined\">\n              <InputLabel>Report To</InputLabel>\n              <Select\n                name=\"manager\"\n                value={user.manager || \"\"}\n                onChange={(e) => setUser({ ...user, manager: e.target.value })}\n                disabled={higherRoleUsers.length === 0}\n              >\n                <MenuItem value=\"\">None</MenuItem>\n                {!higherRoleUsers.find((u) => u.id === user.manager) &&\n                  user.manager && (\n                    <MenuItem value={user.manager}>\n                      {user.managerName || \"Current Manager\"}\n                    </MenuItem>\n                  )}\n                {higherRoleUsers.map((higherUser) => (\n                  <MenuItem key={higherUser.id} value={higherUser.id}>\n                    {higherUser.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            {/* Department  Dropdown  */}\n            <FormControl fullWidth required>\n              <InputLabel id=\"department-label\">Department</InputLabel>\n              <Select\n                labelId=\"department-label\"\n                name=\"department_id\"\n                value={user.department_id || \"\"}\n                onChange={handleChange}\n              >\n                {departments.length > 0 ? (\n                  departments.map((department) => (\n                    <MenuItem key={department.id} value={department.id}>\n                      {department.name}\n                    </MenuItem>\n                  ))\n                ) : (\n                  <MenuItem disabled>No Departments Available</MenuItem>\n                )}\n              </Select>\n            </FormControl>\n          </Box>\n\n          <Box\n            sx={{\n              display: \"flex\",\n              justifyContent: \"flex-end\", // aligned right\n              gap: 2,\n              mt: 3,\n            }}\n          >\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={submitting}\n              sx={{ minWidth: 130 }}\n            >\n              {submitting ? (\n                <CircularProgress size={24} color=\"inherit\" />\n              ) : (\n                \"Update User\"\n              )}\n            </Button>\n\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => navigate(-1)}\n              disabled={submitting}\n              sx={{ minWidth: 130 }}\n            >\n              Cancel\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default UpdateUser;\n","size_bytes":10995},"frontend-new/src/assets/theme-dark/components/form/inputLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\n\nconst { text, info } = colors;\nconst { size } = typography;\n\nconst inputLabel = {\n  styleOverrides: {\n    root: {\n      fontSize: size.sm,\n      color: text.main,\n      lineHeight: 0.9,\n\n      \"&.Mui-focused\": {\n        color: info.main,\n      },\n\n      \"&.MuiInputLabel-shrink\": {\n        lineHeight: 1.5,\n        fontSize: size.md,\n\n        \"~ .MuiInputBase-root .MuiOutlinedInput-notchedOutline legend\": {\n          fontSize: \"0.85em\",\n        },\n      },\n    },\n\n    sizeSmall: {\n      fontSize: size.xs,\n      lineHeight: 1.625,\n\n      \"&.MuiInputLabel-shrink\": {\n        lineHeight: 1.6,\n        fontSize: size.sm,\n\n        \"~ .MuiInputBase-root .MuiOutlinedInput-notchedOutline legend\": {\n          fontSize: \"0.72em\",\n        },\n      },\n    },\n  },\n};\n\nexport default inputLabel;\n","size_bytes":1467},"qms-source/frontend-new/src/assets/theme/components/linearProgress.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { borderRadius } = borders;\nconst { light } = colors;\n\nconst linearProgress = {\n  styleOverrides: {\n    root: {\n      height: pxToRem(6),\n      borderRadius: borderRadius.md,\n      overflow: \"visible\",\n      position: \"relative\",\n    },\n\n    colorPrimary: {\n      backgroundColor: light.main,\n    },\n\n    colorSecondary: {\n      backgroundColor: light.main,\n    },\n\n    bar: {\n      height: pxToRem(6),\n      borderRadius: borderRadius.sm,\n      position: \"absolute\",\n      transform: `translate(0, 0) !important`,\n      transition: \"width 0.6s ease !important\",\n    },\n  },\n};\n\nexport default linearProgress;\n","size_bytes":1380},"BackEnd/src/models/Iteration.js":{"content":"// models/iteration.model.js\n\nimport { DataTypes } from 'sequelize';\nimport sequelize from '../config/db.js';\nimport Company from './Company.js';\nimport User from './User.js'; \nimport Task from './Task.js';\n\nconst Iteration = sequelize.define('Iteration', {\n  id: {\n    type: DataTypes.UUID,\n    defaultValue: DataTypes.UUIDV4,\n    primaryKey: true,\n  },\n  company_id: {\n    type: DataTypes.UUID,\n    allowNull: false,\n    references: {\n      model: 'Company',\n      key: 'id',\n    },\n    onDelete: 'CASCADE',\n  },\n  creator_id: {\n    type: DataTypes.UUID,\n    allowNull: true,\n    references: {\n      model: 'User',\n      key: 'id'\n    },\n    onDelete: 'SET NULL',\n    onUpdate: 'CASCADE'\n  },\n  name: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n  start_date: {\n    type: DataTypes.DATE,\n    allowNull: false,\n  },\n  end_date: {\n    type: DataTypes.DATE,\n    allowNull: false,\n  },\n  is_active: {\n    type: DataTypes.BOOLEAN,\n    defaultValue: true,\n  },\n  description: {\n    type: DataTypes.TEXT,\n    allowNull: true,\n  },\n  is_excel_uploaded:{\n    type: DataTypes.BOOLEAN,\n    defaultValue:false,\n  }\n}, {\n  tableName: 'iteration',\n  timestamps: true,              // Enables createdAt, updatedAt\n  underscored: true              // Converts to created_at, updated_at\n});\n\n// Associations\nCompany.hasMany(Iteration, { foreignKey: 'company_id' });\nIteration.belongsTo(Company, { foreignKey: 'company_id' });\n\nUser.hasMany(Iteration, { foreignKey: 'creator_id' });\nIteration.belongsTo(User, { foreignKey: 'creator_id' });\nexport default Iteration;\n","size_bytes":1562},"qms-source/frontend-new/src/assets/theme/components/form/formLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\n\nconst { text } = colors;\n\nconst formLabel = {\n  styleOverrides: {\n    root: {\n      color: text.main,\n    },\n  },\n};\n\nexport default formLabel;\n","size_bytes":757},"qms-source/BackEnd/src/controllers/documentController.js":{"content":"import multer from \"multer\";\nimport path from \"path\";\nimport fs from \"fs\";\nimport Document from \"../models/Document.js\";\nimport Task from \"../models/Task.js\";\nimport User from \"../models/User.js\";\nimport Role from \"../models/Role.js\";\nimport TaskChangeLog from \"../models/TaskChangeLog.js\"\n\n\nconst getAllHigherRoleIds = async (roleId, visited = new Set()) => {\n    const role = await Role.findByPk(roleId);\n    if (!role || visited.has(role.id)) return [];\n\n    visited.add(role.id);\n    const higherRoles = [];\n\n    if (role.parent_role_id) {\n        higherRoles.push(role.parent_role_id);\n        const parentRoles = await getAllHigherRoleIds(role.parent_role_id, visited);\n        higherRoles.push(...parentRoles);\n    }\n\n    return higherRoles;\n};\n// Set up storage for uploaded files\nconst storage = multer.diskStorage({\n    destination: (req, file, cb) => {\n        const uploadDir = \"uploads/documents\"; // Folder where files will be stored\n        if (!fs.existsSync(uploadDir)) {\n            fs.mkdirSync(uploadDir, { recursive: true }); // Create folder if not exists\n        }\n        cb(null, uploadDir);\n    },\n    filename: (req, file, cb) => {\n        const ext = path.extname(file.originalname);\n        const uniqueName = `${Date.now()}-${Math.random().toString(36).substring(7)}${ext}`;\n        cb(null, uniqueName);\n    }\n});\n\n// File filter (optional, to allow only specific types)\n// const fileFilter = (req, file, cb) => {\n//     const allowedTypes = [\"image/jpeg\", \"image/jpg\", \"image/png\", \"application/pdf\", \"audio/mpeg\", \"video/mp4\"];\n//     if (allowedTypes.includes(file.mimetype)) {\n//         cb(null, true);\n//     } else {\n//         cb(new Error(\"Invalid file type\"), false);\n//     }\n// };\n\n\n// File filter (allow all file types)\n\nconst fileFilter = (req, file, cb) => {\n    cb(null, true); // Accept all file types\n};\n\n// Upload middleware\nconst upload = multer({ storage, fileFilter });\n\nexport const uploadDocument = async (req, res) => {\n  try {\n    upload.array(\"documents\")(req, res, async function (err) {\n      if (err) return res.status(400).json({ error: err.message });\n\n      const { task_id, user_id, remark, issue_date } = req.body;\n\n      if (!req.files || req.files.length === 0) {\n        return res.status(400).json({ error: \"No files uploaded\" });\n      }\n\n      const taskExists = await Task.findByPk(task_id);\n      if (!taskExists) {\n        return res.status(400).json({ error: `Task with ID ${task_id} does not exist` });\n      }\n\n      const taskFolder = path.join(\"uploads\", task_id.toString());\n      if (!fs.existsSync(taskFolder)) fs.mkdirSync(taskFolder, { recursive: true });\n\n      const existingFiles = fs.readdirSync(taskFolder);\n      const uploadedDocs = [];\n\n      for (const file of req.files) {\n        const fileExt = path.extname(file.originalname);\n        const originalName = path.parse(file.originalname).name;\n        const cleanFileName = originalName.replace(/_v\\d+_\\d+$/, \"\");\n        const timestamp = Date.now();\n\n        let version = 1;\n        let previousVersionFile = null;\n        const versionRegex = new RegExp(`^${cleanFileName}_v(\\\\d+)_\\\\d+\\\\${fileExt}$`);\n\n        for (const existingFile of existingFiles) {\n          const match = existingFile.match(versionRegex);\n          if (match) {\n            const existingVersion = parseInt(match[1], 10);\n            if (existingVersion >= version) {\n              version = existingVersion + 1;\n              previousVersionFile = existingFile;\n            }\n          }\n        }\n\n        const newFileName = `${cleanFileName}_v${version}_${timestamp}${fileExt}`;\n        const filePath = path.join(taskFolder, newFileName);\n\n        fs.renameSync(file.path, filePath);\n\n        const document = await Document.create({\n          task_id,\n          user_id,\n          file_name: newFileName,\n          file_path: filePath,\n          issue_date,\n          remark,\n        });\n\n        await TaskChangeLog.create({\n          task_id,\n          changed_by: user_id,\n          field_changed: \"document\",\n          old_value: previousVersionFile || null,\n          new_value: `Uploaded: ${newFileName}`,\n        });\n\n        uploadedDocs.push(document);\n      }\n\n      res.status(201).json({\n        message: \"Documents uploaded successfully\",\n        documents: uploadedDocs,\n      });\n    });\n  } catch (error) {\n    console.error(\"Error while uploading documents:\", error);\n    if (error.name === \"SequelizeForeignKeyConstraintError\") {\n      return res.status(400).json({ error: \"Invalid task_id. Task does not exist.\" });\n    }\n    res.status(500).json({ error: \"Internal server error.\" });\n  }\n};\n\n\n// export const uploadDocument = async (req, res) => {\n//     try {\n//         upload.single(\"document\")(req, res, async function (err) {\n//             if (err) return res.status(400).json({ error: err.message });\n\n//             const { task_id, user_id, remark,issue_date } = req.body;\n//             if (!req.file) return res.status(400).json({ error: \"No file uploaded\" });\n\n//             const taskExists = await Task.findByPk(task_id);\n//             if (!taskExists) return res.status(400).json({ error: `Task with ID ${task_id} does not exist` });\n\n//             const fileExt = path.extname(req.file.originalname);\n//             const originalName = path.parse(req.file.originalname).name;\n//             const timestamp = Date.now();\n\n//             const cleanFileName = originalName.replace(/_v\\d+_\\d+$/, \"\");\n//             const taskFolder = path.join(\"uploads\", task_id);\n//             if (!fs.existsSync(taskFolder)) fs.mkdirSync(taskFolder, { recursive: true });\n\n//             const existingFiles = fs.readdirSync(taskFolder);\n//             let version = 1;\n//             let previousVersionFile = null;\n\n//             const versionRegex = new RegExp(`^${cleanFileName}_v(\\\\d+)_\\\\d+\\\\${fileExt}$`);\n\n//             for (const file of existingFiles) {\n//                 const match = file.match(versionRegex);\n//                 if (match) {\n//                     const existingVersion = parseInt(match[1], 10);\n//                     if (existingVersion >= version) {\n//                         version = existingVersion + 1;\n//                         previousVersionFile = file; // keep track of latest version\n//                     }\n//                 }\n//             }\n\n//             const newFileName = `${cleanFileName}_v${version}_${timestamp}${fileExt}`;\n//             const filePath = path.join(taskFolder, newFileName);\n\n//             fs.renameSync(req.file.path, filePath);\n\n//             const document = await Document.create({\n//                 task_id,\n//                 user_id,\n//                 file_name: newFileName,\n//                 file_path: filePath,\n//                 issue_date,\n//                 remark,\n//             });\n\n//             // Create changelog entry\n//             await TaskChangeLog.create({\n//                 task_id,\n//                 changed_by: user_id,\n//                 field_changed: \"document\",\n//                 old_value: previousVersionFile || null,\n//                 new_value: `Uploaded: ${newFileName}`\n//             });\n\n//             res.status(201).json({ message: \"File uploaded successfully\", document });\n//         });\n//     } catch (error) {\n//         console.error(\"Error while uploading document:\", error);\n//         if (error.name === \"SequelizeForeignKeyConstraintError\") {\n//             return res.status(400).json({ error: \"Invalid task_id. Task does not exist.\" });\n//         }\n//         res.status(500).json({ error: \"Internal server error.\" });\n//     }\n// };\n\n // API to Get Documents by Task ID\n \n \n export const getDocumentsByTask = async (req, res) => {\n    try {\n        const { task_id } = req.params;\n        const documents = await Document.findAll({\n            where: { task_id, is_deleted: false },\n            order: [['uploaded_at', 'DESC']],\n            include: [\n                {\n                    model: User.scope('all'), // Include inactive users as well\n                    attributes: ['name'],\n                    as: 'uploader'\n                }\n            ]\n        });\n\n        if (!documents || documents.length === 0) {\n            return res.status(404).json({ message: \"No documents found for the given task ID.\" });\n        }\n\n        const documentsWithDetails = documents.map(doc => ({\n            ...doc.toJSON(),\n            file_url: `${req.protocol}://${req.get(\"host\")}/api/${doc.file_path}`,\n            uploaded_by: doc.uploader ? doc.uploader.name : \"Unknown\"\n        }));\n\n        res.json(documentsWithDetails);\n    } catch (error) {\n        console.error(\"Error fetching documents:\", error);\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport const deleteDocument = async (req, res) => {\n    try {\n        const { id } = req.params;\n        const currentUserId = req.user.id;\n\n        const document = await Document.findByPk(id);\n        if (!document || document.is_deleted) {\n            return res.status(404).json({ error: \"Document not found or already deleted\" });\n        }\n\n        const documentOwner = await User.scope('all').findByPk(document.user_id);\n        const currentUser = await User.findByPk(currentUserId);\n\n        const currentRole = await Role.findByPk(currentUser.role_id);\n        const ownerRole = await Role.findByPk(documentOwner?.role_id);\n        const currentRoleName = currentRole?.name?.toLowerCase();\n\n        const hasAccess = (\n            currentUserId === document.user_id ||\n            [\"system super admin\", \"super admin\"].includes(currentRoleName) ||\n            (await getAllHigherRoleIds(ownerRole?.id)).includes(currentRole.id)\n        );\n\n        if (!hasAccess) {\n            return res.status(403).json({ error: \"You do not have permission to delete this document\" });\n        }\n\n        // Perform soft delete\n        document.is_deleted = true;\n        await document.save();\n\n        // âœ… Add Task Change Log\n        await TaskChangeLog.create({\n            task_id: document.task_id,\n            changed_by: currentUserId,\n            field_changed: \"document\",\n            old_value: `Deleted: ${document.file_name}`,\n            new_value: 'âŒ File Deleted'\n        });\n\n        res.json({ message: \"Document deleted successfully.\" });\n\n    } catch (error) {\n        console.error(\"Error deleting document:\", error);\n        res.status(500).json({ error: error.message });\n    }\n};\n\nconst softDelete = async (document, res) => {\n    const originalPath = document.file_path;\n    const filename = path.basename(originalPath);\n    const deletedFolder = path.join(\"deleted_documents\");\n\n    if (!fs.existsSync(deletedFolder)) {\n        fs.mkdirSync(deletedFolder, { recursive: true });\n    }\n\n    const newPath = path.join(deletedFolder, filename);\n    fs.renameSync(originalPath, newPath);\n\n    document.file_path = newPath;\n    document.is_deleted = true;\n    await document.save();\n\n    return res.json({ message: \"Document soft deleted and moved to deleted_documents.\" });\n};\n\nexport const updateDocumentDetails = async (req, res) => {\n    try {\n        const documentId = req.params.documentId;\n        const { remark, issue_date } = req.body;\n\n        const document = await Document.findByPk(documentId);\n\n        if (!document) {\n            return res.status(404).json({ message: \"Document not found\" });\n        }\n\n        document.remark = remark ?? document.remark;\n        document.issue_date = issue_date ?? document.issue_date;\n\n        await document.save();\n\n        return res.status(200).json({\n            message: \"Document updated successfully\",\n            document\n        });\n    } catch (error) {\n        console.error(\"Error updating document:\", error);\n        return res.status(500).json({ message: \"Server error\" });\n    }\n};\n\n\n// API to Upload Document\n\n\n\n\n\n// export const uploadDocument = async (req, res) => {\n//     try {\n//         upload.single(\"document\")(req, res, async function (err) {\n//             if (err) {\n//                 return res.status(400).json({ error: err.message });\n//             }\n\n//             const { task_id, user_id, remark } = req.body;\n//             if (!req.file) {\n//                 return res.status(400).json({ error: \"No file uploaded\" });\n//             }\n\n//             // Check if task_id exists before inserting the document\n//             const taskExists = await Task.findByPk(task_id);\n//             if (!taskExists) {\n//                 return res.status(400).json({ error: `Task with ID ${task_id} does not exist` });\n//             }\n\n//             let fileExt = path.extname(req.file.originalname);\n//             let originalName = path.parse(req.file.originalname).name;\n//             let timestamp = Date.now();\n\n//             // Remove previous versioning (_vX_TIMESTAMP) if exists\n//             const cleanFileName = originalName.replace(/_v\\d+_\\d+$/, \"\");\n\n//             // Define task-specific directory\n//             const taskFolder = path.join(\"uploads\", task_id);\n//             if (!fs.existsSync(taskFolder)) {\n//                 fs.mkdirSync(taskFolder, { recursive: true });\n//             }\n\n//             // Get existing files for the task\n//             const existingFiles = fs.readdirSync(taskFolder);\n//             let version = 1;\n\n//             // Find highest version number for the file\n//             const versionRegex = new RegExp(`^${cleanFileName}_v(\\\\d+)_\\\\d+\\\\${fileExt}$`);\n\n//             for (const file of existingFiles) {\n//                 const match = file.match(versionRegex);\n//                 if (match) {\n//                     const existingVersion = parseInt(match[1], 10);\n//                     version = Math.max(version, existingVersion + 1);\n//                 }\n//             }\n\n//             // Create new versioned file name\n//             const newFileName = `${cleanFileName}_v${version}_${timestamp}${fileExt}`;\n//             const filePath = path.join(taskFolder, newFileName);\n\n//             // Move uploaded file to the task folder\n//             fs.renameSync(req.file.path, filePath);\n\n//             // Save file details in DB\n//             const document = await Document.create({\n//                 task_id,\n//                 user_id,\n//                 file_name: newFileName,\n//                 file_path: filePath,\n//                 remark,\n//             });\n\n//             res.status(201).json({ message: \"File uploaded successfully\", document });\n//         });\n//     } catch (error) {\n//         console.error(\"Error while uploading document:\", error);\n\n//         // Handle specific database errors\n//         if (error.name === \"SequelizeForeignKeyConstraintError\") {\n//             return res.status(400).json({ error: \"Invalid task_id. Task does not exist.\" });\n//         }\n\n//         res.status(500).json({ error: \"Internal server error.\" });\n//     }\n// };\n\n\n\n\n\n\n// export const getDocumentsByTask = async (req, res) => {\n//     try {\n//         const { task_id } = req.params;\n//         const documents = await Document.findAll({ where: { task_id } });\n\n//         if (!documents || documents.length === 0) {\n//             return res.status(404).json({ message: \"No documents found for the given task ID.\" });\n//         }\n\n//         // Convert file path to URL format\n//         const documentsWithUrls = documents.map(doc => ({\n//             ...doc.toJSON(),\n//             file_url: `${req.protocol}://${req.get(\"host\")}/api/${doc.file_path}`\n//         }));\n\n//         res.json(documentsWithUrls);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\n// API to Delete Document\n\n\n// export const deleteDocument = async (req, res) => {\n//     try {\n//         const { id } = req.params;\n//         const currentUserId = req.user.id; // From auth middleware\n\n//         const document = await Document.findByPk(id);\n//         if (!document || document.is_deleted) {\n//             return res.status(404).json({ error: \"Document not found or already deleted\" });\n//         }\n\n//         const documentOwner = await User.scope('all').findByPk(document.user_id);\n//         const currentUser = await User.findByPk(currentUserId);\n\n//         // âœ… Allow if user is the uploader\n//         if (currentUserId === document.user_id) {\n//             return await softDelete(document, res);\n//         }\n\n//         const currentRole = await Role.findByPk(currentUser.role_id);\n//         const ownerRole = await Role.findByPk(documentOwner?.role_id); // Optional chaining in case user was deleted\n\n//         const currentRoleName = currentRole?.name?.toLowerCase();\n\n//         // âœ… Allow System Super Admin or Super Admin\n//         if ([\"system super admin\", \"super admin\"].includes(currentRoleName)) {\n//             return await softDelete(document, res);\n//         }\n\n//         // âœ… Allow if current user has higher role than uploader\n//         const higherRoles = await getAllHigherRoleIds(ownerRole?.id);\n//         const isHigher = higherRoles.includes(currentRole.id);\n\n//         if (!isHigher) {\n//             return res.status(403).json({ error: \"You do not have permission to delete this document\" });\n//         }\n\n//         return await softDelete(document, res);\n\n//     } catch (error) {\n//         console.error(\"Error deleting document:\", error);\n//         res.status(500).json({ error: error.message });\n//     }\n// };","size_bytes":17486},"qms-source/frontend-new/src/assets/theme-dark/components/stepper/step.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst step = {\n  styleOverrides: {\n    root: {\n      padding: `0 ${pxToRem(6)}`,\n    },\n  },\n};\n\nexport default step;\n","size_bytes":748},"qms-source/BackEnd/src/utils/generateRandomPassword.js":{"content":"\n\nconst generateRandomPassword = () => {\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$!';\n    let password = '';\n    for (let i = 0; i < 10; i++) {\n        password += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    return password;\n};\n\nexport default generateRandomPassword;","size_bytes":332},"frontend-new/src/App.css":{"content":".App {\n  text-align: center;\n}\n\n.App-logo {\n  height: 40vmin;\n  pointer-events: none;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  .App-logo {\n    animation: App-logo-spin infinite 20s linear;\n  }\n}\n\n.App-header {\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n}\n\n.App-link {\n  color: #61dafb;\n}\n\n@keyframes App-logo-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n\nbody {\n  font-family: 'Arial', sans-serif;\n  background-color: #f4f6f8;\n}\n\nh2 {\n  color: #333;\n}\n\ninput {\n  padding: 10px;\n  margin: 10px 0;\n  width: 100%;\n}\n\nbutton {\n  background-color: #007bff;\n  color: white;\n  border: none;\n  padding: 10px;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background-color: #0056b3;\n}\n","size_bytes":880},"qms-source/frontend-new/src/assets/theme/components/stepper/stepConnector.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\nimport colors from \"assets/theme/base/colors\";\n\nconst { white } = colors;\nconst { borderWidth } = borders;\n\nconst stepConnector = {\n  styleOverrides: {\n    root: {\n      color: \"#9fc9ff\",\n      transition: \"all 200ms linear\",\n\n      \"&.Mui-active\": {\n        color: white.main,\n      },\n\n      \"&.Mui-completed\": {\n        color: white.main,\n      },\n    },\n\n    alternativeLabel: {\n      top: \"14%\",\n      left: \"-50%\",\n      right: \"50%\",\n    },\n\n    line: {\n      borderWidth: `${borderWidth[2]} !important`,\n      borderColor: \"currentColor\",\n      opacity: 0.5,\n    },\n  },\n};\n\nexport default stepConnector;\n","size_bytes":1227},"frontend-new/src/assets/theme-dark/base/breakpoints.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base breakpoints for the Material Dashboard 2 React.\n * You can add new breakpoints using this file.\n * You can customized the breakpoints for the entire Material Dashboard 2 React using thie file.\n */\n\nconst breakpoints = {\n  values: {\n    xs: 0,\n    sm: 576,\n    md: 768,\n    lg: 992,\n    xl: 1200,\n    xxl: 1400,\n  },\n};\n\nexport default breakpoints;\n","size_bytes":887},"qms-source/BackEnd/src/routes/authRoutes.js":{"content":"import express from 'express';\nimport { login, logout , forgotPassword , changePassword} from '../controllers/authController.js';\n\nconst router = express.Router();\n\n// POST - Login\nrouter.post('/login', login);\n\n// POST - Logout\nrouter.post('/logout', logout);\n\n//POST - forgotPassword \nrouter.post('/forgotPassword',forgotPassword);\n\n//POST - Change Password \nrouter.post('/changePassword',changePassword);\n\nexport default router;\n","size_bytes":432},"qms-source/frontend-new/src/assets/theme/components/svgIcon.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst svgIcon = {\n  defaultProps: {\n    fontSize: \"inherit\",\n  },\n\n  styleOverrides: {\n    fontSizeInherit: {\n      fontSize: \"inherit !important\",\n    },\n\n    fontSizeSmall: {\n      fontSize: `${pxToRem(20)} !important`,\n    },\n\n    fontSizeLarge: {\n      fontSize: `${pxToRem(36)} !important`,\n    },\n  },\n};\n\nexport default svgIcon;\n","size_bytes":961},"qms-source/frontend-new/src/assets/theme/components/tabs/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { grey, white } = colors;\nconst { borderRadius } = borders;\nconst { tabsBoxShadow } = boxShadows;\n\nconst tabs = {\n  styleOverrides: {\n    root: {\n      position: \"relative\",\n      backgroundColor: grey[100],\n      borderRadius: borderRadius.xl,\n      minHeight: \"unset\",\n      padding: pxToRem(4),\n    },\n\n    flexContainer: {\n      height: \"100%\",\n      position: \"relative\",\n      zIndex: 10,\n    },\n\n    fixed: {\n      overflow: \"unset !important\",\n      overflowX: \"unset !important\",\n    },\n\n    vertical: {\n      \"& .MuiTabs-indicator\": {\n        width: \"100%\",\n      },\n    },\n\n    indicator: {\n      height: \"100%\",\n      borderRadius: borderRadius.lg,\n      backgroundColor: white.main,\n      boxShadow: tabsBoxShadow.indicator,\n      transition: \"all 500ms ease\",\n    },\n  },\n};\n\nexport default tabs;\n","size_bytes":1636},"qms-source/frontend-new/src/assets/theme-dark/components/dialog/dialogActions.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst dialogActions = {\n  styleOverrides: {\n    root: {\n      padding: pxToRem(16),\n    },\n  },\n};\n\nexport default dialogActions;\n","size_bytes":760},"frontend-new/src/assets/theme/components/flatpickr.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"assets/theme/functions/rgba\";\n\nconst { info, white, gradients } = colors;\n\nconst flatpickr = {\n  \".flatpickr-day:hover, .flatpickr-day:focus, .flatpickr-day.nextMonthDay:hover, .flatpickr-day.nextMonthDay:focus\":\n    {\n      background: rgba(info.main, 0.28),\n      border: \"none\",\n    },\n\n  \".flatpickr-day.today\": {\n    background: info.main,\n    color: white.main,\n    border: \"none\",\n\n    \"&:hover, &:focus\": {\n      background: `${info.focus} !important`,\n    },\n  },\n\n  \".flatpickr-day.selected, .flatpickr-day.selected:hover, .flatpickr-day.nextMonthDay.selected, .flatpickr-day.nextMonthDay.selected:hover, .flatpickr-day.nextMonthDay.selected:focus\":\n    {\n      background: `${gradients.info.state} !important`,\n      color: white.main,\n      border: \"none\",\n    },\n\n  \".flatpickr-months .flatpickr-next-month:hover svg, .flatpickr-months .flatpickr-prev-month:hover svg\":\n    {\n      color: `${info.main} !important`,\n      fill: `${info.main} !important`,\n    },\n};\n\nexport default flatpickr;\n","size_bytes":1683},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"qms-source/BackEnd/src/routes/moduleRoutes.js":{"content":"import express from 'express';\nimport moduleController from '../controllers/moduleController.js';\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post('/:moduleId',authenticateUser,checkPermission(\"write\"), moduleController.createModule);      // Add a new module\nrouter.get('/:moduleId',authenticateUser, checkPermission(\"read\"),moduleController.getAllModules);      // Get all modules\nrouter.get('/:moduleId/:id',authenticateUser, checkPermission(\"read\"),moduleController.getModuleById);   // Get module by ID\nrouter.put('/:moduleId/:id',authenticateUser, checkPermission(\"write\"),moduleController.updateModule);    // Update a module\nrouter.delete('/:moduleId/:id',authenticateUser,checkPermission(\"delete\"), moduleController.deleteModule); // Delete a module\n\nexport default router;\n","size_bytes":919},"frontend-new/src/assets/theme-dark/components/tabs/tab.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme-dark/base/typography\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { size, fontWeightRegular } = typography;\nconst { borderRadius } = borders;\nconst { white } = colors;\n\nconst tab = {\n  styleOverrides: {\n    root: {\n      display: \"flex\",\n      alignItems: \"center\",\n      flexDirection: \"row\",\n      flex: \"1 1 auto\",\n      textAlign: \"center\",\n      maxWidth: \"unset !important\",\n      minWidth: \"unset !important\",\n      minHeight: \"unset !important\",\n      fontSize: size.md,\n      fontWeight: fontWeightRegular,\n      textTransform: \"none\",\n      lineHeight: \"inherit\",\n      padding: pxToRem(4),\n      borderRadius: borderRadius.lg,\n      color: `${white.main} !important`,\n      opacity: \"1 !important\",\n\n      \"& .material-icons, .material-icons-round\": {\n        marginBottom: \"0 !important\",\n        marginRight: pxToRem(6),\n      },\n\n      \"& svg\": {\n        marginBottom: \"0 !important\",\n        marginRight: pxToRem(6),\n      },\n    },\n\n    labelIcon: {\n      paddingTop: pxToRem(4),\n    },\n  },\n};\n\nexport default tab;\n","size_bytes":1811},"qms-source/frontend-new/src/assets/theme/base/globals.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"../../../assets/theme/base/colors\";\n\nconst { info, dark } = colors;\n\nconst globals = {\n  html: {\n    scrollBehavior: \"smooth\",\n  },\n  \"*, *::before, *::after\": {\n    margin: 0,\n    padding: 0,\n  },\n  \"a, a:link, a:visited\": {\n    textDecoration: \"none !important\",\n  },\n  \"a.link, .link, a.link:link, .link:link, a.link:visited, .link:visited\": {\n    color: `${dark.main} !important`,\n    transition: \"color 150ms ease-in !important\",\n  },\n  \"a.link:hover, .link:hover, a.link:focus, .link:focus\": {\n    color: `${info.main} !important`,\n  },\n};\n\nexport default globals;\n","size_bytes":1156},"frontend-new/src/assets/theme-dark/components/form/input.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React Helper Functions\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { info, inputBorderColor, dark, grey, white } = colors;\nconst { size } = typography;\nconst { borderWidth } = borders;\n\nconst input = {\n  styleOverrides: {\n    root: {\n      fontSize: size.sm,\n      color: dark.main,\n\n      \"&:hover:not(.Mui-disabled):before\": {\n        borderBottom: `${borderWidth[1]} solid ${rgba(inputBorderColor, 0.6)}`,\n      },\n\n      \"&:before\": {\n        borderColor: rgba(inputBorderColor, 0.6),\n      },\n\n      \"&:after\": {\n        borderColor: info.main,\n      },\n\n      input: {\n        color: white.main,\n\n        \"&::-webkit-input-placeholder\": {\n          color: grey[100],\n        },\n      },\n    },\n  },\n};\n\nexport default input;\n","size_bytes":1503},"qms-source/frontend-new/src/pages/user_management/UpdateUser.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport {\n  Container,\n  Paper,\n  TextField,\n  Button,\n  CircularProgress,\n  Typography,\n  Box,\n  MenuItem,\n  Select,\n  InputLabel,\n  FormControl,\n} from \"@mui/material\";\n\nconst ROLES_API_URL = \"/roles/bd168912-e40c-48e3-b3d1-440a3e129d52\";\nconst userModuleId = \"bd168912-e40c-48e3-b3d1-440a3e129d52\"; // Use same module ID\n\nconst UpdateUser = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation(); // Get passed state from UserList\n\n  // Read user details from state (fallback to empty string if missing)\n  const [user, setUser] = useState({\n    name: location.state?.name || \"\",\n    email: location.state?.email || \"\",\n    company_id: location.state?.company_id || \"\",\n    company_name: location.state?.company_name || \"\",\n    role_id: location.state?.role_id || \"\",\n    manager: location.state?.manager || \"\",\n    managerName: location.state?.managerName || \"\",\n    department_id: location.state?.department_id || \"\",\n  });\n  const [higherRoleUsers, setHigherRoleUsers] = useState([]); // state for higher roles\n\n  const [roles, setRoles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [departments, setDepartments] = useState([]);\n\n  useEffect(() => {\n    if (!id) {\n      toast.error(\"Invalid User ID!\");\n      return;\n    }\n\n    const fetchData = async () => {\n      try {\n        // Fetch user details first\n        const userRes = await axiosInstance.get(`/users/${id}`);\n\n        if (userRes.data) {\n          setUser((prevUser) => ({\n            ...prevUser,\n            name: prevUser.name || userRes.data.name, // Ensure name is preselected\n            email: prevUser.email || userRes.data.email,\n            company_id: prevUser.company_id || userRes.data.company_id,\n            role_id: prevUser.role_id || userRes.data.role_id, // Keep previous role\n            manager: prevUser.manager || userRes.data.manager,\n          }));\n        } else {\n          toast.error(\"User not found!\");\n        }\n      } catch (error) {\n        //toast.error(\"Failed to load user details.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [id]);\n\n  //  Fetch roles when `user.company_id` updates\n  useEffect(() => {\n    if (user.company_id) {\n      fetchRoles(user.company_id);\n    }\n  }, [user.company_id]);\n\n  useEffect(() => {\n    if (!user.role_id) {\n      setHigherRoleUsers([]);\n      return;\n    }\n\n    axiosInstance\n      .get(`/users/${userModuleId}//getUsersWithHigherRole`, {\n        params: { company_id: user.company_id, role_id: user.role_id },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n        },\n      })\n      .then((res) => {\n        console.log(\"Higher role users response:\", res.data);\n        setHigherRoleUsers(res.data || []);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching higher role users:\", error);\n        if (res.data.length === 0) {\n          toast.info(\"No higher role users available to report to.\");\n        }\n      });\n  }, [user.role_id]);\n\n  const fetchRoles = async (companyId) => {\n    if (!companyId) return;\n\n    try {\n      const response = await axiosInstance.get(ROLES_API_URL, {\n        params: { company_id: companyId },\n      });\n      const rolesData = response.data || [];\n      setRoles(rolesData);\n\n      if (user.role_id) {\n        const matchedRole = rolesData.find((role) => role.id === user.role_id);\n        if (matchedRole) {\n          setUser((prevUser) => ({\n            ...prevUser,\n            role_id: matchedRole.id,\n          }));\n        }\n      }\n    } catch (error) {\n      toast.error(\"Failed to load roles.\");\n    }\n  };\n\n  useEffect(() => {\n    const loadDepartments = async () => {\n      if (!user.company_id) {\n        toast.error(\"Company ID is missing. Please select a company.\");\n        console.error(\"Missing company ID for department load\");\n        return;\n      }\n\n      try {\n        const config = {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n          },\n          params: {\n            company_id: user.company_id,\n          },\n        };\n\n        const res = await axiosInstance.get(\n          `/department/${userModuleId}`,\n          config\n        );\n        setDepartments(res.data || []);\n      } catch (error) {\n        const errorMsg =\n          error?.response?.data?.error ||\n          error?.response?.data?.message ||\n          error?.message ||\n          \"Unknown error\";\n\n        console.error(\"Error fetching departments:\", errorMsg, error.response);\n        toast.error(`Failed to fetch departments: ${errorMsg}`);\n      }\n    };\n\n    loadDepartments();\n  }, [user.company_id]);\n\n  const handleChange = (e) => {\n    setUser((prevUser) => ({ ...prevUser, [e.target.name]: e.target.value }));\n  };\n\n  const handleUpdate = async (e) => {\n    e.preventDefault();\n    setSubmitting(true);\n\n    try {\n      await axiosInstance.put(`/users/${userModuleId}/${id}`, {\n        ...user,\n        reportTo: user.manager || null,\n        department_id: user.department_id || null,\n      });\n      toast.success(\"User updated successfully!\");\n      setTimeout(() => {\n        navigate(-1);\n      }, 1500);\n    } catch (error) {\n      console.error(\"Update error:\", error);\n      console.error(\"Error response:\", error.response);\n\n      if (error.response?.status === 409) {\n        const subordinates = error.response?.data?.subordinates || [];\n        let errorMessage = \"Cannot update role. User has subordinates.\";\n\n        if (subordinates.length > 0) {\n          errorMessage += `\\n\\nSubordinates:\\n${subordinates\n            .map((sub) => `â€¢ ${sub.name} (ID: ${sub.id})`)\n            .join(\"\\n\")}`;\n        }\n\n        alert(errorMessage); // Use a dialog instead of toast\n      }\n\n      //  Ensure toast message is valid before calling toast.error\n      const errorMessage =\n        error.response?.data?.message || \"Failed to update user.\";\n      toast.error(errorMessage);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (loading)\n    return (\n      <CircularProgress sx={{ display: \"block\", margin: \"auto\", mt: 5 }} />\n    );\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ px: 2 }}>\n      {\" \"}\n      {/* Added horizontal padding */}\n      <ToastContainer />\n      <Paper\n        elevation={4}\n        sx={{\n          padding: 4,\n          borderRadius: 3,\n          backgroundColor: \"#f9f9f9\",\n          mt: 4,\n          mx: { xs: 2, sm: 4, md: 8 },\n        }}\n      >\n        <Typography\n          variant=\"h5\"\n          sx={{ fontWeight: 600, textAlign: \"center\", mb: 2 }}\n        >\n          Update User\n        </Typography>\n\n        <form onSubmit={handleUpdate}>\n          <Box sx={{ display: \"grid\", gap: 2 }}>\n            <TextField\n              label=\"Name\"\n              name=\"name\"\n              value={user.name}\n              onChange={handleChange}\n              fullWidth\n              required\n            />\n            <TextField\n              label=\"Email\"\n              name=\"email\"\n              value={user.email}\n              fullWidth\n              disabled\n            />\n            <TextField\n              label=\"Company\"\n              name=\"company_name\"\n              value={user.company_name}\n              fullWidth\n              disabled\n            />\n            <FormControl fullWidth required>\n              <InputLabel id=\"role-label\">Role</InputLabel>\n              <Select\n                labelId=\"role-label\"\n                name=\"role_id\"\n                value={user.role_id || \"\"}\n                onChange={handleChange}\n              >\n                {roles.length > 0 ? (\n                  roles.map((role) => (\n                    <MenuItem key={role.id} value={role.id}>\n                      {role.name}\n                    </MenuItem>\n                  ))\n                ) : (\n                  <MenuItem disabled>No Roles Available</MenuItem>\n                )}\n              </Select>\n            </FormControl>\n\n            <FormControl fullWidth variant=\"outlined\">\n              <InputLabel>Report To</InputLabel>\n              <Select\n                name=\"manager\"\n                value={user.manager || \"\"}\n                onChange={(e) => setUser({ ...user, manager: e.target.value })}\n                disabled={higherRoleUsers.length === 0}\n              >\n                <MenuItem value=\"\">None</MenuItem>\n                {!higherRoleUsers.find((u) => u.id === user.manager) &&\n                  user.manager && (\n                    <MenuItem value={user.manager}>\n                      {user.managerName || \"Current Manager\"}\n                    </MenuItem>\n                  )}\n                {higherRoleUsers.map((higherUser) => (\n                  <MenuItem key={higherUser.id} value={higherUser.id}>\n                    {higherUser.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            {/* Department  Dropdown  */}\n            <FormControl fullWidth required>\n              <InputLabel id=\"department-label\">Department</InputLabel>\n              <Select\n                labelId=\"department-label\"\n                name=\"department_id\"\n                value={user.department_id || \"\"}\n                onChange={handleChange}\n              >\n                {departments.length > 0 ? (\n                  departments.map((department) => (\n                    <MenuItem key={department.id} value={department.id}>\n                      {department.name}\n                    </MenuItem>\n                  ))\n                ) : (\n                  <MenuItem disabled>No Departments Available</MenuItem>\n                )}\n              </Select>\n            </FormControl>\n          </Box>\n\n          <Box\n            sx={{\n              display: \"flex\",\n              justifyContent: \"flex-end\", // aligned right\n              gap: 2,\n              mt: 3,\n            }}\n          >\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={submitting}\n              sx={{ minWidth: 130 }}\n            >\n              {submitting ? (\n                <CircularProgress size={24} color=\"inherit\" />\n              ) : (\n                \"Update User\"\n              )}\n            </Button>\n\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => navigate(-1)}\n              disabled={submitting}\n              sx={{ minWidth: 130 }}\n            >\n              Cancel\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default UpdateUser;\n","size_bytes":10995},"qms-source/frontend-new/src/assets/theme-dark/components/button/outlined.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { transparent, light, info, secondary } = colors;\nconst { size } = typography;\n\nconst outlined = {\n  base: {\n    minHeight: pxToRem(39),\n    color: light.main,\n    borderColor: light.main,\n    padding: `${pxToRem(9)} ${pxToRem(24)}`,\n\n    \"&:hover\": {\n      opacity: 0.75,\n      backgroundColor: transparent.main,\n    },\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(16)} !important`,\n    },\n  },\n\n  small: {\n    minHeight: pxToRem(31),\n    padding: `${pxToRem(6)} ${pxToRem(18)}`,\n    fontSize: size.xs,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(12)} !important`,\n    },\n  },\n\n  large: {\n    minHeight: pxToRem(46),\n    padding: `${pxToRem(12)} ${pxToRem(64)}`,\n    fontSize: size.sm,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(22)} !important`,\n    },\n  },\n\n  primary: {\n    backgroundColor: transparent.main,\n    borderColor: info.main,\n\n    \"&:hover\": {\n      backgroundColor: transparent.main,\n    },\n  },\n\n  secondary: {\n    backgroundColor: transparent.main,\n    borderColor: secondary.main,\n\n    \"&:hover\": {\n      backgroundColor: transparent.main,\n    },\n  },\n};\n\nexport default outlined;\n","size_bytes":2005},"qms-source/frontend-new/src/pages/Iteration/IterationList.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport {\n  Paper,\n  Typography,\n  Button,\n  Grid,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Box,\n} from \"@mui/material\";\nimport { Delete, Edit } from \"@mui/icons-material\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast } from \"react-toastify\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { DataGrid } from \"@mui/x-data-grid\";\n\nconst taskModuleId = \"1f0f190d-3a83-421c-af98-5d081100230e\";\n\nconst IterationList = () => {\n  const [iterations, setIterations] = useState([]);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [selectedIterationId, setSelectedIterationId] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const location = useLocation();\n  const queryParams = new URLSearchParams(location.search);\n  const refresh = queryParams.get(\"refresh\");\n  const [page, setPage] = useState(0);\n  const [pageSize, setPageSize] = useState(5);\n\nuseEffect(() => {\n  if (refresh) {\n    fetchIterations().then(() => {\n      navigate(location.pathname, { replace: true }); // removes ?refresh=1\n    });\n  } else {\n    fetchIterations();\n  }\n}, [refresh]);\n\n\n  const company_id = sessionStorage.getItem(\"selectedCompany\");\n  console.log(\"Company ID from sessionStorage:\", company_id);\n\n  // Fetch iterations for the selected company .\n  const fetchIterations = async () => {\n    try {\n      const company_id = sessionStorage.getItem(\"selectedCompany\");\n\n      if (!company_id) {\n        toast.error(\"Company ID is required.\");\n        return;\n      }\n\n      const response = await axiosInstance.get(`/iteration/${taskModuleId}`, {\n        params: { company_id },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n        },\n      });\n\n      setIterations(response.data || []);\n    } catch (error) {\n      const errorMsg =\n        error?.response?.data?.error ||\n        error?.response?.data?.message ||\n        error?.message ||\n        \"Unknown error\";\n\n      console.error(\"Error fetching iterations:\", errorMsg, error.response);\n      toast.error(`Failed to fetch iterations: ${errorMsg}`);\n    }\n  };\n\n  // Handle iteration soft delete\n  const handleDelete = async () => {\n    try {\n      setLoading(true);\n\n      const token = localStorage.getItem(\"jwtToken\");\n      const company_id = sessionStorage.getItem(\"selectedCompany\");\n\n      if (!token || !company_id) {\n        setError(\"Authorization or Company ID missing.\");\n        return;\n      }\n\n      await axiosInstance.delete(\n        `/iteration/${taskModuleId}/${selectedIterationId}`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n          data: { company_id },\n        }\n      );\n\n      setIterations((prevIterations) =>\n        prevIterations.filter(\n          (iteration) => iteration.id !== selectedIterationId\n        )\n      );\n      setError(\"\");\n      toast.success(\"Iteration soft deleted successfully!\");\n      setDeleteDialogOpen(false);\n    } catch (error) {\n      const backendError =\n        error?.response?.data?.error ||\n        error?.response?.data?.message ||\n        error.message ||\n        \"Unknown error\";\n\n      toast.error(`Delete failed: ${backendError}`);\n      setError(\"Delete failed\");\n      console.error(\"Delete failed:\", backendError);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // DataGrid column definitions\n  const columns = [\n    { field: \"name\", headerName: \"Name\", width: 180, filterable: true },\n    {\n      field: \"start_date\",\n      headerName: \"Start Date\",\n      width: 180,\n      filterable: true,\n    },\n    { field: \"end_date\", headerName: \"End Date\", width: 180, filterable: true },\n    {\n      field: \"description\",\n      headerName: \"Description\",\n      width: 300,\n      filterable: true,\n    },\n    {\n      field: \"createdAt\",\n      headerName: \"Created At\",\n      width: 180,\n      filterable: true,\n    },\n    {\n      field: \"actions\",\n      headerName: \"Actions\",\n      width: 180,\n      filterable: false,\n      renderCell: (params) => (\n        <>\n          <IconButton\n            color=\"primary\"\n            href={`/iteration/edit/${taskModuleId}/${params.row.id}`}\n          >\n            <Edit />\n          </IconButton>\n          <IconButton\n            color=\"error\"\n            onClick={() => {\n              setSelectedIterationId(params.row.id);\n              setDeleteDialogOpen(true);\n            }}\n          >\n            <Delete />\n          </IconButton>\n        </>\n      ),\n    },\n  ];\n\n  //  rows for the DataGrid\n\n  const rows = iterations.map((iter) => ({\n    id: iter.id,\n    name: iter.name,\n    start_date: iter.start_date?.split(\"T\")[0],\n    end_date: iter.end_date?.split(\"T\")[0],\n    description: iter.description || \"No description\",\n    createdAt: iter.createdAt?.split(\"T\")[0],\n  }));\n\n  return (\n  <Paper\n  elevation={4}\n  sx={{\n    borderRadius: \"0.5rem\",\n    padding: 2,\n    marginLeft: 4,\n    marginRight: 2,\n    marginTop: 4,\n    mb: 2,\n  }}\n>\n\n        <Typography variant=\"h5\" gutterBottom>\n          Iteration List\n        </Typography>\n\n        {/* Button to add a new iteration */}\n        <Box display=\"flex\" justifyContent=\"flex-end\" mb={2}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            href={`/iteration/create/${taskModuleId}`}\n          >\n            Add Iteration\n          </Button>\n        </Box>\n\n        <Grid container sx={{ mt: 2 }}>\n          <Grid item xs={12}>\n            <div style={{ height: 400, width: \"100%\" }}>\n              <DataGrid\n                rows={rows}\n                columns={columns}\n                paginationModel={{\n                  pageSize: pageSize,\n                  page: page,\n                }}\n                onPaginationModelChange={(model) => {\n                  setPage(model.page);\n                  setPageSize(model.pageSize);\n                }}\n                pageSizeOptions={[5, 10, 25]}\n                pagination\n                disableRowSelectionOnClick\n                autoHeight\n              />\n            </div>\n          </Grid>\n        </Grid>\n\n        {/* Delete confirmation dialog */}\n        <Dialog\n          open={deleteDialogOpen}\n          onClose={() => setDeleteDialogOpen(false)}\n        >\n          <DialogTitle>Confirm Soft Delete</DialogTitle>\n          <DialogContent>\n            <Typography>\n              Are you sure you want to soft delete this iteration?\n            </Typography>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => setDeleteDialogOpen(false)}>Cancel</Button>\n            <Button onClick={handleDelete} color=\"error\">\n              Soft Delete\n            </Button>\n          </DialogActions>\n        </Dialog>\n     </Paper>\n  );\n};\n\nexport default IterationList;\n","size_bytes":6957},"qms-source/BackEnd/src/models/GeneralDocumentFolder.js":{"content":"// models/GeneralDocumentFolder.js\nimport { DataTypes } from 'sequelize';\nimport sequelize from \"../config/db.js\";\nimport User from './User.js';\n\nconst GeneralDocumentFolder = sequelize.define('GeneralDocumentFolder', {\n  id: {\n    type: DataTypes.UUID,\n    defaultValue: DataTypes.UUIDV4,\n    primaryKey: true\n  },\n  company_id: {\n    type: DataTypes.UUID,\n    allowNull: false\n  },\n  parent_folder_id: {\n    type: DataTypes.UUID,\n    allowNull: true\n  },\n  folder_name: {\n    type: DataTypes.STRING(255),\n    allowNull: false\n  },\n  visibility_scope: {\n    type: DataTypes.ENUM('all', 'above', 'below', 'specific', 'private'),\n    allowNull: false\n  },\n  created_by_user_id: {\n    type: DataTypes.UUID,\n    allowNull: false\n  },\n  deleted_at: {\n    type: DataTypes.DATE,\n    allowNull: true\n  }\n}, {\n  tableName: 'general_document_folder',\n  timestamps: true,\n  paranoid: true,\n  deletedAt: 'deleted_at'\n});\n\n\n\n\nexport default GeneralDocumentFolder;\n","size_bytes":952},"qms-source/BackEnd/src/middlewares/permissionsMiddlewares.js":{"content":"import RoleModulePermission from '../models/RoleModulesPermissions.js';\n\nconst checkPermission = (action) => {\n    return async (req, res, next) => {\n        try {\n           // const { roleId, moduleId } = req.body; // Expecting roleId and moduleId from frontend request\n                 const roleId = req.user.role;\n                 const moduleId = req.params.moduleId;\n                 console.log(`Role ID: ${roleId}, Module ID: ${moduleId}`);\n\n                 if (!moduleId || moduleId.length < 36) {  // Validate if moduleId is a proper UUID\n                     return res.status(403).json({ error: \"Invalid module ID format.\" });\n                 }\n                 \n            // if (!moduleId) {\n            //     return res.status(403).json({ error: \"Invalid request. Missing module ID.\" });\n            // }\n\n            // Fetch permissions for the given role and module\n            const permission = await RoleModulePermission.findOne({\n                where: {\n                    role_id: roleId,\n                    module_id: moduleId\n                }\n            });\n\n            if (!permission) {\n                return res.status(403).json({ error: \"No permission assigned for this module.\" });\n            }\n\n            // Check if the role has the required permission\n            if (action === \"read\" && !permission.can_read) {\n                return res.status(403).json({ error: \"Read access denied.\" });\n            }\n            if (action === \"write\" && !permission.can_write) {\n                return res.status(403).json({ error: \"Write access denied.\" });\n            }\n            if (action === \"delete\" && !permission.can_delete) {\n                return res.status(403).json({ error: \"Delete access denied.\" });\n            }\n\n            next(); // Allow request to proceed\n        } catch (error) {\n            res.status(500).json({ error: \"Internal Server Error: \" + error.message });\n        }\n    };\n};\n\nexport default checkPermission;\n\n\n\n// import RoleModulePermission from '../models/RoleModulesPermissions.js';\n// import Module from '../models/Module.js';\n\n// // Route-to-Module Mapping (Can be stored in DB or config file)\n// const routeToModule = {\n//     \"/api/companies\": \"Company\",\n//     \"/api/users\": \"User\",\n//     \"/api/roles\": \"Role\",\n//     \"/api/modules\": \"Module\",\n//     \"/api/permissions\": \"Role_Module_Permission\"\n// };\n\n// const checkPermission = (action) => {\n//     return async (req, res, next) => {\n//         try {\n//             const { roleId } = req.params; // Role ID must be passed in request params\n//             const baseRoute = Object.keys(routeToModule).find(route => req.originalUrl.startsWith(route));\n\n//             if (!roleId || !baseRoute) {\n//                 return res.status(403).json({ error: \"Invalid request. Missing role ID or unknown module.\" });\n//             }\n\n//             // Get the module name dynamically\n//             const moduleName = routeToModule[baseRoute];\n\n//             // Fetch module ID from database\n//             const module = await Module.findOne({ where: { name: moduleName } });\n//             if (!module) {\n//                 return res.status(403).json({ error: \"Module not found.\" });\n//             }\n\n//             // Fetch permissions for the given role and module\n//             const permission = await RoleModulePermission.findOne({\n//                 where: {\n//                     role_id: roleId,\n//                     module_id: module.id\n//                 }\n//             });\n\n//             if (!permission) {\n//                 return res.status(403).json({ error: \"No permission assigned for this module.\" });\n//             }\n\n//             // Check if the role has the required permission\n//             if (action === \"read\" && !permission.can_read) {\n//                 return res.status(403).json({ error: \"Read access denied.\" });\n//             }\n//             if (action === \"write\" && !permission.can_write) {\n//                 return res.status(403).json({ error: \"Write access denied.\" });\n//             }\n//             if (action === \"delete\" && !permission.can_delete) {\n//                 return res.status(403).json({ error: \"Delete access denied.\" });\n//             }\n\n//             next(); // Allow request to proceed\n//         } catch (error) {\n//             res.status(500).json({ error: \"Internal Server Error: \" + error.message });\n//         }\n//     };\n// };\n\n// export default checkPermission;\n","size_bytes":4483},"qms-source/frontend-new/src/assets/theme-dark/functions/gradientChartLine.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The gradientChartLine() function helps you to create a gradient color for the chart line\n */\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nfunction gradientChartLine(chart, color, opacity = 0.2) {\n  const ctx = chart.getContext(\"2d\");\n  const gradientStroke = ctx.createLinearGradient(0, 230, 0, 50);\n  const primaryColor = rgba(color, opacity).toString();\n\n  gradientStroke.addColorStop(1, primaryColor);\n  gradientStroke.addColorStop(0.2, \"rgba(72, 72, 176, 0.0)\");\n  gradientStroke.addColorStop(0, \"rgba(203, 12, 159, 0)\");\n\n  return gradientStroke;\n}\n\nexport default gradientChartLine;\n","size_bytes":1175},"qms-source/frontend-new/src/assets/theme-dark/components/form/radio.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport linearGradient from \"assets/theme-dark/functions/linearGradient\";\n\nconst { borderWidth, borderColor } = borders;\nconst { transparent, info } = colors;\n\nconst radio = {\n  styleOverrides: {\n    root: {\n      \"& .MuiSvgIcon-root\": {\n        width: pxToRem(20),\n        height: pxToRem(20),\n        color: transparent.main,\n        border: `${borderWidth[1]} solid ${borderColor}`,\n        borderRadius: \"50%\",\n      },\n\n      \"&:after\": {\n        transition: \"opacity 250ms ease-in-out\",\n        content: `\"\"`,\n        position: \"absolute\",\n        width: pxToRem(14),\n        height: pxToRem(14),\n        borderRadius: \"50%\",\n        backgroundImage: linearGradient(info.main, info.main),\n        opacity: 0,\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        margin: \"auto\",\n      },\n\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n\n      \"&.Mui-focusVisible\": {\n        border: `${borderWidth[2]} solid ${info.main} !important`,\n      },\n    },\n\n    colorPrimary: {\n      color: borderColor,\n\n      \"&.Mui-checked\": {\n        color: info.main,\n\n        \"& .MuiSvgIcon-root\": {\n          borderColor: info.main,\n        },\n\n        \"&:after\": {\n          opacity: 1,\n        },\n      },\n    },\n\n    colorSecondary: {\n      color: borderColor,\n\n      \"&.Mui-checked\": {\n        color: info.main,\n\n        \"& .MuiSvgIcon-root\": {\n          borderColor: info.main,\n        },\n\n        \"&:after\": {\n          opacity: 1,\n        },\n      },\n    },\n  },\n};\n\nexport default radio;\n","size_bytes":2310},"qms-source/frontend-new/src/assets/theme-dark/base/globals.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\n\nconst { info, dark } = colors;\n\nconst globals = {\n  html: {\n    scrollBehavior: \"smooth\",\n  },\n  \"*, *::before, *::after\": {\n    margin: 0,\n    padding: 0,\n  },\n  \"a, a:link, a:visited\": {\n    textDecoration: \"none !important\",\n  },\n  \"a.link, .link, a.link:link, .link:link, a.link:visited, .link:visited\": {\n    color: `${dark.main} !important`,\n    transition: \"color 150ms ease-in !important\",\n  },\n  \"a.link:hover, .link:hover, a.link:focus, .link:focus\": {\n    color: `${info.main} !important`,\n  },\n};\n\nexport default globals;\n","size_bytes":1152},"frontend-new/src/styles/TaskAssignment.css":{"content":".container {\n    max-width: 600px;\n    margin: auto;\n    padding: 20px;\n    text-align: center;\n  }\n  \n  .form input {\n    margin: 5px;\n    padding: 8px;\n    width: 45%;\n  }\n  \n  button {\n    margin-top: 10px;\n    padding: 8px 15px;\n    background-color: #007bff;\n    color: white;\n    border: none;\n    cursor: pointer;\n  }\n  \n  button:hover {\n    background-color: #0056b3;\n  }\n  \n  table {\n    width: 100%;\n    margin-top: 20px;\n    border-collapse: collapse;\n  }\n  \n  th, td {\n    padding: 10px;\n    border: 1px solid #ddd;\n  }\n  ","size_bytes":534},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"qms-source/frontend-new/src/assets/theme/components/form/checkbox.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport linearGradient from \"assets/theme/functions/linearGradient\";\n\nconst { borderWidth, borderColor } = borders;\nconst { transparent, info } = colors;\n\nconst checkbox = {\n  styleOverrides: {\n    root: {\n      \"& .MuiSvgIcon-root\": {\n        backgroundPosition: \"center\",\n        backgroundSize: \"contain\",\n        backgroundRepeat: \"no-repeat\",\n        width: pxToRem(20),\n        height: pxToRem(20),\n        color: transparent.main,\n        border: `${borderWidth[1]} solid ${borderColor}`,\n        borderRadius: pxToRem(5.6),\n      },\n\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n\n      \"&.Mui-focusVisible\": {\n        border: `${borderWidth[2]} solid ${info.main} !important`,\n      },\n    },\n\n    colorPrimary: {\n      color: borderColor,\n\n      \"&.Mui-checked\": {\n        color: info.main,\n\n        \"& .MuiSvgIcon-root\": {\n          backgroundImage: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -1 22 22'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\"), ${linearGradient(\n            info.main,\n            info.main\n          )}`,\n          borderColor: info.main,\n        },\n      },\n    },\n\n    colorSecondary: {\n      color: borderColor,\n\n      \"& .MuiSvgIcon-root\": {\n        color: info.main,\n        \"&.Mui-checked\": {\n          backgroundImage: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -1 22 22'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\"), ${linearGradient(\n            info.main,\n            info.main\n          )}`,\n          borderColor: info.main,\n        },\n      },\n    },\n  },\n};\n\nexport default checkbox;\n","size_bytes":2574},"qms-source/BackEnd/src/models/Comment.js":{"content":"import { DataTypes } from \"sequelize\";\nimport sequelize from \"../config/db.js\";\nimport Task from \"./Task.js\";\nimport User from \"./User.js\";\n\nconst Comment = sequelize.define(\"Comment\", {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    task_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: Task, key: \"id\" }\n    },\n    user_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: User, key: \"id\" }\n    },\n    comment_text: {\n        type: DataTypes.TEXT,\n        allowNull: false\n    },\n    created_at: {\n        type: DataTypes.DATE,\n        defaultValue: DataTypes.NOW\n    }\n}, { timestamps: false });\n\nexport default Comment;\n","size_bytes":773},"qms-source/frontend-new/src/Components/Sidebar/styles/sidenavCollapse.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\nfunction collapseItem(theme, ownerState) {\n  const { palette, transitions, breakpoints, boxShadows, borders, functions } = theme;\n  const { active, transparentSidenav, whiteSidenav, darkMode, sidenavColor } = ownerState;\n\n  const { white, transparent, dark, grey, gradients } = palette;\n  const { md } = boxShadows;\n  const { borderRadius } = borders;\n  const { pxToRem, rgba, linearGradient } = functions;\n\n  return {\n    background: active\n      ? linearGradient(gradients[sidenavColor].main, gradients[sidenavColor].state)\n      : transparent.main,\n    color:\n      (transparentSidenav && !darkMode && !active) || (whiteSidenav && !active)\n        ? dark.main\n        : white.main,\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\",\n    padding: `${pxToRem(8)} ${pxToRem(10)}`,\n    margin: `${pxToRem(1.5)} ${pxToRem(16)}`,\n    borderRadius: borderRadius.md,\n    cursor: \"pointer\",\n    userSelect: \"none\",\n    whiteSpace: \"nowrap\",\n    boxShadow: active && !whiteSidenav && !darkMode && !transparentSidenav ? md : \"none\",\n    [breakpoints.up(\"xl\")]: {\n      transition: transitions.create([\"box-shadow\", \"background-color\"], {\n        easing: transitions.easing.easeInOut,\n        duration: transitions.duration.shorter,\n      }),\n    },\n\n    \"&:hover, &:focus\": {\n      backgroundColor: () => {\n        let backgroundValue;\n\n        if (!active) {\n          backgroundValue =\n            transparentSidenav && !darkMode\n              ? grey[300]\n              : rgba(whiteSidenav ? grey[400] : white.main, 0.2);\n        }\n\n        return backgroundValue;\n      },\n    },\n  };\n}\n\nfunction collapseIconBox(theme, ownerState) {\n  const { palette, transitions, borders, functions } = theme;\n  const { transparentSidenav, whiteSidenav, darkMode, active } = ownerState;\n\n  const { white, dark } = palette;\n  const { borderRadius } = borders;\n  const { pxToRem } = functions;\n\n  return {\n    minWidth: pxToRem(32),\n    minHeight: pxToRem(32),\n    color:\n      (transparentSidenav && !darkMode && !active) || (whiteSidenav && !active)\n        ? dark.main\n        : white.main,\n    borderRadius: borderRadius.md,\n    display: \"grid\",\n    placeItems: \"center\",\n    transition: transitions.create(\"margin\", {\n      easing: transitions.easing.easeInOut,\n      duration: transitions.duration.standard,\n    }),\n\n    \"& svg, svg g\": {\n      color: transparentSidenav || whiteSidenav ? dark.main : white.main,\n    },\n  };\n}\n\nconst collapseIcon = ({ palette: { white, gradients } }, { active }) => ({\n  color: active ? white.main : gradients.dark.state,\n});\n\nfunction collapseText(theme, ownerState) {\n  const { typography, transitions, breakpoints, functions } = theme;\n  const { miniSidenav, transparentSidenav, active } = ownerState;\n\n  const { size, fontWeightRegular, fontWeightLight } = typography;\n  const { pxToRem } = functions;\n\n  return {\n    marginLeft: pxToRem(10),\n\n    [breakpoints.up(\"xl\")]: {\n      opacity: miniSidenav || (miniSidenav && transparentSidenav) ? 0 : 1,\n      maxWidth: miniSidenav || (miniSidenav && transparentSidenav) ? 0 : \"100%\",\n      marginLeft: miniSidenav || (miniSidenav && transparentSidenav) ? 0 : pxToRem(10),\n      transition: transitions.create([\"opacity\", \"margin\"], {\n        easing: transitions.easing.easeInOut,\n        duration: transitions.duration.standard,\n      }),\n    },\n\n    \"& span\": {\n      fontWeight: active ? fontWeightRegular : fontWeightLight,\n      fontSize: size.sm,\n      lineHeight: 0,\n    },\n  };\n}\n\nexport { collapseItem, collapseIconBox, collapseIcon, collapseText };\n","size_bytes":4064},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"qms-source/frontend-new/src/styles/RoleForm.css":{"content":"/* Role Form Container */\n.role-form-container {\n    max-width: 500px;\n    margin: 0 auto;\n    padding: 20px;\n    background: #ffffff;\n    border-radius: 8px;\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n  }\n  \n  /* Form Heading */\n  .role-form-container h2 {\n    text-align: center;\n    color: #333;\n    margin-bottom: 20px;\n  }\n  \n  /* Input Fields */\n  .role-form-container input {\n    width: 100%;\n    padding: 12px;\n    margin: 10px 0;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    font-size: 14px;\n    transition: border-color 0.3s ease-in-out;\n  }\n  \n  .role-form-container input:focus {\n    border-color: #007bff;\n    outline: none;\n  }\n  \n  /* Buttons Container */\n  .role-form-buttons {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 20px;\n  }\n  \n  /* Submit Button */\n  .submit-btn {\n    background-color: #007bff;\n    color: white;\n    padding: 10px 16px;\n    border: none;\n    cursor: pointer;\n    border-radius: 5px;\n    font-size: 14px;\n    transition: background 0.3s ease-in-out, transform 0.2s ease-in-out;\n  }\n  \n  .submit-btn:hover {\n    background-color: #0056b3;\n    transform: scale(1.05);\n  }\n  \n  /* Cancel Button */\n  .cancel-btn {\n    background-color: #dc3545;\n    color: white;\n    padding: 10px 16px;\n    border: none;\n    cursor: pointer;\n    border-radius: 5px;\n    font-size: 14px;\n    transition: background 0.3s ease-in-out, transform 0.2s ease-in-out;\n  }\n  \n  .cancel-btn:hover {\n    background-color: #b02a37;\n    transform: scale(1.05);\n  }\n  \n  /* Responsive Design */\n  @media (max-width: 600px) {\n    .role-form-container {\n      padding: 15px;\n    }\n  \n    .role-form-container input {\n      padding: 10px;\n      font-size: 12px;\n    }\n  \n    .submit-btn, .cancel-btn {\n      padding: 8px 12px;\n      font-size: 12px;\n    }\n  }\n  ","size_bytes":1809},"attached_assets/README_DEV_1762171986964.md":{"content":"# Developer quickstart â€” Backend + Frontend (Windows PowerShell examples)\n\nThis file contains the minimal commands and environment guidance to run the project locally for development. It assumes you are on Windows (PowerShell) as detected in your environment.\n\n1) Prerequisites\n- Node.js (v18+ recommended)\n- MySQL server accessible locally or via Docker\n- pnpm/npm (this repo contains npm lockfiles; use whichever you prefer)\n- (Optional) Docker and docker-compose for containerized local runs\n\n2) Backend (BackEnd)\n\nSet environment variables (PowerShell example):\n\n```powershell\n# from project root\nSet-Item -Path Env:DB_NAME -Value \"qms_db\"\nSet-Item -Path Env:DB_USER -Value \"root\"\nSet-Item -Path Env:DB_PASS -Value \"password\"\nSet-Item -Path Env:DB_HOST -Value \"localhost\"\nSet-Item -Path Env:JWT_SECRET -Value \"a_very_secret_string\"\nSet-Item -Path Env:VITE_BASE_API_URL -Value \"http://localhost:5000/api\"\n```\n\nInstall dependencies and run backend:\n\n```powershell\ncd BackEnd\nnpm install\n# dev mode with auto-restart\nnpm run dev\n\n# or run production server\nnpm start\n```\n\nNotes:\n- `server.js` calls `sequelize.sync({ alter: true })` and then `bootstrapSystemSuperAdmin()` â€” this will attempt to seed modules and a super-admin user. Ensure `BOOTSTRAP_ON_SYNC` and `MAIL_*` environment variables are set appropriately.\n\n3) Frontend (frontend-new)\n\nSet Vite env (PowerShell example):\n\n```powershell\nSet-Item -Path Env:VITE_BASE_API_URL -Value \"http://localhost:5000/api\"\n```\n\nInstall and run:\n\n```powershell\ncd frontend-new\nnpm install\nnpm run dev\n\n# build for production\nnpm run build\n```\n\n4) Docker (optional local compose)\n\nIf you prefer containerized local dev, edit `docker-compose.yml` at repo root to include proper env or a `.env` file and then:\n\n```powershell\ndocker compose up --build\n```\n\n5) Quick checks\n- To test login and API connectivity, use the frontend login page or tools like Postman/curl to call `POST http://localhost:5000/api/auth/login`.\n- Check the backend console for DB sync messages: `\"âœ… Database & tables synced\"` and bootstrap logs.\n\n6) Safety tips\n- Do not commit `.env` to source control. Use `.env.example` as a template (we added one at project root).\n- On production, replace `sequelize.sync({ alter: true })` with a proper migration strategy.\n","size_bytes":2283},"qms-source/BackEnd/src/models/RoleModulesPermissions.js":{"content":"import { DataTypes } from 'sequelize';\nimport sequelize from '../config/db.js';\nimport Role from './Role.js';\nimport Module from './Module.js';\n\nconst RoleModulePermission = sequelize.define('Role_Module_Permission', {\n    role_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n            model: 'Role',\n            key: 'id'\n        }\n    },\n    module_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n            model: 'Module',\n            key: 'id'\n        }\n    },\n    can_read: {\n        type: DataTypes.BOOLEAN,\n        defaultValue: false\n    },\n    can_write: {\n        type: DataTypes.BOOLEAN,\n        defaultValue: false\n    },\n    can_delete: {\n        type: DataTypes.BOOLEAN,\n        defaultValue: false\n    }\n}, {\n    timestamps: false\n});\n\n// Define relationships\nRoleModulePermission.belongsTo(Role, { foreignKey: 'role_id', targetKey: 'id' })\nRole.hasMany(RoleModulePermission, { foreignKey: 'role_id', onDelete: 'CASCADE' });\n\nRoleModulePermission.belongsTo(Module, { foreignKey: 'module_id', targetKey: 'id' })\nModule.hasMany(RoleModulePermission, { foreignKey: 'module_id', onDelete: 'CASCADE' });\n\nexport default RoleModulePermission;\n","size_bytes":1228},"qms-source/BackEnd/src/routes/notificationRoutes.js":{"content":"import express from \"express\";\nimport { getUnseenNotifications, markNotificationsAsSeen ,getAllNotifications} from \"../controllers/notificationController.js\";\nimport authenticateUser from '../middlewares/authMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.get(\"/\",authenticateUser, getUnseenNotifications);\nrouter.get(\"/all\",authenticateUser, getAllNotifications);\nrouter.post(\"/mark-seen\", authenticateUser,markNotificationsAsSeen);\n\nexport default router;\n","size_bytes":469},"qms-source/frontend-new/src/pages/onboarding/CompanyDetails.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { Container, TextField, Button, Paper, Typography,Box } from \"@mui/material\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axiosInstance from \"../../services/axiosinstance\";\nconst companyModuleId = \"5d896834-fedd-4e0b-a882-8d05396fc346\";\n\nconst CompanyDetails = () => {\n  const navigate = useNavigate();\n  const { state } = useLocation();\n\n  // Get companyId from location state OR sessionStorage\n  const companyId = state?.companyId || sessionStorage.getItem(\"companyId\");\n  const storedCompanyName = sessionStorage.getItem(\"companyName\");\n\n  useEffect(() => {\n    // Redirect if companyId is missing\n    if (!companyId) {\n      toast.warning(\"Organization not found. Redirecting...\");\n      setTimeout(() => navigate(\"/company-name\"), 2000);\n    } else {\n      fetchCompanyDetails();\n    }\n  }, [companyId, navigate]);\n\n  // Form state\n  const [formData, setFormData] = useState({\n    companyName: storedCompanyName || \"\",\n    industry: \"\",\n    domain: \"\",\n  });\n\n  const [loading, setLoading] = useState(false);\n\n  // Fetch existing company details\n  const fetchCompanyDetails = async () => {\n    try {\n      const response = await axiosInstance.get(\n        `/companies/${companyModuleId}/${encodeURIComponent(companyId)}`\n      );\n      if (response.data) {\n        setFormData((prev) => ({\n          ...prev,\n          industry: response.data.industry || \"\",\n          domain: response.data.domain || \"\",\n        }));\n      }\n    } catch (error) {\n      console.error(\"Error fetching company details:\", error);\n      toast.error(\"Failed to fetch company details. Please try again.\");\n    }\n  };\n\n  // Handle input changes\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!companyId) {\n      toast.error(\"Invalid company ID.\");\n      return;\n    }\n\n    if (!formData.industry.trim() || !formData.domain.trim()) {\n      toast.warning(\"All fields are required.\");\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const response = await axiosInstance.put(\n        `/companies/${companyModuleId}/${encodeURIComponent(companyId)}`,\n        {\n          companyName: formData.companyName, // Include all fields\n          industry: formData.industry,\n          domain: formData.domain,\n        }\n      );\n\n      toast.success(\n        response.data.message || \"Organization details updated successfully!\"\n      );\n\n      // Redirect based on where the user came from\n      if (state?.from === \"company-list\") {\n        navigate(\"/company-list\"); // Redirect to Company List\n      } else {\n        navigate(\"/dashboard\"); // Default redirect to Dashboard\n      }\n    } catch (error) {\n      console.error(\"Error updating organization details:\", error);\n      const errorMessage =\n        error.response?.data?.error || \"Failed to update organization details.\";\n      toast.error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ py: 4 }}>\n      <Paper\n        elevation={3}\n        sx={{\n          p: { xs: 2, sm: 3 },\n          borderRadius: 2,\n          boxShadow: 3,\n        }}\n      >\n        <Typography variant=\"h5\" fontWeight={600} mb={3}>\n          Update organization Details\n        </Typography>\n\n        <form onSubmit={handleSubmit}>\n          <TextField\n            label=\"organization Name\"\n            variant=\"outlined\"\n            fullWidth\n            disabled\n            value={formData.companyName}\n            sx={{ mb: 2 }}\n          />\n\n          <TextField\n            label=\"Industry\"\n            name=\"industry\"\n            variant=\"outlined\"\n            fullWidth\n            required\n            value={formData.industry}\n            onChange={handleChange}\n            sx={{ mb: 2 }}\n          />\n\n          <TextField\n            label=\"Domain\"\n            name=\"domain\"\n            variant=\"outlined\"\n            fullWidth\n            required\n            value={formData.domain}\n            onChange={handleChange}\n            sx={{ mb: 3 }}\n          />\n\n          <Box display=\"flex\" justifyContent=\"flex-end\" gap={2}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              type=\"submit\"\n              disabled={loading}\n              sx={{\n                px: 3,\n                py: 1.2,\n                fontSize: \"14px\",\n                borderRadius: 2,\n                minWidth: \"120px\",\n                boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n              }}\n            >\n              {loading ? \"Submitting...\" : \"Submit\"}\n            </Button>\n\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => navigate(-1)}\n              disabled={loading}\n              sx={{\n                px: 3,\n                py: 1.2,\n                fontSize: \"14px\",\n                borderRadius: 2,\n                minWidth: \"120px\",\n              }}\n            >\n              Cancel\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default CompanyDetails;\n","size_bytes":5373},"qms-source/frontend-new/src/assets/theme/components/dialog/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\n\nconst { borderRadius } = borders;\nconst { xxl } = boxShadows;\n\nconst dialog = {\n  styleOverrides: {\n    paper: {\n      borderRadius: borderRadius.lg,\n      boxShadow: xxl,\n    },\n\n    paperFullScreen: {\n      borderRadius: 0,\n    },\n  },\n};\n\nexport default dialog;\n","size_bytes":935},"qms-source/BackEnd/src/controllers/taskChangeLogController.js":{"content":"import TaskChangeLog from \"../models/TaskChangeLog.js\";\nimport User from \"../models/User.js\";\nimport Task from \"../models/Task.js\";\nimport { Op } from \"sequelize\";\n\nexport const getTaskChangeLogs = async (req, res) => {\n    try {\n        const { task_id } = req.params;\n\n        // Fetch change logs for the given task_id, including user details\n        const changeLogs = await TaskChangeLog.findAll({\n            where: { task_id },\n            include: [\n                { model: User.scope('all'), as: \"Changer\", attributes: [\"id\", \"name\", \"email\"] }, // User who made the change\n                { model: Task, attributes: [\"id\", \"Checklist_Item\"] } // Task details\n            ],\n            order: [[\"changed_at\", \"DESC\"]] // Show latest changes first\n        });\n\n        // Enhance details for assignment changes\n        const formattedLogs = await Promise.all(changeLogs.map(async (log) => {\n            let detailedOldValue = log.old_value;\n            let detailedNewValue = log.new_value;\n\n            if (log.field_changed === \"assignment\") {\n                try {\n                    const oldUserIds = JSON.parse(log.old_value || \"[]\");\n                    const newUserIds = JSON.parse(log.new_value || \"[]\");\n\n                    // Fetch user details for old and new assignees\n                    const oldUsers = await User.findAll({\n                        where: { id: { [Op.in]: oldUserIds } },\n                        attributes: [\"id\", \"name\", \"email\"]\n                    });\n\n                    const newUsers = await User.findAll({\n                        where: { id: { [Op.in]: newUserIds } },\n                        attributes: [\"id\", \"name\", \"email\"]\n                    });\n\n                    detailedOldValue = oldUsers.map(user => ({ id: user.id, name: user.name, email: user.email }));\n                    detailedNewValue = newUsers.map(user => ({ id: user.id, name: user.name, email: user.email }));\n                } catch (parseError) {\n                    console.error(\"Error parsing assignment values:\", parseError);\n                }\n            }\n\n            return {\n                id: log.id,\n                task_id: log.task_id,\n                task_name: log.Task?.Checklist_Item  || \"Unknown Task\",\n                changed_by: log.Changer ? { id: log.Changer.id, name: log.Changer.name, email: log.Changer.email } : null,\n                field_changed: log.field_changed,\n                old_value: detailedOldValue,\n                new_value: detailedNewValue,\n                changed_at: log.changed_at\n            };\n        }));\n\n        res.json(formattedLogs);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport default{getTaskChangeLogs};","size_bytes":2745},"frontend-new/src/assets/theme-dark/components/appBar.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst appBar = {\n  defaultProps: {\n    color: \"transparent\",\n  },\n\n  styleOverrides: {\n    root: {\n      boxShadow: \"none\",\n    },\n  },\n};\n\nexport default appBar;\n","size_bytes":686},"qms-source/frontend-new/src/assets/theme/base/borders.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base border styles for the Material Dashboard 2 React.\n * You can add new border width, border color or border radius using this file.\n * You can customized the borders value for the entire Material Dashboard 2 React using thie file.\n */\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"../../../assets/theme/base/colors\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"../../../assets/theme/functions/pxToRem\";\n\nconst { grey } = colors;\n\nconst borders = {\n  borderColor: grey[300],\n\n  borderWidth: {\n    0: 0,\n    1: pxToRem(1),\n    2: pxToRem(2),\n    3: pxToRem(3),\n    4: pxToRem(4),\n    5: pxToRem(5),\n  },\n\n  borderRadius: {\n    xs: pxToRem(1.6),\n    sm: pxToRem(2),\n    md: pxToRem(6),\n    lg: pxToRem(8),\n    xl: pxToRem(12),\n    xxl: pxToRem(16),\n    section: pxToRem(160),\n  },\n};\n\nexport default borders;\n","size_bytes":1385},"qms-source/frontend-new/src/assets/theme/components/list/listItemText.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst listItemText = {\n  styleOverrides: {\n    root: {\n      marginTop: 0,\n      marginBottom: 0,\n    },\n  },\n};\n\nexport default listItemText;\n","size_bytes":666},"frontend-new/src/assets/theme/base/boxShadows.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base box-shadow styles for the Material Dashboard 2 React.\n * You can add new box-shadow using this file.\n * You can customized the box-shadow for the entire Material Dashboard 2 React using thie file.\n */\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"../../../assets/theme/base/colors\";\n\n// Material Dashboard 2 React Helper Functions\nimport boxShadow from \"../../../assets/theme/functions/boxShadow\";\n\nconst { black, white, tabs, coloredShadows } = colors;\n\nconst boxShadows = {\n  xs: boxShadow([0, 2], [9, -5], black.main, 0.15),\n  sm: boxShadow([0, 5], [10, 0], black.main, 0.12),\n  md: `${boxShadow([0, 4], [6, -1], black.main, 0.1)}, ${boxShadow(\n    [0, 2],\n    [4, -1],\n    black.main,\n    0.06\n  )}`,\n  lg: `${boxShadow([0, 10], [15, -3], black.main, 0.1)}, ${boxShadow(\n    [0, 4],\n    [6, -2],\n    black.main,\n    0.05\n  )}`,\n  xl: `${boxShadow([0, 20], [25, -5], black.main, 0.1)}, ${boxShadow(\n    [0, 10],\n    [10, -5],\n    black.main,\n    0.04\n  )}`,\n  xxl: boxShadow([0, 20], [27, 0], black.main, 0.05),\n  inset: boxShadow([0, 1], [2, 0], black.main, 0.075, \"inset\"),\n  colored: {\n    primary: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.primary,\n      0.4\n    )}`,\n    secondary: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.secondary,\n      0.4\n    )}`,\n    info: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.info,\n      0.4\n    )}`,\n    success: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.success,\n      0.4\n    )}`,\n    warning: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.warning,\n      0.4\n    )}`,\n    error: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.error,\n      0.4\n    )}`,\n    light: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.light,\n      0.4\n    )}`,\n    dark: `${boxShadow([0, 4], [20, 0], black.main, 0.14)}, ${boxShadow(\n      [0, 7],\n      [10, -5],\n      coloredShadows.dark,\n      0.4\n    )}`,\n  },\n\n  navbarBoxShadow: `${boxShadow([0, 0], [1, 1], white.main, 0.9, \"inset\")}, ${boxShadow(\n    [0, 20],\n    [27, 0],\n    black.main,\n    0.05\n  )}`,\n  sliderBoxShadow: {\n    thumb: boxShadow([0, 1], [13, 0], black.main, 0.2),\n  },\n  tabsBoxShadow: {\n    indicator: boxShadow([0, 1], [5, 1], tabs.indicator.boxShadow, 1),\n  },\n};\n\nexport default boxShadows;\n","size_bytes":3233},"frontend-new/src/assets/theme-dark/components/stepper/step.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst step = {\n  styleOverrides: {\n    root: {\n      padding: `0 ${pxToRem(6)}`,\n    },\n  },\n};\n\nexport default step;\n","size_bytes":748},"frontend-new/src/pages/role_management/RoleForm.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  Box,\n  TextField,\n  Button,\n  Typography,\n  CircularProgress,\n  MenuItem,\n  Select,\n  FormControl,\n  InputLabel,\n  Paper,\n  Container,\n} from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport { ToastContainer } from \"react-toastify\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst API_ROLE_URL = \"/roles/971a88b8-461e-4cd2-9a06-fce42ad6b806\";\nconst API_COMPANY_URL = \"/companies/5d896834-fedd-4e0b-a882-8d05396fc346\";\n\nconst RoleForm = () => {\n  const [userRole, setUserRole] = useState(\"\");\n  const [role, setRole] = useState({\n    name: \"\",\n    description: \"\",\n    parent_role_id: \"\",\n  });\n  const [roles, setRoles] = useState([]);\n  const [companies, setCompanies] = useState([]);\n  const [selectedCompany, setSelectedCompany] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  // Fetch companies if user is System Super Admin\n  useEffect(() => {\n    // Retrieve userRole from localStorage\n    let role = localStorage.getItem(\"userRole\");\n    setUserRole(role);\n    console.log(\"User Role from Role Form \" + userRole);\n    if (role === \"System Super Admin\") {\n      axiosInstance\n        .get(API_COMPANY_URL)\n        .then((response) => setCompanies(response.data || []))\n        .catch((error) => {\n          console.error(\"Error fetching companies:\", error);\n          toast.error(\"Failed to fetch companies.\");\n        });\n    } else {\n      fetchRoles(); // Fetch roles for specific company\n    }\n  }, [userRole]);\n\n  const fetchRoles = async () => {\n    let company_id = sessionStorage.getItem(\"selectedCompany\");\n    if (!company_id) {\n      toast.error(\"No company selected! Please choose a company.\");\n      return;\n    }\n\n    try {\n      const response = await axiosInstance.get(API_ROLE_URL, {\n        params: { company_id },\n      });\n      setRoles(response.data || []);\n    } catch (error) {\n      console.error(\"Error fetching roles:\", error);\n      toast.error(\"Failed to fetch roles.\");\n    }\n  };\n\n  // Fetch roles when company changes\n  useEffect(() => {\n    if (userRole === \"System Super Admin\" && selectedCompany) {\n      fetchRoles(selectedCompany);\n    }\n  }, [selectedCompany]);\n\n  // Handle input change\n  const handleChange = (e) => {\n    setRole({ ...role, [e.target.name]: e.target.value });\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!role.name.trim() || !role.description.trim()) {\n      toast.warn(\"Role Name and Description are required\");\n      return;\n    }\n\n    let company_id =\n      userRole === \"System Super Admin\"\n        ? selectedCompany\n        : sessionStorage.getItem(\"selectedCompany\");\n\n    if (userRole === \"System Super Admin\" && !company_id) {\n      toast.error(\"Please select a company before submitting.\");\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const payload = {\n        ...role,\n        company_id:\n          userRole === \"System Super Admin\"\n            ? selectedCompany\n            : sessionStorage.getItem(\"selectedCompany\"), // Pass only if needed\n      };\n      await axiosInstance.post(API_ROLE_URL, payload);\n      toast.success(\"Role added successfully!\");\n      setTimeout(() => {\n        navigate(\"/roles\"); // Delay navigation by 1 second\n      }, 1000);\n    } catch (err) {\n      console.error(\"Error adding role:\", err);\n      toast.error(err.response?.data?.message || \"Failed to add role.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCancel = () => {\n    window.history.back();\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Paper\n        elevation={4}\n        sx={{\n          p: 4,\n          mt: 4,\n          mx: 8,\n          borderRadius: 3,\n          bgcolor: \"#f9f9f9\",\n          boxShadow: \"0px 4px 12px rgba(0, 0, 0, 0.1)\",\n        }}\n      >\n        <ToastContainer />\n\n        <Typography variant=\"h5\" sx={{ fontWeight: 600, mb: 3, pl: 1 }}>\n          Add New Role\n        </Typography>\n\n        <form onSubmit={handleSubmit}>\n          <Box sx={{ display: \"grid\", gap: 2 }}>\n            {userRole === \"System Super Admin\" && (\n              <FormControl fullWidth>\n                <InputLabel>Select Company</InputLabel>\n                <Select\n                  value={selectedCompany}\n                  onChange={(e) => setSelectedCompany(e.target.value)}\n                  required\n                  label=\"Select Company\"\n                >\n                  {companies.map((company) => (\n                    <MenuItem key={company.id} value={company.id}>\n                      {company.name}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            )}\n\n            <TextField\n              fullWidth\n              label=\"Role Name\"\n              variant=\"outlined\"\n              name=\"name\"\n              value={role.name}\n              onChange={handleChange}\n              required\n            />\n\n            <TextField\n              fullWidth\n              label=\"Role Description\"\n              variant=\"outlined\"\n              name=\"description\"\n              value={role.description}\n              onChange={handleChange}\n              multiline\n              rows={2}\n            />\n\n            <FormControl fullWidth>\n              <InputLabel shrink={true} id=\"parent-role-label\">\n                Parent Role\n              </InputLabel>\n              <Select\n                labelId=\"parent-role-label\"\n                name=\"parent_role_id\"\n                value={role.parent_role_id || \"\"}\n                onChange={handleChange}\n                displayEmpty\n                renderValue={(selected) =>\n                  selected ? roles.find((r) => r.id === selected)?.name : \"None\"\n                }\n              >\n                <MenuItem value=\"\">None</MenuItem>\n                {roles.map((roleItem) => (\n                  <MenuItem key={roleItem.id} value={roleItem.id}>\n                    {roleItem.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Box>\n\n          <Box\n            sx={{\n              display: \"flex\",\n              flexDirection: { xs: \"column\", sm: \"row\" },\n              justifyContent: \"flex-end\",\n              gap: 2,\n              mt: 4,\n            }}\n          >\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={loading}\n              sx={{\n                px: 3,\n                py: 1,\n                fontSize: \"14px\",\n                borderRadius: 2,\n                boxShadow: \"0px 2px 4px rgba(0, 0, 0, 0.15)\",\n                minWidth: \"120px\",\n              }}\n            >\n              {loading ? (\n                <CircularProgress size={20} color=\"inherit\" />\n              ) : (\n                \"Add Role\"\n              )}\n            </Button>\n\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={handleCancel}\n              disabled={loading}\n              sx={{\n                px: 3,\n                py: 1,\n                fontSize: \"14px\",\n                borderRadius: 2,\n                borderWidth: \"1.5px\",\n                \":hover\": { borderWidth: \"1.5px\" },\n                minWidth: \"120px\",\n              }}\n            >\n              Cancel\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default RoleForm;\n\n// import React, { useState } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import {\n//   Box,\n//   TextField,\n//   Button,\n//   Typography,\n//   CircularProgress,\n// } from \"@mui/material\";\n// import { toast } from \"react-toastify\"; // Import toast\n// import axiosInstance from \"../../services/axiosinstance\";\n\n// const API_URL = \"/roles/971a88b8-461e-4cd2-9a06-fce42ad6b806\"; // Backend API endpoint\n\n// const RoleForm = () => {\n//   const [role, setRole] = useState({ name: \"\", description: \"\" });\n//   const [loading, setLoading] = useState(false);\n//   const navigate = useNavigate();\n\n//   // Handle input change\n//   const handleChange = (e) => {\n//     setRole({ ...role, [e.target.name]: e.target.value });\n//   };\n\n//   // Submit role to backend\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n\n//     if (!role.name.trim() && !role.description.trim()) {\n//       toast.warn(\"Both Role Name and Description are required\");\n//       return;\n//     }\n//     if (!role.name.trim()) {\n//       toast.warn(\"Role Name is required\");\n//       return;\n//     }\n//     if (!role.description.trim()) {\n//       toast.warn(\"Role Description is required\");\n//       return;\n//     }\n\n//     setLoading(true);\n//     try {\n//       await axiosInstance.post(API_URL, role);\n//       toast.success(\"Role added successfully!\");\n//       navigate(\"/roles\"); // Redirect to Role List page\n//     } catch (err) {\n//       console.error(\"Error adding role:\", err);\n//       toast.error(err.response?.data?.message || \"Failed to add role.\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   return (\n//     <Box p={3} maxWidth=\"400px\" margin=\"auto\">\n//       <Typography variant=\"h5\" mb={2}>\n//         Add New Role\n//       </Typography>\n//       <form onSubmit={handleSubmit}>\n//         <TextField\n//           fullWidth\n//           label=\"Role Name\"\n//           variant=\"outlined\"\n//           name=\"name\"\n//           value={role.name}\n//           onChange={handleChange}\n//           sx={{ mb: 2 }}\n//         />\n//         <TextField\n//           fullWidth\n//           label=\"Role Description\"\n//           variant=\"outlined\"\n//           name=\"description\"\n//           value={role.description}\n//           onChange={handleChange}\n//           sx={{ mb: 2 }}\n//         />\n//         <Button\n//           fullWidth\n//           type=\"submit\"\n//           variant=\"contained\"\n//           color=\"primary\"\n//           disabled={loading}\n//         >\n//           {loading ? <CircularProgress size={24} /> : \"Add Role\"}\n//         </Button>\n//       </form>\n//     </Box>\n//   );\n// };\n\n// export default RoleForm;\n","size_bytes":10288},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"frontend-new/src/assets/theme/components/button/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Button Styles\nimport root from \"assets/theme/components/button/root\";\nimport contained from \"assets/theme/components/button/contained\";\nimport outlined from \"assets/theme/components/button/outlined\";\nimport buttonText from \"assets/theme/components/button/text\";\n\nconst button = {\n  defaultProps: {\n    disableRipple: false,\n  },\n  styleOverrides: {\n    root: { ...root },\n    contained: { ...contained.base },\n    containedSizeSmall: { ...contained.small },\n    containedSizeLarge: { ...contained.large },\n    containedPrimary: { ...contained.primary },\n    containedSecondary: { ...contained.secondary },\n    outlined: { ...outlined.base },\n    outlinedSizeSmall: { ...outlined.small },\n    outlinedSizeLarge: { ...outlined.large },\n    outlinedPrimary: { ...outlined.primary },\n    outlinedSecondary: { ...outlined.secondary },\n    text: { ...buttonText.base },\n    textSizeSmall: { ...buttonText.small },\n    textSizeLarge: { ...buttonText.large },\n    textPrimary: { ...buttonText.primary },\n    textSecondary: { ...buttonText.secondary },\n  },\n};\n\nexport default button;\n","size_bytes":1629},"frontend-new/src/assets/theme/components/table/tableCell.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { borderWidth } = borders;\nconst { light } = colors;\n\nconst tableCell = {\n  styleOverrides: {\n    root: {\n      padding: `${pxToRem(12)} ${pxToRem(16)}`,\n      borderBottom: `${borderWidth[1]} solid ${light.main}`,\n    },\n  },\n};\n\nexport default tableCell;\n","size_bytes":1027},"qms-source/frontend-new/src/Components/Sidebar/SidebarRoot.jsx":{"content":"/* eslint-disable react-refresh/only-export-components */\n\n// @mui material components\nimport Drawer from \"@mui/material/Drawer\";\nimport { styled } from \"@mui/material/styles\";\n\nexport default styled(Drawer)(({ theme, ownerState }) => {\n  const { palette, boxShadows, transitions, breakpoints, functions } = theme;\n  const { transparentSidenav, whiteSidenav, miniSidenav, darkMode } = ownerState;\n\n  const sidebarWidth = 250;\n  const { transparent, gradients, white, background } = palette;\n  const { xxl } = boxShadows;\n  const { pxToRem, linearGradient } = functions;\n\n  let backgroundValue = darkMode\n    ? background.sidenav\n    : linearGradient(gradients.dark.main, gradients.dark.state);\n\n  if (transparentSidenav) {\n    backgroundValue = transparent.main;\n  } else if (whiteSidenav) {\n    backgroundValue = white.main;\n  }\n\n  // styles for the sidenav when miniSidenav={false}\n  const drawerOpenStyles = () => ({\n    background: backgroundValue,\n    transform: \"translateX(0)\",\n    transition: transitions.create(\"transform\", {\n      easing: transitions.easing.sharp,\n      duration: transitions.duration.shorter,\n    }),\n\n    [breakpoints.up(\"xl\")]: {\n      boxShadow: transparentSidenav ? \"none\" : xxl,\n      marginBottom: transparentSidenav ? 0 : \"inherit\",\n      left: \"0\",\n      width: sidebarWidth,\n      transform: \"translateX(0)\",\n      transition: transitions.create([\"width\", \"background-color\"], {\n        easing: transitions.easing.sharp,\n        duration: transitions.duration.enteringScreen,\n      }),\n    },\n  });\n\n  // styles for the sidenav when miniSidenav={true}\n  const drawerCloseStyles = () => ({\n    background: backgroundValue,\n    transform: `translateX(${pxToRem(-320)})`,\n    transition: transitions.create(\"transform\", {\n      easing: transitions.easing.sharp,\n      duration: transitions.duration.shorter,\n    }),\n\n    [breakpoints.up(\"xl\")]: {\n      boxShadow: transparentSidenav ? \"none\" : xxl,\n      marginBottom: transparentSidenav ? 0 : \"inherit\",\n      left: \"0\",\n      width: pxToRem(96),\n      overflowX: \"hidden\",\n      transform: \"translateX(0)\",\n      transition: transitions.create([\"width\", \"background-color\"], {\n        easing: transitions.easing.sharp,\n        duration: transitions.duration.shorter,\n      }),\n    },\n  });\n\n  return {\n    \"& .MuiDrawer-paper\": {\n      boxShadow: xxl,\n      border: \"none\",\n\n      ...(miniSidenav ? drawerCloseStyles() : drawerOpenStyles()),\n    },\n  };\n});\n","size_bytes":2444},"qms-source/frontend-new/src/pages/role_management/AssignPermissions.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  Box,\n  Button,\n  Container,\n  Grid,\n  Paper,\n  Typography,\n} from \"@mui/material\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst AssignPermissions = () => {\n  const [roles, setRoles] = useState([]);\n  const navigate = useNavigate();\n\n  let company_id = sessionStorage.getItem(\"selectedCompany\");\n\n  const Module_id = \"971a88b8-461e-4cd2-9a06-fce42ad6b806\";\n\n  useEffect(() => {\n    axiosInstance\n      .get(`/roles/${Module_id}`, {\n        params: company_id ? { company_id } : {}, // Pass company_id only if it exists\n      })\n      .then((response) => {\n        setRoles(response.data);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching roles:\", error);\n      });\n  }, []);\n\n  const handleNext = (roleId) => {\n    navigate(`/assignpermissionstorole/${roleId}`);\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4 }}>\n      <Paper\n        elevation={3}\n        sx={{\n          p: { xs: 2, sm: 3 },\n          mx: 4,\n          borderRadius: 2,\n          boxShadow: 3,\n        }}\n      >\n        {/* Page Title */}\n        <Typography variant=\"h4\" sx={{ fontWeight: 600, mb: 3 }}>\n          Assign Role Permissions\n        </Typography>\n\n        {/* Header Row */}\n        <Grid\n          container\n          sx={{\n            mb: 1,\n            px: 1,\n            py: 1,\n            backgroundColor: \"#f0f0f0\", // light gray\n            borderRadius: 1,\n          }}\n          spacing={2}\n        >\n          <Grid item xs={12} sm={4}>\n            <Typography\n              sx={{\n                fontWeight: \"bold\",\n                display: { xs: \"none\", sm: \"block\" }, \n              }}\n            >\n              Role Name\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={5}>\n            <Typography\n              sx={{\n                fontWeight: \"bold\",\n                display: { xs: \"none\", sm: \"block\" }, \n              }}\n            >\n              Description\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={3}>\n            <Typography\n              sx={{\n                fontWeight: \"bold\",\n                display: { xs: \"none\", sm: \"block\" }, \n              }}\n            >\n              Action\n            </Typography>\n          </Grid>\n        </Grid>\n\n        {/* Roles List */}\n        {roles.map((role) => (\n          <Grid\n            container\n            key={role.id}\n            alignItems=\"center\"\n            spacing={2}\n            sx={{\n              px: 1,\n              py: 2,\n              mb: 1,\n              borderRadius: 1,\n              backgroundColor: \"#fff\",\n              boxShadow: 1,\n              transition: \"background-color 0.2s ease\",\n              \"&:hover\": {\n                backgroundColor: \"#f9f9f9\",\n              },\n            }}\n          >\n            <Grid item xs={12} sm={4}>\n              <Typography\n                sx={{\n                  fontWeight: 500,\n                  display: { xs: \"block\", sm: \"none\" },\n                  color: \"text.secondary\",\n                }}\n              >\n                Role Name\n              </Typography>\n              <Typography>{role.name}</Typography>\n            </Grid>\n\n            <Grid item xs={12} sm={5}>\n              <Typography\n                sx={{\n                  fontWeight: 500,\n                  display: { xs: \"block\", sm: \"none\" },\n                  color: \"text.secondary\",\n                }}\n              >\n                Description\n              </Typography>\n              <Typography>{role.description}</Typography>\n            </Grid>\n\n            <Grid item xs={12} sm={3}>\n              <Typography\n                sx={{\n                  fontWeight: 500,\n                  display: { xs: \"block\", sm: \"none\" },\n                  color: \"text.secondary\",\n                  mb: 0.5,\n                }}\n              >\n                Action\n              </Typography>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                fullWidth={true}\n                onClick={() => handleNext(role.id)}\n                sx={{\n                  px: 2,\n                  py: 0.8,\n                  fontSize: 14,\n                  textTransform: \"none\",\n                  borderRadius: 2,\n                }}\n              >\n                Assign Permissions\n              </Button>\n            </Grid>\n          </Grid>\n        ))}\n      </Paper>\n    </Container>\n  );\n};\n\nexport default AssignPermissions;\n","size_bytes":4598},"qms-source/frontend-new/src/dashboard/Analytics.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport {\n  PieChart,\n  Pie,\n  Cell,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from \"recharts\";\nimport { Paper, Typography, CircularProgress, Box } from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport axiosInstance from \"../services/axiosinstance\";\n\nconst Analytics = () => {\n  const [completion, setCompletion] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [statusSummary, setStatusSummary] = useState([]);\n  const [iterations, setIterations] = useState([]);\n  const [iterationId, setIterationId] = useState(\"\");\n  const [iterationsData, setIterationsData] = useState([]);\n  const [departmentSummary, setDepartmentSummary] = useState([]);\n  const [standard, setStandard] = useState(\"\");\n  const [typeOfFindingSummary, setTypeOfFindingSummary] = useState(null);\n\n  const taskModuleId = \"1f0f190d-3a83-421c-af98-5d081100230e\";\n\n  // Load iterations for dropdown\n  useEffect(() => {\n    const fetchIterations = async () => {\n      try {\n        const token = localStorage.getItem(\"jwtToken\");\n        const company_id = sessionStorage.getItem(\"selectedCompany\");\n\n        const response = await axiosInstance.get(`/iteration/${taskModuleId}`, {\n          headers: { Authorization: `Bearer ${token}` },\n          params: { company_id },\n        });\n        setIterations(response.data || []);\n      } catch (err) {\n        console.error(\"Failed to load iterations\", err);\n      }\n    };\n\n    fetchIterations();\n  }, []);\n\n  // Fetch task summary on iteration change\n  useEffect(() => {\n    const fetchSummary = async () => {\n      try {\n        const company_id = sessionStorage.getItem(\"selectedCompany\");\n        if (!company_id) {\n          toast.error(\"Company ID is required.\");\n          return;\n        }\n\n        const payload = { company_id };\n        if (iterationId) {\n          payload.iteration_id = iterationId;\n        }\n\n        const response = await axiosInstance.post(\n          `/tasks/task-summary/${taskModuleId}`,\n          payload,\n          {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n            },\n          }\n        );\n\n        if (iterationId && response.data.status_summary) {\n          // Convert summary to array for chart\n          const pieData = Object.entries(response.data.status_summary)\n            // .filter(([_, count]) => count > 0)\n            .map(([name, value]) => ({ name, value }));\n\n          setStatusSummary(pieData);\n          setCompletion(response.data.percentage_completed);\n          setDepartmentSummary(response.data.department_summary || []);\n          setStandard(response.data.standard || \"\");\n          setTypeOfFindingSummary(\n            response.data.Type_of_Finding_Summary || null\n          );\n        } else {\n          // Show all iterations data\n          setIterationsData(response.data.iterations || []);\n          setStatusSummary([]);\n          setCompletion(null);\n          setDepartmentSummary(response.data.department_summary || []);\n          setStandard(\"\");\n          setTypeOfFindingSummary(null);\n        }\n\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Error loading analytics:\", error);\n        toast.error(\"Failed to load analytics\");\n      }\n    };\n\n    fetchSummary();\n  }, [iterationId]);\n\n  // Loading spinner\n  if (loading) {\n    return <CircularProgress sx={{ display: \"block\", mx: \"auto\", mt: 4 }} />;\n  }\n\n  const renderCustomizedLabel = ({ name, percent, x, y }) => {\n    return percent > 0 ? (\n      <text\n        x={x}\n        y={y}\n        fill=\"#000\"\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fontSize={12}\n      >\n        {`${name} ${(percent * 100).toFixed(0)}%`}\n      </text>\n    ) : null;\n  };\n\n  const COLORS = [\n    \"#e3f2fd\",\n    \"#90caf9\",\n    \"#42a5f5\",\n    \"#1e88e5\",\n    \"#1565c0\",\n    \"#003c8f\",\n  ];\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        m: { xs: 1, sm: 2, md: 4 },\n        p: { xs: 2, sm: 3 },\n      }}\n    >\n      <Typography variant=\"h5\" gutterBottom>\n        Task Analytics\n      </Typography>\n\n      {/* Show completion % if filtered */}\n      {completion !== null && iterationId && (\n        <Typography variant=\"subtitle1\" sx={{ mb: 2 }}>\n          Overall Completion: {completion}%\n        </Typography>\n      )}\n\n      {/* Iteration filter */}\n      <Box\n        sx={{\n          width: \"100%\",\n          maxWidth: 300,\n          mb: 3,\n          ml: { xs: 0, md: \"auto\" },\n        }}\n      >\n        <Typography\n          id=\"iteration-filter-label\"\n          variant=\"subtitle2\"\n          sx={{ mb: 1, textAlign: \"left\" }}\n        >\n          Filter by Iteration\n        </Typography>\n        <select\n          aria-labelledby=\"iteration-filter-label\"\n          value={iterationId}\n          onChange={(e) => setIterationId(e.target.value)}\n          style={{\n            width: \"100%\",\n            padding: \"8px\",\n            borderRadius: \"4px\",\n            border: \"1px solid #ccc\",\n            fontSize: \"1rem\",\n            display: \"block\",\n          }}\n        >\n          <option value=\"\">All Iterations</option>\n          {iterations.map((iter) => (\n            <option key={iter.id} value={iter.id}>\n              {iter.name}\n            </option>\n          ))}\n        </select>\n      </Box>\n\n      {standard && (\n        <Typography variant=\"subtitle2\" sx={{ mb: 2, fontWeight: 500 }}>\n          Standard: {standard}\n        </Typography>\n      )}\n\n      {typeOfFindingSummary &&\n        typeOfFindingSummary.total_with_type_of_finding > 0 && (\n          <Paper\n            elevation={2}\n            sx={{\n              mb: 4,\n              p: 3,\n              borderRadius: \"0.5rem\",\n              backgroundColor: \"#fafafa\",\n            }}\n          >\n            <Typography\n              variant=\"subtitle1\"\n              sx={{\n                mb: 2,\n                textAlign: \"center\",\n                fontWeight: \"bold\",\n              }}\n            >\n              Type of Finding Summary\n            </Typography>\n            <Box sx={{ height: 300 }}>\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <PieChart>\n                  <Pie\n                    data={Object.entries(\n                      typeOfFindingSummary.type_of_finding_summary\n                    ).map(([name, value]) => ({ name, value }))}\n                    dataKey=\"value\"\n                    nameKey=\"name\"\n                    cx=\"50%\"\n                    cy=\"50%\"\n                    outerRadius=\"60%\"\n                    label={renderCustomizedLabel}\n                    minAngle={4}\n                  >\n                    {Object.entries(\n                      typeOfFindingSummary.type_of_finding_summary\n                    ).map((_, index) => (\n                      <Cell\n                        key={`cell-type-${index}`}\n                        fill={COLORS[index % COLORS.length]}\n                      />\n                    ))}\n                  </Pie>\n                  <Tooltip />\n                  <Legend\n                    verticalAlign=\"bottom\"\n                    height={36}\n                    wrapperStyle={{\n                      paddingTop: 10,\n                      fontSize: \"0.85rem\",\n                    }}\n                  />\n                </PieChart>\n              </ResponsiveContainer>\n            </Box>\n          </Paper>\n        )}\n\n      {/* pie chart for selected iteration */}\n      {iterationId ? (\n        statusSummary.length === 0 ? (\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 2 }}>\n            No data available for selected iteration.\n          </Typography>\n        ) : (\n          <>\n            {/* Status Summary Pie Chart */}\n            <Paper\n              elevation={2}\n              sx={{\n                width: \"100%\",\n                backgroundColor: \"#fafafa\",\n                borderRadius: \"0.5rem\",\n                p: 3,\n                mb: 4,\n              }}\n            >\n              <Typography\n                variant=\"subtitle1\"\n                sx={{ mb: 2, textAlign: \"center\", fontWeight: \"bold\" }}\n              >\n                Status Summary\n              </Typography>\n              <Box sx={{ height: { xs: 280, sm: 320, md: 360 } }}>\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                  <PieChart>\n                    <Pie\n                      data={statusSummary}\n                      dataKey=\"value\"\n                      nameKey=\"name\"\n                      cx=\"50%\"\n                      cy=\"50%\"\n                      outerRadius=\"60%\"\n                      label={renderCustomizedLabel}\n                      minAngle={4}\n                    >\n                      {statusSummary.map((entry, index) => (\n                        <Cell\n                          key={`cell-${index}`}\n                          fill={COLORS[index % COLORS.length]}\n                        />\n                      ))}\n                    </Pie>\n                    <Tooltip />\n                    <Legend\n                      verticalAlign=\"bottom\"\n                      height={36}\n                      wrapperStyle={{\n                        paddingTop: 10,\n                        fontSize: \"0.85rem\",\n                      }}\n                    />\n                  </PieChart>\n                </ResponsiveContainer>\n              </Box>\n            </Paper>\n\n            {/* Department-wise Summary for Single Iteration */}\n\n            {departmentSummary.length > 0 && (\n              <Box sx={{ mt: 4 }}>\n                <Typography variant=\"subtitle1\" sx={{ mb: 2 }}>\n                  Department-wise Summary:\n                </Typography>\n\n                {/* WRAPPING CONTAINER FOR RESPONSIVE LAYOUT */}\n                <Box\n                  sx={{\n                    display: \"flex\",\n                    flexWrap: \"wrap\",\n                    gap: 2,\n                    justifyContent: { xs: \"center\", md: \"flex-start\" },\n                  }}\n                >\n                  {departmentSummary.map((dept, i) => {\n                    const deptData = Object.entries(dept.status_summary).map(\n                      ([name, value]) => ({ name, value })\n                    );\n                    return (\n                      <Paper\n                        key={i}\n                        sx={{\n                          p: 2,\n                          flex: \"1 1 280px\",\n                          minWidth: \"260px\",\n                          maxWidth: \"100%\",\n                          borderRadius: \"0.5rem\",\n                          backgroundColor: \"#f9f9f9\",\n                        }}\n                      >\n                        <Typography\n                          variant=\"subtitle2\"\n                          sx={{\n                            fontWeight: \"bold\",\n                            mb: 1,\n                            textAlign: \"center\",\n                          }}\n                        >\n                          {dept.department.name}\n                        </Typography>\n                        <Box sx={{ height: 220, padding: 1 }}>\n                          <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <PieChart>\n                              <Pie\n                                data={deptData}\n                                dataKey=\"value\"\n                                nameKey=\"name\"\n                                cx=\"50%\"\n                                cy=\"50%\"\n                                outerRadius={60}\n                                paddingAngle={2}\n                                label={renderCustomizedLabel}\n                                minAngle={4}\n                              >\n                                {deptData.map((entry, index) => (\n                                  <Cell\n                                    key={`cell-dept-${index}`}\n                                    fill={COLORS[index % COLORS.length]}\n                                  />\n                                ))}\n                              </Pie>\n                              <Tooltip />\n                              <Legend\n                                verticalAlign=\"bottom\"\n                                height={36}\n                                wrapperStyle={{\n                                  paddingTop: 10,\n                                  fontSize: \"0.85rem\",\n                                }}\n                              />\n                            </PieChart>\n                          </ResponsiveContainer>\n                        </Box>\n                      </Paper>\n                    );\n                  })}\n                </Box>\n              </Box>\n            )}\n          </>\n        )\n      ) : iterationsData.length === 0 ? (\n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 2 }}>\n          No data available.\n        </Typography>\n      ) : (\n        // pie charts for all iterations\n        iterationsData.map((item, idx) => {\n          const barData = Object.entries(item.status_summary).map(\n            ([name, value]) => ({ name, value })\n          );\n\n          if (barData.length === 0) return null;\n\n          return (\n            <Paper\n              key={idx}\n              elevation={2}\n              sx={{\n                mb: 4,\n                p: 3,\n                borderRadius: \"0.5rem\",\n                backgroundColor: \"#fafafa\",\n              }}\n            >\n              <Typography\n                variant=\"h6\"\n                gutterBottom\n                sx={{ borderBottom: \"2px solid #1976d2\", pb: 1, mb: 3 }}\n              >\n                {item.iteration.name || \"Unassigned\"}\n              </Typography>\n              <Typography variant=\"subtitle2\" sx={{ mb: 3 }}>\n                Completion: {item.percentage_completed}%\n              </Typography>\n\n              {item.standard && (\n                <Typography variant=\"subtitle2\" sx={{ mb: 1 }}>\n                  Standard: {item.standard}\n                </Typography>\n              )}\n\n              {item.Type_of_Finding_Summary &&\n                item.Type_of_Finding_Summary.total_with_type_of_finding > 0 && (\n                  <Paper\n                    elevation={2}\n                    sx={{\n                      mb: 4,\n                      p: 3,\n                      borderRadius: \"0.5rem\",\n                      backgroundColor: \"#fafafa\",\n                    }}\n                  >\n                    <Typography\n                      variant=\"subtitle1\"\n                      sx={{\n                        mb: 2,\n                        textAlign: \"center\",\n                        fontWeight: \"bold\",\n                      }}\n                    >\n                      Type of Finding Summary\n                    </Typography>\n                    <Box sx={{ height: 300 }}>\n                      <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <PieChart>\n                          <Pie\n                            data={Object.entries(\n                              item.Type_of_Finding_Summary\n                                .type_of_finding_summary\n                            ).map(([name, value]) => ({ name, value }))}\n                            dataKey=\"value\"\n                            nameKey=\"name\"\n                            cx=\"50%\"\n                            cy=\"50%\"\n                            outerRadius=\"60%\"\n                            label={renderCustomizedLabel}\n                            minAngle={4}\n                          >\n                            {Object.entries(\n                              item.Type_of_Finding_Summary\n                                .type_of_finding_summary\n                            ).map((_, index) => (\n                              <Cell\n                                key={`cell-type-${index}`}\n                                fill={COLORS[index % COLORS.length]}\n                              />\n                            ))}\n                          </Pie>\n                          <Tooltip />\n                          <Legend\n                            verticalAlign=\"bottom\"\n                            height={36}\n                            wrapperStyle={{\n                              paddingTop: 10,\n                              fontSize: \"0.85rem\",\n                            }}\n                          />\n                        </PieChart>\n                      </ResponsiveContainer>\n                    </Box>\n                  </Paper>\n                )}\n\n              {/*  Status Summary */}\n              <Paper\n                elevation={2}\n                sx={{\n                  width: \"100%\",\n                  backgroundColor: \"#fafafa\",\n                  borderRadius: \"0.5rem\",\n                  p: 3,\n                  mb: 4,\n                }}\n              >\n                <Typography\n                  variant=\"subtitle1\"\n                  sx={{ mb: 2, textAlign: \"center\", fontWeight: \"bold\" }}\n                >\n                  Status Summary\n                </Typography>\n                <Box sx={{ height: { xs: 280, sm: 320, md: 360 } }}>\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <PieChart>\n                      <Pie\n                        data={barData}\n                        dataKey=\"value\"\n                        nameKey=\"name\"\n                        cx=\"50%\"\n                        cy=\"50%\"\n                        outerRadius=\"60%\"\n                        label={renderCustomizedLabel}\n                        minAngle={4}\n                      >\n                        {barData.map((entry, index) => (\n                          <Cell\n                            key={`cell-${index}`}\n                            fill={COLORS[index % COLORS.length]}\n                          />\n                        ))}\n                      </Pie>\n                      <Tooltip />\n                      <Legend\n                        verticalAlign=\"bottom\"\n                        height={36}\n                        wrapperStyle={{\n                          paddingTop: 10,\n                          fontSize: \"0.85rem\",\n                        }}\n                      />\n                    </PieChart>\n                  </ResponsiveContainer>\n                </Box>\n              </Paper>\n\n              {/* Department-wise Summary */}\n              {item.department_summary &&\n                item.department_summary.length > 0 && (\n                  <Box sx={{ mt: 4 }}>\n                    <Typography variant=\"subtitle1\" sx={{ mb: 2 }}>\n                      Department-wise Summary:\n                    </Typography>\n\n                    <Box\n                      sx={{\n                        display: \"flex\",\n                        flexWrap: \"wrap\",\n                        gap: 2,\n                        justifyContent: { xs: \"center\", md: \"flex-start\" },\n                      }}\n                    >\n                      {item.department_summary.map((dept, i) => {\n                        const deptData = Object.entries(\n                          dept.status_summary\n                        ).map(([name, value]) => ({ name, value }));\n\n                        return (\n                          <Paper\n                            key={i}\n                            sx={{\n                              p: 2,\n                              flex: \"1 1 280px\",\n                              minWidth: \"260px\",\n                              maxWidth: \"100%\",\n                              borderRadius: \"0.5rem\",\n                              backgroundColor: \"#f9f9f9\",\n                            }}\n                          >\n                            <Typography\n                              variant=\"subtitle2\"\n                              sx={{\n                                fontWeight: \"bold\",\n                                mb: 1,\n                                textAlign: \"center\",\n                              }}\n                            >\n                              {dept.department.name}\n                            </Typography>\n                            <Box sx={{ height: 220, padding: 1 }}>\n                              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                                <PieChart>\n                                  <Pie\n                                    data={deptData}\n                                    dataKey=\"value\"\n                                    nameKey=\"name\"\n                                    cx=\"50%\"\n                                    cy=\"50%\"\n                                    outerRadius={60}\n                                    paddingAngle={2}\n                                    label={renderCustomizedLabel}\n                                    minAngle={4}\n                                  >\n                                    {deptData.map((entry, index) => (\n                                      <Cell\n                                        key={`cell-dept-${index}`}\n                                        fill={COLORS[index % COLORS.length]}\n                                      />\n                                    ))}\n                                  </Pie>\n                                  <Tooltip />\n                                  <Legend\n                                    verticalAlign=\"bottom\"\n                                    height={36}\n                                    wrapperStyle={{\n                                      paddingTop: 10,\n                                      fontSize: \"0.85rem\",\n                                    }}\n                                  />\n                                </PieChart>\n                              </ResponsiveContainer>\n                            </Box>\n                          </Paper>\n                        );\n                      })}\n                    </Box>\n                  </Box>\n                )}\n            </Paper>\n          );\n        })\n      )}\n    </Paper>\n  );\n};\n\nexport default Analytics;\n","size_bytes":22214},"frontend-new/src/pages/standard/SelectStandard.jsx":{"content":"import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport {\n  Container,\n  Paper,\n  Typography,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Button,\n  Box,\n} from \"@mui/material\";\n\nconst VALID_STANDARDS = [\"ISO_9001\", \"ISO_27001\"];\nconst query = new URLSearchParams(location.search);\nconst iterationId = query.get(\"iterationId\");\n\nconst SelectStandard = () => {\n  const [selectedStandard, setSelectedStandard] = useState(\"\");\n  const navigate = useNavigate();\n  const location = useLocation();\n  const query = new URLSearchParams(location.search);\n  const iterationId = query.get(\"iterationId\");\n  const moduleId = query.get(\"moduleId\");\n\n  const handleSelectChange = (e) => {\n    setSelectedStandard(e.target.value);\n  };\n\n  const handleNext = () => {\n    if (!selectedStandard) {\n      toast.error(\"Please select a standard!\");\n      return;\n    }\n\n    toast.success(`Standard selected: ${selectedStandard}`);\n\n    // Optional delay for toast visibility\n    setTimeout(() => {\n      navigate(\n        `/upload-tasks/${moduleId}?iterationId=${iterationId}&standard=${selectedStandard}`\n      );\n    }, 800);\n  };\n\n  const handleBack = () => {\n    navigate(-1);\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        marginRight: 2,\n        marginTop: 4,\n        mb: 2,\n      }}\n    >\n      <Typography\n        variant=\"h5\"\n        sx={{ fontWeight: 600, mb: 3, textAlign: \"left\" }}\n      >\n        Select a Standard\n      </Typography>\n\n      <FormControl fullWidth sx={{ mb: 3 }}>\n        <InputLabel>Select a Standard</InputLabel>\n        <Select\n          value={selectedStandard}\n          onChange={handleSelectChange}\n          label=\"Select a Standard\"\n        >\n          {VALID_STANDARDS.map((standard) => (\n            <MenuItem key={standard} value={standard}>\n              {standard}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n\n      <Box display=\"flex\" justifyContent=\"flex-end\" gap={2}>\n        <Button\n          variant=\"contained\"\n          onClick={handleBack}\n          sx={{\n            px: 3,\n            py: 1.2,\n            fontSize: \"14px\",\n            borderRadius: 2,\n            minWidth: \"140px\",\n            boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n            fontWeight: \"bold\",\n          }\n        }\n        >\n          Back\n        </Button>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={handleNext}\n          sx={{\n            px: 3,\n            py: 1.2,\n            fontSize: \"14px\",\n            borderRadius: 2,\n            minWidth: \"140px\",\n            boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n            fontWeight: \"bold\",\n          }}\n        >\n          Next\n        </Button>\n      </Box>\n    </Paper>\n  );\n};\n\nexport default SelectStandard;\n","size_bytes":2989},"frontend-new/src/assets/theme/components/button/contained.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { white, text, info, secondary } = colors;\nconst { size } = typography;\n\nconst contained = {\n  base: {\n    backgroundColor: white.main,\n    minHeight: pxToRem(40),\n    color: text.main,\n    padding: `${pxToRem(10)} ${pxToRem(24)}`,\n\n    \"&:hover\": {\n      backgroundColor: white.main,\n    },\n\n    \"&:active, &:active:focus, &:active:hover\": {\n      opacity: 0.85,\n    },\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(16)} !important`,\n    },\n  },\n\n  small: {\n    minHeight: pxToRem(32),\n    padding: `${pxToRem(6)} ${pxToRem(16)}`,\n    fontSize: size.xs,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(12)} !important`,\n    },\n  },\n\n  large: {\n    minHeight: pxToRem(47),\n    padding: `${pxToRem(12)} ${pxToRem(28)}`,\n    fontSize: size.sm,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(22)} !important`,\n    },\n  },\n\n  primary: {\n    backgroundColor: info.main,\n\n    \"&:hover\": {\n      backgroundColor: info.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      backgroundColor: info.focus,\n    },\n  },\n\n  secondary: {\n    backgroundColor: secondary.main,\n\n    \"&:hover\": {\n      backgroundColor: secondary.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      backgroundColor: secondary.focus,\n    },\n  },\n};\n\nexport default contained;\n","size_bytes":2111},"qms-source/frontend-new/src/pages/role_management/RoleList.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Paper,\n  Button,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Typography,\n  CircularProgress,\n  Grid,\n} from \"@mui/material\";\nimport { Edit, Delete } from \"@mui/icons-material\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst API_URL = \"/roles/971a88b8-461e-4cd2-9a06-fce42ad6b806\"; // API URL for roles\n\nconst RoleList = () => {\n  const [roles, setRoles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [deleteRoleId, setDeleteRoleId] = useState(null); // Store role ID for deletion\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    let company_id = sessionStorage.getItem(\"selectedCompany\");\n\n    fetchRoles();\n  }, []);\n\n  // const fetchRoles = async () => {\n  //   try {\n  //     setLoading(true);\n  //     const response = await axiosInstance.get(API_URL,{params: company_id});\n  //     setRoles(response.data);\n  //     setError(\"\");\n  //   } catch (err) {\n  //     setError(\"Failed to load roles\");\n  //     toast.error(\"Error fetching roles.\");\n  //   } finally {\n  //     setLoading(false);\n  //   }\n  // };\n\n  const fetchRoles = async () => {\n    try {\n      setLoading(true);\n\n      // Retrieve company_id from sessionStorage inside the function\n      const company_id = sessionStorage.getItem(\"selectedCompany\");\n\n      const response = await axiosInstance.get(API_URL, {\n        params: company_id ? { company_id } : {}, // Only send if company_id exists\n      });\n\n      setRoles(response.data);\n      setError(\"\");\n    } catch (err) {\n      setError(\"Failed to load roles\");\n      toast.error(\"Error fetching roles.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle role deletion\n  const handleDeleteRole = async () => {\n    try {\n      await axiosInstance.delete(`${API_URL}/${deleteRoleId}`);\n      setRoles(roles.filter((role) => role.id !== deleteRoleId));\n      toast.success(\"Role deleted successfully!\");\n    } catch (err) {\n      if (err.response && err.response.data && err.response.data.error) {\n        toast.error(err.response.data.error);\n      } else {\n        toast.error(\"Failed to delete role.\");\n      }\n    } finally {\n      setDeleteRoleId(null);\n    }\n  };\n  \n\n  // return (\n  //   <div className=\"role-list-container\">\n  //     <ToastContainer /> {/* Required for showing toast messages */}\n\n  //     <Typography variant=\"h6\" gutterBottom>Roles</Typography>\n\n  //     <Button\n  //       variant=\"contained\"\n  //       color=\"primary\"\n  //       onClick={() => {\n  //         toast.info(\"Redirecting to Add Role Page...\");\n  //         navigate(\"/roles/create\");\n  //       }}\n  //       sx={{ mb: 2 }}\n  //     >\n  //       Add New Role\n  //     </Button>\n\n  //     {loading ? (\n  //       <CircularProgress />\n  //     ) : error ? (\n  //       <Typography color=\"error\">{error}</Typography>\n  //     ) : (\n  //       <TableContainer component={Paper} className=\"role-table\">\n  //         <Table>\n  //           <TableHead>\n  //             <TableRow>\n  //               <TableCell><strong>Role Name</strong></TableCell>\n  //               <TableCell><strong>Description</strong></TableCell>\n  //               <TableCell><strong>Actions</strong></TableCell>\n  //             </TableRow>\n  //           </TableHead>\n  //           <TableBody>\n  //             {roles.map((role) => (\n  //               <TableRow key={role.id}>\n  //                 <TableCell>{role.name}</TableCell>\n  //                 <TableCell>{role.description}</TableCell>\n  //                 <TableCell className=\"action-buttons\">\n  //                   <IconButton\n  //                     color=\"primary\"\n  //                     onClick={() => {\n  //                       toast.info(\"Redirecting to Edit Role...\");\n  //                       navigate(`/roles/edit/${role.id}`);\n  //                     }}\n  //                   >\n  //                     <Edit />\n  //                   </IconButton>\n  //                   {/* <IconButton\n  //                     color=\"error\"\n  //                     onClick={() => setDeleteRoleId(role.id)}\n  //                   >\n  //                     <Delete />\n  //                   </IconButton> */}\n  //                 </TableCell>\n  //               </TableRow>\n  //             ))}\n  //           </TableBody>\n  //         </Table>\n  //       </TableContainer>\n  //     )}\n\n  //     {/* Delete Confirmation Dialog */}\n  //     <Dialog open={!!deleteRoleId} onClose={() => setDeleteRoleId(null)}>\n  //       <DialogTitle>Confirm Delete</DialogTitle>\n  //       <DialogContent>\n  //         <Typography>Are you sure you want to delete this role?</Typography>\n  //       </DialogContent>\n  //       <DialogActions>\n  //         <Button onClick={() => setDeleteRoleId(null)} color=\"secondary\">\n  //           Cancel\n  //         </Button>\n  //         <Button onClick={handleDeleteRole} color=\"error\" variant=\"contained\">\n  //           Delete\n  //         </Button>\n  //       </DialogActions>\n  //     </Dialog>\n  //   </div>\n  // );\n  return (\n    <Container maxWidth=\"lg\" sx={{ px: { xs: 2, sm: 3, md: 4 } }}>\n      <Paper\n        elevation={4}\n        sx={{\n          borderRadius: \"0.5rem\",\n          mx: { xs: 1, sm: 2, md: 4 },\n          my: 2,\n          p: { xs: 1, sm: 2, md: 3 },\n        }}\n      >\n        <ToastContainer />\n\n        {/* Header */}\n        <Grid\n          container\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          sx={{ mb: 3, px: 2 }}\n        >\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"h4\" sx={{ fontWeight: \"bold\", mt: 1 }}>\n              Roles\n            </Typography>\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            sm={6}\n            sx={{\n              textAlign: { xs: \"left\", sm: \"right\" },\n              mt: { xs: 2, sm: 0 },\n            }}\n          >\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => {\n                toast.info(\"Redirecting to Add Role Page...\");\n                navigate(\"/roles/create\");\n              }}\n              sx={{\n                textTransform: \"none\",\n                fontWeight: \"medium\",\n                px: 3,\n                boxShadow: 2,\n              }}\n            >\n              Add New Role\n            </Button>\n          </Grid>\n        </Grid>\n\n        {/* Content */}\n        {loading ? (\n          <CircularProgress />\n        ) : error ? (\n          <Typography color=\"error\">{error}</Typography>\n        ) : (\n          <Paper elevation={2} sx={{ p: 2 }}>\n            {/* Table Header */}\n            <Grid\n              container\n              sx={{\n                py: 2,\n                px: 1,\n                fontWeight: \"bold\",\n                borderBottom: \"2px solid #ddd\",\n                display: { xs: \"none\", sm: \"flex\" },\n                backgroundColor: \"#f5f5f5\",\n                fontSize: \"1.1rem\",\n              }}\n            >\n              <Grid item sm={4}>\n                Role Name\n              </Grid>\n              <Grid item sm={6}>\n                Description\n              </Grid>\n              <Grid item sm={2}>\n                Actions\n              </Grid>\n            </Grid>\n\n            {/* Table Body */}\n            {roles.map((role, index) => (\n              <Grid\n                container\n                key={role.id}\n                spacing={2}\n                sx={{\n                  py: 1.5,\n                  px: 1,\n                  borderBottom:\n                    index !== roles.length - 1 ? \"1px solid #eee\" : \"none\",\n                  backgroundColor: \"#fff\",\n                  borderRadius: { xs: 2, sm: 0 },\n                  mb: { xs: 2, sm: 0 },\n                  flexDirection: { xs: \"column\", sm: \"row\" },\n                  transition: \"background-color 0.2s ease\",\n                  \"&:hover\": {\n                    backgroundColor: \"#f5f5f5\",\n                  },\n                }}\n              >\n                {/* Role Name */}\n                <Grid item xs={12} sm={4}>\n                  <Typography\n                    fontWeight=\"bold\"\n                    sx={{ display: { sm: \"none\" }, mb: 0.5 }}\n                  >\n                    Role Name:\n                  </Typography>\n                  <Typography sx={{ wordBreak: \"break-word\" }}>\n                    {role.name}\n                  </Typography>\n                </Grid>\n\n                {/* Description */}\n                <Grid item xs={12} sm={6}>\n                  <Typography\n                    fontWeight=\"bold\"\n                    sx={{ display: { sm: \"none\" }, mb: 0.5 }}\n                  >\n                    Description:\n                  </Typography>\n                  <Typography sx={{ wordBreak: \"break-word\" }}>\n                    {role.description}\n                  </Typography>\n                </Grid>\n\n                {/* Actions */}\n                <Grid\n                  item\n                  xs={12}\n                  sm={2}\n                  sx={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: { xs: \"flex-start\", sm: \"center\" },\n                    gap: 1,\n                    mt: { xs: 1, sm: 0 },\n                  }}\n                >\n                  <IconButton\n                    color=\"primary\"\n                    onClick={() => {\n                      toast.info(\"Redirecting to Edit Role...\");\n                      navigate(`/roles/edit/${role.id}`);\n                    }}\n                  >\n                    <Edit />\n                  </IconButton>\n\n                  <IconButton\n                    color=\"error\"\n                    onClick={() => setDeleteRoleId(role.id)}\n                  >\n                    <Delete />\n                  </IconButton>\n                </Grid>\n              </Grid>\n            ))}\n          </Paper>\n        )}\n\n        {/* Delete Confirmation Dialog */}\n        <Dialog open={!!deleteRoleId} onClose={() => setDeleteRoleId(null)}>\n          <DialogTitle>Confirm Delete</DialogTitle>\n          <DialogContent>\n            <Typography>Are you sure you want to delete this role?</Typography>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => setDeleteRoleId(null)} color=\"secondary\">\n              Cancel\n            </Button>\n            <Button\n              onClick={handleDeleteRole}\n              color=\"error\"\n              variant=\"contained\"\n            >\n              Delete\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default RoleList;\n","size_bytes":10957},"BackEnd/src/controllers/roleController.js":{"content":"import Role from '../models/Role.js';\nimport User from \"../models/User.js\";\nimport sequelize from \"../config/db.js\";\nimport Module from '../models/Module.js';\nimport RoleModulePermission from '../models/RoleModulesPermissions.js';\n\nexport const createRole = async (req, res) => {\n  const transaction = await sequelize.transaction();\n  try {\n    const { name, description, parent_role_id, company_id } = req.body;\n    const createdBy = req.user.id;\n\n    // Fetch user's role\n    const user = await User.findByPk(createdBy, {\n      include: [{ model: Role, attributes: [\"name\"], required: true }],\n    });\n\n    if (!user) {\n      return res.status(404).json({ error: \"User not found\" });\n    }\n\n    const userRole = user.Role ? user.Role.name : null;\n    let assignedCompanyId;\n\n    if (userRole === \"System Super Admin\") {\n      if (!company_id) {\n        return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n      }\n      assignedCompanyId = company_id;\n    } else {\n      assignedCompanyId = req.user.company;\n\n      if (!assignedCompanyId) {\n        return res.status(400).json({ error: \"Company ID is not assigned to your account.\" });\n      }\n    }\n\n    if (name.toLowerCase() === \"system super admin\") {\n      return res.status(403).json({ error: '\"System Super Admin\" role cannot be created manually.' });\n    }\n\n    // Create role\n    const role = await Role.create({\n      name,\n      description,\n      parent_role_id,\n      company_id: assignedCompanyId,\n    }, { transaction });\n\n    // Fetch all modules\n    const modules = await Module.findAll({ transaction });\n\n    if (!modules.length) {\n      throw new Error(\"No modules found. Please check the Modules table.\");\n    }\n\n    // Add default read/write permissions for each module\n    const permissionsToCreate = modules.map(module => ({\n      role_id: role.id,\n      module_id: module.id,\n      can_read: true,\n      can_write: true,\n      can_delete: false, // optional: change as needed\n    }));\n\n    await RoleModulePermission.bulkCreate(permissionsToCreate, { transaction });\n\n    await transaction.commit();\n\n    res.status(201).json({ message: \"Role created successfully with default permissions\", role });\n  } catch (error) {\n    await transaction.rollback();\n    res.status(500).json({ error: error.message });\n  }\n};\n\n  \n\nconst updateRoleDetails = async (req, res) => {\n    try {\n        const { name, description, parent_role_id } = req.body;\n        const role = await Role.findByPk(req.params.id);\n\n        if (!role) return res.status(404).json({ error: 'Role not found' });\n\n        // Validate parent role if provided\n        if (parent_role_id && parent_role_id !== role.id) {\n            const parentRole = await Role.findByPk(parent_role_id);\n            if (!parentRole) {\n                return res.status(400).json({ error: 'Invalid parent_role_id' });\n            }\n        }\n          \n        if (role.name.toLowerCase() === \"system super admin\") {\n          return res.status(403).json({ error: 'You are not allowed to modify \"System Super Admin\" role.' });\n        }\n        \n        if (name && name.toLowerCase() === \"system super admin\") {\n          return res.status(403).json({ error: 'Renaming any role to \"System Super Admin\" is not allowed.' });\n        }\n        \n        await role.update({ name, description, parent_role_id });\n        res.json({ message: 'Role updated successfully', role });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport const getRoleDetails = async (req, res) => {\n    try {\n      const user_id = req.user.id;\n      const role_id = req.params.id;\n  \n      // Fetch user role\n      const user = await User.findByPk(user_id, {\n        include: [{ model: Role, attributes: [\"name\"], required: true }],\n      });\n  \n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n  \n      const userRole = user.Role ? user.Role.name : null;\n      let company_id;\n  \n      if (userRole === \"System Super Admin\") {\n        company_id = req.query.company_id || req.body.company_id; // Accept from query or body\n        if (!company_id) {\n          return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n        }\n      } else {\n        company_id = req.user.company;\n        if (!company_id) {\n          return res.status(400).json({ error: \"Company ID is not assigned to your account.\" });\n        }\n      }\n  \n      if (role_id) {\n        // Fetch specific role details by ID\n        const role = await Role.findOne({ where: { id: role_id, company_id } });\n        if (!role) {\n          return res.status(404).json({ error: \"Role not found\" });\n        }\n        return res.json(role);\n      }\n  \n      // Fetch all roles if no specific ID is provided\n      const roles = await Role.findAll({ where: { company_id } });\n      res.json(roles);\n    } catch (error) {\n      res.status(500).json({ error: error.message });\n    }\n  };\n  \n\n  export const softDeleteRole = async (req, res) => {\n    try {\n        const role = await Role.findByPk(req.params.id);\n\n        if (!role) {\n            return res.status(404).json({ error: \"Role not found\" });\n        }\n\n        if (role.name.toLowerCase() === \"system super admin\") {\n            return res.status(403).json({ error: 'Cannot delete \"System Super Admin\" role.' });\n        }\n\n        // Check for active users assigned to this role\n        const assignedUsers = await User.findAll({\n            where: {\n                role_id: role.id,\n                is_active: true\n            },\n            attributes: ['name', 'email']\n        });\n\n        if (assignedUsers.length > 0) {\n            const userNames = assignedUsers.map(u => `${u.name} (${u.email})`).join(', ');\n            return res.status(400).json({\n                error: `Cannot delete role. It is assigned to the following active user(s): ${userNames}. Please assign a different role to these user(s) before deleting this role.`\n            });\n        }\n\n        await role.destroy(); // Soft delete (paranoid mode)\n\n        res.json({ message: \"Role deleted successfully\" });\n    } catch (error) {\n        console.error(\"Error in softDeleteRole:\", error);\n        res.status(500).json({ error: error.message });\n    }\n};\n\n  \n  \n\nexport default { createRole, updateRoleDetails, getRoleDetails,softDeleteRole  };\n\n\n\n\n\n// import Role from '../models/Role.js';\n\n// const createRole = async (req, res) => {\n//     try {\n//         const { name, description } = req.body;\n\n//         if (!name || !description) return res.status(400).json({ error: 'Name and description are required' });\n\n//         const newRole = await Role.create({ name, description });\n//         res.status(201).json({ message: 'Role created successfully', roleId: newRole.id });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// const updateRoleDetails = async (req, res) => {\n//     try {\n//         const { name, description } = req.body;\n//         const role = await Role.findByPk(req.params.id);\n\n//         if (!role) return res.status(404).json({ error: 'Role not found' });\n\n//         await role.update({ name, description });\n//         res.json({ message: 'Role updated successfully', role });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// const getRoleDetails = async (req, res) => {\n//     try {\n//         let role;\n//         if (req.params.id) {\n//             role = await Role.findByPk(req.params.id);\n//             if (!role) return res.status(404).json({ error: 'Role not found' });\n//         } else {\n//             role = await Role.findAll({ order: [['name', 'ASC']] }); // Sorting alphabetically by name\n//         }\n\n//         res.json(role);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// export default { createRole, updateRoleDetails, getRoleDetails };\n","size_bytes":8003},"qms-source/frontend-new/src/pages/role_management/AssignPermissionstoRole.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport {\n  Box,\n  Button,\n  Checkbox,\n  Container,\n  Grid,\n  Paper,\n  Typography,\n} from \"@mui/material\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst AssignPermissionstoRole = () => {\n  const { roleId } = useParams(); // Get the role ID from URL parameters\n  const [roleName, setRoleName] = useState(\"\");\n  const [modules, setModules] = useState([]);\n  const [permissions, setPermissions] = useState({});\n  const navigate = useNavigate();\n  let company_id = sessionStorage.getItem(\"selectedCompany\");\n  useEffect(() => {\n    // Fetch role name using roleId\n    axiosInstance\n      .get(`/roles/971a88b8-461e-4cd2-9a06-fce42ad6b806/${roleId}`, {\n        params: { company_id },\n      })\n      .then((response) => {\n        setRoleName(response.data.name);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching role details:\", error);\n        toast.error(\"Error fetching role details.\");\n      });\n\n    // Fetch modules from the backend\n    axiosInstance\n      .get(\"/modules/881fc061-b852-4a9b-a430-ea96ba99194d\")\n      .then((response) => {\n        setModules(response.data);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching modules:\", error);\n        toast.error(\"Error fetching modules.\");\n      });\n\n    // Fetch existing permissions for the role\n    axiosInstance\n      .get(`/permissions/${roleId}`)\n      .then((response) => {\n        const existingPermissions = {};\n        response.data.forEach((perm) => {\n          existingPermissions[perm.module_id] = {\n            can_read: perm.can_read,\n            can_write: perm.can_write,\n            can_delete: perm.can_delete,\n            all: perm.can_read && perm.can_write && perm.can_delete,\n          };\n        });\n        setPermissions(existingPermissions);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching assigned permissions:\", error);\n        toast.error(\"Error fetching assigned permissions.\");\n      });\n  }, [roleId]);\n\n  const handleCheckboxChange = (moduleId, permissionType) => {\n    setPermissions((prev) => {\n      const newPermissions = { ...prev };\n\n      if (permissionType === \"all\") {\n        // Toggle all permissions for a module\n        const allChecked = !prev[moduleId]?.all;\n        newPermissions[moduleId] = {\n          all: allChecked,\n          can_read: allChecked,\n          can_write: allChecked,\n          can_delete: allChecked,\n        };\n      } else {\n        // Toggle individual permission type\n        newPermissions[moduleId] = {\n          ...prev[moduleId],\n          [permissionType]: !prev[moduleId]?.[permissionType] || false,\n        };\n\n        const { can_read, can_write, can_delete } = newPermissions[moduleId];\n        newPermissions[moduleId].all = can_read && can_write && can_delete;\n      }\n\n      return newPermissions;\n    });\n  };\n\n  const handleAssignPermissions = () => {\n    const apiUrl = `/permissions/2f06d3b2-9121-4a2b-a5fe-7f1e4aae7270`;\n    const formattedPermissions = Object.entries(permissions).map(\n      ([moduleId, perms]) => ({\n        module_id: moduleId,\n        can_read: perms.can_read || false,\n        can_write: perms.can_write || false,\n        can_delete: perms.can_delete || false,\n      })\n    );\n\n    const requestBody = {\n      roleId: roleId,\n      modules: formattedPermissions,\n    };\n\n    axiosInstance\n      .post(apiUrl, requestBody)\n      .then(() => {\n        toast.success(\"Permissions assigned successfully!\");\n        navigate(-1); // Redirect to the previous page\n      })\n      .catch((error) => {\n        console.error(\"Error assigning permissions:\", error);\n        toast.error(\"Error assigning permissions.\");\n      });\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4 }}>\n      <Paper\n        elevation={3}\n        sx={{ p: { xs: 2, sm: 3 }, mx: 4, borderRadius: 2, boxShadow: 3 }}\n      >\n        <Typography variant=\"h4\" sx={{ fontWeight: 600, mb: 4 }}>\n          Assign Permissions to Role:{\" \"}\n          <Box component=\"span\" sx={{ color: \"primary.main\" }}>\n            {roleName}\n          </Box>\n        </Typography>\n\n        {/* Header Row */}\n        <Grid\n          container\n          spacing={1}\n          sx={{\n            backgroundColor: \"#f0f0f0\",\n            py: 1,\n            px: 1,\n            borderRadius: 1,\n            mb: 1,\n          }}\n        >\n          <Grid item xs={4}>\n            <Typography fontWeight=\"bold\">Module Name</Typography>\n          </Grid>\n          <Grid item xs={2}>\n            <Typography fontWeight=\"bold\">All</Typography>\n          </Grid>\n          <Grid item xs={2}>\n            <Typography fontWeight=\"bold\">Write</Typography>\n          </Grid>\n          <Grid item xs={2}>\n            <Typography fontWeight=\"bold\">Read</Typography>\n          </Grid>\n          <Grid item xs={2}>\n            <Typography fontWeight=\"bold\">Delete</Typography>\n          </Grid>\n        </Grid>\n\n        {/* Module Rows */}\n        {modules.map((module) => (\n          <Grid\n            container\n            key={module.id}\n            spacing={1}\n            alignItems=\"center\"\n            sx={{\n              px: 1,\n              py: 1,\n              borderRadius: 1,\n              mb: 0.5,\n              \"&:hover\": {\n                backgroundColor: \"#f9f9f9\",\n              },\n            }}\n          >\n            <Grid item xs={12} sm={6} md={4}>\n              <Typography>{module.name}</Typography>\n            </Grid>\n            <Grid item xs={2}>\n              <Checkbox\n                checked={permissions[module.id]?.all || false}\n                onChange={() => handleCheckboxChange(module.id, \"all\")}\n                sx={{\n                  width: 22,\n                  height: 22,\n                  p: 0.5,\n                  \"& .MuiSvgIcon-root\": {\n                    border: \"1px solid rgba(0, 0, 0, 0.4)\",\n                    borderRadius: \"4px\",\n                  },\n                }}\n              />\n            </Grid>\n            <Grid item xs={2}>\n              <Checkbox\n                checked={permissions[module.id]?.can_write || false}\n                onChange={() => handleCheckboxChange(module.id, \"can_write\")}\n                sx={{\n                  width: 22,\n                  height: 22,\n                  p: 0.5,\n                  \"& .MuiSvgIcon-root\": {\n                    border: \"1px solid rgba(0, 0, 0, 0.4)\",\n                    borderRadius: \"4px\",\n                  },\n                }}\n              />\n            </Grid>\n            <Grid item xs={2}>\n              <Checkbox\n                checked={permissions[module.id]?.can_read || false}\n                onChange={() => handleCheckboxChange(module.id, \"can_read\")}\n                sx={{\n                  width: 22,\n                  height: 22,\n                  p: 0.5,\n                  \"& .MuiSvgIcon-root\": {\n                    border: \"1px solid rgba(0, 0, 0, 0.4)\",\n                    borderRadius: \"4px\",\n                  },\n                }}\n              />\n            </Grid>\n            <Grid item xs={2}>\n              <Checkbox\n                checked={permissions[module.id]?.can_delete || false}\n                onChange={() => handleCheckboxChange(module.id, \"can_delete\")}\n                sx={{\n                  width: 22,\n                  height: 22,\n                  p: 0.5,\n                  \"& .MuiSvgIcon-root\": {\n                    border: \"1px solid rgba(0, 0, 0, 0.4)\",\n                    borderRadius: \"4px\",\n                  },\n                }}\n              />\n            </Grid>\n          </Grid>\n        ))}\n\n        {/* Action Buttons */}\n        <Box\n          mt={4}\n          display=\"flex\"\n          justifyContent=\"flex-end\"\n          gap={2}\n          flexWrap=\"wrap\"\n        >\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleAssignPermissions}\n            sx={{\n              px: 3,\n              py: 1.2,\n              fontSize: \"14px\",\n              borderRadius: 2,\n              minWidth: \"130px\",\n              boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n            }}\n          >\n            Assign Permissions\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={() => navigate(-1)}\n            sx={{\n              px: 3,\n              py: 1.2,\n              fontSize: \"14px\",\n              borderRadius: 2,\n              minWidth: \"130px\",\n            }}\n          >\n            Cancel\n          </Button>\n        </Box>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default AssignPermissionstoRole;\n","size_bytes":8799},"qms-source/frontend-new/src/assets/theme/components/appBar.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst appBar = {\n  defaultProps: {\n    color: \"transparent\",\n  },\n\n  styleOverrides: {\n    root: {\n      boxShadow: \"none\",\n    },\n  },\n};\n\nexport default appBar;\n","size_bytes":686},"qms-source/frontend-new/src/assets/theme/components/dialog/dialogTitle.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { size } = typography;\n\nconst dialogTitle = {\n  styleOverrides: {\n    root: {\n      padding: pxToRem(16),\n      fontSize: size.xl,\n    },\n  },\n};\n\nexport default dialogTitle;\n","size_bytes":904},"frontend-new/src/assets/theme/components/form/input.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\nimport borders from \"assets/theme/base/borders\";\n\nconst { info, inputBorderColor, dark } = colors;\nconst { size } = typography;\nconst { borderWidth } = borders;\n\nconst input = {\n  styleOverrides: {\n    root: {\n      fontSize: size.sm,\n      color: dark.main,\n\n      \"&:hover:not(.Mui-disabled):before\": {\n        borderBottom: `${borderWidth[1]} solid ${inputBorderColor}`,\n      },\n\n      \"&:before\": {\n        borderColor: inputBorderColor,\n      },\n\n      \"&:after\": {\n        borderColor: info.main,\n      },\n    },\n  },\n};\n\nexport default input;\n","size_bytes":1218},"frontend-new/src/pages/role_management/AssignPermissions.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  Box,\n  Button,\n  Container,\n  Grid,\n  Paper,\n  Typography,\n} from \"@mui/material\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst AssignPermissions = () => {\n  const [roles, setRoles] = useState([]);\n  const navigate = useNavigate();\n\n  let company_id = sessionStorage.getItem(\"selectedCompany\");\n\n  const Module_id = \"971a88b8-461e-4cd2-9a06-fce42ad6b806\";\n\n  useEffect(() => {\n    axiosInstance\n      .get(`/roles/${Module_id}`, {\n        params: company_id ? { company_id } : {}, // Pass company_id only if it exists\n      })\n      .then((response) => {\n        setRoles(response.data);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching roles:\", error);\n      });\n  }, []);\n\n  const handleNext = (roleId) => {\n    navigate(`/assignpermissionstorole/${roleId}`);\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4 }}>\n      <Paper\n        elevation={3}\n        sx={{\n          p: { xs: 2, sm: 3 },\n          mx: 4,\n          borderRadius: 2,\n          boxShadow: 3,\n        }}\n      >\n        {/* Page Title */}\n        <Typography variant=\"h4\" sx={{ fontWeight: 600, mb: 3 }}>\n          Assign Role Permissions\n        </Typography>\n\n        {/* Header Row */}\n        <Grid\n          container\n          sx={{\n            mb: 1,\n            px: 1,\n            py: 1,\n            backgroundColor: \"#f0f0f0\", // light gray\n            borderRadius: 1,\n          }}\n          spacing={2}\n        >\n          <Grid item xs={12} sm={4}>\n            <Typography\n              sx={{\n                fontWeight: \"bold\",\n                display: { xs: \"none\", sm: \"block\" }, \n              }}\n            >\n              Role Name\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={5}>\n            <Typography\n              sx={{\n                fontWeight: \"bold\",\n                display: { xs: \"none\", sm: \"block\" }, \n              }}\n            >\n              Description\n            </Typography>\n          </Grid>\n          <Grid item xs={12} sm={3}>\n            <Typography\n              sx={{\n                fontWeight: \"bold\",\n                display: { xs: \"none\", sm: \"block\" }, \n              }}\n            >\n              Action\n            </Typography>\n          </Grid>\n        </Grid>\n\n        {/* Roles List */}\n        {roles.map((role) => (\n          <Grid\n            container\n            key={role.id}\n            alignItems=\"center\"\n            spacing={2}\n            sx={{\n              px: 1,\n              py: 2,\n              mb: 1,\n              borderRadius: 1,\n              backgroundColor: \"#fff\",\n              boxShadow: 1,\n              transition: \"background-color 0.2s ease\",\n              \"&:hover\": {\n                backgroundColor: \"#f9f9f9\",\n              },\n            }}\n          >\n            <Grid item xs={12} sm={4}>\n              <Typography\n                sx={{\n                  fontWeight: 500,\n                  display: { xs: \"block\", sm: \"none\" },\n                  color: \"text.secondary\",\n                }}\n              >\n                Role Name\n              </Typography>\n              <Typography>{role.name}</Typography>\n            </Grid>\n\n            <Grid item xs={12} sm={5}>\n              <Typography\n                sx={{\n                  fontWeight: 500,\n                  display: { xs: \"block\", sm: \"none\" },\n                  color: \"text.secondary\",\n                }}\n              >\n                Description\n              </Typography>\n              <Typography>{role.description}</Typography>\n            </Grid>\n\n            <Grid item xs={12} sm={3}>\n              <Typography\n                sx={{\n                  fontWeight: 500,\n                  display: { xs: \"block\", sm: \"none\" },\n                  color: \"text.secondary\",\n                  mb: 0.5,\n                }}\n              >\n                Action\n              </Typography>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                fullWidth={true}\n                onClick={() => handleNext(role.id)}\n                sx={{\n                  px: 2,\n                  py: 0.8,\n                  fontSize: 14,\n                  textTransform: \"none\",\n                  borderRadius: 2,\n                }}\n              >\n                Assign Permissions\n              </Button>\n            </Grid>\n          </Grid>\n        ))}\n      </Paper>\n    </Container>\n  );\n};\n\nexport default AssignPermissions;\n","size_bytes":4598},"frontend-new/src/assets/theme/components/table/tableHead.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { borderRadius } = borders;\n\nconst tableHead = {\n  styleOverrides: {\n    root: {\n      display: \"block\",\n      padding: `${pxToRem(16)} ${pxToRem(16)} 0  ${pxToRem(16)}`,\n      borderRadius: `${borderRadius.xl} ${borderRadius.xl} 0 0`,\n    },\n  },\n};\n\nexport default tableHead;\n","size_bytes":1001},"frontend-new/src/assets/theme-dark/components/form/inputOutlined.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport typography from \"assets/theme-dark/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { inputBorderColor, info, grey, transparent, white } = colors;\nconst { borderRadius } = borders;\nconst { size } = typography;\n\nconst inputOutlined = {\n  styleOverrides: {\n    root: {\n      backgroundColor: transparent.main,\n      fontSize: size.sm,\n      borderRadius: borderRadius.md,\n\n      \"&:hover .MuiOutlinedInput-notchedOutline\": {\n        borderColor: rgba(inputBorderColor, 0.6),\n      },\n\n      \"&.Mui-focused\": {\n        \"& .MuiOutlinedInput-notchedOutline\": {\n          borderColor: info.main,\n        },\n      },\n    },\n\n    notchedOutline: {\n      borderColor: rgba(inputBorderColor, 0.6),\n    },\n\n    input: {\n      color: white.main,\n      padding: pxToRem(12),\n      backgroundColor: transparent.main,\n\n      \"&::-webkit-input-placeholder\": {\n        color: grey[100],\n      },\n    },\n\n    inputSizeSmall: {\n      fontSize: size.xs,\n      padding: pxToRem(10),\n    },\n\n    multiline: {\n      color: grey[700],\n      padding: 0,\n    },\n  },\n};\n\nexport default inputOutlined;\n","size_bytes":1889},"qms-source/frontend-new/src/assets/theme-dark/base/colors.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base colors for the Material Dashboard 2 React.\n * You can add new color using this file.\n * You can customized the colors for the entire Material Dashboard 2 React using thie file.\n */\n\nconst colors = {\n  background: {\n    default: \"#1a2035\",\n    sidenav: \"#1f283e\",\n    card: \"#202940\",\n  },\n\n  text: {\n    main: \"#ffffffcc\",\n    focus: \"#ffffffcc\",\n  },\n\n  transparent: {\n    main: \"rgba(0, 0, 0, 0)\",\n  },\n\n  white: {\n    main: \"#ffffff\",\n    focus: \"#ffffff\",\n  },\n\n  black: {\n    light: \"#000000\",\n    main: \"#000000\",\n    focus: \"#000000\",\n  },\n\n  primary: {\n    main: \"#e91e63\",\n    focus: \"#e91e63\",\n  },\n\n  secondary: {\n    main: \"#7b809a\",\n    focus: \"#8f93a9\",\n  },\n\n  info: {\n    main: \"#1A73E8\",\n    focus: \"#1662C4\",\n  },\n\n  success: {\n    main: \"#4CAF50\",\n    focus: \"#67bb6a\",\n  },\n\n  warning: {\n    main: \"#fb8c00\",\n    focus: \"#fc9d26\",\n  },\n\n  error: {\n    main: \"#F44335\",\n    focus: \"#f65f53\",\n  },\n\n  light: {\n    main: \"#f0f2f566\",\n    focus: \"#f0f2f566\",\n  },\n\n  dark: {\n    main: \"#344767\",\n    focus: \"#2c3c58\",\n  },\n\n  grey: {\n    100: \"#f8f9fa\",\n    200: \"#f0f2f5\",\n    300: \"#dee2e6\",\n    400: \"#ced4da\",\n    500: \"#adb5bd\",\n    600: \"#6c757d\",\n    700: \"#495057\",\n    800: \"#343a40\",\n    900: \"#212529\",\n  },\n\n  gradients: {\n    primary: {\n      main: \"#EC407A\",\n      state: \"#D81B60\",\n    },\n\n    secondary: {\n      main: \"#747b8a\",\n      state: \"#495361\",\n    },\n\n    info: {\n      main: \"#49a3f1\",\n      state: \"#1A73E8\",\n    },\n\n    success: {\n      main: \"#66BB6A\",\n      state: \"#43A047\",\n    },\n\n    warning: {\n      main: \"#FFA726\",\n      state: \"#FB8C00\",\n    },\n\n    error: {\n      main: \"#EF5350\",\n      state: \"#E53935\",\n    },\n\n    light: {\n      main: \"#EBEFF4\",\n      state: \"#CED4DA\",\n    },\n\n    dark: {\n      main: \"#323a54\",\n      state: \"#1a2035\",\n    },\n  },\n\n  socialMediaColors: {\n    facebook: {\n      main: \"#3b5998\",\n      dark: \"#344e86\",\n    },\n\n    twitter: {\n      main: \"#55acee\",\n      dark: \"#3ea1ec\",\n    },\n\n    instagram: {\n      main: \"#125688\",\n      dark: \"#0e456d\",\n    },\n\n    linkedin: {\n      main: \"#0077b5\",\n      dark: \"#00669c\",\n    },\n\n    pinterest: {\n      main: \"#cc2127\",\n      dark: \"#b21d22\",\n    },\n\n    youtube: {\n      main: \"#e52d27\",\n      dark: \"#d41f1a\",\n    },\n\n    vimeo: {\n      main: \"#1ab7ea\",\n      dark: \"#13a3d2\",\n    },\n\n    slack: {\n      main: \"#3aaf85\",\n      dark: \"#329874\",\n    },\n\n    dribbble: {\n      main: \"#ea4c89\",\n      dark: \"#e73177\",\n    },\n\n    github: {\n      main: \"#24292e\",\n      dark: \"#171a1d\",\n    },\n\n    reddit: {\n      main: \"#ff4500\",\n      dark: \"#e03d00\",\n    },\n\n    tumblr: {\n      main: \"#35465c\",\n      dark: \"#2a3749\",\n    },\n  },\n\n  badgeColors: {\n    primary: {\n      background: \"#f8b3ca\",\n      text: \"#cc084b\",\n    },\n\n    secondary: {\n      background: \"#d7d9e1\",\n      text: \"#6c757d\",\n    },\n\n    info: {\n      background: \"#aecef7\",\n      text: \"#095bc6\",\n    },\n\n    success: {\n      background: \"#bce2be\",\n      text: \"#339537\",\n    },\n\n    warning: {\n      background: \"#ffd59f\",\n      text: \"#c87000\",\n    },\n\n    error: {\n      background: \"#fcd3d0\",\n      text: \"#f61200\",\n    },\n\n    light: {\n      background: \"#ffffff\",\n      text: \"#c7d3de\",\n    },\n\n    dark: {\n      background: \"#8097bf\",\n      text: \"#1e2e4a\",\n    },\n  },\n\n  coloredShadows: {\n    primary: \"#e91e62\",\n    secondary: \"#110e0e\",\n    info: \"#00bbd4\",\n    success: \"#4caf4f\",\n    warning: \"#ff9900\",\n    error: \"#f44336\",\n    light: \"#adb5bd\",\n    dark: \"#404040\",\n  },\n\n  inputBorderColor: \"#d2d6da\",\n\n  tabs: {\n    indicator: { boxShadow: \"#ddd\" },\n  },\n};\n\nexport default colors;\n","size_bytes":4139},"frontend-new/src/assets/theme/components/icon.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst icon = {\n  defaultProps: {\n    baseClassName: \"material-icons-round\",\n    fontSize: \"inherit\",\n  },\n\n  styleOverrides: {\n    fontSizeInherit: {\n      fontSize: \"inherit !important\",\n    },\n\n    fontSizeSmall: {\n      fontSize: `${pxToRem(20)} !important`,\n    },\n\n    fontSizeLarge: {\n      fontSize: `${pxToRem(36)} !important`,\n    },\n  },\n};\n\nexport default icon;\n","size_bytes":998},"frontend-new/src/assets/theme-dark/components/menu/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\nimport typography from \"assets/theme-dark/base/typography\";\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { md } = boxShadows;\nconst { size } = typography;\nconst { text, background } = colors;\nconst { borderRadius } = borders;\n\nconst menu = {\n  defaultProps: {\n    disableAutoFocusItem: true,\n  },\n\n  styleOverrides: {\n    paper: {\n      minWidth: pxToRem(160),\n      boxShadow: md,\n      padding: `${pxToRem(16)} ${pxToRem(8)}`,\n      fontSize: size.sm,\n      color: text.main,\n      textAlign: \"left\",\n      backgroundColor: `${background.card} !important`,\n      borderRadius: borderRadius.md,\n    },\n  },\n};\n\nexport default menu;\n","size_bytes":1433},"frontend-new/src/assets/theme/components/tooltip.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// @mui material components\nimport Fade from \"@mui/material/Fade\";\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\nimport borders from \"assets/theme/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { black, light } = colors;\nconst { size, fontWeightRegular } = typography;\nconst { borderRadius } = borders;\n\nconst tooltip = {\n  defaultProps: {\n    arrow: true,\n    TransitionComponent: Fade,\n  },\n\n  styleOverrides: {\n    tooltip: {\n      maxWidth: pxToRem(200),\n      backgroundColor: black.main,\n      color: light.main,\n      fontSize: size.sm,\n      fontWeight: fontWeightRegular,\n      textAlign: \"center\",\n      borderRadius: borderRadius.md,\n      opacity: 0.7,\n      padding: `${pxToRem(5)} ${pxToRem(8)} ${pxToRem(4)}`,\n    },\n\n    arrow: {\n      color: black.main,\n    },\n  },\n};\n\nexport default tooltip;\n","size_bytes":1510},"frontend-new/src/assets/theme-dark/components/stepper/stepIcon.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport boxShadow from \"assets/theme-dark/functions/boxShadow\";\n\nconst { white } = colors;\n\nconst stepIcon = {\n  styleOverrides: {\n    root: {\n      background: \"#9fc9ff\",\n      fill: \"#9fc9ff\",\n      stroke: \"#9fc9ff\",\n      strokeWidth: pxToRem(10),\n      width: pxToRem(13),\n      height: pxToRem(13),\n      borderRadius: \"50%\",\n      zIndex: 99,\n      transition: \"all 200ms linear\",\n\n      \"&.Mui-active\": {\n        background: white.main,\n        fill: white.main,\n        stroke: white.main,\n        borderColor: white.main,\n        boxShadow: boxShadow([0, 0], [0, 2], white.main, 1),\n      },\n\n      \"&.Mui-completed\": {\n        background: white.main,\n        fill: white.main,\n        stroke: white.main,\n        borderColor: white.main,\n        boxShadow: boxShadow([0, 0], [0, 2], white.main, 1),\n      },\n    },\n  },\n};\n\nexport default stepIcon;\n","size_bytes":1583},"qms-source/frontend-new/src/assets/theme/components/list/listItem.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst listItem = {\n  defaultProps: {\n    disableGutters: true,\n  },\n\n  styleOverrides: {\n    root: {\n      paddingTop: 0,\n      paddingBottom: 0,\n    },\n  },\n};\n\nexport default listItem;\n","size_bytes":710},"qms-source/frontend-new/src/assets/theme-dark/components/breadcrumbs.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\n\nconst { grey } = colors;\nconst { size } = typography;\n\nconst breadcrumbs = {\n  styleOverrides: {\n    li: {\n      lineHeight: 0,\n    },\n\n    separator: {\n      fontSize: size.sm,\n      color: grey[600],\n    },\n  },\n};\n\nexport default breadcrumbs;\n","size_bytes":924},"BackEnd/src/models/Module.js":{"content":"import { DataTypes } from 'sequelize';\nimport sequelize from '../config/db.js';\n\nconst Module = sequelize.define('Module', {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    name: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    description: {\n        type: DataTypes.TEXT,\n        allowNull: true\n    }\n}, {\n    timestamps: true,\n    freezeTableName: true    // Prevent pluralization of table name\n});\n\nexport default Module;\n","size_bytes":515},"frontend-new/src/assets/theme-dark/components/card/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\n\n// Material Dashboard 2 React Helper Function\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { black, background } = colors;\nconst { borderWidth, borderRadius } = borders;\nconst { md } = boxShadows;\n\nconst card = {\n  styleOverrides: {\n    root: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      position: \"relative\",\n      minWidth: 0,\n      wordWrap: \"break-word\",\n      backgroundImage: \"none\",\n      backgroundColor: background.card,\n      backgroundClip: \"border-box\",\n      border: `${borderWidth[0]} solid ${rgba(black.main, 0.125)}`,\n      borderRadius: borderRadius.xl,\n      boxShadow: md,\n      overflow: \"visible\",\n    },\n  },\n};\n\nexport default card;\n","size_bytes":1420},"frontend-new/src/theme.js":{"content":"import { createTheme } from \"@mui/material/styles\";\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#ff416c\", // Pinkish-red color\n    },\n    secondary: {\n      main: \"#6610f2\", // Purple color\n    },\n    background: {\n      default: \"linear-gradient(to bottom,rgb(168, 107, 130),rgb(122, 100, 156))\",\n    },\n  },\n  typography: {\n    fontFamily: \"Poppins, sans-serif\",\n  },\n  components: {\n   \n    MuiTextField: {\n      styleOverrides: {\n        root: {\n          \"& .MuiOutlinedInput-root\": {\n            borderRadius: \"8px\",\n            background: \"#fff\",\n            \"& fieldset\": { borderColor: \"#ddd\" },\n            \"&:hover fieldset\": { borderColor: \"#888\" },\n          },\n        },\n      },\n    },\n  },\n});\n\nexport default theme;\n","size_bytes":761},"BackEnd/src/routes/taskRoutes.js":{"content":"import express from \"express\";\nimport { createTask, getAllTasks, getTaskById, updateTask, deleteTask ,getChildTasks,uploadTasksFromExcel,upload,insertApprovedTasks,getTaskSummary} from \"../controllers/taskController.js\";\nimport authenticateUser from '../middlewares/authMiddlewares.js'\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\nconst router = express.Router();\n\nrouter.post(\"/:moduleId\",authenticateUser,checkPermission(\"write\"), createTask);\nrouter.post(\"/upload-tasks/:moduleId\", authenticateUser,checkPermission(\"write\") ,upload.single(\"file\"), uploadTasksFromExcel);\nrouter.post(\"/insert-approved-tasks/:moduleId\",authenticateUser,checkPermission(\"write\"), insertApprovedTasks);\nrouter.post(\"/task-summary/:moduleId\",authenticateUser,checkPermission(\"write\"), getTaskSummary);\nrouter.get(\"/:moduleId\",authenticateUser,checkPermission(\"read\"), getAllTasks);\nrouter.get(\"/:moduleId/:id\",authenticateUser,checkPermission(\"read\"), getTaskById);\nrouter.get(\"/:moduleId/childTask/:task_id\",authenticateUser,checkPermission(\"read\"),getChildTasks);\nrouter.put(\"/:moduleId/:id\",authenticateUser,checkPermission(\"write\"), updateTask);\nrouter.delete(\"/:moduleId/:id\",authenticateUser, checkPermission(\"delete\"),deleteTask);\n\nexport default router;\n","size_bytes":1271},"frontend-new/src/styles/CompanyForms.css":{"content":"/* Global Form Styling */\n.company-form-container {\n    max-width: 500px;\n    margin: 50px auto;\n    padding: 30px;\n    background: white;\n    border-radius: 10px;\n    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n    text-align: center;\n}\n\n.company-form-container h5 {\n    font-size: 22px;\n    margin-bottom: 20px;\n    color: #333;\n}\n\n.company-input {\n    width: 100%;\n    margin-bottom: 20px !important;\n}\n\n.company-button {\n    width: 100%;\n    padding: 10px;\n    background-color: #007bff !important;\n    color: white !important;\n    border: none;\n    border-radius: 5px;\n    font-size: 16px;\n    cursor: pointer;\n    margin-top: 10px;\n}\n\n.company-button:hover {\n    background-color: #0056b3 !important;\n}\n","size_bytes":710},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"frontend-new/src/assets/theme/functions/pxToRem.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The pxToRem() function helps you to convert a px unit into a rem unit, \n */\n\nfunction pxToRem(number, baseNumber = 16) {\n  return `${number / baseNumber}rem`;\n}\n\nexport default pxToRem;\n","size_bytes":715},"frontend-new/src/assets/theme/functions/hexToRgb.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The hexToRgb() function helps you to change the hex color code to rgb\n  using chroma-js library.\n */\n\n// chroma-js is a library for all kinds of color conversions and color scales.\nimport chroma from \"chroma-js\";\n\nfunction hexToRgb(color) {\n  return chroma(color).rgb().join(\", \");\n}\n\nexport default hexToRgb;\n","size_bytes":839},"qms-source/frontend-new/src/pages/Iteration/CreateIteration.jsx":{"content":"import React, { useState } from \"react\";\nimport {\n  TextField,\n  Button,\n  Typography,\n  Grid,\n  Box,\n  Paper,\n} from \"@mui/material\";\nimport { useParams, useNavigate, useLocation } from \"react-router-dom\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast } from \"react-toastify\";\n\nconst CreateIteration = () => {\n  const { taskModuleId } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const [form, setForm] = useState({\n    name: \"\",\n    description: \"\",\n    startDate: \"\",\n    endDate: \"\",\n  });\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async () => {\n    // Basic validation to check if name, startDate, and endDate are provided\n    if (!form.name || !form.startDate || !form.endDate) {\n      toast.error(\"Name, Start Date, and End Date are required.\");\n      return;\n    }\n\n    const payload = {\n      name: form.name,\n      description: form.description,\n      start_date: form.startDate,\n      end_date: form.endDate,\n      company_id: form.company_id,\n    };\n\n    const fromSelectPage = location.state?.fromSelectPage;\n\n    try {\n      // Submit the form data to the backend\n      await axiosInstance.post(`/iteration/${taskModuleId}`, payload);\n\n      toast.success(\"Iteration created successfully!\");\n      //navigate(-1,{ state: { refresh: true } });\n      if (fromSelectPage) {\n        navigate(\"/select-iteration?refresh=1\");\n      } else {\n        navigate(`/iteration/${taskModuleId}?refresh=1`);\n      }\n    } catch (err) {\n      // Handle errors more gracefully with better feedback\n      if (err.response) {\n        // The server responded with an error status\n        toast.error(`Error: ${err.response.data.error || \"Unknown error\"}`);\n        console.error(\"Error creating iteration:\", err.response.data);\n      } else {\n        toast.error(\"Network error, please try again.\");\n        console.error(\"Error creating iteration:\", err);\n      }\n    }\n  };\n\n  // Load company_id from sessionStorage for System Super Admin\n  React.useEffect(() => {\n    const storedCompanyId = sessionStorage.getItem(\"selectedCompany\");\n    if (storedCompanyId) {\n      setForm((prevForm) => ({ ...prevForm, company_id: storedCompanyId }));\n    }\n  }, []);\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        marginRight: 2,\n        marginTop: 4,\n        mb: 2,\n      }}\n    >\n        <Typography variant=\"h5\" gutterBottom>\n          Create Iteration\n        </Typography>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <TextField\n              fullWidth\n              label=\"Name\"\n              name=\"name\"\n              value={form.name}\n              onChange={handleChange}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              fullWidth\n              label=\"Description\"\n              name=\"description\"\n              value={form.description}\n              onChange={handleChange}\n              multiline\n              rows={3}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              fullWidth\n              type=\"date\"\n              label=\"Start Date\"\n              name=\"startDate\"\n              InputLabelProps={{ shrink: true }}\n              value={form.startDate}\n              onChange={handleChange}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              fullWidth\n              type=\"date\"\n              label=\"End Date\"\n              name=\"endDate\"\n              InputLabelProps={{ shrink: true }}\n              value={form.endDate}\n              onChange={handleChange}\n            />\n          </Grid>\n          <Grid item xs={12}></Grid>\n          <Grid item xs={12}>\n            <Box display=\"flex\" justifyContent=\"flex-end\" gap={2}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleSubmit}\n              >\n                Create\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => navigate(`/iteration/${taskModuleId}`)}\n              >\n                Cancel\n              </Button>\n            </Box>\n          </Grid>\n        </Grid>\n    </Paper>\n  );\n};\n\nexport default CreateIteration;\n","size_bytes":4468},"frontend-new/src/assets/theme-dark/components/menu/menuItem.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport typography from \"assets/theme-dark/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { dark, white } = colors;\nconst { borderRadius } = borders;\nconst { size } = typography;\n\nconst menuItem = {\n  styleOverrides: {\n    root: {\n      minWidth: pxToRem(160),\n      minHeight: \"unset\",\n      padding: `${pxToRem(4.8)} ${pxToRem(16)}`,\n      borderRadius: borderRadius.md,\n      fontSize: size.sm,\n      color: rgba(white.main, 0.8),\n      transition: \"background-color 300ms ease, color 300ms ease\",\n\n      \"&:hover, &:focus, &.Mui-selected, &.Mui-selected:hover, &.Mui-selected:focus\": {\n        backgroundColor: dark.main,\n        color: white.main,\n      },\n    },\n  },\n};\n\nexport default menuItem;\n","size_bytes":1511},"qms-source/BackEnd/src/models/Task.js":{"content":"import { DataTypes } from \"sequelize\";\nimport sequelize from \"../config/db.js\";\nimport User from \"./User.js\";\nimport iteration from \"./Iteration.js\"\nimport Company from \"./Company.js\"; // Import Company model\nimport Iteration from \"./Iteration.js\";\nimport { VALID_STATUS_VALUES, VALID_PRIORITY_VALUES, VALID_TASK_TYPES, VALID_COMPLIANCE_VALUES,VALID_STANDARDS,VALID_TYPE_OF_FINDING } from \"../config/constants.js\";\n\nconst Task = sequelize.define(\"Task\", {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true,\n    },\n    Checklist_Item: {\n        type: DataTypes.STRING(500),\n        allowNull: false,\n    },\n    description: {\n        type: DataTypes.TEXT,\n    },\n    standard: {\n        type: DataTypes.ENUM(...VALID_STANDARDS),\n        allowNull: false,\n    },\n    task_type: {\n        type: DataTypes.ENUM(...VALID_TASK_TYPES),\n        allowNull: true,\n    },\n    parent_task_id: {\n        type: DataTypes.UUID,\n        allowNull: true,\n    },\n    clause_number: {\n        type: DataTypes.STRING,\n        allowNull: true,\n    },\n    area: {\n        type: DataTypes.STRING,\n        allowNull: true,\n    },\n    expected_artifact: {\n        type: DataTypes.STRING,\n        allowNull: true,\n    },\n    actual_artifact: {\n        type: DataTypes.STRING,\n        allowNull: true,\n    },\n    compliance: {\n        type: DataTypes.ENUM(...VALID_COMPLIANCE_VALUES),\n        allowNull: true,\n    },\n    status: {\n        type: DataTypes.ENUM(...VALID_STATUS_VALUES),\n        defaultValue: \"Not Done\",\n    },\n    priority: {\n        type: DataTypes.ENUM(...VALID_PRIORITY_VALUES),\n        allowNull: false,\n        defaultValue: \"Medium\",\n    },\n     Type_of_Finding: {\n        type: DataTypes.ENUM(...VALID_TYPE_OF_FINDING),\n        allowNull: false,\n        defaultValue: \"Non-Compliance\",\n    },\n    responsibility: {\n        type: DataTypes.STRING,\n        allowNull: true,\n    },\n    RCA_Details : {\n        type: DataTypes.TEXT,\n        allowNull: true,\n    },\n    notes: {\n        type: DataTypes.TEXT,\n        allowNull: true,\n    },\n    auditee: {\n        type: DataTypes.STRING,\n        allowNull: true,\n    },\n    createdBy: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n            model: User,\n            key: \"id\",\n        },\n    },\n    company_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: {\n            model: Company,\n            key: \"id\",\n        },\n        onDelete: \"CASCADE\", // Delete tasks if company is deleted\n    },\n    created_at: {\n        type: DataTypes.DATE,\n        defaultValue: DataTypes.NOW,\n    },\n    Planned_Completion_Date: {\n        type: DataTypes.DATE,\n       allowNull:true\n    },\n    Actual_Completion_Date: {\n        type: DataTypes.DATE,\n       allowNull:true\n    },\n    updated_at: {\n        type: DataTypes.DATE,\n        defaultValue: DataTypes.NOW,\n    },\n    is_active: {\n        type: DataTypes.BOOLEAN,\n        allowNull: false,\n        defaultValue: true,\n    },\n    iteration_id: {\n        type: DataTypes.UUID,\n        allowNull: true,\n        references: {\n          model: iteration, // table name in DB (not model name)\n          key: 'id'\n        },\n        onDelete: 'SET NULL',\n        onUpdate: 'CASCADE'\n      },\n    \n}, {\n    timestamps: false,\n    freezeTableName: true,\n});\n\n// Relationships\nTask.belongsTo(User, { foreignKey: \"createdBy\", as: \"Creator\" });\nUser.hasMany(Task, { foreignKey: \"createdBy\", onDelete: 'SET NULL' });\n\nTask.belongsTo(Company, { foreignKey: \"company_id\", as: \"Company\" });\nCompany.hasMany(Task, { foreignKey: \"company_id\", onDelete: 'CASACDE' });\n\n\n// âœ… Many-to-Many Relationship for Assignees\nTask.belongsToMany(User, { \n    through: \"TaskAssignees\", \n    as: \"Assignees\",  \n    foreignKey: \"task_id\"\n});\nUser.belongsToMany(Task, { \n    through: \"TaskAssignees\", \n    as: \"AssignedTasks\",  \n    foreignKey: \"user_id\"\n});\n\n\nTask.belongsTo(Iteration, { foreignKey: 'iteration_id', as: 'Iteration' });\n\n\nexport default Task;\n\n","size_bytes":4036},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"qms-source/frontend-new/src/styles/UploadPopup.css":{"content":".popup-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.popup-container {\n  background: #fff;\n  padding: 20px;\n  border-radius: 8px;\n  width: 350px;\n  text-align: center;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);\n}\n\n.file-input {\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n}\n\n.comment-input {\n  width: 100%;\n  height: 80px;\n  padding: 10px;\n  margin-bottom: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  resize: none;\n}\n\n.upload-btn, .close-btn {\n  width: 100%;\n  padding: 10px;\n  margin-top: 5px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.upload-btn {\n  background: #4CAF50;\n  color: white;\n}\n\n.upload-btn:disabled {\n  background: #cccccc;\n  cursor: not-allowed;\n}\n\n.close-btn {\n  background: #f44336;\n  color: white;\n}\n\n.message {\n  margin-top: 10px;\n  color: red;\n  font-size: 14px;\n}\n","size_bytes":1057},"qms-source/frontend-new/src/pages/TaskManagement/UserTaskAssignment.jsx":{"content":"import React, { useEffect, useState, useCallback } from \"react\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport {\n  Autocomplete,\n  TextField,\n  Button,\n  Typography,\n  Paper,\n  CircularProgress,\n  Grid,\n} from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst UserTaskAssignment = () => {\n  const [users, setUsers] = useState([]);\n  const [tasks, setTasks] = useState([]);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [selectedTasks, setSelectedTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [assigning, setAssigning] = useState(false);\n  const navigate = useNavigate();\n\n  const moduleId = \"4a060652-4c92-47d8-9515-e500da5e94ef\";\n  let company_id = sessionStorage.getItem(\"selectedCompany\");\n\n  useEffect(() => {\n    // Fetch users and tasks data on component mount\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const token = localStorage.getItem(\"jwtToken\");\n        if (!token) {\n          toast.error(\"Session expired. Please log in again.\");\n          navigate(\"/login\");\n          return;\n        }\n\n        const headers = { Authorization: `Bearer ${token}` };\n        const [usersResponse, tasksResponse] = await Promise.all([\n          axiosInstance.get(`/users/971a88b8-461e-4cd2-9a06-fce42ad6b806`, {\n            headers,\n            params: { company_id },\n          }),\n          axiosInstance.get(`/tasks/${moduleId}`, {\n            headers,\n            params: { company_id },\n          }),\n        ]);\n\n        setUsers(usersResponse.data || []);\n        setTasks(tasksResponse.data || []);\n      } catch (error) {\n        handleApiError(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const handleAssignTask = useCallback(async () => {\n    // Ensure a user and tasks are selected before assigning\n    if (!selectedUser || selectedTasks.length === 0) {\n      toast.error(\"Please select a user and at least one task.\");\n      return;\n    }\n\n    setAssigning(true);\n    try {\n      const token = localStorage.getItem(\"jwtToken\");\n      if (!token) {\n        toast.error(\"Session expired. Please log in again.\");\n        navigate(\"/login\");\n        return;\n      }\n\n      const requestData = {\n        user_id: selectedUser.id,\n        task_ids: selectedTasks.map((task) => task.id),\n        assign_by: \"superadmin\",\n      };\n\n      await axiosInstance.post(\n        `/task-assignments/5d896834-fedd-4e0b-a882-8d05396fc346`,\n        requestData,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      toast.success(\"Tasks assigned successfully!\");\n      setSelectedUser(null);\n      setSelectedTasks([]);\n    } catch (error) {\n      console.error(\"API Error:\", error.response?.data || error);\n      toast.error(error.response?.data?.message || \"Failed to assign task.\");\n    } finally {\n      setAssigning(false);\n    }\n  }, [selectedUser, selectedTasks]);\n\n  const handleApiError = (error) => {\n    // Handle API errors and redirect if unauthorized\n    console.error(\"API Error:\", error.response?.data || error);\n    const errorMessage =\n      error.response?.data?.message || \"An unexpected error occurred.\";\n    toast.error(errorMessage);\n    if (error.response?.status === 403) {\n      localStorage.removeItem(\"jwtToken\");\n      navigate(\"/login\");\n    }\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        mb: 2,\n        mx: 4,\n        marginRight: 2,\n        backgroundColor: \"#ffffff\",\n        boxShadow: \"0px 5px 15px rgba(0, 0, 0, 0.1)\",\n      }}\n    >\n      <Grid container direction=\"column\" spacing={3}>\n        {/* Title */}\n        <Grid item>\n          <Typography\n            variant=\"h3\"\n            fontWeight={\"'bold\"}\n            sx={{ textAlign: \"center\" }}\n          >\n            User Task Assignment\n          </Typography>\n        </Grid>\n\n        {/* Loader or Form */}\n        <Grid item>\n          {loading ? (\n            <Grid container justifyContent=\"center\">\n              <CircularProgress sx={{ color: \"#1976d2\" }} />\n            </Grid>\n          ) : (\n            <Grid container direction=\"column\" spacing={2}>\n              {/* User selection */}\n              <Grid item>\n                <Autocomplete\n                  options={users}\n                  getOptionLabel={(user) =>\n                    user?.name\n                      ? `${user.name} ${\n                          user.department?.name\n                            ? `(${user.department.name})`\n                            : \"\"\n                        }`\n                      : user?.email || \"\"\n                  }\n                  value={selectedUser}\n                  onChange={(event, newValue) =>\n                    setSelectedUser(newValue || null)\n                  }\n                  renderInput={(params) => (\n                    <TextField\n                      {...params}\n                      label=\"Select User\"\n                      variant=\"outlined\"\n                      sx={{ backgroundColor: \"#f5f5f5\", borderRadius: \"6px\" }}\n                    />\n                  )}\n                />\n              </Grid>\n\n              {/* Task selection */}\n              <Grid item>\n                <Autocomplete\n                  multiple\n                  options={tasks}\n                  getOptionLabel={(task) => task.title || task.Checklist_Item}\n                  value={selectedTasks}\n                  onChange={(event, newValue) =>\n                    setSelectedTasks(newValue || [])\n                  }\n                  renderInput={(params) => (\n                    <TextField\n                      {...params}\n                      label=\"Select Tasks\"\n                      variant=\"outlined\"\n                      sx={{ backgroundColor: \"#f5f5f5\", borderRadius: \"6px\" }}\n                    />\n                  )}\n                />\n              </Grid>\n\n              {/* Buttons aligned right */}\n              <Grid\n                item\n                sx={{ display: \"flex\", justifyContent: \"flex-end\", gap: 2 }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleAssignTask}\n                  size=\"small\"\n                  disabled={\n                    assigning || !selectedUser || selectedTasks.length === 0\n                  }\n                  sx={{\n                    fontWeight: \"bold\",\n                    borderRadius: \"6px\",\n                    backgroundColor: assigning ? \"#1565c0\" : \"#1976d2\",\n                    \"&:hover\": { backgroundColor: \"#1565c0\" },\n                  }}\n                >\n                  {assigning ? \"Assigning...\" : \"Assign\"}\n                </Button>\n\n                <Button\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  onClick={() => navigate(\"/tasks\")}\n                  size=\"small\"\n                  sx={{ fontWeight: \"bold\", borderRadius: \"6px\" }}\n                >\n                  Cancel\n                </Button>\n              </Grid>\n            </Grid>\n          )}\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default UserTaskAssignment;\n","size_bytes":7473},"BackEnd/src/models/Company.js":{"content":"import { DataTypes } from 'sequelize';\nimport sequelize from '../config/db.js';\n\nconst Company = sequelize.define('Company', {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    name: {\n        type: DataTypes.STRING,\n        allowNull: false\n    },\n    industry: {\n        type: DataTypes.STRING,\n        allowNull: true\n    },\n    domain: {\n        type: DataTypes.STRING,\n        allowNull: true\n    },\n    is_active: {\n        type: DataTypes.BOOLEAN,\n        defaultValue: true\n    }\n}, {\n    timestamps: true,\n    freezeTableName: true,\n    defaultScope: {\n        where: {\n            is_active: true\n        }\n    },\n    scopes: {\n        all: { where: {} } // to include both active and inactive when needed\n    }\n});\n\nexport default Company;\n","size_bytes":817},"frontend-new/src/pages/role_management/RoleUpdate.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport {\n  Box,\n  TextField,\n  Button,\n  Typography,\n  MenuItem,\n  Select,\n  FormControl,\n  InputLabel,\n  Container,\n  Paper,\n  Grid,\n} from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst API_ROLE_URL = \"/roles/971a88b8-461e-4cd2-9a06-fce42ad6b806\";\n\nconst RoleUpdate = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n\n  const [role, setRole] = useState({\n    name: \"\",\n    description: \"\",\n    parent_role_id: \"\",\n  });\n  const [roles, setRoles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  let company_id = sessionStorage.getItem(\"selectedCompany\");\n\n  useEffect(() => {\n    fetchRole();\n    fetchRoles();\n  }, []);\n\n  const fetchRole = async () => {\n    try {\n      const response = await axiosInstance.get(`${API_ROLE_URL}/${id}`, {\n        params: company_id ? { company_id } : {},\n      });\n\n      setRole(response.data);\n    } catch (err) {\n      setError(\"Failed to load role details\");\n      toast.error(\"Error fetching role details.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchRoles = async () => {\n    try {\n      const response = await axiosInstance.get(API_ROLE_URL, {\n        params: { company_id },\n      });\n      setRoles(response.data || []);\n    } catch (error) {\n      console.error(\"Error fetching roles:\", error);\n      toast.error(\"Failed to fetch roles.\");\n    }\n  };\n\n  const handleUpdateRole = async () => {\n    if (role.name.trim() === \"\" || role.description.trim() === \"\") {\n      setError(\"Both fields are required\");\n      return;\n    }\n\n    try {\n      await axiosInstance.put(`${API_ROLE_URL}/${id}`, role);\n      toast.success(\"Role updated successfully!\");\n      setTimeout(() => {\n        navigate(\"/roles\"); // Delay navigation by 1 second\n      }, 1000);\n    } catch (err) {\n      toast.error(\"Failed to update role.\");\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ px: { xs: 2, sm: 3 }, py: 4 }}>\n      <Paper\n        elevation={3}\n        sx={{\n          p: { xs: 2, sm: 3 },\n          mx: 4,\n          borderRadius: 2,\n          boxShadow: 3,\n          mt: 3,\n        }}\n      >\n        {loading ? (\n          <Typography align=\"center\">Loading...</Typography>\n        ) : error ? (\n          <Typography color=\"error\" align=\"center\">\n            {error}\n          </Typography>\n        ) : (\n          <Box>\n            {/* Title - Top Left */}\n            <Typography\n              variant=\"h5\"\n              sx={{\n                fontWeight: 600,\n                mb: 3,\n                textAlign: \"left\",\n              }}\n            >\n              Update Role\n            </Typography>\n\n            {/* Form */}\n            <Grid container spacing={2}>\n              {/* Role Name */}\n              <Grid item xs={12}>\n                <TextField\n                  fullWidth\n                  label=\"Role Name\"\n                  variant=\"outlined\"\n                  value={role.name}\n                  onChange={(e) => setRole({ ...role, name: e.target.value })}\n                />\n              </Grid>\n\n              {/* Role Description */}\n              <Grid item xs={12}>\n                <TextField\n                  fullWidth\n                  label=\"Role Description\"\n                  variant=\"outlined\"\n                  value={role.description}\n                  onChange={(e) =>\n                    setRole({ ...role, description: e.target.value })\n                  }\n                  multiline\n                  rows={3}\n                />\n              </Grid>\n\n              {/* Parent Role Select */}\n              <Grid item xs={12}>\n                <FormControl fullWidth>\n                  <InputLabel id=\"parent-role-label\">Parent Role</InputLabel>\n                  <Select\n                    labelId=\"parent-role-label\"\n                    value={role.parent_role_id || \"\"}\n                    onChange={(e) =>\n                      setRole({ ...role, parent_role_id: e.target.value })\n                    }\n                    label=\"Parent Role\"\n                  >\n                    <MenuItem value=\"\">\n                      <em>None</em>\n                    </MenuItem>\n                    {roles.map((roleItem) => (\n                      <MenuItem key={roleItem.id} value={roleItem.id}>\n                        {roleItem.name}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n              </Grid>\n\n              {/* Action Buttons */}\n              <Grid\n                item\n                xs={12}\n                sx={{\n                  display: \"flex\",\n                  justifyContent: \"flex-end\",\n                  gap: 2,\n                  mt: 2,\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleUpdateRole}\n                  sx={{ textTransform: \"none\", fontWeight: \"bold\" }}\n                >\n                  Update\n                </Button>\n                <Button\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  onClick={() => navigate(-1)}\n                  sx={{ textTransform: \"none\", fontWeight: \"medium\" }}\n                >\n                  Cancel\n                </Button>\n              </Grid>\n            </Grid>\n          </Box>\n        )}\n      </Paper>\n    </Container>\n  );\n};\n\nexport default RoleUpdate;\n","size_bytes":5645},"qms-source/BackEnd/src/utils/bootstrapSystemSuperAdmin.js":{"content":"\nimport sequelize from '../config/db.js';\n\nimport Company from '../models/Company.js';\nimport Role from '../models/Role.js';\nimport User from '../models/User.js';\nimport Module from '../models/Module.js';\nimport RoleModulePermission from '../models/RoleModulesPermissions.js';\nimport generateRandomPassword from '../utils/generateRandomPassword.js';\nimport sendEmail from './sendEmail.js'; // Make sure this exists\nimport bcrypt from 'bcryptjs';\n\n// Configuration with fixed credentials\nexport const defaultCompanyName = 'IDATUM';\nconst defaultAdminEmail = 'admin@idatum.com';\nconst defaultAdminName = 'System Admin';\nconst defaultAdminPassword = 'Admin@123'; // Fixed password\n\nconst bootstrapSystemSuperAdmin = async () => {\n    try {\n        // Step 1: Check if already initialized\n        const existingCompany = await Company.findOne({ where: { name: defaultCompanyName } });\n        if (existingCompany) {\n            console.log('âœ… System already initialized.');\n            return;\n        }\n\n        // Step 2: Create Default Company\n        const defaultCompany = await Company.create({\n            name: defaultCompanyName,\n            industry: 'Technology',\n            domain: 'Quality Management',\n            is_active: true,\n        });\n\n        // Step 3: Create System Super Admin Role\n        const superAdminRole = await Role.create({\n            name: 'System Super Admin',\n            company_id: defaultCompany.id,\n        });\n\n        // Step 4: Hash the fixed password\n        console.log('System Super Admin Credentials:');\n        console.log(`Email: ${defaultAdminEmail}`);\n        console.log(`Password: ${defaultAdminPassword}`);\n        const hashedPassword = await bcrypt.hash(defaultAdminPassword, 10);\n\n        // Step 5: Create Super Admin User\n        const superAdminUser = await User.create({\n            name: defaultAdminName,\n            email: defaultAdminEmail,\n            company_id: defaultCompany.id,\n            role_id: superAdminRole.id,\n            password_hash: hashedPassword,\n            is_active: true,\n        });\n\n       \n              // Step 5.5: Insert Hardcoded Modules (Only if table is empty)\nconst existingModules = await Module.findAll();\n\nif (existingModules.length === 0) {\n    await sequelize.query(`\n        INSERT INTO Module (id, name, description, createdAt, updatedAt) VALUES \n        ('1f0f190d-3a83-421c-af98-5d081100230e','Task','This is Task Module','2025-02-24 17:06:52','2025-02-24 17:06:52'),\n        ('2566950b-1718-4440-8b8d-d5ec94624d0f','TaskChangeLog','This is TaskChangeLog Module','2025-02-24 17:37:38','2025-02-24 17:37:38'),\n        ('2f06d3b2-9121-4a2b-a5fe-7f1e4aae7270','Permissions','This is Permissions Module','2025-02-24 17:29:25','2025-02-24 17:29:25'),\n        ('4a060652-4c92-47d8-9515-e500da5e94ef','Dashboard','This is Dashboard Module','2025-02-15 11:18:11','2025-02-28 16:39:32'),\n        ('5d896834-fedd-4e0b-a882-8d05396fc346','Company','This is company Module','2025-02-14 11:41:01','2025-02-14 11:41:01'),\n        ('71ecaf10-9967-43eb-928e-11a7c810b591','Comment','This is Comment Module','2025-02-24 17:31:12','2025-02-24 17:31:12'),\n        ('8530da98-7369-4ab7-9400-37cf4019e148','TaskAssignment','This is TaskAssignment Module','2025-02-24 17:30:15','2025-02-24 17:30:15'),\n        ('881fc061-b852-4a9b-a430-ea96ba99194d','Module','This is Module','2025-02-24 17:28:35','2025-02-24 17:28:35'),\n        ('971a88b8-461e-4cd2-9a06-fce42ad6b806','Role','This is Role Module updated','2025-02-14 11:42:03','2025-02-18 12:13:47'),\n        ('bd168912-e40c-48e3-b3d1-440a3e129d52','User','This is User Module','2025-02-14 11:41:32','2025-02-14 11:41:32'),\n        ('cb5010bc-83fd-4409-9845-bbba4ceda9c8','Document','This is Document Module','2025-02-24 17:36:56','2025-02-24 17:36:56');\n    `);\n    console.log('âœ… Modules table inserted with predefined data.');\n} else {\n    console.log('â„¹ï¸ Modules already present. Skipping insert.');\n}\n\n             // Step 6: Assign Full Permissions for All Modules to the Role\n              const modules = await Module.findAll();\n        const permissionPromises = modules.map((module) =>\n            RoleModulePermission.create({\n                role_id: superAdminRole.id,\n                module_id: module.id,\n                can_read: true,\n                can_write: true,\n                can_delete: true\n            })\n        );\n\n        await Promise.all(permissionPromises);\n\n        // Step 7: Send Email with Login Credentials\n        const subject = 'Welcome - System Super Admin Account Created';\n        const message = `\nHello ${superAdminUser.name},\n\nYour System Super Admin account has been created successfully.\n\nLogin Credentials:\nEmail: ${superAdminUser.email}\nPassword: ${defaultAdminPassword}\n\nPlease log in and change your password if needed.\n\nRegards,\nSystem Setup Team\n`;\n\n        await sendEmail(superAdminUser.email, subject, message);\n\n        console.log('âœ… System Super Admin setup complete.');\n\n    } catch (error) {\n        console.error('âŒ Error during system bootstrap:', error);\n    }\n};\n\nexport default bootstrapSystemSuperAdmin;\n","size_bytes":5124},"BackEnd/src/controllers/userController.js":{"content":"import User from '../models/User.js';\nimport Company from '../models/Company.js';\nimport Role from '../models/Role.js';\nimport generateRandomPassword from '../utils/generateRandomPassword.js';\nimport sendEmail from '../utils/sendEmail.js';\nimport { Sequelize } from 'sequelize';\nimport Department from '../models/Department.js';\n\nconst createUser = async (req, res) => {\n    try {\n        const { email, name, company_id, role_id, reportTo,department_id } = req.body;\n\n        if (!email || !name) {\n            return res.status(400).json({ error: 'Email and name are required' });\n        }\n\n        // Check if an active user already exists with the same email\n        const existingUser = await User.findOne({\n            where: {\n                email,\n                is_active: true\n            }\n        });\n\n        if (existingUser) {\n            return res.status(409).json({ error: 'An active user with this email already exists. Please use a different email.' });\n        }\n\n        // Generate a unique random password\n        const generatedPassword = generateRandomPassword();\n\n        console.log(`Generated Password: ${generatedPassword}`);\n\n        const newUser = await User.create({ \n            email, \n            name, \n            company_id, \n            role_id, \n            department_id,\n            password_hash: generatedPassword,\n            reportTo\n        });\n\n        // Send email to the new user with login credentials\n        const subject = 'Welcome to Our Platform - Your Login Credentials';\n        const message = `\n            Hello ${name},\n            \\nYour account has been created successfully. Below are your login credentials:\\n\n            Email: ${email}\n            Password: ${generatedPassword}\n            \\nPlease change your password after logging in.\\n\n            Regards,\n            Your Team\n        `;\n\n        await sendEmail(email, subject, message);\n\n        res.status(201).json({ message: 'User created successfully', userId: newUser.id });\n\n    } catch (error) {\n        console.error('Error creating user:', error);\n        res.status(500).json({ message: 'Internal Server Error' });\n    }\n};\n\n\nconst updateUserDetails = async (req, res) => {\n    try {\n        const user = await User.findByPk(req.params.id);\n\n        if (!user) return res.status(404).json({ error: 'User not found' });\n\n        const updateFields = {};\n        const allowedFields = ['email', 'name', 'company_id', 'role_id', 'reportTo','department_id'];\n\n        allowedFields.forEach(field => {\n            if (req.body[field] !== undefined) {\n                updateFields[field] = req.body[field];\n            }\n        });\n\n        if (Object.keys(updateFields).length === 0) {\n            return res.status(400).json({ error: 'No valid fields provided for update' });\n        }\n\n        // Prevent self-reporting\n        if (updateFields.reportTo && updateFields.reportTo === user.id) {\n            return res.status(400).json({ error: 'A user cannot report to themselves.' });\n        }\n\n        // **Step 1: Check if the user has subordinates**\n        if (updateFields.role_id && updateFields.role_id !== user.role_id) {\n            const subordinates = await User.findAll({\n                where: { reportTo: user.id },\n                attributes: ['id', 'name']\n            });\n\n            if (subordinates.length > 0) {\n                return res.status(409).json({\n                    message: \"Role change aborted! This user has subordinates assigned. Please reassign them first.\",\n                    subordinates\n                });\n            }\n        }\n\n        // **Step 2: Proceed with the update if no subordinates**\n        await user.update(updateFields);\n        return res.json({ message: 'User details updated successfully', user });\n\n    } catch (error) {\n        return res.status(500).json({ error: error.message });\n    }\n};\n\nconst getUserDetails = async (req, res) => {\n    try {\n      const userRole = await Role.findOne({\n        where: { id: req.user.role },\n        attributes: ['name'],\n      });\n  \n      if (!userRole) {\n        return res.status(400).json({ error: 'Invalid role assigned to the user' });\n      }\n  \n      let company_id;\n  \n      if (userRole.name === 'System Super Admin') {\n        company_id = req.body.company_id || req.query.company_id;\n        if (!company_id) {\n          return res.status(400).json({ error: 'Company ID is required for System Super Admin' });\n        }\n      } else {\n        company_id = req.user.company;\n      }\n  \n      console.log('Company Id while getting user is ' + company_id);\n      let user;\n      const whereCondition = { company_id };\n  \n      if (req.params.id) {\n        user = await User.findOne({\n          where: { id: req.params.id, ...whereCondition, is_active: true },\n          attributes: { exclude: ['password_hash'] },\n          include: [\n            { model: Role },\n            { model: Company },\n            {\n              model: User,\n              as: 'Manager',\n              attributes: ['id', 'name'],\n              required: false, // <-- Ensures Super Admin is included even if no manager\n            },\n            {model:Department,\n                as: 'department',\n                attributes: ['id', 'name','description']\n\n            }\n\n          ],\n        });\n  \n        if (!user) {\n          return res.status(404).json({\n            error: 'User not found or not associated with the provided company',\n          });\n        }\n      } else {\n        user = await User.findAll({\n          where: { ...whereCondition, is_active: true },\n          attributes: { exclude: ['password_hash'] },\n          include: [\n            { model: Role },\n            { model: Company },\n            {\n              model: User,\n              as: 'Manager',\n              attributes: ['id', 'name'],\n              required: false, // <-- Same here\n            },\n            {model:Department,\n                as: 'department',\n                attributes: ['id', 'name','description']\n\n            }\n          ],\n          order: [['name', 'ASC']],\n        });\n      }\n  \n      res.json(user);\n    } catch (error) {\n      console.error('Error fetching user details:', error);\n      res.status(500).json({ error: 'Internal Server Error' });\n    }\n  };  \n\nconst getAssignableUsers = async (req, res) => {\n    try {\n        const assignerId = req.user.id;\n\n        // Get the assigner's details including their role and company\n        const assigner = await User.findByPk(assignerId, {\n            include: [{ model: Role }, { model: Company }, {model:Department, as: 'department',\n                attributes: ['id', 'name','description']\n\n            }]\n        });\n\n        if (!assigner) {\n            return res.status(404).json({ error: \"Assigner not found\" });\n        }\n\n        // Check if the assigner is a System Super Admin\n        let targetCompanyId = assigner.company_id;\n        if (assigner.Role.name === \"System Super Admin\") {\n            targetCompanyId = req.body.company_id || req.query.company_id;\n            if (!targetCompanyId) {\n                return res.status(400).json({ error: \"company_id is required for System Super Admin\" });\n            }\n            \n            // Fetch all users from the provided company without role filtering\n            const users = await User.findAll({\n                where: { company_id: targetCompanyId },\n                attributes: { exclude: ['password_hash'] },\n                include: [{ model: Role }, { model: Company }, {model:Department,as: 'department',\n                    attributes: ['id', 'name','description']\n    \n                }],\n                order: [['name', 'ASC']]\n            });\n\n            return res.json(users);\n        }\n\n        // Function to fetch all child roles recursively\n        const getAllChildRoles = async (parentRoleId) => {\n            const childRoles = await Role.findAll({\n                where: { parent_role_id: parentRoleId },\n                attributes: ['id']\n            });\n\n            if (childRoles.length === 0) return [];\n\n            const childRoleIds = childRoles.map(role => role.id);\n            const deeperRoles = await Promise.all(childRoleIds.map(getAllChildRoles));\n\n            return [...childRoleIds, ...deeperRoles.flat()];\n        };\n\n        // Fetch all child roles for the assigner's role\n        let allChildRoleIds = await getAllChildRoles(assigner.role_id);\n        allChildRoleIds.push(assigner.role_id); // Include assigner's own role ID\n\n        // Find assignable users within the same company who have any descendant roles OR the same role\n        const users = await User.findAll({\n            where: { \n                company_id: targetCompanyId,\n                role_id: allChildRoleIds \n            },\n            attributes: { exclude: ['password_hash'] },\n            include: [{ model: Role }, { model: Company }, {model:Department,as: 'department',\n                attributes: ['id', 'name','description']\n\n            }],\n            order: [['name', 'ASC']]\n        });\n\n        res.json(users);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nconst getUsersWithHigherRole = async (req, res) => {\n    try {\n        const { role_id, company_id: reqCompanyId } = req.query;\n\n        // Fetch role name from role_id in req.user\n        const userRole = await Role.findOne({ where: { id: req.user.role }, attributes: ['name'] });\n\n        if (!userRole) {\n            return res.status(400).json({ error: 'Invalid user role. Please check your role ID.' });\n        }\n        let company_id;\n\n        // Handle System Super Admin case with missing company_id\n        if (userRole.name === 'System Super Admin') {\n            \n            if (!reqCompanyId) {\n                return res.status(400).json({ error: 'Company ID is required for System Super Admin to fetch users.' });\n            }\n            company_id = reqCompanyId;\n        } else {\n            company_id = req.user.company;\n        }\n\n        if (!role_id) {\n            return res.status(400).json({ error: 'Role ID is required to fetch higher-level users.' });\n        }\n\n        // Fetch parent role\n        const parentRole = await Role.findOne({ where: { id: role_id }, attributes: ['parent_role_id'] });\n\n        if (!parentRole) {\n            return res.status(404).json({ error: 'The provided Role ID does not exist.' });\n        }\n\n        if (!parentRole.parent_role_id) {\n            return res.status(404).json({ error: 'No higher role exists for the given Role ID.' });\n        }\n\n        // Fetch users with the higher role\n        const users = await User.findAll({\n            where: { role_id: parentRole.parent_role_id, company_id },\n            attributes: ['id', 'name', 'email'],\n            include: [{ model: Role }, { model: Company }, {model:Department,\n                attributes: ['id', 'name','description'],as: 'department',\n\n            }]\n        });\n\n        if (users.length === 0) {\n            return res.status(404).json({ message: 'No users found with a higher role.' });\n        }\n\n        res.json(users);\n    } catch (error) {\n        console.error('Error fetching users:', error);\n        res.status(500).json({ message: 'Internal Server Error. Please try again later.' });\n    }\n};\n\nconst softDeleteUser = async (req, res) => {\n    try {\n        const userIdToDelete = req.params.id;\n        const currentUserId = req.user.id; // Assuming user ID is available in the request (e.g., from JWT)\n\n        if (userIdToDelete === currentUserId.toString()) {\n            return res.status(400).json({ error: 'You cannot delete your own account' });\n        }\n\n        const user = await User.scope('all').findByPk(userIdToDelete);\n\n        if (!user || !user.is_active) {\n            return res.status(404).json({ error: 'User not found or already deleted' });\n        }\n\n        user.is_active = false;\n        await user.save();\n\n        return res.json({ message: 'User deactivated successfully' });\n    } catch (error) {\n        console.error('Error soft deleting user:', error);\n        res.status(500).json({ error: 'Internal Server Error' });\n    }\n};\n\nexport default { createUser, updateUserDetails, getUserDetails ,getAssignableUsers ,getUsersWithHigherRole, softDeleteUser};\n\n\n\n\n// const updateUserDetails = async (req, res) => {\n//     try {\n//         const user = await User.findByPk(req.params.id);\n\n//         if (!user) return res.status(404).json({ error: 'User not found' });\n\n//         // Extract fields dynamically from the request body\n//         const updateFields = {};\n//         const allowedFields = ['email', 'name', 'company_id', 'role_id', 'reportTo']; // Allowed fields for update\n\n//         allowedFields.forEach(field => {\n//             if (req.body[field] !== undefined) {\n//                 updateFields[field] = req.body[field]; // Update only fields that exist in the request\n//             }\n//         });\n\n//         if (Object.keys(updateFields).length === 0) {\n//             return res.status(400).json({ error: 'No valid fields provided for update' });\n//         }\n\n//         // **Prevent self-reporting**\n//         if (updateFields.reportTo && updateFields.reportTo === user.id) {\n//             return res.status(400).json({ error: 'A user cannot report to themselves.' });\n//         }\n\n//         // **Prevent circular reporting (i.e., ensuring the \"reportTo\" user does not report back to the current user)**\n//         // if (updateFields.reportTo) {\n//         //     const reportingUser = await User.findByPk(updateFields.reportTo, { attributes: ['reportTo'] });\n\n//         //     if (reportingUser && reportingUser.reportTo === user.id) {\n//         //         return res.status(400).json({ error: 'Invalid reporting structure: Circular reporting detected.' });\n//         //     }\n//         // }\n\n//         await user.update(updateFields);\n//         res.json({ message: 'User details updated', user });\n\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\n\n","size_bytes":14126},"qms-source/frontend-new/src/pages/department/DepartmentList.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport {\n  Typography,\n  Button,\n  Grid,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Box,\n  Paper,\n} from \"@mui/material\";\nimport { Delete, Edit } from \"@mui/icons-material\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast } from \"react-toastify\";\nimport { useNavigate } from \"react-router-dom\";\nimport { DataGrid } from \"@mui/x-data-grid\";\n\nconst UserModuleId = \"bd168912-e40c-48e3-b3d1-440a3e129d52\";\n\nconst DepartmentList = () => {\n  const [departments, setDepartments] = useState([]);\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [selectedDepartmentId, setSelectedDepartmentId] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const [pageSize, setPageSize] = useState(5);\n\n  const companyId = sessionStorage.getItem(\"selectedCompany\");\n  console.log(\"Company ID from sessionStorage:\", companyId);\n\n  // Fetch departments for the selected company\n  const loadDepartments = async () => {\n    if (!companyId) {\n      toast.error(\"Company ID is missing. Please select a company.\");\n      console.error(\"Missing company ID for department load\");\n      return;\n    }\n\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n        },\n        params: {\n          company_id: companyId,\n        },\n      };\n\n      const res = await axiosInstance.get(\n        `/department/${UserModuleId}`,\n        config\n      );\n      setDepartments(res.data || []);\n    } catch (error) {\n      const errorMsg =\n        error?.response?.data?.error ||\n        error?.response?.data?.message ||\n        error?.message ||\n        \"Unknown error\";\n\n      console.error(\"Error fetching departments:\", errorMsg, error.response);\n      toast.error(`Failed to fetch departments: ${errorMsg}`);\n    }\n  };\n\n  // Handle department soft delete\n  const handleDelete = async () => {\n    try {\n      setLoading(true);\n\n      const token = localStorage.getItem(\"jwtToken\");\n      if (!token || !companyId) {\n        setError(\"Authorization or Company ID missing.\");\n        return;\n      }\n\n      await axiosInstance.delete(\n        `/department/${UserModuleId}/${selectedDepartmentId}`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n          data: { company_id: companyId },\n        }\n      );\n\n      setDepartments((prevDepartments) =>\n        prevDepartments.filter((dep) => dep.id !== selectedDepartmentId)\n      );\n      setError(\"\");\n      toast.success(\"Department soft deleted successfully!\");\n      setDeleteDialogOpen(false);\n    } catch (error) {\n      const backendError =\n        error?.response?.data?.error ||\n        error?.response?.data?.message ||\n        error.message ||\n        \"Unknown error\";\n\n      toast.error(`Delete failed: ${backendError}`);\n      setError(\"Delete failed\");\n      console.error(\"Delete failed:\", backendError);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadDepartments();\n  }, []);\n\n  const columns = [\n    {\n      field: \"name\",\n      headerName: \"Name\",\n      width: 180,\n      filterable: true,\n      flex: 1,\n    },\n    {\n      field: \"description\",\n      headerName: \"Description\",\n      width: 300,\n      filterable: true,\n      flex: 1,\n    },\n    {\n      field: \"createdAt\",\n      headerName: \"Created At\",\n      width: 180,\n      filterable: true,\n      flex: 1,\n    },\n    {\n      field: \"actions\",\n      headerName: \"Actions\",\n      width: 180,\n      filterable: false,\n      flex: 1,\n      renderCell: (params) => (\n        <>\n          <IconButton\n            color=\"primary\"\n            href={`/departments/edit/${params.row.id}`}\n          >\n            <Edit />\n          </IconButton>\n          <IconButton\n            color=\"error\"\n            onClick={() => {\n              setSelectedDepartmentId(params.row.id);\n              setDeleteDialogOpen(true);\n            }}\n          >\n            <Delete />\n          </IconButton>\n        </>\n      ),\n    },\n  ];\n\n  const rows = departments.map((dep) => ({\n    id: dep.id,\n    name: dep.name,\n    description: dep.description || \"No description\",\n    createdAt: dep.createdAt?.split(\"T\")[0],\n  }));\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        marginRight: 2,\n        marginTop: 4,\n        mb: 2,\n      }}\n    >\n      <Typography variant=\"h5\" gutterBottom>\n        Department Management\n      </Typography>\n\n      {/* Button to add a new department, aligned to the right */}\n      <Box display=\"flex\" justifyContent=\"flex-end\" mb={2}>\n        <Button variant=\"contained\" color=\"primary\" href=\"/departments/new\">\n          Add Department\n        </Button>\n      </Box>\n\n      <Grid container sx={{ mt: 2 }}>\n        <Grid item xs={12}>\n          <div style={{ height: 400, width: \"100%\" }}>\n            <DataGrid\n              rows={rows}\n              columns={columns}\n              pagination\n              paginationModel={{ pageSize: pageSize, page: 0 }}\n              onPaginationModelChange={(model) => setPageSize(model.pageSize)}\n              pageSizeOptions={[5, 10, 25]}\n              disableRowSelectionOnClick\n              autoHeight\n            />\n          </div>\n        </Grid>\n      </Grid>\n\n      {/* Delete confirmation dialog */}\n      <Dialog\n        open={deleteDialogOpen}\n        onClose={() => setDeleteDialogOpen(false)}\n      >\n        <DialogTitle>Confirm Soft Delete</DialogTitle>\n        <DialogContent>\n          <Typography>\n            Are you sure you want to soft delete this department?\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setDeleteDialogOpen(false)}>Cancel</Button>\n          <Button onClick={handleDelete} color=\"error\">\n            Soft Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Paper>\n  );\n};\n\nexport default DepartmentList;\n","size_bytes":6125},"qms-source/frontend-new/src/assets/theme-dark/functions/linearGradient.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The linearGradient() function helps you to create a linear gradient color background\n */\n\nfunction linearGradient(color, colorState, angle = 195) {\n  return `linear-gradient(${angle}deg, ${color}, ${colorState})`;\n}\n\nexport default linearGradient;\n","size_bytes":777},"qms-source/BackEnd/src/routes/taskRoutes.js":{"content":"import express from \"express\";\nimport { createTask, getAllTasks, getTaskById, updateTask, deleteTask ,getChildTasks,uploadTasksFromExcel,upload,insertApprovedTasks,getTaskSummary} from \"../controllers/taskController.js\";\nimport authenticateUser from '../middlewares/authMiddlewares.js'\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\nconst router = express.Router();\n\nrouter.post(\"/:moduleId\",authenticateUser,checkPermission(\"write\"), createTask);\nrouter.post(\"/upload-tasks/:moduleId\", authenticateUser,checkPermission(\"write\") ,upload.single(\"file\"), uploadTasksFromExcel);\nrouter.post(\"/insert-approved-tasks/:moduleId\",authenticateUser,checkPermission(\"write\"), insertApprovedTasks);\nrouter.post(\"/task-summary/:moduleId\",authenticateUser,checkPermission(\"write\"), getTaskSummary);\nrouter.get(\"/:moduleId\",authenticateUser,checkPermission(\"read\"), getAllTasks);\nrouter.get(\"/:moduleId/:id\",authenticateUser,checkPermission(\"read\"), getTaskById);\nrouter.get(\"/:moduleId/childTask/:task_id\",authenticateUser,checkPermission(\"read\"),getChildTasks);\nrouter.put(\"/:moduleId/:id\",authenticateUser,checkPermission(\"write\"), updateTask);\nrouter.delete(\"/:moduleId/:id\",authenticateUser, checkPermission(\"delete\"),deleteTask);\n\nexport default router;\n","size_bytes":1271},"frontend-new/src/main.jsx":{"content":"import { StrictMode } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport './index.css'\nimport App from './App.jsx'\nimport \"react-toastify/dist/ReactToastify.css\";\n// Material Dashboard 2 React Context Provider\nimport { MaterialUIControllerProvider } from \"../src/context\";\n\ncreateRoot(document.getElementById('root')).render(\n  <StrictMode>\n    <MaterialUIControllerProvider>\n      <App />\n    </MaterialUIControllerProvider>\n\n  </StrictMode>,\n)\n","size_bytes":461},"frontend-new/src/assets/theme-dark/base/typography.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n * The base typography styles for the Material Dashboard 2 React.\n * You can add new typography style using this file.\n * You can customized the typography styles for the entire Material Dashboard 2 React using thie file.\n */\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { white } = colors;\n\nconst baseProperties = {\n  fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n  fontWeightLighter: 100,\n  fontWeightLight: 300,\n  fontWeightRegular: 400,\n  fontWeightMedium: 600,\n  fontWeightBold: 700,\n  fontSizeXXS: pxToRem(10.4),\n  fontSizeXS: pxToRem(12),\n  fontSizeSM: pxToRem(14),\n  fontSizeMD: pxToRem(16),\n  fontSizeLG: pxToRem(18),\n  fontSizeXL: pxToRem(20),\n  fontSize2XL: pxToRem(24),\n  fontSize3XL: pxToRem(30),\n};\n\nconst baseHeadingProperties = {\n  fontFamily: baseProperties.fontFamily,\n  color: white.main,\n  fontWeight: baseProperties.fontWeightBold,\n};\n\nconst baseDisplayProperties = {\n  fontFamily: baseProperties.fontFamily,\n  color: white.main,\n  fontWeight: baseProperties.fontWeightLight,\n  lineHeight: 1.2,\n};\n\nconst typography = {\n  fontFamily: baseProperties.fontFamily,\n  fontWeightLighter: baseProperties.fontWeightLighter,\n  fontWeightLight: baseProperties.fontWeightLight,\n  fontWeightRegular: baseProperties.fontWeightRegular,\n  fontWeightMedium: baseProperties.fontWeightMedium,\n  fontWeightBold: baseProperties.fontWeightBold,\n\n  h1: {\n    fontSize: pxToRem(48),\n    lineHeight: 1.25,\n    ...baseHeadingProperties,\n  },\n\n  h2: {\n    fontSize: pxToRem(36),\n    lineHeight: 1.3,\n    ...baseHeadingProperties,\n  },\n\n  h3: {\n    fontSize: pxToRem(30),\n    lineHeight: 1.375,\n    ...baseHeadingProperties,\n  },\n\n  h4: {\n    fontSize: pxToRem(24),\n    lineHeight: 1.375,\n    ...baseHeadingProperties,\n  },\n\n  h5: {\n    fontSize: pxToRem(20),\n    lineHeight: 1.375,\n    ...baseHeadingProperties,\n  },\n\n  h6: {\n    fontSize: pxToRem(16),\n    lineHeight: 1.625,\n    ...baseHeadingProperties,\n  },\n\n  subtitle1: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeXL,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.625,\n  },\n\n  subtitle2: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeMD,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.6,\n  },\n\n  body1: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeXL,\n    fontWeight: baseProperties.fontWeightRegular,\n    lineHeight: 1.625,\n  },\n\n  body2: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeMD,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.6,\n  },\n\n  button: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeSM,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.5,\n    textTransform: \"uppercase\",\n  },\n\n  caption: {\n    fontFamily: baseProperties.fontFamily,\n    fontSize: baseProperties.fontSizeXS,\n    fontWeight: baseProperties.fontWeightLight,\n    lineHeight: 1.25,\n  },\n\n  overline: {\n    fontFamily: baseProperties.fontFamily,\n  },\n\n  d1: {\n    fontSize: pxToRem(80),\n    ...baseDisplayProperties,\n  },\n\n  d2: {\n    fontSize: pxToRem(72),\n    ...baseDisplayProperties,\n  },\n\n  d3: {\n    fontSize: pxToRem(64),\n    ...baseDisplayProperties,\n  },\n\n  d4: {\n    fontSize: pxToRem(56),\n    ...baseDisplayProperties,\n  },\n\n  d5: {\n    fontSize: pxToRem(48),\n    ...baseDisplayProperties,\n  },\n\n  d6: {\n    fontSize: pxToRem(40),\n    ...baseDisplayProperties,\n  },\n\n  size: {\n    xxs: baseProperties.fontSizeXXS,\n    xs: baseProperties.fontSizeXS,\n    sm: baseProperties.fontSizeSM,\n    md: baseProperties.fontSizeMD,\n    lg: baseProperties.fontSizeLG,\n    xl: baseProperties.fontSizeXL,\n    \"2xl\": baseProperties.fontSize2XL,\n    \"3xl\": baseProperties.fontSize3XL,\n  },\n\n  lineHeight: {\n    sm: 1.25,\n    md: 1.5,\n    lg: 2,\n  },\n};\n\nexport default typography;\n","size_bytes":4565},"frontend-new/src/styles/LoginPage.css":{"content":".login-form-container {\n    max-width: 400px;\n    margin: 50px auto;\n    padding: 30px;\n    background: white;\n    border-radius: 10px;\n    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n    text-align: center;\n}\n\n.login-form-container h5 {\n    font-size: 22px;\n    margin-bottom: 20px;\n    color: #333;\n}\n\n.login-input {\n    width: 100%;\n    margin-bottom: 20px !important;\n}\n\n.login-button {\n    width: 100%;\n    padding: 10px;\n    background-color: #007bff !important;\n    color: white !important;\n    border: none;\n    border-radius: 5px;\n    font-size: 16px;\n    cursor: pointer;\n    margin-top: 10px;\n}\n\n.login-button:hover {\n    background-color: #0056b3 !important;\n}\n\n.forgot-password {\n    display: block;\n    text-align: right;\n    margin-bottom: 10px;\n    color: #007bff;\n    font-size: 14px;\n    cursor: pointer;\n}\n","size_bytes":826},"frontend-new/src/pages/role_management/RoleList.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Paper,\n  Button,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Typography,\n  CircularProgress,\n  Grid,\n} from \"@mui/material\";\nimport { Edit, Delete } from \"@mui/icons-material\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport axiosInstance from \"../../services/axiosinstance\";\n\nconst API_URL = \"/roles/971a88b8-461e-4cd2-9a06-fce42ad6b806\"; // API URL for roles\n\nconst RoleList = () => {\n  const [roles, setRoles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [deleteRoleId, setDeleteRoleId] = useState(null); // Store role ID for deletion\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    let company_id = sessionStorage.getItem(\"selectedCompany\");\n\n    fetchRoles();\n  }, []);\n\n  // const fetchRoles = async () => {\n  //   try {\n  //     setLoading(true);\n  //     const response = await axiosInstance.get(API_URL,{params: company_id});\n  //     setRoles(response.data);\n  //     setError(\"\");\n  //   } catch (err) {\n  //     setError(\"Failed to load roles\");\n  //     toast.error(\"Error fetching roles.\");\n  //   } finally {\n  //     setLoading(false);\n  //   }\n  // };\n\n  const fetchRoles = async () => {\n    try {\n      setLoading(true);\n\n      // Retrieve company_id from sessionStorage inside the function\n      const company_id = sessionStorage.getItem(\"selectedCompany\");\n\n      const response = await axiosInstance.get(API_URL, {\n        params: company_id ? { company_id } : {}, // Only send if company_id exists\n      });\n\n      setRoles(response.data);\n      setError(\"\");\n    } catch (err) {\n      setError(\"Failed to load roles\");\n      toast.error(\"Error fetching roles.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle role deletion\n  const handleDeleteRole = async () => {\n    try {\n      await axiosInstance.delete(`${API_URL}/${deleteRoleId}`);\n      setRoles(roles.filter((role) => role.id !== deleteRoleId));\n      toast.success(\"Role deleted successfully!\");\n    } catch (err) {\n      if (err.response && err.response.data && err.response.data.error) {\n        toast.error(err.response.data.error);\n      } else {\n        toast.error(\"Failed to delete role.\");\n      }\n    } finally {\n      setDeleteRoleId(null);\n    }\n  };\n  \n\n  // return (\n  //   <div className=\"role-list-container\">\n  //     <ToastContainer /> {/* Required for showing toast messages */}\n\n  //     <Typography variant=\"h6\" gutterBottom>Roles</Typography>\n\n  //     <Button\n  //       variant=\"contained\"\n  //       color=\"primary\"\n  //       onClick={() => {\n  //         toast.info(\"Redirecting to Add Role Page...\");\n  //         navigate(\"/roles/create\");\n  //       }}\n  //       sx={{ mb: 2 }}\n  //     >\n  //       Add New Role\n  //     </Button>\n\n  //     {loading ? (\n  //       <CircularProgress />\n  //     ) : error ? (\n  //       <Typography color=\"error\">{error}</Typography>\n  //     ) : (\n  //       <TableContainer component={Paper} className=\"role-table\">\n  //         <Table>\n  //           <TableHead>\n  //             <TableRow>\n  //               <TableCell><strong>Role Name</strong></TableCell>\n  //               <TableCell><strong>Description</strong></TableCell>\n  //               <TableCell><strong>Actions</strong></TableCell>\n  //             </TableRow>\n  //           </TableHead>\n  //           <TableBody>\n  //             {roles.map((role) => (\n  //               <TableRow key={role.id}>\n  //                 <TableCell>{role.name}</TableCell>\n  //                 <TableCell>{role.description}</TableCell>\n  //                 <TableCell className=\"action-buttons\">\n  //                   <IconButton\n  //                     color=\"primary\"\n  //                     onClick={() => {\n  //                       toast.info(\"Redirecting to Edit Role...\");\n  //                       navigate(`/roles/edit/${role.id}`);\n  //                     }}\n  //                   >\n  //                     <Edit />\n  //                   </IconButton>\n  //                   {/* <IconButton\n  //                     color=\"error\"\n  //                     onClick={() => setDeleteRoleId(role.id)}\n  //                   >\n  //                     <Delete />\n  //                   </IconButton> */}\n  //                 </TableCell>\n  //               </TableRow>\n  //             ))}\n  //           </TableBody>\n  //         </Table>\n  //       </TableContainer>\n  //     )}\n\n  //     {/* Delete Confirmation Dialog */}\n  //     <Dialog open={!!deleteRoleId} onClose={() => setDeleteRoleId(null)}>\n  //       <DialogTitle>Confirm Delete</DialogTitle>\n  //       <DialogContent>\n  //         <Typography>Are you sure you want to delete this role?</Typography>\n  //       </DialogContent>\n  //       <DialogActions>\n  //         <Button onClick={() => setDeleteRoleId(null)} color=\"secondary\">\n  //           Cancel\n  //         </Button>\n  //         <Button onClick={handleDeleteRole} color=\"error\" variant=\"contained\">\n  //           Delete\n  //         </Button>\n  //       </DialogActions>\n  //     </Dialog>\n  //   </div>\n  // );\n  return (\n    <Container maxWidth=\"lg\" sx={{ px: { xs: 2, sm: 3, md: 4 } }}>\n      <Paper\n        elevation={4}\n        sx={{\n          borderRadius: \"0.5rem\",\n          mx: { xs: 1, sm: 2, md: 4 },\n          my: 2,\n          p: { xs: 1, sm: 2, md: 3 },\n        }}\n      >\n        <ToastContainer />\n\n        {/* Header */}\n        <Grid\n          container\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          sx={{ mb: 3, px: 2 }}\n        >\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"h4\" sx={{ fontWeight: \"bold\", mt: 1 }}>\n              Roles\n            </Typography>\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            sm={6}\n            sx={{\n              textAlign: { xs: \"left\", sm: \"right\" },\n              mt: { xs: 2, sm: 0 },\n            }}\n          >\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => {\n                toast.info(\"Redirecting to Add Role Page...\");\n                navigate(\"/roles/create\");\n              }}\n              sx={{\n                textTransform: \"none\",\n                fontWeight: \"medium\",\n                px: 3,\n                boxShadow: 2,\n              }}\n            >\n              Add New Role\n            </Button>\n          </Grid>\n        </Grid>\n\n        {/* Content */}\n        {loading ? (\n          <CircularProgress />\n        ) : error ? (\n          <Typography color=\"error\">{error}</Typography>\n        ) : (\n          <Paper elevation={2} sx={{ p: 2 }}>\n            {/* Table Header */}\n            <Grid\n              container\n              sx={{\n                py: 2,\n                px: 1,\n                fontWeight: \"bold\",\n                borderBottom: \"2px solid #ddd\",\n                display: { xs: \"none\", sm: \"flex\" },\n                backgroundColor: \"#f5f5f5\",\n                fontSize: \"1.1rem\",\n              }}\n            >\n              <Grid item sm={4}>\n                Role Name\n              </Grid>\n              <Grid item sm={6}>\n                Description\n              </Grid>\n              <Grid item sm={2}>\n                Actions\n              </Grid>\n            </Grid>\n\n            {/* Table Body */}\n            {roles.map((role, index) => (\n              <Grid\n                container\n                key={role.id}\n                spacing={2}\n                sx={{\n                  py: 1.5,\n                  px: 1,\n                  borderBottom:\n                    index !== roles.length - 1 ? \"1px solid #eee\" : \"none\",\n                  backgroundColor: \"#fff\",\n                  borderRadius: { xs: 2, sm: 0 },\n                  mb: { xs: 2, sm: 0 },\n                  flexDirection: { xs: \"column\", sm: \"row\" },\n                  transition: \"background-color 0.2s ease\",\n                  \"&:hover\": {\n                    backgroundColor: \"#f5f5f5\",\n                  },\n                }}\n              >\n                {/* Role Name */}\n                <Grid item xs={12} sm={4}>\n                  <Typography\n                    fontWeight=\"bold\"\n                    sx={{ display: { sm: \"none\" }, mb: 0.5 }}\n                  >\n                    Role Name:\n                  </Typography>\n                  <Typography sx={{ wordBreak: \"break-word\" }}>\n                    {role.name}\n                  </Typography>\n                </Grid>\n\n                {/* Description */}\n                <Grid item xs={12} sm={6}>\n                  <Typography\n                    fontWeight=\"bold\"\n                    sx={{ display: { sm: \"none\" }, mb: 0.5 }}\n                  >\n                    Description:\n                  </Typography>\n                  <Typography sx={{ wordBreak: \"break-word\" }}>\n                    {role.description}\n                  </Typography>\n                </Grid>\n\n                {/* Actions */}\n                <Grid\n                  item\n                  xs={12}\n                  sm={2}\n                  sx={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: { xs: \"flex-start\", sm: \"center\" },\n                    gap: 1,\n                    mt: { xs: 1, sm: 0 },\n                  }}\n                >\n                  <IconButton\n                    color=\"primary\"\n                    onClick={() => {\n                      toast.info(\"Redirecting to Edit Role...\");\n                      navigate(`/roles/edit/${role.id}`);\n                    }}\n                  >\n                    <Edit />\n                  </IconButton>\n\n                  <IconButton\n                    color=\"error\"\n                    onClick={() => setDeleteRoleId(role.id)}\n                  >\n                    <Delete />\n                  </IconButton>\n                </Grid>\n              </Grid>\n            ))}\n          </Paper>\n        )}\n\n        {/* Delete Confirmation Dialog */}\n        <Dialog open={!!deleteRoleId} onClose={() => setDeleteRoleId(null)}>\n          <DialogTitle>Confirm Delete</DialogTitle>\n          <DialogContent>\n            <Typography>Are you sure you want to delete this role?</Typography>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => setDeleteRoleId(null)} color=\"secondary\">\n              Cancel\n            </Button>\n            <Button\n              onClick={handleDeleteRole}\n              color=\"error\"\n              variant=\"contained\"\n            >\n              Delete\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default RoleList;\n","size_bytes":10957},"qms-source/BackEnd/src/models/TaskAssignment.js":{"content":"import { DataTypes } from \"sequelize\";\nimport sequelize from \"../config/db.js\";\nimport Task from \"./Task.js\";\nimport User from \"./User.js\";\n\nconst TaskAssignment = sequelize.define(\"TaskAssignment\", {\n    id: {\n        type: DataTypes.UUID,\n        defaultValue: DataTypes.UUIDV4,\n        primaryKey: true\n    },\n    task_id: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: Task, key: \"id\" }\n    },\n    user_ids: {  // Changed from `user_id` to `user_ids`\n        type: DataTypes.JSON,  // Store multiple user IDs in an array\n        allowNull: false\n    },\n    assign_by: {\n        type: DataTypes.UUID,\n        allowNull: false,\n        references: { model: User, key: \"id\" }\n    },\n    assigned_at: {\n        type: DataTypes.DATE,\n        defaultValue: DataTypes.NOW\n    }\n}, { timestamps: false });\n\n// âœ… Define relationships\nTaskAssignment.belongsTo(Task, { foreignKey: \"task_id\" });\nTaskAssignment.belongsTo(User, { foreignKey: \"assign_by\", as: \"Assigner\" });\n//TaskAssignment.belongsTo(User, { foreignKey: \"user_id\", as: \"Assignees\" });  \n\n\nTask.hasMany(TaskAssignment, { foreignKey: \"task_id\", onDelete: 'CASCADE' });\nUser.hasMany(TaskAssignment, { foreignKey: \"assign_by\", as: \"AssignedBy\", onDelete: 'CASCADE' });\n\nexport default TaskAssignment;","size_bytes":1296},"qms-source/frontend-new/src/assets/theme-dark/components/card/cardMedia.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { borderRadius } = borders;\n\nconst cardMedia = {\n  styleOverrides: {\n    root: {\n      borderRadius: borderRadius.xl,\n      margin: `${pxToRem(16)} ${pxToRem(16)} 0`,\n    },\n\n    media: {\n      width: \"auto\",\n    },\n  },\n};\n\nexport default cardMedia;\n","size_bytes":984},"frontend-new/src/dashboard/Analytics.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport {\n  PieChart,\n  Pie,\n  Cell,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from \"recharts\";\nimport { Paper, Typography, CircularProgress, Box } from \"@mui/material\";\nimport { toast } from \"react-toastify\";\nimport axiosInstance from \"../services/axiosinstance\";\n\nconst Analytics = () => {\n  const [completion, setCompletion] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [statusSummary, setStatusSummary] = useState([]);\n  const [iterations, setIterations] = useState([]);\n  const [iterationId, setIterationId] = useState(\"\");\n  const [iterationsData, setIterationsData] = useState([]);\n  const [departmentSummary, setDepartmentSummary] = useState([]);\n  const [standard, setStandard] = useState(\"\");\n  const [typeOfFindingSummary, setTypeOfFindingSummary] = useState(null);\n\n  const taskModuleId = \"1f0f190d-3a83-421c-af98-5d081100230e\";\n\n  // Load iterations for dropdown\n  useEffect(() => {\n    const fetchIterations = async () => {\n      try {\n        const token = localStorage.getItem(\"jwtToken\");\n        const company_id = sessionStorage.getItem(\"selectedCompany\");\n\n        const response = await axiosInstance.get(`/iteration/${taskModuleId}`, {\n          headers: { Authorization: `Bearer ${token}` },\n          params: { company_id },\n        });\n        setIterations(response.data || []);\n      } catch (err) {\n        console.error(\"Failed to load iterations\", err);\n      }\n    };\n\n    fetchIterations();\n  }, []);\n\n  // Fetch task summary on iteration change\n  useEffect(() => {\n    const fetchSummary = async () => {\n      try {\n        const company_id = sessionStorage.getItem(\"selectedCompany\");\n        if (!company_id) {\n          toast.error(\"Company ID is required.\");\n          return;\n        }\n\n        const payload = { company_id };\n        if (iterationId) {\n          payload.iteration_id = iterationId;\n        }\n\n        const response = await axiosInstance.post(\n          `/tasks/task-summary/${taskModuleId}`,\n          payload,\n          {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n            },\n          }\n        );\n\n        if (iterationId && response.data.status_summary) {\n          // Convert summary to array for chart\n          const pieData = Object.entries(response.data.status_summary)\n            // .filter(([_, count]) => count > 0)\n            .map(([name, value]) => ({ name, value }));\n\n          setStatusSummary(pieData);\n          setCompletion(response.data.percentage_completed);\n          setDepartmentSummary(response.data.department_summary || []);\n          setStandard(response.data.standard || \"\");\n          setTypeOfFindingSummary(\n            response.data.Type_of_Finding_Summary || null\n          );\n        } else {\n          // Show all iterations data\n          setIterationsData(response.data.iterations || []);\n          setStatusSummary([]);\n          setCompletion(null);\n          setDepartmentSummary(response.data.department_summary || []);\n          setStandard(\"\");\n          setTypeOfFindingSummary(null);\n        }\n\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Error loading analytics:\", error);\n        toast.error(\"Failed to load analytics\");\n      }\n    };\n\n    fetchSummary();\n  }, [iterationId]);\n\n  // Loading spinner\n  if (loading) {\n    return <CircularProgress sx={{ display: \"block\", mx: \"auto\", mt: 4 }} />;\n  }\n\n  const renderCustomizedLabel = ({ name, percent, x, y }) => {\n    return percent > 0 ? (\n      <text\n        x={x}\n        y={y}\n        fill=\"#000\"\n        textAnchor=\"middle\"\n        dominantBaseline=\"central\"\n        fontSize={12}\n      >\n        {`${name} ${(percent * 100).toFixed(0)}%`}\n      </text>\n    ) : null;\n  };\n\n  const COLORS = [\n    \"#e3f2fd\",\n    \"#90caf9\",\n    \"#42a5f5\",\n    \"#1e88e5\",\n    \"#1565c0\",\n    \"#003c8f\",\n  ];\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        m: { xs: 1, sm: 2, md: 4 },\n        p: { xs: 2, sm: 3 },\n      }}\n    >\n      <Typography variant=\"h5\" gutterBottom>\n        Task Analytics\n      </Typography>\n\n      {/* Show completion % if filtered */}\n      {completion !== null && iterationId && (\n        <Typography variant=\"subtitle1\" sx={{ mb: 2 }}>\n          Overall Completion: {completion}%\n        </Typography>\n      )}\n\n      {/* Iteration filter */}\n      <Box\n        sx={{\n          width: \"100%\",\n          maxWidth: 300,\n          mb: 3,\n          ml: { xs: 0, md: \"auto\" },\n        }}\n      >\n        <Typography\n          id=\"iteration-filter-label\"\n          variant=\"subtitle2\"\n          sx={{ mb: 1, textAlign: \"left\" }}\n        >\n          Filter by Iteration\n        </Typography>\n        <select\n          aria-labelledby=\"iteration-filter-label\"\n          value={iterationId}\n          onChange={(e) => setIterationId(e.target.value)}\n          style={{\n            width: \"100%\",\n            padding: \"8px\",\n            borderRadius: \"4px\",\n            border: \"1px solid #ccc\",\n            fontSize: \"1rem\",\n            display: \"block\",\n          }}\n        >\n          <option value=\"\">All Iterations</option>\n          {iterations.map((iter) => (\n            <option key={iter.id} value={iter.id}>\n              {iter.name}\n            </option>\n          ))}\n        </select>\n      </Box>\n\n      {standard && (\n        <Typography variant=\"subtitle2\" sx={{ mb: 2, fontWeight: 500 }}>\n          Standard: {standard}\n        </Typography>\n      )}\n\n      {typeOfFindingSummary &&\n        typeOfFindingSummary.total_with_type_of_finding > 0 && (\n          <Paper\n            elevation={2}\n            sx={{\n              mb: 4,\n              p: 3,\n              borderRadius: \"0.5rem\",\n              backgroundColor: \"#fafafa\",\n            }}\n          >\n            <Typography\n              variant=\"subtitle1\"\n              sx={{\n                mb: 2,\n                textAlign: \"center\",\n                fontWeight: \"bold\",\n              }}\n            >\n              Type of Finding Summary\n            </Typography>\n            <Box sx={{ height: 300 }}>\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <PieChart>\n                  <Pie\n                    data={Object.entries(\n                      typeOfFindingSummary.type_of_finding_summary\n                    ).map(([name, value]) => ({ name, value }))}\n                    dataKey=\"value\"\n                    nameKey=\"name\"\n                    cx=\"50%\"\n                    cy=\"50%\"\n                    outerRadius=\"60%\"\n                    label={renderCustomizedLabel}\n                    minAngle={4}\n                  >\n                    {Object.entries(\n                      typeOfFindingSummary.type_of_finding_summary\n                    ).map((_, index) => (\n                      <Cell\n                        key={`cell-type-${index}`}\n                        fill={COLORS[index % COLORS.length]}\n                      />\n                    ))}\n                  </Pie>\n                  <Tooltip />\n                  <Legend\n                    verticalAlign=\"bottom\"\n                    height={36}\n                    wrapperStyle={{\n                      paddingTop: 10,\n                      fontSize: \"0.85rem\",\n                    }}\n                  />\n                </PieChart>\n              </ResponsiveContainer>\n            </Box>\n          </Paper>\n        )}\n\n      {/* pie chart for selected iteration */}\n      {iterationId ? (\n        statusSummary.length === 0 ? (\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 2 }}>\n            No data available for selected iteration.\n          </Typography>\n        ) : (\n          <>\n            {/* Status Summary Pie Chart */}\n            <Paper\n              elevation={2}\n              sx={{\n                width: \"100%\",\n                backgroundColor: \"#fafafa\",\n                borderRadius: \"0.5rem\",\n                p: 3,\n                mb: 4,\n              }}\n            >\n              <Typography\n                variant=\"subtitle1\"\n                sx={{ mb: 2, textAlign: \"center\", fontWeight: \"bold\" }}\n              >\n                Status Summary\n              </Typography>\n              <Box sx={{ height: { xs: 280, sm: 320, md: 360 } }}>\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                  <PieChart>\n                    <Pie\n                      data={statusSummary}\n                      dataKey=\"value\"\n                      nameKey=\"name\"\n                      cx=\"50%\"\n                      cy=\"50%\"\n                      outerRadius=\"60%\"\n                      label={renderCustomizedLabel}\n                      minAngle={4}\n                    >\n                      {statusSummary.map((entry, index) => (\n                        <Cell\n                          key={`cell-${index}`}\n                          fill={COLORS[index % COLORS.length]}\n                        />\n                      ))}\n                    </Pie>\n                    <Tooltip />\n                    <Legend\n                      verticalAlign=\"bottom\"\n                      height={36}\n                      wrapperStyle={{\n                        paddingTop: 10,\n                        fontSize: \"0.85rem\",\n                      }}\n                    />\n                  </PieChart>\n                </ResponsiveContainer>\n              </Box>\n            </Paper>\n\n            {/* Department-wise Summary for Single Iteration */}\n\n            {departmentSummary.length > 0 && (\n              <Box sx={{ mt: 4 }}>\n                <Typography variant=\"subtitle1\" sx={{ mb: 2 }}>\n                  Department-wise Summary:\n                </Typography>\n\n                {/* WRAPPING CONTAINER FOR RESPONSIVE LAYOUT */}\n                <Box\n                  sx={{\n                    display: \"flex\",\n                    flexWrap: \"wrap\",\n                    gap: 2,\n                    justifyContent: { xs: \"center\", md: \"flex-start\" },\n                  }}\n                >\n                  {departmentSummary.map((dept, i) => {\n                    const deptData = Object.entries(dept.status_summary).map(\n                      ([name, value]) => ({ name, value })\n                    );\n                    return (\n                      <Paper\n                        key={i}\n                        sx={{\n                          p: 2,\n                          flex: \"1 1 280px\",\n                          minWidth: \"260px\",\n                          maxWidth: \"100%\",\n                          borderRadius: \"0.5rem\",\n                          backgroundColor: \"#f9f9f9\",\n                        }}\n                      >\n                        <Typography\n                          variant=\"subtitle2\"\n                          sx={{\n                            fontWeight: \"bold\",\n                            mb: 1,\n                            textAlign: \"center\",\n                          }}\n                        >\n                          {dept.department.name}\n                        </Typography>\n                        <Box sx={{ height: 220, padding: 1 }}>\n                          <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <PieChart>\n                              <Pie\n                                data={deptData}\n                                dataKey=\"value\"\n                                nameKey=\"name\"\n                                cx=\"50%\"\n                                cy=\"50%\"\n                                outerRadius={60}\n                                paddingAngle={2}\n                                label={renderCustomizedLabel}\n                                minAngle={4}\n                              >\n                                {deptData.map((entry, index) => (\n                                  <Cell\n                                    key={`cell-dept-${index}`}\n                                    fill={COLORS[index % COLORS.length]}\n                                  />\n                                ))}\n                              </Pie>\n                              <Tooltip />\n                              <Legend\n                                verticalAlign=\"bottom\"\n                                height={36}\n                                wrapperStyle={{\n                                  paddingTop: 10,\n                                  fontSize: \"0.85rem\",\n                                }}\n                              />\n                            </PieChart>\n                          </ResponsiveContainer>\n                        </Box>\n                      </Paper>\n                    );\n                  })}\n                </Box>\n              </Box>\n            )}\n          </>\n        )\n      ) : iterationsData.length === 0 ? (\n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 2 }}>\n          No data available.\n        </Typography>\n      ) : (\n        // pie charts for all iterations\n        iterationsData.map((item, idx) => {\n          const barData = Object.entries(item.status_summary).map(\n            ([name, value]) => ({ name, value })\n          );\n\n          if (barData.length === 0) return null;\n\n          return (\n            <Paper\n              key={idx}\n              elevation={2}\n              sx={{\n                mb: 4,\n                p: 3,\n                borderRadius: \"0.5rem\",\n                backgroundColor: \"#fafafa\",\n              }}\n            >\n              <Typography\n                variant=\"h6\"\n                gutterBottom\n                sx={{ borderBottom: \"2px solid #1976d2\", pb: 1, mb: 3 }}\n              >\n                {item.iteration.name || \"Unassigned\"}\n              </Typography>\n              <Typography variant=\"subtitle2\" sx={{ mb: 3 }}>\n                Completion: {item.percentage_completed}%\n              </Typography>\n\n              {item.standard && (\n                <Typography variant=\"subtitle2\" sx={{ mb: 1 }}>\n                  Standard: {item.standard}\n                </Typography>\n              )}\n\n              {item.Type_of_Finding_Summary &&\n                item.Type_of_Finding_Summary.total_with_type_of_finding > 0 && (\n                  <Paper\n                    elevation={2}\n                    sx={{\n                      mb: 4,\n                      p: 3,\n                      borderRadius: \"0.5rem\",\n                      backgroundColor: \"#fafafa\",\n                    }}\n                  >\n                    <Typography\n                      variant=\"subtitle1\"\n                      sx={{\n                        mb: 2,\n                        textAlign: \"center\",\n                        fontWeight: \"bold\",\n                      }}\n                    >\n                      Type of Finding Summary\n                    </Typography>\n                    <Box sx={{ height: 300 }}>\n                      <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <PieChart>\n                          <Pie\n                            data={Object.entries(\n                              item.Type_of_Finding_Summary\n                                .type_of_finding_summary\n                            ).map(([name, value]) => ({ name, value }))}\n                            dataKey=\"value\"\n                            nameKey=\"name\"\n                            cx=\"50%\"\n                            cy=\"50%\"\n                            outerRadius=\"60%\"\n                            label={renderCustomizedLabel}\n                            minAngle={4}\n                          >\n                            {Object.entries(\n                              item.Type_of_Finding_Summary\n                                .type_of_finding_summary\n                            ).map((_, index) => (\n                              <Cell\n                                key={`cell-type-${index}`}\n                                fill={COLORS[index % COLORS.length]}\n                              />\n                            ))}\n                          </Pie>\n                          <Tooltip />\n                          <Legend\n                            verticalAlign=\"bottom\"\n                            height={36}\n                            wrapperStyle={{\n                              paddingTop: 10,\n                              fontSize: \"0.85rem\",\n                            }}\n                          />\n                        </PieChart>\n                      </ResponsiveContainer>\n                    </Box>\n                  </Paper>\n                )}\n\n              {/*  Status Summary */}\n              <Paper\n                elevation={2}\n                sx={{\n                  width: \"100%\",\n                  backgroundColor: \"#fafafa\",\n                  borderRadius: \"0.5rem\",\n                  p: 3,\n                  mb: 4,\n                }}\n              >\n                <Typography\n                  variant=\"subtitle1\"\n                  sx={{ mb: 2, textAlign: \"center\", fontWeight: \"bold\" }}\n                >\n                  Status Summary\n                </Typography>\n                <Box sx={{ height: { xs: 280, sm: 320, md: 360 } }}>\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <PieChart>\n                      <Pie\n                        data={barData}\n                        dataKey=\"value\"\n                        nameKey=\"name\"\n                        cx=\"50%\"\n                        cy=\"50%\"\n                        outerRadius=\"60%\"\n                        label={renderCustomizedLabel}\n                        minAngle={4}\n                      >\n                        {barData.map((entry, index) => (\n                          <Cell\n                            key={`cell-${index}`}\n                            fill={COLORS[index % COLORS.length]}\n                          />\n                        ))}\n                      </Pie>\n                      <Tooltip />\n                      <Legend\n                        verticalAlign=\"bottom\"\n                        height={36}\n                        wrapperStyle={{\n                          paddingTop: 10,\n                          fontSize: \"0.85rem\",\n                        }}\n                      />\n                    </PieChart>\n                  </ResponsiveContainer>\n                </Box>\n              </Paper>\n\n              {/* Department-wise Summary */}\n              {item.department_summary &&\n                item.department_summary.length > 0 && (\n                  <Box sx={{ mt: 4 }}>\n                    <Typography variant=\"subtitle1\" sx={{ mb: 2 }}>\n                      Department-wise Summary:\n                    </Typography>\n\n                    <Box\n                      sx={{\n                        display: \"flex\",\n                        flexWrap: \"wrap\",\n                        gap: 2,\n                        justifyContent: { xs: \"center\", md: \"flex-start\" },\n                      }}\n                    >\n                      {item.department_summary.map((dept, i) => {\n                        const deptData = Object.entries(\n                          dept.status_summary\n                        ).map(([name, value]) => ({ name, value }));\n\n                        return (\n                          <Paper\n                            key={i}\n                            sx={{\n                              p: 2,\n                              flex: \"1 1 280px\",\n                              minWidth: \"260px\",\n                              maxWidth: \"100%\",\n                              borderRadius: \"0.5rem\",\n                              backgroundColor: \"#f9f9f9\",\n                            }}\n                          >\n                            <Typography\n                              variant=\"subtitle2\"\n                              sx={{\n                                fontWeight: \"bold\",\n                                mb: 1,\n                                textAlign: \"center\",\n                              }}\n                            >\n                              {dept.department.name}\n                            </Typography>\n                            <Box sx={{ height: 220, padding: 1 }}>\n                              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                                <PieChart>\n                                  <Pie\n                                    data={deptData}\n                                    dataKey=\"value\"\n                                    nameKey=\"name\"\n                                    cx=\"50%\"\n                                    cy=\"50%\"\n                                    outerRadius={60}\n                                    paddingAngle={2}\n                                    label={renderCustomizedLabel}\n                                    minAngle={4}\n                                  >\n                                    {deptData.map((entry, index) => (\n                                      <Cell\n                                        key={`cell-dept-${index}`}\n                                        fill={COLORS[index % COLORS.length]}\n                                      />\n                                    ))}\n                                  </Pie>\n                                  <Tooltip />\n                                  <Legend\n                                    verticalAlign=\"bottom\"\n                                    height={36}\n                                    wrapperStyle={{\n                                      paddingTop: 10,\n                                      fontSize: \"0.85rem\",\n                                    }}\n                                  />\n                                </PieChart>\n                              </ResponsiveContainer>\n                            </Box>\n                          </Paper>\n                        );\n                      })}\n                    </Box>\n                  </Box>\n                )}\n            </Paper>\n          );\n        })\n      )}\n    </Paper>\n  );\n};\n\nexport default Analytics;\n","size_bytes":22214},"frontend-new/src/assets/theme/components/dialog/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\n\nconst { borderRadius } = borders;\nconst { xxl } = boxShadows;\n\nconst dialog = {\n  styleOverrides: {\n    paper: {\n      borderRadius: borderRadius.lg,\n      boxShadow: xxl,\n    },\n\n    paperFullScreen: {\n      borderRadius: 0,\n    },\n  },\n};\n\nexport default dialog;\n","size_bytes":935},"frontend-new/src/pages/user_management/CreateUser.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { jwtDecode } from \"jwt-decode\";\nimport {\n  Container,\n  Paper,\n  TextField,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Button,\n  CircularProgress,\n  Typography,\n  Box,\n} from \"@mui/material\";\n\nconst token = localStorage.getItem(\"jwtToken\");\nconst decodedToken = token ? jwtDecode(token) : null;\nconst superAdminCompanyId = decodedToken?.company || \"\";\nconst sessionCompanyId = sessionStorage.getItem(\"selectedCompany\");\n\nconst CreateUser = () => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [companyId, setCompanyId] = useState(\"\");\n  const [roleId, setRoleId] = useState(\"\");\n  const [reportTo, setReportTo] = useState(\"\");\n  const [roles, setRoles] = useState([]);\n  const [companies, setCompanies] = useState([]);\n  const [higherRoleUsers, setHigherRoleUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [departments, setDepartments] = useState([]);\n  const [departmentId, setDepartmentId] = useState(\"\");\n\n  const roleModuleId = \"971a88b8-461e-4cd2-9a06-fce42ad6b806\";\n  const companyModuleId = \"5d896834-fedd-4e0b-a882-8d05396fc346\";\n  const userModuleId = \"bd168912-e40c-48e3-b3d1-440a3e129d52\";\n  let company_id = sessionStorage.getItem(\"selectedCompany\");\n  \n  // Fetch Companies & Roles\n  useEffect(() => {\n    const sessionCompanyId = sessionStorage.getItem(\"selectedCompany\");\n    setCompanyId(sessionCompanyId);\n  }, []);\n\n  useEffect(() => {\n    axiosInstance\n      .get(`/companies/${companyModuleId}`)\n      .then((res) => {\n        setCompanies(res.data);\n        if (res.data.length > 0 && !superAdminCompanyId)\n          setCompanyId(res.data[0].id);\n      })\n      .catch(() => toast.error(\"Failed to load companies\"))\n      .finally(() => setLoading(false));\n\n    axiosInstance\n      .get(`/roles/${roleModuleId}`, {\n        params: company_id ? { company_id } : {}, // Pass company_id only if it exists\n      })\n\n      .then((res) => setRoles(res.data))\n      .catch(() => toast.error(\"Failed to load roles\"));\n  }, [companyId]);\n\n  // Fetch Higher Role Users when role is selected\n  useEffect(() => {\n    if (!roleId) {\n      setHigherRoleUsers([]);\n      return;\n    }\n\n    axiosInstance\n      .get(`/users/${userModuleId}//getUsersWithHigherRole`, {\n        params: { company_id: companyId, role_id: roleId },\n      })\n      .then((res) => {\n        if (res.data.length === 0) {\n          toast.info(\"No higher role exists for the selected role.\");\n        } else {\n          setHigherRoleUsers(res.data);\n        }\n      })\n      .catch(() => toast.error(\"Failed to load higher role users\"));\n  }, [roleId]);\n\n  useEffect(() => {\n    const loadDepartments = async () => {\n      if (!company_id) {\n        toast.error(\"Company ID is missing. Please select a company.\");\n        console.error(\"Missing company ID for department load\");\n        return;\n      }\n\n      try {\n        const config = {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"jwtToken\")}`,\n          },\n          params: {\n            company_id,\n          },\n        };\n\n        const res = await axiosInstance.get(\n          `/department/${userModuleId}`,\n          config\n        );\n        setDepartments(res.data || []);\n      } catch (error) {\n        const errorMsg =\n          error?.response?.data?.error ||\n          error?.response?.data?.message ||\n          error?.message ||\n          \"Unknown error\";\n\n        console.error(\"Error fetching departments:\", errorMsg, error.response);\n        toast.error(`Failed to fetch departments: ${errorMsg}`);\n      }\n    };\n\n    loadDepartments();\n  }, [companyId]);\n\n  const handleRoleChange = async (e) => {\n    const selectedRoleId = e.target.value;\n    setRoleId(selectedRoleId);\n    setReportTo(\"\"); // Reset Report To field when role changes\n\n    if (!companyId) {\n      toast.error(\"Company ID is required for System Super Admin.\");\n      console.warn(\"Missing companyId for System Super Admin.\");\n      return;\n    }\n\n    try {\n      console.log(\"Fetching users with higher role...\", {\n        company_id: companyId,\n        role_id: selectedRoleId,\n      });\n\n      const response = await axiosInstance.get(\n        `/users/${userModuleId}//getUsersWithHigherRole`,\n        {\n          params: { company_id: companyId, role_id: selectedRoleId },\n        }\n      );\n\n      console.log(\"API Response:\", response.data);\n\n      if (response.data?.length > 0) {\n        setHigherRoleUsers(response.data);\n      } else {\n        toast.info(\"No higher role users available for the selected role.\");\n        setHigherRoleUsers([]);\n      }\n    } catch (error) {\n      console.error(\n        \"Error fetching higher role users:\",\n        error.response?.data || error.message\n      );\n\n      // Extract the error message from API response\n      const errorMessage =\n        error.response?.data?.error || \"Failed to load higher role users.\";\n\n      if (errorMessage !== \"No higher role exists for the given Role ID.\") {\n        toast.error(errorMessage);\n      } else {\n        console.log(\"No higher role exists.\");\n      }\n      setHigherRoleUsers([]); // Clear state in case of API failure\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!name || !email || !companyId || !roleId) {\n      toast.error(\"All fields are required.\");\n      return;\n    }\n\n    setSubmitting(true);\n    try {\n      const response = await axiosInstance.post(`/users/${userModuleId}`, {\n        name,\n        email,\n        company_id: companyId,\n        role_id: roleId,\n        reportTo: reportTo || null, // Send null if not selected\n        department_id: departmentId || null,\n      });\n\n      toast.success(response.data.message || \"User created successfully!\");\n      setTimeout(() => {\n        handleCancel();\n      }, 1500);\n    } catch (error) {\n      if (error.response?.status === 409) {\n        toast.error(error.response.data.error); // Show backend message\n      } else {\n        toast.error(\n          error.response?.data?.error || \"An error occurred. Please try again.\"\n        );\n      }\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleCancel = () => {\n    window.history.back();\n  };\n\n  if (loading)\n    return (\n      <CircularProgress sx={{ display: \"block\", margin: \"auto\", mt: 5 }} />\n    );\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Paper\n        elevation={4}\n        sx={{\n          p: 4,\n          mx: 8,\n          borderRadius: 3,\n          bgcolor: \"#f9f9f9\",\n          boxShadow: \"0px 4px 12px rgba(0, 0, 0, 0.1)\",\n          mt: 4,\n        }}\n      >\n        <Typography\n          variant=\"h5\"\n          sx={{ fontWeight: 600, textAlign: \"center\", mb: 3 }}\n        >\n          Create New User\n        </Typography>\n\n        <form onSubmit={handleSubmit}>\n          <Box sx={{ display: \"grid\", gap: 2 }}>\n            <TextField\n              label=\"Name\"\n              variant=\"outlined\"\n              fullWidth\n              required\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            />\n\n            <TextField\n              label=\"Email\"\n              type=\"email\"\n              variant=\"outlined\"\n              fullWidth\n              required\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n\n            {/* Company Dropdown - Pre-selected for System Super Admin */}\n            <FormControl fullWidth variant=\"outlined\">\n              <InputLabel>Company</InputLabel>\n              <Select\n                value={companyId}\n                onChange={(e) => {\n                  setCompanyId(e.target.value);\n                  setRoleId(\"\");\n                  setReportTo(\"\");\n                  setRoles([]);\n                }}\n                label=\"Company\"\n                disabled={!!superAdminCompanyId}\n              >\n                {companies.map((company) => (\n                  <MenuItem key={company.id} value={company.id}>\n                    {company.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            {/* Role Dropdown */}\n            <FormControl fullWidth variant=\"outlined\">\n              <InputLabel>Role</InputLabel>\n              <Select\n                value={roleId}\n                onChange={handleRoleChange}\n                required\n                label=\"Role\"\n              >\n                <MenuItem value=\"\" disabled>\n                  Select Role\n                </MenuItem>\n                {roles.map((role) => (\n                  <MenuItem key={role.id} value={role.id}>\n                    {role.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            {/* Report To Dropdown - Fetches Higher Role Users */}\n            <FormControl fullWidth variant=\"outlined\">\n              <InputLabel>Report To</InputLabel>\n              <Select\n                value={reportTo}\n                onChange={(e) => setReportTo(e.target.value)}\n                label=\"Report To\"\n                disabled={higherRoleUsers.length === 0}\n              >\n                <MenuItem value=\"\">None</MenuItem>\n                {higherRoleUsers.map((user) => (\n                  <MenuItem key={user.id} value={user.id}>\n                    {user.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            {/* Department  Dropdown  */}\n            <FormControl fullWidth variant=\"outlined\">\n              <InputLabel>Department</InputLabel>\n              <Select\n                value={departmentId}\n                onChange={(e) => setDepartmentId(e.target.value)}\n                label=\"Department\"\n              >\n                <MenuItem value=\"\">None</MenuItem>\n                {departments.map((dept) => (\n                  <MenuItem key={dept.id} value={dept.id}>\n                    {dept.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Box>\n\n          <Box\n            sx={{\n              display: \"flex\",\n              flexDirection: { xs: \"column\", sm: \"row\" },\n              justifyContent: \"flex-end\",\n              gap: 2,\n              mt: 4,\n            }}\n          >\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={submitting}\n              sx={{\n                px: 4,\n                py: 1.5,\n                fontSize: \"16px\",\n                borderRadius: 2,\n                boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.2)\",\n                minWidth: \"140px\",\n              }}\n            >\n              {submitting ? (\n                <CircularProgress size={24} color=\"inherit\" />\n              ) : (\n                \"Create User\"\n              )}\n            </Button>\n\n            <Button\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={handleCancel}\n              disabled={submitting}\n              sx={{\n                px: 4,\n                py: 1.5,\n                fontSize: \"16px\",\n                borderRadius: 2,\n                borderWidth: \"2px\",\n                \":hover\": { borderWidth: \"2px\" },\n                minWidth: \"140px\",\n              }}\n            >\n              Cancel\n            </Button>\n          </Box>\n        </form>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default CreateUser;\n","size_bytes":11685},"qms-source/frontend-new/src/Components/Header/style.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\nfunction navbar(theme, ownerState) {\n    const { palette, boxShadows, functions, transitions, breakpoints, borders } = theme;\n    const { transparentNavbar, absolute, light, darkMode } = ownerState;\n  \n    const { dark, white, text, transparent, background } = palette;\n    const { navbarBoxShadow } = boxShadows;\n    const { rgba, pxToRem } = functions;\n    const { borderRadius } = borders;\n    \n    return {\n      boxShadow: transparentNavbar || absolute ? \"none\" : navbarBoxShadow,\n      backdropFilter: transparentNavbar || absolute ? \"none\" : `saturate(200%) blur(${pxToRem(30)})`,\n      backgroundColor:\n        transparentNavbar || absolute\n          ? `${transparent.main} !important`\n          : rgba(darkMode ? background.default : white.main, 0.8),\n  \n      color: () => {\n        let color;\n  \n        if (light) {\n          color = white.main;\n        } else if (transparentNavbar) {\n          color = text.main;\n        } else {\n          color = dark.main;\n        }\n  \n        return color;\n      },\n      top: absolute ? 0 : pxToRem(12),\n      minHeight: pxToRem(75),\n      display: \"grid\",\n      alignItems: \"center\",\n      borderRadius: borderRadius.xl,\n      paddingTop: pxToRem(8),\n      paddingBottom: pxToRem(8),\n      paddingRight: absolute ? pxToRem(8) : 0,\n      paddingLeft: absolute ? pxToRem(16) : 0,\n      \"& > *\": {\n        transition: transitions.create(\"all\", {\n          easing: transitions.easing.easeInOut,\n          duration: transitions.duration.standard,\n        }),\n      },\n  \n      \"& .MuiToolbar-root\": {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n  \n        [breakpoints.up(\"sm\")]: {\n          minHeight: \"auto\",\n          padding: `${pxToRem(4)} ${pxToRem(16)}`,\n        },\n      },\n    };\n  }\n  \n  const navbarContainer = ({ breakpoints }) => ({\n    display: \"flex\",\n    justifyContent: \"end !important\",\n    pt: 0.5,\n    pb: 0.5,\n    marginLeft: 4,\n    [breakpoints.up(\"md\")]: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      paddingTop: \"0\",\n      paddingBottom: \"0\",\n    },\n  });\n  \n  const navbarRow = ({ breakpoints }, { isMini }) => ({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    width: \"100%\",\n  \n    [breakpoints.up(\"md\")]: {\n      justifyContent: isMini ? \"space-between\" : \"stretch\",\n      width: isMini ? \"100%\" : \"max-content\",\n    },\n  \n    [breakpoints.up(\"xl\")]: {\n      justifyContent: \"stretch !important\",\n      width: \"max-content !important\",\n    },\n  });\n  \n  const navbarIconButton = ({ typography: { size }, breakpoints }) => ({\n    px: 1,\n  \n    \"& .material-icons, .material-icons-round\": {\n      fontSize: `${size.xl} !important`,\n    },\n  \n    \"& .MuiTypography-root\": {\n      display: \"none\",\n  \n      [breakpoints.up(\"sm\")]: {\n        display: \"inline-block\",\n        lineHeight: 1.2,\n        ml: 0.5,\n      },\n    },\n  });\n  \n  const navbarMobileMenu = ({ breakpoints }) => ({\n    display: \"inline-block\",\n    lineHeight: 0,\n  \n    [breakpoints.up(\"xl\")]: {\n      display: \"none\",\n    },\n  });\n  \n  export { navbar, navbarContainer, navbarRow, navbarIconButton, navbarMobileMenu };\n  ","size_bytes":3695},"BackEnd/src/routes/generalDocumentsRoutes.js":{"content":"import express from \"express\";\nimport { createFolder, uploadGeneralDocument, listDocuments,deleteDocument,deleteFolder,updateFolder,updateDocument } from \"../controllers/generalDocumentController.js\";\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post(\"/folder/:moduleId\",authenticateUser,checkPermission(\"write\"), createFolder);\nrouter.post(\"/document/:moduleId\",authenticateUser,checkPermission(\"write\"), uploadGeneralDocument);\n//router.post(\"/uploadFolder/:moduleId\",authenticateUser,checkPermission(\"write\"), uploadFolder);\nrouter.put(\"/folder/:moduleId\",authenticateUser,checkPermission(\"write\"), updateFolder);\nrouter.put(\"/document/:moduleId\",authenticateUser,checkPermission(\"write\"), updateDocument);\nrouter.get(\"/:moduleId/:folderId\",authenticateUser,checkPermission(\"read\"), listDocuments);\nrouter.delete(\"/document/:moduleId/:document_id\",authenticateUser, checkPermission(\"delete\"),deleteDocument);\nrouter.delete(\"/folder/:moduleId/:folder_id\",authenticateUser, checkPermission(\"delete\"),deleteFolder);\n\nexport default router;","size_bytes":1174},"qms-source/BackEnd/src/controllers/roleController.js":{"content":"import Role from '../models/Role.js';\nimport User from \"../models/User.js\";\nimport sequelize from \"../config/db.js\";\nimport Module from '../models/Module.js';\nimport RoleModulePermission from '../models/RoleModulesPermissions.js';\n\nexport const createRole = async (req, res) => {\n  const transaction = await sequelize.transaction();\n  try {\n    const { name, description, parent_role_id, company_id } = req.body;\n    const createdBy = req.user.id;\n\n    // Fetch user's role\n    const user = await User.findByPk(createdBy, {\n      include: [{ model: Role, attributes: [\"name\"], required: true }],\n    });\n\n    if (!user) {\n      return res.status(404).json({ error: \"User not found\" });\n    }\n\n    const userRole = user.Role ? user.Role.name : null;\n    let assignedCompanyId;\n\n    if (userRole === \"System Super Admin\") {\n      if (!company_id) {\n        return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n      }\n      assignedCompanyId = company_id;\n    } else {\n      assignedCompanyId = req.user.company;\n\n      if (!assignedCompanyId) {\n        return res.status(400).json({ error: \"Company ID is not assigned to your account.\" });\n      }\n    }\n\n    if (name.toLowerCase() === \"system super admin\") {\n      return res.status(403).json({ error: '\"System Super Admin\" role cannot be created manually.' });\n    }\n\n    // Create role\n    const role = await Role.create({\n      name,\n      description,\n      parent_role_id,\n      company_id: assignedCompanyId,\n    }, { transaction });\n\n    // Fetch all modules\n    const modules = await Module.findAll({ transaction });\n\n    if (!modules.length) {\n      throw new Error(\"No modules found. Please check the Modules table.\");\n    }\n\n    // Add default read/write permissions for each module\n    const permissionsToCreate = modules.map(module => ({\n      role_id: role.id,\n      module_id: module.id,\n      can_read: true,\n      can_write: true,\n      can_delete: false, // optional: change as needed\n    }));\n\n    await RoleModulePermission.bulkCreate(permissionsToCreate, { transaction });\n\n    await transaction.commit();\n\n    res.status(201).json({ message: \"Role created successfully with default permissions\", role });\n  } catch (error) {\n    await transaction.rollback();\n    res.status(500).json({ error: error.message });\n  }\n};\n\n  \n\nconst updateRoleDetails = async (req, res) => {\n    try {\n        const { name, description, parent_role_id } = req.body;\n        const role = await Role.findByPk(req.params.id);\n\n        if (!role) return res.status(404).json({ error: 'Role not found' });\n\n        // Validate parent role if provided\n        if (parent_role_id && parent_role_id !== role.id) {\n            const parentRole = await Role.findByPk(parent_role_id);\n            if (!parentRole) {\n                return res.status(400).json({ error: 'Invalid parent_role_id' });\n            }\n        }\n          \n        if (role.name.toLowerCase() === \"system super admin\") {\n          return res.status(403).json({ error: 'You are not allowed to modify \"System Super Admin\" role.' });\n        }\n        \n        if (name && name.toLowerCase() === \"system super admin\") {\n          return res.status(403).json({ error: 'Renaming any role to \"System Super Admin\" is not allowed.' });\n        }\n        \n        await role.update({ name, description, parent_role_id });\n        res.json({ message: 'Role updated successfully', role });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport const getRoleDetails = async (req, res) => {\n    try {\n      const user_id = req.user.id;\n      const role_id = req.params.id;\n  \n      // Fetch user role\n      const user = await User.findByPk(user_id, {\n        include: [{ model: Role, attributes: [\"name\"], required: true }],\n      });\n  \n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n  \n      const userRole = user.Role ? user.Role.name : null;\n      let company_id;\n  \n      if (userRole === \"System Super Admin\") {\n        company_id = req.query.company_id || req.body.company_id; // Accept from query or body\n        if (!company_id) {\n          return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n        }\n      } else {\n        company_id = req.user.company;\n        if (!company_id) {\n          return res.status(400).json({ error: \"Company ID is not assigned to your account.\" });\n        }\n      }\n  \n      if (role_id) {\n        // Fetch specific role details by ID\n        const role = await Role.findOne({ where: { id: role_id, company_id } });\n        if (!role) {\n          return res.status(404).json({ error: \"Role not found\" });\n        }\n        return res.json(role);\n      }\n  \n      // Fetch all roles if no specific ID is provided\n      const roles = await Role.findAll({ where: { company_id } });\n      res.json(roles);\n    } catch (error) {\n      res.status(500).json({ error: error.message });\n    }\n  };\n  \n\n  export const softDeleteRole = async (req, res) => {\n    try {\n        const role = await Role.findByPk(req.params.id);\n\n        if (!role) {\n            return res.status(404).json({ error: \"Role not found\" });\n        }\n\n        if (role.name.toLowerCase() === \"system super admin\") {\n            return res.status(403).json({ error: 'Cannot delete \"System Super Admin\" role.' });\n        }\n\n        // Check for active users assigned to this role\n        const assignedUsers = await User.findAll({\n            where: {\n                role_id: role.id,\n                is_active: true\n            },\n            attributes: ['name', 'email']\n        });\n\n        if (assignedUsers.length > 0) {\n            const userNames = assignedUsers.map(u => `${u.name} (${u.email})`).join(', ');\n            return res.status(400).json({\n                error: `Cannot delete role. It is assigned to the following active user(s): ${userNames}. Please assign a different role to these user(s) before deleting this role.`\n            });\n        }\n\n        await role.destroy(); // Soft delete (paranoid mode)\n\n        res.json({ message: \"Role deleted successfully\" });\n    } catch (error) {\n        console.error(\"Error in softDeleteRole:\", error);\n        res.status(500).json({ error: error.message });\n    }\n};\n\n  \n  \n\nexport default { createRole, updateRoleDetails, getRoleDetails,softDeleteRole  };\n\n\n\n\n\n// import Role from '../models/Role.js';\n\n// const createRole = async (req, res) => {\n//     try {\n//         const { name, description } = req.body;\n\n//         if (!name || !description) return res.status(400).json({ error: 'Name and description are required' });\n\n//         const newRole = await Role.create({ name, description });\n//         res.status(201).json({ message: 'Role created successfully', roleId: newRole.id });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// const updateRoleDetails = async (req, res) => {\n//     try {\n//         const { name, description } = req.body;\n//         const role = await Role.findByPk(req.params.id);\n\n//         if (!role) return res.status(404).json({ error: 'Role not found' });\n\n//         await role.update({ name, description });\n//         res.json({ message: 'Role updated successfully', role });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// const getRoleDetails = async (req, res) => {\n//     try {\n//         let role;\n//         if (req.params.id) {\n//             role = await Role.findByPk(req.params.id);\n//             if (!role) return res.status(404).json({ error: 'Role not found' });\n//         } else {\n//             role = await Role.findAll({ order: [['name', 'ASC']] }); // Sorting alphabetically by name\n//         }\n\n//         res.json(role);\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// export default { createRole, updateRoleDetails, getRoleDetails };\n","size_bytes":8003},"server/storage.ts":{"content":"import { type User, type InsertUser } from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\n\n// modify the interface with any CRUD methods\n// you might need\n\nexport interface IStorage {\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<string, User>;\n\n  constructor() {\n    this.users = new Map();\n  }\n\n  async getUser(id: string): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.username === username,\n    );\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = randomUUID();\n    const user: User = { ...insertUser, id };\n    this.users.set(id, user);\n    return user;\n  }\n}\n\nexport const storage = new MemStorage();\n","size_bytes":993},"qms-source/frontend-new/src/assets/theme-dark/components/dialog/dialogTitle.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme-dark/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { size } = typography;\n\nconst dialogTitle = {\n  styleOverrides: {\n    root: {\n      padding: pxToRem(16),\n      fontSize: size.xl,\n    },\n  },\n};\n\nexport default dialogTitle;\n","size_bytes":914},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"qms-source/frontend-new/src/assets/theme-dark/components/card/cardContent.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst cardContent = {\n  styleOverrides: {\n    root: {\n      marginTop: 0,\n      marginBottom: 0,\n      padding: `${pxToRem(8)} ${pxToRem(24)} ${pxToRem(24)}`,\n    },\n  },\n};\n\nexport default cardContent;\n","size_bytes":833},"qms-source/frontend-new/src/assets/theme-dark/components/stepper/stepIcon.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport boxShadow from \"assets/theme-dark/functions/boxShadow\";\n\nconst { white } = colors;\n\nconst stepIcon = {\n  styleOverrides: {\n    root: {\n      background: \"#9fc9ff\",\n      fill: \"#9fc9ff\",\n      stroke: \"#9fc9ff\",\n      strokeWidth: pxToRem(10),\n      width: pxToRem(13),\n      height: pxToRem(13),\n      borderRadius: \"50%\",\n      zIndex: 99,\n      transition: \"all 200ms linear\",\n\n      \"&.Mui-active\": {\n        background: white.main,\n        fill: white.main,\n        stroke: white.main,\n        borderColor: white.main,\n        boxShadow: boxShadow([0, 0], [0, 2], white.main, 1),\n      },\n\n      \"&.Mui-completed\": {\n        background: white.main,\n        fill: white.main,\n        stroke: white.main,\n        borderColor: white.main,\n        boxShadow: boxShadow([0, 0], [0, 2], white.main, 1),\n      },\n    },\n  },\n};\n\nexport default stepIcon;\n","size_bytes":1583},"BackEnd/src/routes/commentRoutes.js":{"content":"import express from \"express\";\nimport { addComment, getComments, deleteComment } from \"../controllers/commentController.js\";\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\nconst router = express.Router();\n\nrouter.post(\"/:moduleId\",authenticateUser,checkPermission(\"write\") ,addComment);\nrouter.get(\"/:moduleId/:task_id\",authenticateUser, checkPermission(\"read\"),getComments);\nrouter.delete(\"/:moduleId/:id\",authenticateUser,checkPermission(\"delete\"), deleteComment);\n\nexport default router;\n","size_bytes":582},"BackEnd/src/utils/bootstrapSystemSuperAdmin.js":{"content":"\nimport sequelize from '../config/db.js';\n\nimport Company from '../models/Company.js';\nimport Role from '../models/Role.js';\nimport User from '../models/User.js';\nimport Module from '../models/Module.js';\nimport RoleModulePermission from '../models/RoleModulesPermissions.js';\nimport generateRandomPassword from '../utils/generateRandomPassword.js';\nimport sendEmail from './sendEmail.js'; // Make sure this exists\nimport bcrypt from 'bcryptjs';\n\n// Configuration with fixed credentials\nexport const defaultCompanyName = 'IDATUM';\nconst defaultAdminEmail = 'admin@idatum.com';\nconst defaultAdminName = 'System Admin';\nconst defaultAdminPassword = 'Admin@123'; // Fixed password\n\nconst bootstrapSystemSuperAdmin = async () => {\n    try {\n        // Step 1: Always ensure modules exist (idempotent)\n        const existingModules = await Module.findAll();\n\n        if (existingModules.length === 0) {\n            await sequelize.query(`\n                INSERT INTO \"Module\" (id, name, description, \"createdAt\", \"updatedAt\") VALUES \n                ('1f0f190d-3a83-421c-af98-5d081100230e','Task','This is Task Module','2025-02-24 17:06:52','2025-02-24 17:06:52'),\n                ('2566950b-1718-4440-8b8d-d5ec94624d0f','TaskChangeLog','This is TaskChangeLog Module','2025-02-24 17:37:38','2025-02-24 17:37:38'),\n                ('2f06d3b2-9121-4a2b-a5fe-7f1e4aae7270','Permissions','This is Permissions Module','2025-02-24 17:29:25','2025-02-24 17:29:25'),\n                ('4a060652-4c92-47d8-9515-e500da5e94ef','Dashboard','This is Dashboard Module','2025-02-15 11:18:11','2025-02-28 16:39:32'),\n                ('5d896834-fedd-4e0b-a882-8d05396fc346','Company','This is company Module','2025-02-14 11:41:01','2025-02-14 11:41:01'),\n                ('71ecaf10-9967-43eb-928e-11a7c810b591','Comment','This is Comment Module','2025-02-24 17:31:12','2025-02-24 17:31:12'),\n                ('8530da98-7369-4ab7-9400-37cf4019e148','TaskAssignment','This is TaskAssignment Module','2025-02-24 17:30:15','2025-02-24 17:30:15'),\n                ('881fc061-b852-4a9b-a430-ea96ba99194d','Module','This is Module','2025-02-24 17:28:35','2025-02-24 17:28:35'),\n                ('971a88b8-461e-4cd2-9a06-fce42ad6b806','Role','This is Role Module updated','2025-02-14 11:42:03','2025-02-18 12:13:47'),\n                ('bd168912-e40c-48e3-b3d1-440a3e129d52','User','This is User Module','2025-02-14 11:41:32','2025-02-14 11:41:32'),\n                ('cb5010bc-83fd-4409-9845-bbba4ceda9c8','Document','This is Document Module','2025-02-24 17:36:56','2025-02-24 17:36:56');\n            `);\n            console.log('âœ… Modules table inserted with predefined data.');\n        } else {\n            console.log('â„¹ï¸ Modules already present. Skipping insert.');\n        }\n\n        // Step 2: Check if company and System Super Admin already exist\n        const existingCompany = await Company.findOne({ where: { name: defaultCompanyName } });\n        \n        if (existingCompany) {\n            console.log('â„¹ï¸ Default company already exists.');\n            \n            // Ensure System Super Admin role exists\n            let superAdminRole = await Role.findOne({ \n                where: { \n                    name: 'System Super Admin',\n                    company_id: existingCompany.id \n                } \n            });\n            \n            if (!superAdminRole) {\n                console.log('âš ï¸ System Super Admin role missing, creating it now...');\n                superAdminRole = await Role.create({\n                    name: 'System Super Admin',\n                    company_id: existingCompany.id,\n                });\n            }\n            \n            // Step 3: Ensure permissions exist for System Super Admin\n            const modules = await Module.findAll();\n            for (const module of modules) {\n                const existingPermission = await RoleModulePermission.findOne({\n                    where: {\n                        role_id: superAdminRole.id,\n                        module_id: module.id\n                    }\n                });\n                \n                if (!existingPermission) {\n                    await RoleModulePermission.create({\n                        role_id: superAdminRole.id,\n                        module_id: module.id,\n                        can_read: true,\n                        can_write: true,\n                        can_delete: true\n                    });\n                    console.log(`âœ… Created permission for module: ${module.name}`);\n                }\n            }\n            \n            console.log('âœ… System already initialized with all modules and permissions.');\n            return;\n        }\n\n        // Step 4: Create Default Company (first-time setup)\n        const defaultCompany = await Company.create({\n            name: defaultCompanyName,\n            industry: 'Technology',\n            domain: 'Quality Management',\n            is_active: true,\n        });\n\n        // Step 5: Create System Super Admin Role\n        const superAdminRole = await Role.create({\n            name: 'System Super Admin',\n            company_id: defaultCompany.id,\n        });\n\n        // Step 6: Hash the fixed password\n        console.log('System Super Admin Credentials:');\n        console.log(`Email: ${defaultAdminEmail}`);\n        console.log(`Password: ${defaultAdminPassword}`);\n        const hashedPassword = await bcrypt.hash(defaultAdminPassword, 10);\n\n        // Step 7: Create Super Admin User\n        const superAdminUser = await User.create({\n            name: defaultAdminName,\n            email: defaultAdminEmail,\n            company_id: defaultCompany.id,\n            role_id: superAdminRole.id,\n            password_hash: hashedPassword,\n            is_active: true,\n        });\n\n        // Step 8: Assign Full Permissions for All Modules to the Role\n        const modules = await Module.findAll();\n        const permissionPromises = modules.map((module) =>\n            RoleModulePermission.create({\n                role_id: superAdminRole.id,\n                module_id: module.id,\n                can_read: true,\n                can_write: true,\n                can_delete: true\n            })\n        );\n\n        await Promise.all(permissionPromises);\n\n        // Step 9: Send Email with Login Credentials\n        const subject = 'Welcome - System Super Admin Account Created';\n        const message = `\nHello ${superAdminUser.name},\n\nYour System Super Admin account has been created successfully.\n\nLogin Credentials:\nEmail: ${superAdminUser.email}\nPassword: ${defaultAdminPassword}\n\nPlease log in and change your password if needed.\n\nRegards,\nSystem Setup Team\n`;\n\n        await sendEmail(superAdminUser.email, subject, message);\n\n        console.log('âœ… System Super Admin setup complete.');\n\n    } catch (error) {\n        console.error('âŒ Error during system bootstrap:', error);\n    }\n};\n\nexport default bootstrapSystemSuperAdmin;\n","size_bytes":6934},"qms-source/frontend-new/src/assets/theme-dark/components/appBar.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst appBar = {\n  defaultProps: {\n    color: \"transparent\",\n  },\n\n  styleOverrides: {\n    root: {\n      boxShadow: \"none\",\n    },\n  },\n};\n\nexport default appBar;\n","size_bytes":686},"frontend-new/src/pages/Iteration/CreateIteration.jsx":{"content":"import React, { useState } from \"react\";\nimport {\n  TextField,\n  Button,\n  Typography,\n  Grid,\n  Box,\n  Paper,\n} from \"@mui/material\";\nimport { useParams, useNavigate, useLocation } from \"react-router-dom\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast } from \"react-toastify\";\n\nconst CreateIteration = () => {\n  const { taskModuleId } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const [form, setForm] = useState({\n    name: \"\",\n    description: \"\",\n    startDate: \"\",\n    endDate: \"\",\n  });\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async () => {\n    // Basic validation to check if name, startDate, and endDate are provided\n    if (!form.name || !form.startDate || !form.endDate) {\n      toast.error(\"Name, Start Date, and End Date are required.\");\n      return;\n    }\n\n    const payload = {\n      name: form.name,\n      description: form.description,\n      start_date: form.startDate,\n      end_date: form.endDate,\n      company_id: form.company_id,\n    };\n\n    const fromSelectPage = location.state?.fromSelectPage;\n\n    try {\n      // Submit the form data to the backend\n      await axiosInstance.post(`/iteration/${taskModuleId}`, payload);\n\n      toast.success(\"Iteration created successfully!\");\n      //navigate(-1,{ state: { refresh: true } });\n      if (fromSelectPage) {\n        navigate(\"/select-iteration?refresh=1\");\n      } else {\n        navigate(`/iteration/${taskModuleId}?refresh=1`);\n      }\n    } catch (err) {\n      // Handle errors more gracefully with better feedback\n      if (err.response) {\n        // The server responded with an error status\n        toast.error(`Error: ${err.response.data.error || \"Unknown error\"}`);\n        console.error(\"Error creating iteration:\", err.response.data);\n      } else {\n        toast.error(\"Network error, please try again.\");\n        console.error(\"Error creating iteration:\", err);\n      }\n    }\n  };\n\n  // Load company_id from sessionStorage for System Super Admin\n  React.useEffect(() => {\n    const storedCompanyId = sessionStorage.getItem(\"selectedCompany\");\n    if (storedCompanyId) {\n      setForm((prevForm) => ({ ...prevForm, company_id: storedCompanyId }));\n    }\n  }, []);\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        marginRight: 2,\n        marginTop: 4,\n        mb: 2,\n      }}\n    >\n        <Typography variant=\"h5\" gutterBottom>\n          Create Iteration\n        </Typography>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <TextField\n              fullWidth\n              label=\"Name\"\n              name=\"name\"\n              value={form.name}\n              onChange={handleChange}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              fullWidth\n              label=\"Description\"\n              name=\"description\"\n              value={form.description}\n              onChange={handleChange}\n              multiline\n              rows={3}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              fullWidth\n              type=\"date\"\n              label=\"Start Date\"\n              name=\"startDate\"\n              InputLabelProps={{ shrink: true }}\n              value={form.startDate}\n              onChange={handleChange}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              fullWidth\n              type=\"date\"\n              label=\"End Date\"\n              name=\"endDate\"\n              InputLabelProps={{ shrink: true }}\n              value={form.endDate}\n              onChange={handleChange}\n            />\n          </Grid>\n          <Grid item xs={12}></Grid>\n          <Grid item xs={12}>\n            <Box display=\"flex\" justifyContent=\"flex-end\" gap={2}>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleSubmit}\n              >\n                Create\n              </Button>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => navigate(`/iteration/${taskModuleId}`)}\n              >\n                Cancel\n              </Button>\n            </Box>\n          </Grid>\n        </Grid>\n    </Paper>\n  );\n};\n\nexport default CreateIteration;\n","size_bytes":4468},"frontend-new/src/assets/theme/components/list/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst list = {\n  styleOverrides: {\n    padding: {\n      paddingTop: 0,\n      paddingBottom: 0,\n    },\n  },\n};\n\nexport default list;\n","size_bytes":655},"qms-source/BackEnd/src/controllers/commentController.js":{"content":"import Comment from \"../models/Comment.js\";\n\nexport const addComment = async (req, res) => {\n    try {\n        const { task_id, user_id, comment_text } = req.body;\n        const comment = await Comment.create({ task_id, user_id, comment_text });\n        res.status(201).json(comment);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport const getComments = async (req, res) => {\n    try {\n        const { task_id } = req.params;\n        const comments = await Comment.findAll({ where: { task_id } });\n        res.json(comments);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport const deleteComment = async (req, res) => {\n    try {\n        const { id } = req.params;\n        const deleted = await Comment.destroy({ where: { id } });\n        if (!deleted) return res.status(404).json({ error: \"Comment not found\" });\n        res.json({ message: \"Comment deleted successfully\" });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n","size_bytes":1055},"frontend-new/src/assets/theme-dark/components/iconButton.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\n\nconst { transparent } = colors;\n\nconst iconButton = {\n  styleOverrides: {\n    root: {\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n    },\n  },\n};\n\nexport default iconButton;\n","size_bytes":818},"qms-source/frontend-new/src/assets/theme-dark/components/menu/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\nimport typography from \"assets/theme-dark/base/typography\";\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { md } = boxShadows;\nconst { size } = typography;\nconst { text, background } = colors;\nconst { borderRadius } = borders;\n\nconst menu = {\n  defaultProps: {\n    disableAutoFocusItem: true,\n  },\n\n  styleOverrides: {\n    paper: {\n      minWidth: pxToRem(160),\n      boxShadow: md,\n      padding: `${pxToRem(16)} ${pxToRem(8)}`,\n      fontSize: size.sm,\n      color: text.main,\n      textAlign: \"left\",\n      backgroundColor: `${background.card} !important`,\n      borderRadius: borderRadius.md,\n    },\n  },\n};\n\nexport default menu;\n","size_bytes":1433},"frontend-new/src/styles/ModuleForm.css":{"content":"/* Module Form Container */\n.module-form-container {\n    padding: 20px;\n    background: #f4f4f4;\n    border-radius: 8px;\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n    max-width: 500px;\n    margin: auto;\n  }\n  \n  /* Input Fields */\n  .module-form input, .module-form textarea {\n    width: 100%;\n    padding: 10px;\n    margin: 10px 0;\n    border: 1px solid #ddd;\n    border-radius: 5px;\n    font-size: 14px;\n  }\n  \n  /* Submit Button */\n  .module-submit-btn {\n    background-color: #007bff;\n    color: white;\n    padding: 10px;\n    border: none;\n    cursor: pointer;\n    border-radius: 5px;\n    font-size: 16px;\n    width: 100%;\n  }\n  \n  .module-submit-btn:hover {\n    background-color: #0056b3;\n  }\n  ","size_bytes":705},"frontend-new/src/Components/Sidebar/index.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport {\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemIcon,\n  ListItemText,\n  Collapse,\n  Tooltip,\n  useMediaQuery,\n  IconButton,\n  CircularProgress,\n  Box,\n} from \"@mui/material\";\nimport SidebarRoot from \"./SidebarRoot\";\nimport { Link } from \"react-router-dom\";\nimport { jwtDecode } from \"jwt-decode\";\n\nimport DashboardIcon from \"@mui/icons-material/Dashboard\";\nimport BarChartIcon from \"@mui/icons-material/BarChart\";\nimport SettingsIcon from \"@mui/icons-material/Settings\";\nimport ListAltIcon from \"@mui/icons-material/ListAlt\";\nimport LockIcon from \"@mui/icons-material/Lock\";\nimport ExpandLess from \"@mui/icons-material/ExpandLess\";\nimport ExpandMore from \"@mui/icons-material/ExpandMore\";\nimport AdminPanelSettingsIcon from \"@mui/icons-material/AdminPanelSettings\";\nimport BusinessIcon from \"@mui/icons-material/Business\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport PersonAddIcon from \"@mui/icons-material/PersonAdd\";\nimport AssignmentTurnedInIcon from \"@mui/icons-material/AssignmentTurnedIn\";\nimport DescriptionIcon from \"@mui/icons-material/Description\";\nimport AccessTimeIcon from \"@mui/icons-material/AccessTime\";\nimport VerifiedUserIcon from \"@mui/icons-material/VerifiedUser\"; // for Roles\nimport ApartmentIcon from \"@mui/icons-material/Apartment\"; // for Departments\nimport axiosInstance from \"../../services/axiosinstance\";\n\nimport {\n  useMaterialUIController,\n  setMiniSidenav,\n  setTransparentSidenav,\n  setWhiteSidenav,\n  setSidebarOpen,\n} from \"../../context\";\n\n// Component definition\nconst Sidebar = () => {\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [usersOpen, setUsersOpen] = useState(false);\n  const [taskOpen, setTaskOpen] = useState(false);\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const [roleName, setRoleName] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [companyOpen, setCompanyOpen] = useState(false);\n  const [documentOpen, setDocumentOpen] = useState(false);\n  const isMobile = useMediaQuery(\"(max-width:600px)\");\n\n  // Extract role ID from token\n  const token = localStorage.getItem(\"jwtToken\");\n  const decodedToken = token ? jwtDecode(token) : null;\n  const roleId = decodedToken?.role || \"\";\n  const company_id = decodedToken?.company || \"\";\n  const roleModuleId = \"971a88b8-461e-4cd2-9a06-fce42ad6b806\";\n\n  const [controller, dispatch] = useMaterialUIController();\n  const {\n    miniSidenav,\n    transparentSidenav,\n    whiteSidenav,\n    darkMode,\n    sidenavColor,\n    brandDark,\n    brandWhite,\n    sidebarOpen,\n  } = controller;\n\n  const location = useLocation();\n  const collapseName = location.pathname.replace(\"/\", \"\");\n\n  let textColor = \"white\";\n\n  if (transparentSidenav || (whiteSidenav && !darkMode)) {\n    textColor = \"dark\";\n  } else if (whiteSidenav && darkMode) {\n    textColor = \"inherit\";\n  }\n\n  const closeSidenav = () => setSidebarOpen(dispatch, false);\n\n  useEffect(() => {\n    // A function that sets the mini state of the sidenav.\n    function handleMiniSidenav() {\n      setMiniSidenav(dispatch, window.innerWidth < 1200);\n      setTransparentSidenav(\n        dispatch,\n        window.innerWidth < 1200 ? false : transparentSidenav\n      );\n      setWhiteSidenav(\n        dispatch,\n        window.innerWidth < 1200 ? false : whiteSidenav\n      );\n    }\n\n    /** \n     The event listener that's calling the handleMiniSidenav function when resizing the window.\n    */\n    window.addEventListener(\"resize\", handleMiniSidenav);\n\n    // Call the handleMiniSidenav function to set the state with the initial value.\n    handleMiniSidenav();\n\n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleMiniSidenav);\n  }, [dispatch, location]);\n\n  useEffect(() => {\n    const fetchRoleName = async () => {\n      try {\n        console.log(\n          \"response of roleModuleId  \" + roleModuleId + \" roleId  \" + roleId\n        );\n        const response = await axiosInstance.get(\n          `/roles/${roleModuleId}/${roleId}`,\n          {\n            params: { company_id: company_id }, // Pass company_id as a query parameter\n          }\n        );\n        console.log(\"response of role from sidebar is \" + response.data.name);\n        setRoleName(response.data.name); // Assuming API returns { roleName: \"Super Admin\" }\n      } catch (error) {\n        console.error(\"Error fetching role name:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (roleId) {\n      fetchRoleName();\n    } else {\n      setLoading(false);\n    }\n  }, [roleId, roleModuleId]);\n\n  useEffect(() => {\n    if (isMobile) {\n      closeSidenav();\n    }\n  }, [isMobile]);\n\n  if (loading) {\n    return (\n      <CircularProgress\n        sx={{ color: \"white\", position: \"absolute\", top: \"50%\", left: \"50%\" }}\n      />\n    );\n  }\n\n  const toggleSidebar = () => setSidebarOpen(dispatch, !sidebarOpen);\n\n  // Main menu items\n  const menuItems = [\n    { name: \"Dashboard\", icon: <DashboardIcon />, path: \"/dashboard\" },\n    { name: \"Analytics\", icon: <BarChartIcon />, path: \"/analytics\" },\n  ];\n\n  // Task Management items\n  const taskItems = [\n    // Conditionally include Iteration only for Super Admin or System Super Admin\n    ...(roleName === \"Super Admin\" || roleName === \"System Super Admin\"\n      ? [\n          {\n            name: \"Iteration \",\n            icon: <AccessTimeIcon />,\n            path: \"/iteration/1f0f190d-3a83-421c-af98-5d081100230e\",\n          },\n        ]\n      : []),\n    { name: \"Task List\", icon: <ListAltIcon />, path: \"/tasks\" },\n    {\n      name: \"Bulk Task Assignment\",\n      icon: <AssignmentTurnedInIcon />,\n      path: \"/BulkTaskAssignment\",\n    },\n    {\n      name: \"User Task Assignment\",\n      icon: <AssignmentTurnedInIcon />,\n      path: \"/UserTaskAssignment\",\n    },\n  ];\n\n  // Settings items (only for Super Admin)\n  const settingsItems = [\n    { name: \"Modules\", icon: <ListAltIcon />, path: \"/modules\" },\n    { name: \"Roles\", icon: <VerifiedUserIcon />, path: \"/roles\" },\n    {\n      name: \"Assign Permissions\",\n      icon: <AdminPanelSettingsIcon />,\n      path: \"/assign-permissions\",\n    },\n  ];\n\n  // User Management items (only for Super Admin)\n  const userItems = [\n    { name: \"User List\", icon: <ListAltIcon />, path: \"/users\" }, // Added User List item\n    { name: \"Create User\", icon: <PersonAddIcon />, path: \"/users/create\" },\n    { name: \"Departments\", icon: <ApartmentIcon />, path: \"/departments\" },\n  ];\n\n  //Document Management items\n  const documentItems = [\n    {\n      name: \"Document Management\",\n      icon: <DescriptionIcon />,\n      path: \"/document-management\",\n    },\n  ];\n\n  return (\n    <>\n      <IconButton\n        onClick={toggleSidebar}\n        sx={{\n          position: \"fixed\",\n          top: 15,\n          left: sidebarOpen ? 270 : 15,\n          color: \"white\",\n          backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n          \"&:hover\": {\n            backgroundColor: \"rgba(255, 255, 255, 0.2)\",\n          },\n          zIndex: 1500,\n        }}\n      >\n        {sidebarOpen ? <MenuIcon /> : <MenuIcon />}\n      </IconButton>\n\n      {/* Sidebar Drawer */}\n      <SidebarRoot\n        variant={isMobile ? \"temporary\" : \"persistent\"}\n        open={sidebarOpen}\n        onClose={toggleSidebar}\n        color={sidenavColor}\n        brand={\n          (transparentSidenav && !darkMode) || whiteSidenav\n            ? brandDark\n            : brandWhite\n        }\n        sx={{\n          width: sidebarOpen ? 250 : 0,\n          flexShrink: 0,\n          transition: \"width 0.3s ease\",\n        }}\n        ownerState={{ transparentSidenav, whiteSidenav, miniSidenav, darkMode }}\n      >\n        <Box\n          pt={3}\n          pb={1}\n          sx={{\n            color: `${textColor} !important`,\n            \"& .MuiListItemIcon-root\": {\n              color: `${textColor} !important`,\n            },\n            \"& .MuiTypography-root\": {\n              fontSize: \"1.2rem\",\n              paddingY: 0.8,\n              paddingX: 0.5,\n            },\n          }}\n        >\n          <List>\n            {/* Main menu items */}\n            {menuItems.map((item) => (\n              <ListItem disablePadding key={item.name}>\n                <Tooltip title={item.name} placement=\"right\">\n                  <ListItemButton component={Link} to={item.path}>\n                    <ListItemIcon>{item.icon}</ListItemIcon>\n                    <ListItemText\n                      primary={item.name}\n                      slotProps={{\n                        primary: {\n                          style: {\n                            wordWrap: \"break-word\", // Forces wrapping of long words\n                            whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                          },\n                        },\n                      }}\n                    />\n                  </ListItemButton>\n                </Tooltip>\n              </ListItem>\n            ))}\n\n            {/* Organization Management System - Only for System Super Admin */}\n            {roleName === \"System Super Admin\" && (\n              <>\n                <ListItem disablePadding>\n                  <ListItemButton onClick={() => setCompanyOpen(!companyOpen)}>\n                    <ListItemIcon sx={{ color: \"white\" }}>\n                      <BusinessIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary=\"Organization Management System\"\n                      slotProps={{\n                        primary: {\n                          style: {\n                            wordWrap: \"break-word\", // Forces wrapping of long words\n                            whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                          },\n                        },\n                      }}\n                    />\n                    {companyOpen ? <ExpandLess /> : <ExpandMore />}\n                  </ListItemButton>\n                </ListItem>\n\n                <Collapse in={companyOpen} timeout=\"auto\" unmountOnExit>\n                  <List component=\"div\" disablePadding>\n                    <ListItem disablePadding>\n                      <Tooltip title=\"Organization List\" placement=\"right\">\n                        <ListItemButton\n                          component={Link}\n                          to=\"/company-list\"\n                          sx={{ pl: 4 }}\n                        >\n                          <ListItemIcon sx={{ color: \"white\" }}>\n                            <BusinessIcon />\n                          </ListItemIcon>\n                          <ListItemText\n                            primary=\"Organization List\"\n                            slotProps={{\n                              primary: {\n                                style: {\n                                  wordWrap: \"break-word\", // Forces wrapping of long words\n                                  whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                                },\n                              },\n                            }}\n                          />\n                        </ListItemButton>\n                      </Tooltip>\n                    </ListItem>\n\n                    <ListItem disablePadding>\n                      <Tooltip\n                        title=\"Organization Onboarding\"\n                        placement=\"right\"\n                      >\n                        <ListItemButton\n                          component={Link}\n                          to=\"/company-name\"\n                          sx={{ pl: 4 }}\n                        >\n                          <ListItemIcon sx={{ color: \"white\" }}>\n                            <BusinessIcon />\n                          </ListItemIcon>\n                          <ListItemText\n                            primary=\"Organization Onboarding\"\n                            slotProps={{\n                              primary: {\n                                style: {\n                                  wordWrap: \"break-word\", // Forces wrapping of long words\n                                  whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                                },\n                              },\n                            }}\n                          />\n                        </ListItemButton>\n                      </Tooltip>\n                    </ListItem>\n                  </List>\n                </Collapse>\n              </>\n            )}\n\n            {/* Compliance Management Section */}\n            <ListItem disablePadding>\n              <ListItemButton onClick={() => setTaskOpen(!taskOpen)}>\n                <ListItemIcon sx={{ color: \"white\" }}>\n                  <ListAltIcon />\n                </ListItemIcon>\n                <ListItemText\n                  primary=\"Compliance Management\"\n                  slotProps={{\n                    primary: {\n                      style: {\n                        wordWrap: \"break-word\", // Forces wrapping of long words\n                        whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                      },\n                    },\n                  }}\n                />\n                {taskOpen ? <ExpandLess /> : <ExpandMore />}\n              </ListItemButton>\n            </ListItem>\n\n            <Collapse in={taskOpen} timeout=\"auto\" unmountOnExit>\n              <List component=\"div\" disablePadding>\n                {taskItems.map((item) => (\n                  <ListItem disablePadding key={item.name}>\n                    <Tooltip title={item.name} placement=\"right\">\n                      <ListItemButton\n                        component={Link}\n                        to={item.path}\n                        sx={{ pl: 4 }}\n                      >\n                        <ListItemIcon sx={{ color: \"white\" }}>\n                          {item.icon}\n                        </ListItemIcon>\n                        <ListItemText\n                          primary={item.name}\n                          slotProps={{\n                            primary: {\n                              style: {\n                                wordWrap: \"break-word\", // Forces wrapping of long words\n                                whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                              },\n                            },\n                          }}\n                        />\n                      </ListItemButton>\n                    </Tooltip>\n                  </ListItem>\n                ))}\n              </List>\n            </Collapse>\n\n            {/* User Management Section  Super Admin and System Super Admin */}\n            {(roleName === \"Super Admin\" ||\n              roleName === \"System Super Admin\") && (\n              <>\n                <ListItem disablePadding>\n                  <ListItemButton onClick={() => setUsersOpen(!usersOpen)}>\n                    <ListItemIcon sx={{ color: \"white\" }}>\n                      <PersonAddIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary=\"User Management\"\n                      slotProps={{\n                        primary: {\n                          style: {\n                            wordWrap: \"break-word\", // Forces wrapping of long words\n                            whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                          },\n                        },\n                      }}\n                    />\n                    {usersOpen ? <ExpandLess /> : <ExpandMore />}\n                  </ListItemButton>\n                </ListItem>\n\n                <Collapse in={usersOpen} timeout=\"auto\" unmountOnExit>\n                  <List component=\"div\" disablePadding>\n                    {userItems.map((item) => (\n                      <ListItem disablePadding key={item.name}>\n                        <Tooltip title={item.name} placement=\"right\">\n                          <ListItemButton\n                            component={Link}\n                            to={item.path}\n                            sx={{ pl: 4 }}\n                          >\n                            <ListItemIcon sx={{ color: \"white\" }}>\n                              {item.icon}\n                            </ListItemIcon>\n                            <ListItemText\n                              primary={item.name}\n                              slotProps={{\n                                primary: {\n                                  style: {\n                                    wordWrap: \"break-word\", // Forces wrapping of long words\n                                    whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                                  },\n                                },\n                              }}\n                            />\n                          </ListItemButton>\n                        </Tooltip>\n                      </ListItem>\n                    ))}\n                  </List>\n                </Collapse>\n              </>\n            )}\n\n            {/* Document Management Section */}\n            {documentItems.map((item) => (\n              <ListItem disablePadding key={item.name}>\n                <Tooltip title={item.name} placement=\"right\">\n                  <ListItemButton component={Link} to={item.path}>\n                    <ListItemIcon sx={{ color: \"white\" }}>\n                      {item.icon}\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={item.name}\n                      slotProps={{\n                        primary: {\n                          style: {\n                            wordWrap: \"break-word\",\n                            whiteSpace: \"normal\",\n                          },\n                        },\n                      }}\n                    />\n                  </ListItemButton>\n                </Tooltip>\n              </ListItem>\n            ))}\n\n            {/* Settings Section - For Super Admin & System Super Admin */}\n            {(roleName === \"Super Admin\" ||\n              roleName === \"System Super Admin\") && (\n              <>\n                <ListItem disablePadding>\n                  <ListItemButton\n                    onClick={() => setSettingsOpen(!settingsOpen)}\n                  >\n                    <ListItemIcon sx={{ color: \"white\" }}>\n                      <SettingsIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary=\"Settings\"\n                      slotProps={{\n                        primary: {\n                          style: {\n                            wordWrap: \"break-word\", // Forces wrapping of long words\n                            whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                          },\n                        },\n                      }}\n                    />\n                    {settingsOpen ? <ExpandLess /> : <ExpandMore />}\n                  </ListItemButton>\n                </ListItem>\n\n                <Collapse in={settingsOpen} timeout=\"auto\" unmountOnExit>\n                  <List component=\"div\" disablePadding>\n                    {settingsItems.map((item) => (\n                      <ListItem disablePadding key={item.name}>\n                        <Tooltip title={item.name} placement=\"right\">\n                          <ListItemButton\n                            component={Link}\n                            to={item.path}\n                            sx={{ pl: 4 }}\n                          >\n                            <ListItemIcon sx={{ color: \"white\" }}>\n                              {item.icon}\n                            </ListItemIcon>\n                            <ListItemText\n                              primary={item.name}\n                              slotProps={{\n                                primary: {\n                                  style: {\n                                    wordWrap: \"break-word\", // Forces wrapping of long words\n                                    whiteSpace: \"normal\", // Ensures text can wrap to multiple lines\n                                  },\n                                },\n                              }}\n                            />\n                          </ListItemButton>\n                        </Tooltip>\n                      </ListItem>\n                    ))}\n                  </List>\n                </Collapse>\n              </>\n            )}\n          </List>\n        </Box>\n      </SidebarRoot>\n    </>\n  );\n};\n\nexport default Sidebar;\n","size_bytes":20669},"qms-source/frontend-new/src/styles/AssignedTaskspage.css":{"content":"/* Container */\n.container {\n    max-width: 800px;\n    margin: auto;\n    padding: 20px;\n    background: #f8f9fa;\n    border-radius: 8px;\n    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n    text-align: center;\n  }\n  \n  /* Heading */\n  h2 {\n    margin-bottom: 15px;\n    color: #343a40;\n    font-size: 24px;\n  }\n  \n  /* Table Styling */\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    margin-top: 15px;\n    background: white;\n  }\n  \n  th, td {\n    padding: 12px;\n    border: 1px solid #ddd;\n    text-align: left;\n  }\n  \n  th {\n    background: #007bff;\n    color: white;\n    font-weight: 600;\n    text-transform: uppercase;\n  }\n  \n  tr:nth-child(even) {\n    background: #f2f2f2;\n  }\n  \n  tr:hover {\n    background: #e9ecef;\n  }\n  \n  /* Error Message */\n  .error {\n    color: red;\n    font-weight: bold;\n    margin-top: 10px;\n  }\n  \n  /* Responsive Design */\n  @media (max-width: 600px) {\n    th, td {\n      padding: 10px;\n      font-size: 14px;\n    }\n  }\n  ","size_bytes":968},"README_DEV.md":{"content":"# Developer quickstart â€” Backend + Frontend (Windows PowerShell examples)\n\nThis file contains the minimal commands and environment guidance to run the project locally for development. It assumes you are on Windows (PowerShell) as detected in your environment.\n\n1) Prerequisites\n- Node.js (v18+ recommended)\n- MySQL server accessible locally or via Docker\n- pnpm/npm (this repo contains npm lockfiles; use whichever you prefer)\n- (Optional) Docker and docker-compose for containerized local runs\n\n2) Backend (BackEnd)\n\nSet environment variables (PowerShell example):\n\n```powershell\n# from project root\nSet-Item -Path Env:DB_NAME -Value \"qms_db\"\nSet-Item -Path Env:DB_USER -Value \"root\"\nSet-Item -Path Env:DB_PASS -Value \"password\"\nSet-Item -Path Env:DB_HOST -Value \"localhost\"\nSet-Item -Path Env:JWT_SECRET -Value \"a_very_secret_string\"\nSet-Item -Path Env:VITE_BASE_API_URL -Value \"http://localhost:5000/api\"\n```\n\nInstall dependencies and run backend:\n\n```powershell\ncd BackEnd\nnpm install\n# dev mode with auto-restart\nnpm run dev\n\n# or run production server\nnpm start\n```\n\nNotes:\n- `server.js` calls `sequelize.sync({ alter: true })` and then `bootstrapSystemSuperAdmin()` â€” this will attempt to seed modules and a super-admin user. Ensure `BOOTSTRAP_ON_SYNC` and `MAIL_*` environment variables are set appropriately.\n\n3) Frontend (frontend-new)\n\nSet Vite env (PowerShell example):\n\n```powershell\nSet-Item -Path Env:VITE_BASE_API_URL -Value \"http://localhost:5000/api\"\n```\n\nInstall and run:\n\n```powershell\ncd frontend-new\nnpm install\nnpm run dev\n\n# build for production\nnpm run build\n```\n\n4) Docker (optional local compose)\n\nIf you prefer containerized local dev, edit `docker-compose.yml` at repo root to include proper env or a `.env` file and then:\n\n```powershell\ndocker compose up --build\n```\n\n5) Quick checks\n- To test login and API connectivity, use the frontend login page or tools like Postman/curl to call `POST http://localhost:5000/api/auth/login`.\n- Check the backend console for DB sync messages: `\"âœ… Database & tables synced\"` and bootstrap logs.\n\n6) Safety tips\n- Do not commit `.env` to source control. Use `.env.example` as a template (we added one at project root).\n- On production, replace `sequelize.sync({ alter: true })` with a proper migration strategy.\n","size_bytes":2283},"qms-source/frontend-new/src/assets/theme-dark/components/form/inputLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\n\nconst { text, info } = colors;\nconst { size } = typography;\n\nconst inputLabel = {\n  styleOverrides: {\n    root: {\n      fontSize: size.sm,\n      color: text.main,\n      lineHeight: 0.9,\n\n      \"&.Mui-focused\": {\n        color: info.main,\n      },\n\n      \"&.MuiInputLabel-shrink\": {\n        lineHeight: 1.5,\n        fontSize: size.md,\n\n        \"~ .MuiInputBase-root .MuiOutlinedInput-notchedOutline legend\": {\n          fontSize: \"0.85em\",\n        },\n      },\n    },\n\n    sizeSmall: {\n      fontSize: size.xs,\n      lineHeight: 1.625,\n\n      \"&.MuiInputLabel-shrink\": {\n        lineHeight: 1.6,\n        fontSize: size.sm,\n\n        \"~ .MuiInputBase-root .MuiOutlinedInput-notchedOutline legend\": {\n          fontSize: \"0.72em\",\n        },\n      },\n    },\n  },\n};\n\nexport default inputLabel;\n","size_bytes":1467},"qms-source/frontend-new/src/assets/theme/components/card/cardContent.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst cardContent = {\n  styleOverrides: {\n    root: {\n      marginTop: 0,\n      marginBottom: 0,\n      padding: `${pxToRem(8)} ${pxToRem(24)} ${pxToRem(24)}`,\n    },\n  },\n};\n\nexport default cardContent;\n","size_bytes":828},"BackEnd/src/utils/checkSuperRoleAdded.js":{"content":"import { v4 as uuidv4 } from 'uuid';\nimport Role from '../models/Role.js';\n\nconst ensureSuperAdminRole = async () => {\n    try {\n        // Check if \"Super Admin\" role exists\n        const superAdminRole = await Role.findOne({ where: { name: \"Super Admin\" } });\n\n        if (!superAdminRole) {\n            // Create Super Admin role if it doesn't exist\n            await Role.create({\n                id: uuidv4(), // Generate unique ID\n                name: \"Super Admin\",\n                description: \"This is Super Admin and he is responsible for all tasks related to the company. He is the point of contact.\"\n            });\n\n            console.log(\"âœ… Super Admin role created successfully.\");\n        } else {\n            console.log(\"âœ… Super Admin role already exists.\");\n        }\n    } catch (error) {\n        console.error(\"âŒ Error ensuring Super Admin role:\", error.message);\n    }\n};\n\nexport default ensureSuperAdminRole;\n","size_bytes":940},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n","size_bytes":584},"frontend-new/src/Components/Header/style.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\nfunction navbar(theme, ownerState) {\n    const { palette, boxShadows, functions, transitions, breakpoints, borders } = theme;\n    const { transparentNavbar, absolute, light, darkMode } = ownerState;\n  \n    const { dark, white, text, transparent, background } = palette;\n    const { navbarBoxShadow } = boxShadows;\n    const { rgba, pxToRem } = functions;\n    const { borderRadius } = borders;\n    \n    return {\n      boxShadow: transparentNavbar || absolute ? \"none\" : navbarBoxShadow,\n      backdropFilter: transparentNavbar || absolute ? \"none\" : `saturate(200%) blur(${pxToRem(30)})`,\n      backgroundColor:\n        transparentNavbar || absolute\n          ? `${transparent.main} !important`\n          : rgba(darkMode ? background.default : white.main, 0.8),\n  \n      color: () => {\n        let color;\n  \n        if (light) {\n          color = white.main;\n        } else if (transparentNavbar) {\n          color = text.main;\n        } else {\n          color = dark.main;\n        }\n  \n        return color;\n      },\n      top: absolute ? 0 : pxToRem(12),\n      minHeight: pxToRem(75),\n      display: \"grid\",\n      alignItems: \"center\",\n      borderRadius: borderRadius.xl,\n      paddingTop: pxToRem(8),\n      paddingBottom: pxToRem(8),\n      paddingRight: absolute ? pxToRem(8) : 0,\n      paddingLeft: absolute ? pxToRem(16) : 0,\n      \"& > *\": {\n        transition: transitions.create(\"all\", {\n          easing: transitions.easing.easeInOut,\n          duration: transitions.duration.standard,\n        }),\n      },\n  \n      \"& .MuiToolbar-root\": {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n  \n        [breakpoints.up(\"sm\")]: {\n          minHeight: \"auto\",\n          padding: `${pxToRem(4)} ${pxToRem(16)}`,\n        },\n      },\n    };\n  }\n  \n  const navbarContainer = ({ breakpoints }) => ({\n    display: \"flex\",\n    justifyContent: \"end !important\",\n    pt: 0.5,\n    pb: 0.5,\n    marginLeft: 4,\n    [breakpoints.up(\"md\")]: {\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      paddingTop: \"0\",\n      paddingBottom: \"0\",\n    },\n  });\n  \n  const navbarRow = ({ breakpoints }, { isMini }) => ({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    width: \"100%\",\n  \n    [breakpoints.up(\"md\")]: {\n      justifyContent: isMini ? \"space-between\" : \"stretch\",\n      width: isMini ? \"100%\" : \"max-content\",\n    },\n  \n    [breakpoints.up(\"xl\")]: {\n      justifyContent: \"stretch !important\",\n      width: \"max-content !important\",\n    },\n  });\n  \n  const navbarIconButton = ({ typography: { size }, breakpoints }) => ({\n    px: 1,\n  \n    \"& .material-icons, .material-icons-round\": {\n      fontSize: `${size.xl} !important`,\n    },\n  \n    \"& .MuiTypography-root\": {\n      display: \"none\",\n  \n      [breakpoints.up(\"sm\")]: {\n        display: \"inline-block\",\n        lineHeight: 1.2,\n        ml: 0.5,\n      },\n    },\n  });\n  \n  const navbarMobileMenu = ({ breakpoints }) => ({\n    display: \"inline-block\",\n    lineHeight: 0,\n  \n    [breakpoints.up(\"xl\")]: {\n      display: \"none\",\n    },\n  });\n  \n  export { navbar, navbarContainer, navbarRow, navbarIconButton, navbarMobileMenu };\n  ","size_bytes":3695},"frontend-new/src/assets/theme/components/buttonBase.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst buttonBase = {\n  defaultProps: {\n    disableRipple: false,\n  },\n};\n\nexport default buttonBase;\n","size_bytes":624},"qms-source/BackEnd/src/routes/taskAssignmentRoutes.js":{"content":"import express from \"express\";\nimport { assignTasks, getTaskAssignments, changeAssignee,unassignTask,getAllTaskAssignments } from \"../controllers/taskAssignmentController.js\";\nimport authenticateUser from '../middlewares/authMiddlewares.js'\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\nconst router = express.Router();\n\nrouter.post(\"/:moduleId\",authenticateUser, checkPermission(\"write\"),assignTasks);\nrouter.put(\"/:moduleId\",authenticateUser,checkPermission(\"write\"),changeAssignee);\nrouter.get(\"/:moduleId\",authenticateUser,checkPermission(\"read\"),getAllTaskAssignments);\nrouter.get(\"/:moduleId/:task_id\",authenticateUser,checkPermission(\"read\"), getTaskAssignments);\nrouter.delete(\"/:moduleId/:id\",authenticateUser, checkPermission(\"delete\"),unassignTask);\n\nexport default router;\n","size_bytes":811},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"qms-source/BackEnd/src/middlewares/authMiddlewares.js":{"content":"import jwt from 'jsonwebtoken';\nimport { config } from 'dotenv';\n\n// Load environment variables\nconfig();\n\nconst SECRET_KEY = process.env.JWT_SECRET; // Use env variable\n\nexport const authenticateUser = (req, res, next) => {\n    const token = req.header('Authorization')?.split(' ')[1]; // Extract Bearer token\n\n    if (!token) {\n        return res.status(403).json({ error: \"Access denied. No token provided.\" });\n    }\n\n    try {\n        const decoded = jwt.verify(token, SECRET_KEY);\n        req.user = decoded; // Attach user details to request\n        console.log(`User details: ${JSON.stringify(decoded, null, 2)}`);\n\n        next();\n    } catch (error) {\n        console.log('error while extracting token '+error);\n        return res.status(401).json({ error: error });\n    }\n};\n export default authenticateUser;","size_bytes":819},"frontend-new/src/assets/theme-dark/components/form/checkbox.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport linearGradient from \"assets/theme-dark/functions/linearGradient\";\n\nconst { borderWidth, borderColor } = borders;\nconst { transparent, info } = colors;\n\nconst checkbox = {\n  styleOverrides: {\n    root: {\n      \"& .MuiSvgIcon-root\": {\n        backgroundPosition: \"center\",\n        backgroundSize: \"contain\",\n        backgroundRepeat: \"no-repeat\",\n        width: pxToRem(20),\n        height: pxToRem(20),\n        color: transparent.main,\n        border: `${borderWidth[1]} solid ${borderColor}`,\n        borderRadius: pxToRem(5.6),\n      },\n\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n\n      \"&.Mui-focusVisible\": {\n        border: `${borderWidth[2]} solid ${info.main} !important`,\n      },\n    },\n\n    colorPrimary: {\n      color: borderColor,\n\n      \"&.Mui-checked\": {\n        color: info.main,\n\n        \"& .MuiSvgIcon-root\": {\n          backgroundImage: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -1 22 22'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\"), ${linearGradient(\n            info.main,\n            info.main\n          )}`,\n          borderColor: info.main,\n        },\n      },\n    },\n\n    colorSecondary: {\n      color: borderColor,\n\n      \"& .MuiSvgIcon-root\": {\n        color: info.main,\n        \"&.Mui-checked\": {\n          backgroundImage: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -1 22 22'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\"), ${linearGradient(\n            info.main,\n            info.main\n          )}`,\n          borderColor: info.main,\n        },\n      },\n    },\n  },\n};\n\nexport default checkbox;\n","size_bytes":2594},"qms-source/frontend-new/src/assets/theme/components/form/radio.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport linearGradient from \"assets/theme/functions/linearGradient\";\n\nconst { borderWidth, borderColor } = borders;\nconst { transparent, info } = colors;\n\nconst radio = {\n  styleOverrides: {\n    root: {\n      \"& .MuiSvgIcon-root\": {\n        width: pxToRem(20),\n        height: pxToRem(20),\n        color: transparent.main,\n        border: `${borderWidth[1]} solid ${borderColor}`,\n        borderRadius: \"50%\",\n      },\n\n      \"&:after\": {\n        transition: \"opacity 250ms ease-in-out\",\n        content: `\"\"`,\n        position: \"absolute\",\n        width: pxToRem(14),\n        height: pxToRem(14),\n        borderRadius: \"50%\",\n        backgroundImage: linearGradient(info.main, info.main),\n        opacity: 0,\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        margin: \"auto\",\n      },\n\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n\n      \"&.Mui-focusVisible\": {\n        border: `${borderWidth[2]} solid ${info.main} !important`,\n      },\n    },\n\n    colorPrimary: {\n      color: borderColor,\n\n      \"&.Mui-checked\": {\n        color: info.main,\n\n        \"& .MuiSvgIcon-root\": {\n          borderColor: info.main,\n        },\n\n        \"&:after\": {\n          opacity: 1,\n        },\n      },\n    },\n\n    colorSecondary: {\n      color: borderColor,\n\n      \"&.Mui-checked\": {\n        color: info.main,\n\n        \"& .MuiSvgIcon-root\": {\n          borderColor: info.main,\n        },\n\n        \"&:after\": {\n          opacity: 1,\n        },\n      },\n    },\n  },\n};\n\nexport default radio;\n","size_bytes":2290},"replit.md":{"content":"# Quality Management System (QMS)\n\n## Overview\n\nThis is a comprehensive Quality Management System built with a modern tech stack. The application supports multi-tenant companies with role-based access control, task management, document handling, audit trails, and real-time notifications. It's designed for ISO compliance workflows (ISO 9001, ISO 27001) with features for managing tasks, iterations, departments, and extensive permission controls.\n\nThe system uses a monorepo-like structure with separate backend and frontend applications that communicate via REST API and WebSocket connections.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## Replit Deployment\n\n**Status**: âœ… Successfully deployed and running on Replit (November 2025)\n\n**Changes Made for Replit Compatibility**:\n1. **Database Migration**: Migrated from MySQL to PostgreSQL (Neon-backed)\n   - All Sequelize models updated for PostgreSQL compatibility\n   - Connection via `DATABASE_URL` environment variable\n\n2. **MUI Version Fix**: Downgraded Material UI from v7.3.4 to v6.4.4\n   - Frontend code uses Grid2 component only available in MUI v6\n   - Installed: `@mui/material@6.4.4`, `@mui/icons-material@6.4.4`\n   - Data Grid: `@mui/x-data-grid@7.23.2`\n\n3. **Dependency Management**: \n   - Created symlink: `frontend-new/node_modules` â†’ `../node_modules`\n   - Frontend dependencies installed in root node_modules\n   - Both frontend and backend share the same dependency tree\n\n4. **Application Wrapper**: Created `server/index.ts`\n   - Orchestrates startup of both backend and frontend\n   - Frontend (Vite) runs on port 3000\n   - Backend (Express) runs on port 5000\n   - Started via: `npm run dev` (runs `tsx server/index.ts`)\n\n**Default Credentials**:\n- Email: `admin@idatum.com`\n- Password: `Admin@123`\n- Company: IDATUM\n\n**Recent Fixes (November 5, 2025)**:\n- âœ… **Module Initialization**: Fixed bootstrap script to ensure modules and permissions exist even when company already initialized\n  - Bootstrap now checks for missing permissions and creates them automatically\n  - System Super Admin role can now access all 11 core modules without manual SQL intervention\n  - Login flow works correctly without 403 errors\n\n- âœ… **Company Soft Delete Bug**: Fixed company retrieval to properly respect soft-delete flag\n  - Changed all Company.findByPk() calls to Company.findOne() with explicit is_active: true filter\n  - Affected functions: getCompanyDetails (list & single), updateCompanyDetails\n  - Soft-deleted companies now correctly hidden from all retrieval endpoints\n  - Note: Company model has defaultScope filtering by is_active, but findByPk bypasses it in Sequelize\n\n**Known Issues**:\n- React prop warnings in console (pre-existing, not deployment-related - bgColor prop, invalid hook warnings)\n- Bootstrap script uses bulk INSERT for modules (not per-module upsert)\n  - Only inserts modules when Module table is completely empty\n  - Doesn't handle partial module data (e.g., if only some modules are missing)\n  - Future improvement: Replace with per-module upsert logic for true idempotence\n\n## System Architecture\n\n### Application Structure\n\n**Backend (BackEnd/)**\n- **Framework**: Express.js with ES modules\n- **ORM**: Sequelize for database abstraction\n- **Entry Point**: `BackEnd/src/server.js` - bootstraps the application, registers routes, initializes Socket.IO, and performs database sync\n- **Database Strategy**: Uses `sequelize.sync({ alter: true })` instead of migrations - schema changes are applied automatically on startup\n- **Port**: Defaults to 5000 (configurable via `PORT` env var)\n\n**Frontend (frontend-new/)**\n- **Framework**: React 19 with Vite bundler\n- **UI Library**: Material UI v6 (MUI) following Material Design principles\n- **Port**: Defaults to 3000\n- **Design System**: Material Design with enterprise dashboard aesthetic, Roboto typography, 8px spacing system\n\n**Hybrid Client (client/)**\n- **Framework**: React with TypeScript, Vite, and shadcn/ui components\n- **UI Approach**: Radix UI primitives with Tailwind CSS styling\n- **Routing**: wouter for client-side routing\n- **State Management**: TanStack Query for server state\n\n### Data Layer\n\n**Database**\n- **Primary**: PostgreSQL (originally MySQL, migrated for Replit compatibility)\n- **Connection**: Configured via `DATABASE_URL` environment variable or individual DB_* vars\n- **Models** (Sequelize):\n  - `Company` - Multi-tenant company entities with soft delete support\n  - `User` - User accounts with bcrypt password hashing, self-referential reporting hierarchy\n  - `Role` - Hierarchical role definitions with parent-child relationships\n  - `Module` - Feature/module registry used for permissions\n  - `RoleModulePermission` - Junction table mapping roles to module-level permissions (read/write/delete)\n  - `Task` - Core business tasks with status, priority, compliance tracking\n  - `TaskAssignment` - Many-to-many assignments with automatic manager inclusion\n  - `TaskChangeLog` - Audit trail for task modifications\n  - `Department` - Organizational departments per company\n  - `Iteration` - Time-boxed task cycles/sprints\n  - `Document` - File metadata for task attachments\n  - `GeneralDocument` & `GeneralDocumentFolder` - Hierarchical document management with visibility scopes\n  - `Comment` - Task comments\n  - `Notification` - In-app notifications with seen/unseen status\n\n**Bootstrapping**\n- On first run: `bootstrapSystemSuperAdmin.js` creates default company, system super admin role, modules, and admin user\n- Modules are inserted with UUIDs that frontend uses for permission-gated routes\n- Email notifications sent to new users with auto-generated passwords\n\n### Authentication & Authorization\n\n**Authentication**\n- JWT-based authentication with tokens issued on login\n- Tokens include: `userId`, `role` (UUID), `company` (UUID), `email`, `name`\n- Secret key: `JWT_SECRET` environment variable\n- Middleware: `authMiddlewares.js` - validates Bearer tokens and attaches decoded user to `req.user`\n\n**Authorization**\n- Role-based with module-level granular permissions\n- Permissions stored in `RoleModulePermission` with flags: `can_read`, `can_write`, `can_delete`\n- Middleware: `permissionsMiddlewares.js` - expects `moduleId` as first route param (e.g., `/:moduleId/tasks`)\n- Routes validate UUID-length moduleId and check user's role permissions before allowing access\n- Hierarchical roles: roles can have parent roles, permissions cascade through hierarchy\n\n**Special Role**: System Super Admin\n- Company-agnostic super user\n- Can manage multiple companies\n- Must provide `company_id` in requests for company-specific operations\n- Cannot be manually created (only via bootstrap)\n\n### API Architecture\n\n**REST Endpoints** (mounted under `/api/*`)\n- `/api/auth` - Login, registration, token management\n- `/api/companies` - Company CRUD and onboarding\n- `/api/users` - User management with auto-generated passwords\n- `/api/roles` - Role hierarchy and CRUD\n- `/api/modules` - Module registry\n- `/api/role-module-permissions` - Permission assignments\n- `/api/tasks` - Task CRUD with bulk operations and Excel import/export\n- `/api/task-assignments` - Assignment management with hierarchy-aware assignment\n- `/api/task-changelogs` - Audit trail retrieval\n- `/api/departments` - Department management\n- `/api/iterations` - Iteration/sprint management\n- `/api/documents` - File upload/download with metadata\n- `/api/general-documents` - Hierarchical document folders and files with visibility scopes\n- `/api/comments` - Task comments\n- `/api/notifications` - Real-time notification delivery\n\n**File Uploads**\n- Uses `multer` middleware for multipart form handling\n- Storage: `uploads/documents/` directory\n- Files served via static middleware: `/api/uploads`\n- Unique filenames: timestamp + random hash + original extension\n\n**Standard Route Pattern**\n```\n/:moduleId/resource-action\n```\nWhere `moduleId` is a UUID from the Module table, used for permission checks.\n\n### Real-Time Communication\n\n**Socket.IO**\n- Initialized in `config/socket.js` and attached to HTTP server\n- CORS configured for frontend origins (localhost:3000, production domains)\n- **Events**:\n  - `join` - Users join room by their user ID\n  - Notifications emitted to specific user rooms on task changes\n- **Use Cases**: \n  - Real-time notifications for task assignments, status changes, priority updates\n  - Document uploads trigger notifications to relevant users\n  - Change logs create notifications for assigned users and their managers\n\n**Notification Flow**\n1. Task change occurs (status, priority, assignment, document upload)\n2. `TaskChangeLog` entry created\n3. Affected users identified (assignees + their reporting hierarchy)\n4. `Notification` records created in database\n5. Socket.IO emits notification to each user's room\n6. Frontend displays toast/badge updates\n\n### Business Logic Patterns\n\n**Task Assignment Hierarchy**\n- When assigning tasks, system automatically includes all managers up the reporting chain\n- Uses recursive `getAllReportToUsers()` utility to traverse `User.reportTo` hierarchy\n- Ensures visibility for all supervisors without manual inclusion\n\n**Audit Trails**\n- Every task modification logged in `TaskChangeLog`\n- Tracks: status, priority, assignments, document uploads, task edits\n- Change logs include user details and timestamp\n- Assignment changes store full user objects (id, name, email) for historical context\n\n**Soft Deletes**\n- Companies use `is_active` flag\n- Users use `is_active` flag\n- GeneralDocuments and Folders use Sequelize paranoid mode (`deleted_at` timestamp)\n- Allows data recovery and maintains referential integrity\n\n**Permission Enforcement**\n- Routes check both authentication (valid token) and authorization (module permissions)\n- Permission checks cascade: write permission implies read, delete implies write\n- Module IDs are validated as UUIDs (length >= 36 characters)\n\n**Multi-Tenancy**\n- Data isolation by `company_id` foreign key\n- System Super Admin can cross company boundaries with explicit `company_id` parameter\n- Regular users restricted to their assigned company\n\n### Environment Configuration\n\n**Required Backend Variables**\n```\nDATABASE_URL=postgresql://...\nJWT_SECRET=secret_key_here\nBOOTSTRAP_ON_SYNC=true\nMAIL_HOST=smtp.example.com\nMAIL_PORT=587\nMAIL_USER=noreply@example.com\nMAIL_PASS=password\n```\n\n**Required Frontend Variables**\n```\nVITE_BASE_API_URL=http://localhost:5000/api\n```\n\n### Development Workflow\n\n**Backend Development**\n```bash\ncd BackEnd\nnpm install\nnpm run dev  # Uses --watch flag for auto-restart\n```\n\n**Frontend Development**\n```bash\ncd frontend-new\nnpm install\nnpm run dev  # Vite dev server on port 3000\n```\n\n**Combined Runner** (Replit-specific)\n- `qms-runner.js` - Installs deps and runs both services concurrently\n- `server/index.ts` - Wrapper that spawns backend as child process\n\n**Database Schema Updates**\n- Currently uses `sync({ alter: true })` - NOT recommended for production\n- Future: migrate to Sequelize migrations or Umzug for version-controlled schema changes\n- Avoid large schema changes without proper migration strategy\n\n## External Dependencies\n\n### Third-Party Services\n\n**Email Service (Nodemailer)**\n- Used for: User account creation notifications, password delivery\n- Configuration: SMTP credentials in environment variables\n- Purpose: Sends auto-generated passwords to new users\n\n**Database**\n- PostgreSQL (via Neon on Replit, or standard Postgres elsewhere)\n- Connection pooling handled by Sequelize\n- SSL optional based on environment\n\n### NPM Packages\n\n**Backend Core**\n- `express` - Web framework\n- `sequelize` - ORM for PostgreSQL\n- `pg`, `pg-hstore` - PostgreSQL drivers\n- `bcryptjs` - Password hashing\n- `jsonwebtoken` - JWT token generation/validation\n- `socket.io` - WebSocket server\n- `cors` - Cross-origin resource sharing\n- `multer` - File upload handling\n- `dotenv` - Environment variable management\n\n**Backend Utilities**\n- `uuid` - UUID generation\n- `nodemailer` - Email sending\n- `exceljs` - Excel file import/export for tasks\n- `date-fns` - Date manipulation\n\n**Frontend Core**\n- `react`, `react-dom` - React framework\n- `react-router-dom` - Client-side routing\n- `@mui/material`, `@mui/icons-material` - Material UI components\n- `@emotion/react`, `@emotion/styled` - CSS-in-JS styling\n- `@tanstack/react-query` - Server state management\n- `axios` - HTTP client\n- `socket.io-client` - WebSocket client\n\n**Frontend Utilities**\n- `jwt-decode` - Token parsing\n- `react-toastify` - Toast notifications\n- `recharts` - Data visualization\n- `xlsx` - Excel file handling\n- `html2canvas`, `jspdf` - PDF generation\n- `date-fns` - Date formatting\n\n**Development Tools**\n- `vite` - Build tool and dev server\n- `eslint` - Code linting\n- `concurrently` - Run multiple processes\n\n**Radix UI Components** (shadcn/ui pattern)\n- Complete set of accessible component primitives\n- Styled with Tailwind CSS and class-variance-authority\n- Used in hybrid client build\n\n### Build & Deployment\n\n**Production Build**\n```bash\n# Frontend\ncd frontend-new && npm run build\n\n# Backend (no build step, runs directly)\ncd BackEnd && npm start\n```\n\n**Deployment Considerations**\n- Static files: Frontend build outputs to dist/\n- Backend serves frontend in production via static middleware\n- Environment variables must be set in production environment\n- Database migrations needed before switching from sync strategy\n- File uploads directory must be writable and backed up","size_bytes":13462},"frontend-new/src/styles/RoleForm.css":{"content":"/* Role Form Container */\n.role-form-container {\n    max-width: 500px;\n    margin: 0 auto;\n    padding: 20px;\n    background: #ffffff;\n    border-radius: 8px;\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n  }\n  \n  /* Form Heading */\n  .role-form-container h2 {\n    text-align: center;\n    color: #333;\n    margin-bottom: 20px;\n  }\n  \n  /* Input Fields */\n  .role-form-container input {\n    width: 100%;\n    padding: 12px;\n    margin: 10px 0;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    font-size: 14px;\n    transition: border-color 0.3s ease-in-out;\n  }\n  \n  .role-form-container input:focus {\n    border-color: #007bff;\n    outline: none;\n  }\n  \n  /* Buttons Container */\n  .role-form-buttons {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 20px;\n  }\n  \n  /* Submit Button */\n  .submit-btn {\n    background-color: #007bff;\n    color: white;\n    padding: 10px 16px;\n    border: none;\n    cursor: pointer;\n    border-radius: 5px;\n    font-size: 14px;\n    transition: background 0.3s ease-in-out, transform 0.2s ease-in-out;\n  }\n  \n  .submit-btn:hover {\n    background-color: #0056b3;\n    transform: scale(1.05);\n  }\n  \n  /* Cancel Button */\n  .cancel-btn {\n    background-color: #dc3545;\n    color: white;\n    padding: 10px 16px;\n    border: none;\n    cursor: pointer;\n    border-radius: 5px;\n    font-size: 14px;\n    transition: background 0.3s ease-in-out, transform 0.2s ease-in-out;\n  }\n  \n  .cancel-btn:hover {\n    background-color: #b02a37;\n    transform: scale(1.05);\n  }\n  \n  /* Responsive Design */\n  @media (max-width: 600px) {\n    .role-form-container {\n      padding: 15px;\n    }\n  \n    .role-form-container input {\n      padding: 10px;\n      font-size: 12px;\n    }\n  \n    .submit-btn, .cancel-btn {\n      padding: 8px 12px;\n      font-size: 12px;\n    }\n  }\n  ","size_bytes":1809},"qms-source/frontend-new/src/utils/socket.js":{"content":"import { io } from \"socket.io-client\";\n\nconst SOCKET_URL = import.meta.env.VITE_SOCKET_BACK;\n\nexport const socket = io(SOCKET_URL, {\n    transports: [\"websocket\"],\n    withCredentials: true,\n    autoConnect: false,\n});\n\nlet isConnected = false;\nlet hasJoined = false;\n\nexport const connectSocket = (userId) => {\n    if (!userId) {\n        console.error(\"âŒ User ID is required to establish WebSocket connection.\");\n        return;\n    }\n\n    if (!isConnected) {\n        socket.connect();\n\n        socket.on(\"connect\", () => {\n            console.log(\"âœ… WebSocket Connected:\", socket.id);\n\n            if (!hasJoined) {\n                socket.emit(\"join\", userId);\n                hasJoined = true;\n                console.log(\"ðŸ“¢ Joined Room with User ID:\", userId);\n            }\n\n            isConnected = true;\n        });\n\n        socket.on(\"disconnect\", () => {\n            console.log(\"âŒ WebSocket Disconnected\");\n            isConnected = false;\n            hasJoined = false;\n        });\n\n        socket.on(\"connect_error\", (err) => {\n            console.error(\"âš ï¸ WebSocket Connection Error:\", err.message);\n        });\n    } else {\n        console.log(\"âš ï¸ WebSocket already connected. Skipping reconnect.\");\n    }\n\n    return socket;\n};\n\nexport const disconnectSocket = () => {\n    if (socket.connected) {\n        socket.removeAllListeners();\n        socket.disconnect();\n        isConnected = false;\n        hasJoined = false;\n        console.log(\"âŽ WebSocket Disconnected & Listeners Removed\");\n    }\n};\n","size_bytes":1533},"qms-source/frontend-new/src/assets/theme/functions/linearGradient.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The linearGradient() function helps you to create a linear gradient color background\n */\n\nfunction linearGradient(color, colorState, angle = 195) {\n  return `linear-gradient(${angle}deg, ${color}, ${colorState})`;\n}\n\nexport default linearGradient;\n","size_bytes":777},"frontend-new/src/assets/theme-dark/components/dialog/dialogContentText.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme-dark/base/typography\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { size } = typography;\nconst { white } = colors;\n\nconst dialogContentText = {\n  styleOverrides: {\n    root: {\n      fontSize: size.md,\n      color: rgba(white.main, 0.8),\n    },\n  },\n};\n\nexport default dialogContentText;\n","size_bytes":1006},"frontend-new/src/assets/theme-dark/components/table/tableContainer.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\nimport borders from \"assets/theme-dark/base/borders\";\n\nconst { background } = colors;\nconst { md } = boxShadows;\nconst { borderRadius } = borders;\n\nconst tableContainer = {\n  styleOverrides: {\n    root: {\n      backgroundColor: background.card,\n      boxShadow: md,\n      borderRadius: borderRadius.xl,\n    },\n  },\n};\n\nexport default tableContainer;\n","size_bytes":1027},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"qms-source/frontend-new/src/assets/theme/components/button/outlined.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { transparent, light, info, secondary } = colors;\nconst { size } = typography;\n\nconst outlined = {\n  base: {\n    minHeight: pxToRem(40),\n    color: light.main,\n    borderColor: light.main,\n    padding: `${pxToRem(10)} ${pxToRem(24)}`,\n\n    \"&:hover\": {\n      opacity: 0.75,\n      backgroundColor: transparent.main,\n    },\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(16)} !important`,\n    },\n  },\n\n  small: {\n    minHeight: pxToRem(32),\n    padding: `${pxToRem(6)} ${pxToRem(16)}`,\n    fontSize: size.xs,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(12)} !important`,\n    },\n  },\n\n  large: {\n    minHeight: pxToRem(47),\n    padding: `${pxToRem(12)} ${pxToRem(28)}`,\n    fontSize: size.sm,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(22)} !important`,\n    },\n  },\n\n  primary: {\n    backgroundColor: transparent.main,\n    borderColor: info.main,\n\n    \"&:hover\": {\n      backgroundColor: transparent.main,\n    },\n  },\n\n  secondary: {\n    backgroundColor: transparent.main,\n    borderColor: secondary.main,\n\n    \"&:hover\": {\n      backgroundColor: transparent.main,\n    },\n  },\n};\n\nexport default outlined;\n","size_bytes":1991},"frontend-new/src/assets/theme-dark/components/slider.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { grey, white, black, info } = colors;\nconst { borderRadius, borderWidth } = borders;\nconst { sliderBoxShadow } = boxShadows;\n\nconst slider = {\n  styleOverrides: {\n    root: {\n      width: \"100%\",\n\n      \"& .MuiSlider-active, & .Mui-focusVisible\": {\n        boxShadow: \"none !important\",\n      },\n\n      \"& .MuiSlider-valueLabel\": {\n        color: black.main,\n      },\n    },\n\n    rail: {\n      height: pxToRem(2),\n      background: grey[200],\n      borderRadius: borderRadius.sm,\n      opacity: 1,\n    },\n\n    track: {\n      background: info.main,\n      height: pxToRem(2),\n      position: \"relative\",\n      border: \"none\",\n      borderRadius: borderRadius.lg,\n      zIndex: 1,\n    },\n\n    thumb: {\n      width: pxToRem(14),\n      height: pxToRem(14),\n      backgroundColor: white.main,\n      zIndex: 10,\n      boxShadow: sliderBoxShadow.thumb,\n      border: `${borderWidth[1]} solid ${info.main}`,\n\n      \"&:hover\": {\n        boxShadow: \"none\",\n      },\n    },\n  },\n};\n\nexport default slider;\n","size_bytes":1820},"frontend-new/src/styles/RoleList.css":{"content":"/* Role List Container */\n.role-list-container {\n  padding: 20px;\n  background: #f4f4f4;\n  border-radius: 8px;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n}\n\n/* Table Styling */\n.role-table {\n  width: 100%;\n  border-collapse: collapse;\n  background: white;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);\n}\n\n/* Table Header */\n.role-table th {\n  padding: 14px;\n  background-color: #007bff;\n  color: white;\n  text-align: left;\n  font-weight: bold;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n/* Table Rows */\n.role-table td {\n  padding: 14px;\n  border-bottom: 1px solid #ddd;\n  text-align: left;\n  font-size: 14px;\n}\n\n/* Alternate Row Coloring */\n.role-table tr:nth-child(even) {\n  background-color: #f8f9fa;\n}\n\n/* Hover Effect */\n.role-table tr:hover {\n  background-color: #e9ecef;\n  transition: background 0.2s ease-in-out;\n}\n\n/* Buttons Container */\n.action-buttons {\n  display: flex;\n  gap: 10px;\n}\n\n/* View Modules Button */\n.view-modules-btn {\n  background-color: #007bff;\n  color: white;\n  padding: 8px 14px;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n  font-size: 14px;\n  transition: background 0.3s ease-in-out, transform 0.2s ease-in-out;\n}\n\n.view-modules-btn:hover {\n  background-color: #0056b3;\n  transform: scale(1.05);\n}\n\n/* Delete Button */\n.delete-btn {\n  background-color: #dc3545;\n  color: white;\n  padding: 8px 14px;\n  border: none;\n  cursor: pointer;\n  border-radius: 5px;\n  font-size: 14px;\n  transition: background 0.3s ease-in-out, transform 0.2s ease-in-out;\n}\n\n.delete-btn:hover {\n  background-color: #b02a37;\n  transform: scale(1.05);\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .role-table th, .role-table td {\n      padding: 10px;\n      font-size: 12px;\n  }\n\n  .view-modules-btn, .delete-btn {\n      padding: 6px 10px;\n      font-size: 12px;\n  }\n}\n","size_bytes":1854},"BackEnd/src/controllers/departmentController.js":{"content":"import { error } from 'console';\nimport Department from '../models/Department.js';\nimport User from '../models/User.js';\nimport Role from '../models/Role.js'\n\nexport const createDepartment = async (req, res) => {\n  try {\n    const {  name, description } = req.body;\n    const user_id = req.user.id;\n\n        // Fetch user's role and company ID\n        const user = await User.findByPk(user_id, {\n            include: [{ model: Role, attributes: [\"name\"], required: true }]\n        });\n\n        if (!user) {\n            return res.status(404).json({ error: \"User not found\" });\n        }\n\n        const userRole = user.Role ? user.Role.name : null;\n        let company_id;\n\n        if (userRole === \"System Super Admin\") {\n            company_id = req.body.company_id;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n            }\n        } else {\n            company_id = req.user.company;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n            }\n        }\n\n        if(!name){\n            return res.status(400).json({error:\"Department name is required\"})\n        }\n    const department = await Department.create({ company_id, name, description });\n    res.status(201).json(department);\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n};\n\nexport const getAllDepartments = async (req, res) => {\n  try {\n    const user_id = req.user.id;\n\n        // Fetch user's role and company ID\n        const user = await User.findByPk(user_id, {\n            include: [{ model: Role, attributes: [\"name\"], required: true }]\n        });\n\n        if (!user) {\n            return res.status(404).json({ error: \"User not found\" });\n        }\n\n        const userRole = user.Role ? user.Role.name : null;\n        let company_id;\n\n        if (userRole === \"System Super Admin\") {\n            company_id = req.query.company_id;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n            }\n        } else {\n            company_id = req.user.company;\n            if (!company_id) {\n                return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n            }\n        }\n    const departments = await Department.findAll(\n        {\n            where: { is_active: true ,company_id}\n        }\n    );\n    res.json(departments);\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n};\n\nexport const getDepartmentById = async (req, res) => {\n  try {\n    const { id } = req.params;\n    const department = await Department.findByPk(id);\n    if (!department) return res.status(404).json({ error: 'Department not found' });\n    res.json(department);\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n};\n\nexport const updateDepartment = async (req, res) => {\n  try {\n    const { id } = req.params;\n    const { name, description, is_active } = req.body;\n    const department = await Department.findByPk(id);\n    if (!department) return res.status(404).json({ error: 'Department not found' });\n\n    department.name = name ?? department.name;\n    department.description = description ?? department.description;\n    if (typeof is_active === 'boolean') department.is_active = is_active;\n\n    await department.save();\n    res.json(department);\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n};\n\nexport const deleteDepartment = async (req, res) => {\n  try {\n    const { id } = req.params;\n\n    // Check if department exists\n    const department = await Department.findByPk(id);\n    if (!department) {\n      return res.status(404).json({ error: 'Department not found' });\n    }\n\n    // Find all users assigned to this department\n    const assignedUsers = await User.findAll({\n      where: { department_id: id },\n      attributes: ['id', 'name']\n    });\n\n    if (assignedUsers.length > 0) {\n      const userNames = assignedUsers.map(user => user.name).join(', ');\n      return res.status(400).json({\n        error: `Cannot delete department: It is assigned to the following user(s): ${userNames}`\n      });\n    }\n\n    // Safe to delete\n    await department.destroy();\n    res.json({ message: 'Department deleted successfully' });\n\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n};\n\n\nexport default {createDepartment,getAllDepartments,getDepartmentById,updateDepartment,deleteDepartment}","size_bytes":4617},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"qms-source/frontend-new/src/assets/theme-dark/components/dialog/dialogContent.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme-dark/base/typography\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { size } = typography;\nconst { white } = colors;\nconst { borderWidth, borderColor } = borders;\n\nconst dialogContent = {\n  styleOverrides: {\n    root: {\n      padding: pxToRem(16),\n      fontSize: size.md,\n      color: rgba(white.main, 0.8),\n    },\n\n    dividers: {\n      borderTop: `${borderWidth[1]} solid ${rgba(borderColor, 0.6)}`,\n      borderBottom: `${borderWidth[1]} solid ${rgba(borderColor, 0.6)}`,\n    },\n  },\n};\n\nexport default dialogContent;\n","size_bytes":1352},"frontend-new/src/styles/EditTask.css":{"content":"/* File Upload Section */\n.file-upload-section {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n  margin-top: 20px;\n  padding: 15px;\n  border: 2px dashed #b3b3b3;\n  border-radius: 10px;\n  background-color: #f7f7f7;\n  width: 100%;\n}\n\n.custom-file-input {\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n}\n\n.custom-file-input input[type=\"file\"] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n\n.custom-file-button {\n  display: inline-block;\n  padding: 10px 20px;\n  font-size: 16px;\n  font-weight: bold;\n  color: white;\n  background-color: #1976d2;\n  border-radius: 8px;\n  border: none;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.custom-file-button:hover {\n  background-color: #97c1ec;\n}\n\n/* Style for File Name Display */\n.file-name {\n  margin-top: 5px;\n  font-size: 14px;\n  color: #333;\n  font-weight: bold;\n}\n\n/* Button Group */\n.button-group {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 25px;\n}\n\n.button-group button {\n  width: 48%;\n  padding: 10px;\n  font-size: 16px;\n  font-weight: bold;\n}\n\n.MuiButton-containedPrimary {\n  background-color: #1976d2 !important;\n  color: white !important;\n  transition: 0.3s;\n}\n\n.MuiButton-containedPrimary:hover {\n  background-color: #509ce7 !important;\n}\n\n.MuiButton-outlinedSecondary {\n  color: #d32f2f !important;\n  border-color: #d32f2f !important;\n  transition: 0.3s;\n}\n\n.MuiButton-outlinedSecondary:hover {\n  background-color: #f8d7da !important;\n  border-color: #d32f2f !important;\n}\n\n.view-document-section {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 10px;\n}\n\n.view-document-button {\n  background-color: #1976d2;\n  color: white;\n  padding: 10px 15px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\n.view-document-button:hover {\n  background-color: #1565c0;\n}\n","size_bytes":1948},"BackEnd/src/controllers/notificationController.js":{"content":"import Notification from \"../models/Notification.js\";\n\n// Get Unseen Notifications for a User\nexport const getUnseenNotifications = async (req, res) => {\n    try {\n        const userId = req.user.id;\n        const notifications = await Notification.findAll({\n            where: { user_id: userId, is_seen: false },\n            order: [[\"created_at\", \"DESC\"]],\n        });\n\n        if (notifications.length === 0) {\n            return res.status(200).json({ message: \"No unseen notifications found.\" });\n        }\n\n        res.json(notifications);\n    } catch (error) {\n        console.error(\"Error fetching unseen notifications:\", error);\n        res.status(500).json({ error: \"Server Error\" });\n    }\n};\n\n// Mark Notifications as Seen\nexport const markNotificationsAsSeen = async (req, res) => {\n    try {\n        const userId = req.user.id;\n        const updatedCount = await Notification.update(\n            { is_seen: true }, \n            { where: { user_id: userId, is_seen: false } }\n        );\n\n        if (updatedCount[0] === 0) {\n            return res.status(200).json({ message: \"No unseen notifications to mark as seen.\" });\n        }\n\n        res.json({ message: \"Notifications marked as seen.\" });\n    } catch (error) {\n        console.error(\"Error marking notifications as seen:\", error);\n        res.status(500).json({ error: \"Server Error\" });\n    }\n};\n\n// Get All Notifications for a User\nexport const getAllNotifications = async (req, res) => {\n    try {\n        const userId = req.user.id;\n        const notifications = await Notification.findAll({\n            where: { user_id: userId },\n            order: [[\"created_at\", \"DESC\"]],\n        });\n\n        if (notifications.length === 0) {\n            return res.status(200).json({ message: \"No notifications available.\" });\n        }\n\n        res.json(notifications);\n    } catch (error) {\n        console.error(\"Error fetching all notifications:\", error);\n        res.status(500).json({ error: \"Server Error\" });\n    }\n};\n","size_bytes":1993},"qms-source/frontend-new/src/assets/theme-dark/components/tabs/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { background } = colors;\nconst { borderRadius } = borders;\nconst { md } = boxShadows;\n\nconst tabs = {\n  styleOverrides: {\n    root: {\n      position: \"relative\",\n      backgroundColor: background.card,\n      borderRadius: borderRadius.xl,\n      minHeight: \"unset\",\n      padding: pxToRem(4),\n    },\n\n    flexContainer: {\n      height: \"100%\",\n      position: \"relative\",\n      zIndex: 10,\n    },\n\n    fixed: {\n      overflow: \"unset !important\",\n      overflowX: \"unset !important\",\n    },\n\n    vertical: {\n      \"& .MuiTabs-indicator\": {\n        width: \"100%\",\n      },\n    },\n\n    indicator: {\n      height: \"100%\",\n      borderRadius: borderRadius.lg,\n      backgroundColor: background.default,\n      boxShadow: md,\n      transition: \"all 500ms ease\",\n    },\n  },\n};\n\nexport default tabs;\n","size_bytes":1637},"BackEnd/src/controllers/roleModulePermissionController.js":{"content":"import RoleModulePermission from '../models/RoleModulesPermissions.js';\nimport Role from '../models/Role.js';\nimport Module from '../models/Module.js';\n\n\n// Function to assign or update permissions for a role\nexport const assignPermission = async (req, res) => {\n    try {\n        // Extract role ID from request parameters and modules from request body\n        //const  roleId  = req.user.role;\n        const { roleId ,modules } = req.body;\n\n        // Validate input parameters\n        if (!roleId || !Array.isArray(modules) || modules.length === 0) {\n            return res.status(400).json({ error: \"Role ID and modules array are required.\" });\n        }\n\n        // Iterate through the modules array and process each module's permissions\n        for (const module of modules) {\n            const { module_id, can_read = false, can_write = false, can_delete = false } = module;\n\n            // Check if the permission already exists for this role & module\n            const [permission, created] = await RoleModulePermission.findOrCreate({\n                where: { role_id: roleId, module_id },\n                defaults: { can_read, can_write, can_delete } // Set defaults if new\n            });\n\n            // If it exists, update the existing record\n            if (!created) {\n                await permission.update({ can_read, can_write, can_delete });\n            }\n        }\n\n        res.status(201).json({ message: \"Permissions assigned  successfully\" });\n    } catch (error) {\n        // Handle unexpected server errors\n        res.status(500).json({ error: \"Internal Server Error: \" + error.message });\n    }\n};\n\n\n\n// Get all role-module permissions\nexport const getAllPermissions = async (req, res) => {\n    try {\n        const permissions = await RoleModulePermission.findAll();\n        res.json(permissions);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Get permissions by role\nexport const getPermissionsByRole = async (req, res) => {\n    try {\n        const { role_id } = req.params;\n        const permissions = await RoleModulePermission.findAll({\n             where: { role_id },\n             include: [{model :Role}, { model: Module }],\n         });\n\n        if (!permissions.length) return res.status(404).json({ error: 'No permissions found for this role' });\n\n        res.json(permissions);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n// Update role-module permission\n// export const updatePermission = async (req, res) => {\n//     try {\n//         const { role_id, module_id } = req.params;\n//         const { can_read, can_write, can_delete } = req.body;\n\n//         const permission = await RoleModulePermission.findOne({ where: { role_id, module_id } });\n//         if (!permission) return res.status(404).json({ error: 'Permission not found' });\n\n//         await permission.update({ can_read, can_write, can_delete });\n//         res.json({ message: 'Permissions updated successfully', permission });\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n// Delete role-module permission\nexport const deletePermission = async (req, res) => {\n    try {\n        const { role_id,module_id } = req.body;\n       // const role_id = req.user.role;\n\n        const permission = await RoleModulePermission.findOne({ where: { role_id, module_id } });\n        if (!permission) return res.status(404).json({ error: 'Permission not found' });\n\n        await permission.destroy();\n        res.json({ message: 'Permission deleted successfully' });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport default { assignPermission, getAllPermissions, getPermissionsByRole,  deletePermission };\n","size_bytes":3785},"BackEnd/src/routes/index.js":{"content":"","size_bytes":0},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <Switch>\n      {/* Add pages below */}\n      {/* <Route path=\"/\" component={Home}/> */}\n      {/* Fallback to 404 */}\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <Router />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":733},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"qms-source/BackEnd/src/routes/taskChangeLogRoutes.js":{"content":"import express from 'express';\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\nimport {getTaskChangeLogs} from \"../controllers/taskChangeLogController.js\";\n\nconst router = express.Router();\n\nrouter.get(\"/:moduleId/:task_id\",authenticateUser,checkPermission(\"read\"),getTaskChangeLogs);\n\nexport default router;","size_bytes":398},"frontend-new/src/assets/theme-dark/components/form/select.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { transparent } = colors;\n\nconst select = {\n  styleOverrides: {\n    select: {\n      display: \"grid\",\n      alignItems: \"center\",\n      padding: `0 ${pxToRem(12)} !important`,\n\n      \"& .Mui-selected\": {\n        backgroundColor: transparent.main,\n      },\n    },\n\n    selectMenu: {\n      background: \"none\",\n      height: \"none\",\n      minHeight: \"none\",\n      overflow: \"unset\",\n    },\n\n    icon: {\n      display: \"none\",\n    },\n  },\n};\n\nexport default select;\n","size_bytes":1192},"qms-source/BackEnd/src/models/Notification.js":{"content":"import { DataTypes } from \"sequelize\";\nimport sequelize from \"../config/db.js\";\nimport User from \"./User.js\";\nimport Task from \"./Task.js\";\n\nconst Notification = sequelize.define(\"Notification\", {\n    id: { type: DataTypes.UUID, defaultValue: DataTypes.UUIDV4, primaryKey: true },\n    user_id: { type: DataTypes.UUID, allowNull: false, references: { model: User, key: \"id\" } },\n    task_id: { type: DataTypes.UUID, allowNull: false, references: { model: Task, key: \"id\" } },\n    type: { type: DataTypes.ENUM(\"status\", \"priority\", \"assignment\",\"document\",\"task\"), allowNull: false },\n    message: { type: DataTypes.TEXT, allowNull: false },\n    is_seen: { type: DataTypes.BOOLEAN, defaultValue: false },\n    created_at: { type: DataTypes.DATE, defaultValue: DataTypes.NOW }\n}, { timestamps: false });\n\nNotification.belongsTo(User, { foreignKey: \"user_id\" });\nNotification.belongsTo(Task, { foreignKey: \"task_id\" });\n\nexport default Notification;\n","size_bytes":945},"BackEnd/src/controllers/companyController.js":{"content":"import Company from \"../models/Company.js\";\nimport User from \"../models/User.js\";\nimport bcrypt from \"bcryptjs\";\nimport sequelize from \"../config/db.js\";\nimport { v4 as uuidv4 } from 'uuid';\nimport Role from '../models/Role.js';\nimport Module from '../models/Module.js';\nimport RoleModulePermission from '../models/RoleModulesPermissions.js';\nimport generateRandomPassword from '../utils/generateRandomPassword.js';\nimport sendEmail from '../utils/sendEmail.js';\nimport { Op } from 'sequelize';\n\nimport{defaultCompanyName} from '../utils/bootstrapSystemSuperAdmin.js'\n\nimport userController from '../controllers/userController.js';\n\nconst defaultCompany = defaultCompanyName\nexport const createCompany = async (req, res) => {\n    const transaction = await sequelize.transaction();\n\n    try {\n        const { name, email, adminName } = req.body;\n        if (!name || !email || !adminName) {\n            await transaction.rollback();\n            return res.status(400).json({ error: \"Company name, admin email, and admin name are required\" });\n        }\n\n        // ðŸš« Check for existing ACTIVE user with same email\n        const existingActiveUser = await User.findOne({\n            where: {\n                email,\n                is_active: true\n            }\n        });\n\n        if (existingActiveUser) {\n            await transaction.rollback();\n            return res.status(409).json({\n                error: \"An active user already exists with this email. Please use a different admin email.\"\n            });\n        }\n\n        // Continue with creation\n        const companyId = uuidv4();\n\n        const company = await Company.create(\n            { id: companyId, name },\n            { transaction }\n        );\n\n        let superAdminRole = await Role.findOne({\n            where: { name: \"Super Admin\", company_id: companyId },\n            transaction\n        });\n\n        if (!superAdminRole) {\n            superAdminRole = await Role.create({\n                name: \"Super Admin\",\n                company_id: companyId,\n                description: \"The Super Admin role is responsible for all events within the company.\"\n            }, { transaction });\n        }\n\n        const role_id = superAdminRole.id;\n\n        const generatedPassword = generateRandomPassword();\n\n        console.log(\"Attempting to create User with:\", {\n            email, adminName, companyId, role_id, generatedPassword\n        });\n\n        const newUser = await User.create({\n            email,\n            name: adminName,\n            company_id: companyId,\n            role_id,\n            password_hash: generatedPassword\n        }, { transaction });\n\n        console.log(\"âœ… User successfully created:\", newUser);\n\n        const subject = 'Welcome to Our Platform - Your Login Credentials';\n        const message = `\n            Hello ${name},\n            \\nYour account has been created successfully. Below are your login credentials:\\n\n            Email: ${email}\n            Password: ${generatedPassword}\n            \\nPlease change your password after logging in.\\n\n            Regards,\n            Your Team\n        `;\n\n        await sendEmail(email, subject, message);\n\n        const modules = await Module.findAll({ transaction });\n        if (!modules.length) {\n            throw new Error(\"No modules found. Please check the Modules table.\");\n        }\n\n        for (const module of modules) {\n            await RoleModulePermission.create({\n                role_id: superAdminRole.id,\n                module_id: module.id,\n                can_read: true,\n                can_write: true,\n                can_delete: true\n            }, { transaction });\n        }\n\n        await transaction.commit();\n\n        return res.status(201).json({\n            message: \"Company created successfully with Super Admin\",\n            companyId: company.id,\n            superAdminEmail: email\n        });\n    } catch (error) {\n        await transaction.rollback();\n\n        console.error(\"âŒ Error in createCompany:\", error);\n        if (!res.headersSent) {\n            return res.status(500).json({ error: error.message });\n        }\n    }\n};\n\n\n\nconst updateCompanyDetails = async (req, res) => {\n    try {\n        const { name, industry, domain } = req.body;\n        const { id } = req.params;\n\n        const company = await Company.findOne({\n            where: {\n                id,\n                is_active: true\n            }\n        });\n        if (!company) return res.status(404).json({ error: \"Company not found\" });\n\n        // Update only provided fields\n        const updatedData = {};\n      \n        if (name !== undefined) updatedData.name = name;\n        if (industry !== undefined) updatedData.industry = industry;\n        if (domain !== undefined) updatedData.domain = domain;\n\n        await company.update(updatedData);\n\n        res.json({ message: \"Company details updated successfully\", company });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n\nconst getCompanyDetails = async (req, res) => {\n    try {\n        let company;\n        if (req.params.id) {\n            company = await Company.findOne({\n                where: {\n                    id: req.params.id,\n                    is_active: true\n                }\n            });\n            if (!company) return res.status(404).json({ error: 'Company not found' });\n        } else {\n            company = await Company.findAll({\n                where: {\n                    is_active: true,\n                    name: { [Op.ne]: defaultCompany }\n                },\n                order: [['name', 'ASC']]\n            });\n        }\n        \n        res.json(company);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\n\n\n\n\nconst softDeleteCompany = async (req, res) => {\n    try {\n        const { id } = req.params;\n        const { confirmed } = req.body;\n\n   \n\n        // Fetch the role name using role_id\n        const role = await Role.findByPk(req.user.role);\n        console.log(`role of user going to delete Company is ${role.name}`);\n        if (!role || role.name !== 'System Super Admin') {\n            return res.status(403).json({ error: 'Only System Super Admin can delete companies' });\n        }\n\n        const company = await Company.scope('all').findByPk(id);\n\n        if (!company) {\n            return res.status(404).json({ error: \"Company not found\" });\n        }\n\n        if (company.is_active === false) {\n            return res.status(400).json({ error: \"Company is already deactivated\" });\n        }\n\n        // Double confirmation required\n        if (!confirmed) {\n            return res.status(400).json({ \n                error: \"Please confirm deletion by sending { confirmed: true } in request body\" \n            });\n        }\n\n        company.is_active = false;\n        await company.save();\n\n               // Deactivate all users in this company\n               await User.update({ is_active: false }, {\n                where: { company_id: company.id }\n            });\n    \n            res.json({ message: \"Company and associated users deactivated successfully.\" });\n\n        \n\n    } catch (error) {\n        console.error(\"âŒ Error soft deleting company:\", error);\n        res.status(500).json({ error: \"Internal Server Error\" });\n    }\n};\n\n\nexport default { createCompany, updateCompanyDetails, getCompanyDetails, softDeleteCompany };","size_bytes":7416},"frontend-new/src/reportWebVitals.js":{"content":"const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","size_bytes":362},"frontend-new/src/assets/theme/components/iconButton.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\n\nconst { transparent } = colors;\n\nconst iconButton = {\n  styleOverrides: {\n    root: {\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n    },\n  },\n};\n\nexport default iconButton;\n","size_bytes":813},"qms-source/pnpm-lock.yaml":{"content":"lockfileVersion: '9.0'\n\nsettings:\n  autoInstallPeers: true\n  excludeLinksFromLockfile: false\n\nimporters:\n\n  .:\n    dependencies:\n      date-fns:\n        specifier: ^4.1.0\n        version: 4.1.0\n\npackages:\n\n  date-fns@4.1.0:\n    resolution: {integrity: sha512-Ukq0owbQXxa/U3EGtsdVBkR1w7KOQ5gIBqdH2hkvknzZPYvBxb/aa6E8L7tmjFtkwZBu3UXBbjIgPo/Ez4xaNg==}\n\nsnapshots:\n\n  date-fns@4.1.0: {}\n","size_bytes":383},"qms-source/frontend-new/src/pages/DocumentManagement/DocumentManagementPage.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport {\n  Box,\n  Typography,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField,\n  InputLabel,\n  Grid,\n  Paper,\n  Divider,\n  Menu,\n  MenuItem,\n  Breadcrumbs,\n  FormControl,\n  Select,\n  IconButton,\n  Tooltip,\n} from \"@mui/material\";\nimport {\n  ArrowBack,\n  CreateNewFolder,\n  Folder as FolderIcon,\n  UploadFile,\n  InsertDriveFile,\n} from \"@mui/icons-material\";\nimport { CircularProgress } from \"@mui/material\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast, ToastContainer } from \"react-toastify\";\n\nconst MODULE_ID = \"cb5010bc-83fd-4409-9845-bbba4ceda9c8\";\n\nconst DocumentManagementPage = () => {\n  const [folders, setFolders] = useState([]);\n  const [documents, setDocuments] = useState([]);\n  const [currentFolderId, setCurrentFolderId] = useState(null);\n  const [folderStack, setFolderStack] = useState([]);\n  const [folderNames, setFolderNames] = useState([]);\n  const [createFolderOpen, setCreateFolderOpen] = useState(false);\n  const [newFolderName, setNewFolderName] = useState(\"\");\n  const [visibilityScope, setVisibilityScope] = useState(\"all\");\n  const [uploadOpen, setUploadOpen] = useState(false);\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [contextItem, setContextItem] = useState(null);\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n  const [editName, setEditName] = useState(\"\");\n  const [editScope, setEditScope] = useState(\"all\");\n  const [uploading, setUploading] = useState(false);\n\n  useEffect(() => {\n    fetchFolders(currentFolderId);\n  }, [currentFolderId]);\n\n  const fetchFolders = async (folderId) => {\n    const token = localStorage.getItem(\"jwtToken\");\n    const company_id = sessionStorage.getItem(\"selectedCompany\"); // Get company ID from sessionStorage\n    const headers = { Authorization: `Bearer ${token}` };\n\n    try {\n      const res = await axiosInstance.get(\n        `/generalDocuments/${MODULE_ID}/${folderId || \"null\"}`,\n        {\n          headers,\n          params: { company_id }, // Passing the company_id here\n        }\n      );\n      setFolders(res.data.folders || []);\n      setDocuments(res.data.documents || []);\n      if (res.data.current_folder_name) {\n        setFolderNames((prev) => [...prev, res.data.current_folder_name]);\n      }\n    } catch (err) {\n      console.error(\"Fetch error:\", err.response?.data || err);\n    }\n  };\n\n  const handleOpenFolder = (folderId, folderName) => {\n    setFolderStack((prev) => [...prev, currentFolderId]);\n    setFolderNames((prev) => [...prev, folderName]);\n    setCurrentFolderId(folderId);\n  };\n\n  const handleGoBack = () => {\n    const newStack = [...folderStack];\n    const prevFolderId = newStack.pop();\n    const newNames = [...folderNames];\n    newNames.pop();\n    setFolderNames(newNames);\n    setFolderStack(newStack);\n    setCurrentFolderId(prevFolderId || null);\n  };\n\n  const handleCreateFolder = async () => {\n    const company_id = sessionStorage.getItem(\"selectedCompany\"); // Get company ID from sessionStorage\n    if (!company_id) {\n      toast.error(\"Company ID is required. Please select a company.\");\n      return;\n    }\n\n    if (!newFolderName) return;\n    const token = localStorage.getItem(\"jwtToken\");\n    const headers = { Authorization: `Bearer ${token}` };\n\n    try {\n      await axiosInstance.post(\n        `/generalDocuments/folder/${MODULE_ID}`,\n        {\n          parent_folder_id: currentFolderId,\n          folder_name: newFolderName,\n          visibility_scope: visibilityScope, // Include visibility scope here\n          company_id, // Pass the company_id in the request body\n        },\n        {\n          headers,\n        }\n      );\n\n      setCreateFolderOpen(false);\n      setNewFolderName(\"\");\n      setVisibilityScope(\"all\"); // Reset visibility scope after creation\n      toast.success(\"Folder created successfully.\");\n      fetchFolders(currentFolderId);\n    } catch (error) {\n      console.error(\"Failed to create folder:\", error.response?.data || error);\n      toast.error(\"Failed to create folder.\");\n    }\n  };\n\n  const handleUploadDocument = async () => {\n    if (!selectedFiles.length) return;\n\n    const company_id = sessionStorage.getItem(\"selectedCompany\");\n    if (!company_id) {\n      toast.error(\"Company ID is missing.\");\n      return;\n    }\n\n    const formData = new FormData();\n    selectedFiles.forEach((file) => {\n      formData.append(\"documents\", file); \n    });\n\n    formData.append(\"company_id\", company_id); \n    formData.append(\"folder_id\", currentFolderId);\n    formData.append(\"visibility_scope\", visibilityScope);\n\n    setUploading(true); //  Show progress indicator\n\n    try {\n      const token = localStorage.getItem(\"jwtToken\");\n      await axiosInstance.post(\n        `/generalDocuments/document/${MODULE_ID}`,\n        formData,\n        {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      toast.success(\"Documents uploaded successfully.\");\n      fetchFolders(currentFolderId);\n      setUploadOpen(false);\n      setSelectedFiles([]);\n    } catch (err) {\n      console.error(\"Upload failed:\", err.response?.data || err);\n      toast.error(err.response?.data?.error || \"Document upload failed.\");\n    } finally {\n      setUploading(false); //  Hide progress\n    }\n  };\n\n  const handleDeleteItem = async (itemId, isFolder) => {\n    const token = localStorage.getItem(\"jwtToken\");\n    try {\n      const company_id = sessionStorage.getItem(\"selectedCompany\"); // Get company ID from sessionStorage\n      if (isFolder) {\n        await axiosInstance.delete(\n          `/generalDocuments/folder/${MODULE_ID}/${itemId}`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n            params: { company_id }, // Passing the company_id here\n          }\n        );\n        toast.success(\"Folder deleted successfully.\");\n      } else {\n        await axiosInstance.delete(\n          `/generalDocuments/document/${MODULE_ID}/${itemId}`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n            params: { company_id }, // Passing the company_id here\n          }\n        );\n        toast.success(\"Document deleted successfully.\");\n      }\n      fetchFolders(currentFolderId);\n      setAnchorEl(null); // Close menu after deletion\n    } catch (err) {\n      console.error(\"Delete failed:\", err.response?.data || err);\n      if (err.response?.data?.message) {\n        toast.error(err.response?.data?.message);\n      } else {\n        toast.error(\"Failed to delete item.\");\n      }\n    }\n  };\n\n  const handleOpenContextMenu = (e, item, isFolder) => {\n    e.preventDefault();\n    setContextItem({ item, isFolder });\n    setAnchorEl(e.currentTarget);\n  };\n\n  const handleCloseContextMenu = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100vh\",\n        p: 4,\n        backgroundColor: \"#fafafa\",\n      }}\n    >\n      {/* Top Actions */}\n      <Box sx={{ display: \"flex\", justifyContent: \"space-between\", mb: 3 }}>\n        <Typography variant=\"h4\" fontWeight={700}>\n          Document Management\n        </Typography>\n        <Box sx={{ display: \"flex\", gap: 2 }}>\n          {folderStack.length > 0 && (\n            <Button\n              variant=\"contained\"\n              startIcon={<ArrowBack />}\n              onClick={handleGoBack}\n              sx={{ textTransform: \"none\", backgroundColor: \"#6200ea\" }}\n            >\n              Back\n            </Button>\n          )}\n          <Tooltip title=\"Create a New Folder\">\n            <Button\n              variant=\"contained\"\n              startIcon={<CreateNewFolder />}\n              onClick={() => setCreateFolderOpen(true)}\n              sx={{\n                textTransform: \"none\",\n                backgroundColor: \"#00bcd4\",\n                \"&:hover\": { backgroundColor: \"#008ba3\" },\n              }}\n            >\n              New Folder\n            </Button>\n          </Tooltip>\n          <Tooltip title=\"Upload a Document\">\n            <Button\n              variant=\"contained\"\n              startIcon={<UploadFile />}\n              onClick={() => {\n                if (currentFolderId) {\n                  setUploadOpen(true);\n                } else {\n                  toast.error(\"Please open a folder first.\");\n                }\n              }}\n              sx={{\n                textTransform: \"none\",\n                backgroundColor: \"#4caf50\",\n                \"&:hover\": { backgroundColor: \"#388e3c\" },\n              }}\n            >\n              Upload\n            </Button>\n          </Tooltip>\n        </Box>\n      </Box>\n\n      {/* Breadcrumbs */}\n      <Breadcrumbs aria-label=\"breadcrumb\" sx={{ mb: 2 }}>\n        <Typography color=\"text.primary\">Root</Typography>\n        {folderNames.map((name, index) => (\n          <Typography key={index} color=\"text.primary\">\n            {name}\n          </Typography>\n        ))}\n      </Breadcrumbs>\n\n      {/* Files & Folders */}\n      <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 500 }}>\n        Files & Folders\n      </Typography>\n      <Grid container spacing={2}>\n        {folders.map((folder) => (\n          <Grid item xs={6} sm={4} md={3} key={folder.id}>\n            <Paper\n              elevation={3}\n              sx={{\n                p: 2,\n                textAlign: \"center\",\n                position: \"relative\",\n                cursor: \"pointer\",\n                backgroundColor: \"#f8f9fa\",\n                \"&:hover\": {\n                  backgroundColor: \"#e9ecef\",\n                  boxShadow: \"0 4px 6px rgba(0, 0, 0, 0.1)\",\n                },\n              }}\n              onClick={() => handleOpenFolder(folder.id, folder.folder_name)}\n              onContextMenu={(e) => handleOpenContextMenu(e, folder, true)}\n            >\n              <FolderIcon\n                sx={{\n                  fontSize: 40,\n                  color: \"#5c6bc0\",\n                  \"&:hover\": { color: \"#3f51b5\" },\n                  transition: \"color 0.3s\",\n                }}\n              />\n              <Typography\n                noWrap\n                sx={{ color: \"#495057\", fontWeight: 400, fontSize: \"0.875rem\" }}\n              >\n                {folder.folder_name}\n              </Typography>\n            </Paper>\n          </Grid>\n        ))}\n\n        {documents.map((doc) => (\n          <Grid item xs={6} sm={4} md={3} key={doc.id}>\n            <Paper\n              elevation={2}\n              sx={{\n                p: 3,\n                textAlign: \"center\",\n                position: \"relative\",\n                cursor: \"pointer\",\n                borderRadius: \"8px\",\n                \"&:hover\": { backgroundColor: \"#f0f0f0\" },\n              }}\n              onClick={() => {\n                const backendBaseUrl = axiosInstance.defaults.baseURL;\n                const relativePath = doc.file_path.replace(\n                  /^uploads[\\\\/]+/,\n                  \"\"\n                );\n                const fileUrl = `${backendBaseUrl}/uploads/${encodeURIComponent(\n                  relativePath\n                ).replace(/%2F/g, \"/\")}`;\n                window.open(fileUrl, \"_blank\");\n              }}\n              onContextMenu={(e) => handleOpenContextMenu(e, doc, false)}\n            >\n              <InsertDriveFile sx={{ fontSize: 50 }} />\n              <Divider sx={{ my: 1 }} />\n              <Typography variant=\"body2\" noWrap sx={{ fontWeight: 500 }}>\n                {doc.document_name}\n              </Typography>\n            </Paper>\n          </Grid>\n        ))}\n      </Grid>\n\n      {/* Context Menu Dialog */}\n\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleCloseContextMenu}\n      >\n        <MenuItem\n          onClick={() => {\n            setEditDialogOpen(true);\n            setEditName(\n              contextItem?.item?.folder_name ||\n                contextItem?.item?.document_name ||\n                \"\"\n            );\n            setEditScope(contextItem?.item?.visibility_scope || \"all\");\n            handleCloseContextMenu();\n          }}\n        >\n          Edit\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            if (contextItem.isFolder) {\n              handleDeleteItem(contextItem.item.id, true);\n            } else {\n              handleDeleteItem(contextItem.item.id, false);\n            }\n          }}\n        >\n          Delete\n        </MenuItem>\n      </Menu>\n\n      {/* Create Folder Dialog */}\n      <Dialog\n        open={createFolderOpen}\n        onClose={() => setCreateFolderOpen(false)}\n      >\n        <DialogTitle>Create New Folder</DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Folder Name\"\n            fullWidth\n            value={newFolderName}\n            onChange={(e) => setNewFolderName(e.target.value)}\n            sx={{ mb: 2 }}\n          />\n          <FormControl fullWidth sx={{ mb: 2 }}>\n            <InputLabel id=\"visibility-scope-label\">\n              Visibility Scope\n            </InputLabel>\n            <Select\n              labelId=\"visibility-scope-label\"\n              value={visibilityScope}\n              label=\"Visibility Scope\"\n              onChange={(e) => setVisibilityScope(e.target.value)}\n            >\n              <MenuItem value=\"all\">All</MenuItem>\n              <MenuItem value=\"above\">Above</MenuItem>\n              <MenuItem value=\"below\">Below</MenuItem>\n              <MenuItem value=\"private\">Private</MenuItem>\n            </Select>\n          </FormControl>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setCreateFolderOpen(false)}>Cancel</Button>\n          <Button variant=\"contained\" onClick={handleCreateFolder}>\n            Create\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Upload Document Dialog */}\n      <Dialog open={uploadOpen} onClose={() => setUploadOpen(false)}>\n        <DialogTitle>Upload Document</DialogTitle>\n        <DialogContent>\n          <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 2 }}>\n            <label>\n              <Button variant=\"contained\" component=\"span\">\n                Choose Files\n              </Button>\n              <input\n                type=\"file\"\n                name=\"documents\"\n                multiple\n                hidden\n                onChange={(e) => setSelectedFiles(Array.from(e.target.files))}\n              />\n            </label>\n\n            {selectedFiles.length > 0 && (\n              <Box>\n                <Typography variant=\"body2\" fontWeight={500}>\n                  Selected Files:\n                </Typography>\n                <ul style={{ margin: 0, paddingLeft: \"1rem\" }}>\n                  {selectedFiles.map((file, index) => (\n                    <li key={index}>\n                      <Typography variant=\"body2\">{file.name}</Typography>\n                    </li>\n                  ))}\n                </ul>\n              </Box>\n            )}\n\n            <FormControl fullWidth>\n              <InputLabel id=\"visibility-scope-label\">\n                Visibility Scope\n              </InputLabel>\n              <Select\n                labelId=\"visibility-scope-label\"\n                value={visibilityScope}\n                label=\"Visibility Scope\"\n                onChange={(e) => setVisibilityScope(e.target.value)}\n              >\n                <MenuItem value=\"all\">All</MenuItem>\n                <MenuItem value=\"above\">Above</MenuItem>\n                <MenuItem value=\"below\">Below</MenuItem>\n                <MenuItem value=\"private\">Private</MenuItem>\n              </Select>\n            </FormControl>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setUploadOpen(false)}>Cancel</Button>\n          <Button\n            variant=\"contained\"\n            onClick={handleUploadDocument}\n            disabled={uploading}\n            startIcon={\n              uploading && <CircularProgress size={20} color=\"inherit\" />\n            }\n          >\n            {uploading ? \"Uploading...\" : \"Upload\"}\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Dialog open={editDialogOpen} onClose={() => setEditDialogOpen(false)}>\n        <DialogTitle>\n          Edit {contextItem?.isFolder ? \"Folder\" : \"Document\"}\n        </DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Name\"\n            fullWidth\n            value={editName}\n            onChange={(e) => setEditName(e.target.value)}\n            sx={{ mb: 2 }}\n          />\n          <FormControl fullWidth>\n            <InputLabel id=\"edit-visibility-label\">Visibility Scope</InputLabel>\n            <Select\n              labelId=\"edit-visibility-label\"\n              value={editScope}\n              label=\"Visibility Scope\"\n              onChange={(e) => setEditScope(e.target.value)}\n            >\n              <MenuItem value=\"all\">All</MenuItem>\n              <MenuItem value=\"above\">Above</MenuItem>\n              <MenuItem value=\"below\">Below</MenuItem>\n              <MenuItem value=\"private\">Private</MenuItem>\n            </Select>\n          </FormControl>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setEditDialogOpen(false)}>Cancel</Button>\n          <Button\n            variant=\"contained\"\n            onClick={async () => {\n              try {\n                const company_id = sessionStorage.getItem(\"selectedCompany\");\n                const data = {\n                  visibility_scope: editScope,\n                  company_id,\n                  ...(contextItem.isFolder\n                    ? { folder_name: editName }\n                    : { document_name: editName }),\n                };\n\n                if (contextItem.isFolder) {\n                  await axiosInstance.put(\n                    `/generalDocuments/folder/${MODULE_ID}`,\n                    {\n                      folder_id: contextItem.item.id,\n                      ...data,\n                    }\n                  );\n                } else {\n                  await axiosInstance.put(\n                    `/generalDocuments/document/${MODULE_ID}`,\n                    {\n                      document_id: contextItem.item.id,\n                      ...data,\n                    }\n                  );\n                }\n\n                toast.success(\"Update successful.\");\n                setEditDialogOpen(false);\n                fetchFolders(currentFolderId);\n              } catch (err) {\n                const errorMessage =\n                  err?.response?.data?.error ||\n                  err?.error ||\n                  \"Update failed. Please try again.\";\n\n                console.error(\"Update failed:\", err.response?.data || err);\n                toast.error(errorMessage);\n              }\n            }}\n          >\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <ToastContainer />\n\n      {uploading && (\n        <Box\n          sx={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            zIndex: 1300,\n            width: \"100vw\",\n            height: \"100vh\",\n            backgroundColor: \"rgba(255,255,255,0.6)\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}\n        >\n          <CircularProgress size={60} />\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default DocumentManagementPage;\n","size_bytes":19731},"qms-source/BackEnd/src/controllers/userController.js":{"content":"import User from '../models/User.js';\nimport Company from '../models/Company.js';\nimport Role from '../models/Role.js';\nimport generateRandomPassword from '../utils/generateRandomPassword.js';\nimport sendEmail from '../utils/sendEmail.js';\nimport { Sequelize } from 'sequelize';\nimport Department from '../models/Department.js';\n\nconst createUser = async (req, res) => {\n    try {\n        const { email, name, company_id, role_id, reportTo,department_id } = req.body;\n\n        if (!email || !name) {\n            return res.status(400).json({ error: 'Email and name are required' });\n        }\n\n        // Check if an active user already exists with the same email\n        const existingUser = await User.findOne({\n            where: {\n                email,\n                is_active: true\n            }\n        });\n\n        if (existingUser) {\n            return res.status(409).json({ error: 'An active user with this email already exists. Please use a different email.' });\n        }\n\n        // Generate a unique random password\n        const generatedPassword = generateRandomPassword();\n\n        console.log(`Generated Password: ${generatedPassword}`);\n\n        const newUser = await User.create({ \n            email, \n            name, \n            company_id, \n            role_id, \n            department_id,\n            password_hash: generatedPassword,\n            reportTo\n        });\n\n        // Send email to the new user with login credentials\n        const subject = 'Welcome to Our Platform - Your Login Credentials';\n        const message = `\n            Hello ${name},\n            \\nYour account has been created successfully. Below are your login credentials:\\n\n            Email: ${email}\n            Password: ${generatedPassword}\n            \\nPlease change your password after logging in.\\n\n            Regards,\n            Your Team\n        `;\n\n        await sendEmail(email, subject, message);\n\n        res.status(201).json({ message: 'User created successfully', userId: newUser.id });\n\n    } catch (error) {\n        console.error('Error creating user:', error);\n        res.status(500).json({ message: 'Internal Server Error' });\n    }\n};\n\n\nconst updateUserDetails = async (req, res) => {\n    try {\n        const user = await User.findByPk(req.params.id);\n\n        if (!user) return res.status(404).json({ error: 'User not found' });\n\n        const updateFields = {};\n        const allowedFields = ['email', 'name', 'company_id', 'role_id', 'reportTo','department_id'];\n\n        allowedFields.forEach(field => {\n            if (req.body[field] !== undefined) {\n                updateFields[field] = req.body[field];\n            }\n        });\n\n        if (Object.keys(updateFields).length === 0) {\n            return res.status(400).json({ error: 'No valid fields provided for update' });\n        }\n\n        // Prevent self-reporting\n        if (updateFields.reportTo && updateFields.reportTo === user.id) {\n            return res.status(400).json({ error: 'A user cannot report to themselves.' });\n        }\n\n        // **Step 1: Check if the user has subordinates**\n        if (updateFields.role_id && updateFields.role_id !== user.role_id) {\n            const subordinates = await User.findAll({\n                where: { reportTo: user.id },\n                attributes: ['id', 'name']\n            });\n\n            if (subordinates.length > 0) {\n                return res.status(409).json({\n                    message: \"Role change aborted! This user has subordinates assigned. Please reassign them first.\",\n                    subordinates\n                });\n            }\n        }\n\n        // **Step 2: Proceed with the update if no subordinates**\n        await user.update(updateFields);\n        return res.json({ message: 'User details updated successfully', user });\n\n    } catch (error) {\n        return res.status(500).json({ error: error.message });\n    }\n};\n\nconst getUserDetails = async (req, res) => {\n    try {\n      const userRole = await Role.findOne({\n        where: { id: req.user.role },\n        attributes: ['name'],\n      });\n  \n      if (!userRole) {\n        return res.status(400).json({ error: 'Invalid role assigned to the user' });\n      }\n  \n      let company_id;\n  \n      if (userRole.name === 'System Super Admin') {\n        company_id = req.body.company_id || req.query.company_id;\n        if (!company_id) {\n          return res.status(400).json({ error: 'Company ID is required for System Super Admin' });\n        }\n      } else {\n        company_id = req.user.company;\n      }\n  \n      console.log('Company Id while getting user is ' + company_id);\n      let user;\n      const whereCondition = { company_id };\n  \n      if (req.params.id) {\n        user = await User.findOne({\n          where: { id: req.params.id, ...whereCondition, is_active: true },\n          attributes: { exclude: ['password_hash'] },\n          include: [\n            { model: Role },\n            { model: Company },\n            {\n              model: User,\n              as: 'Manager',\n              attributes: ['id', 'name'],\n              required: false, // <-- Ensures Super Admin is included even if no manager\n            },\n            {model:Department,\n                as: 'department',\n                attributes: ['id', 'name','description']\n\n            }\n\n          ],\n        });\n  \n        if (!user) {\n          return res.status(404).json({\n            error: 'User not found or not associated with the provided company',\n          });\n        }\n      } else {\n        user = await User.findAll({\n          where: { ...whereCondition, is_active: true },\n          attributes: { exclude: ['password_hash'] },\n          include: [\n            { model: Role },\n            { model: Company },\n            {\n              model: User,\n              as: 'Manager',\n              attributes: ['id', 'name'],\n              required: false, // <-- Same here\n            },\n            {model:Department,\n                as: 'department',\n                attributes: ['id', 'name','description']\n\n            }\n          ],\n          order: [['name', 'ASC']],\n        });\n      }\n  \n      res.json(user);\n    } catch (error) {\n      console.error('Error fetching user details:', error);\n      res.status(500).json({ error: 'Internal Server Error' });\n    }\n  };  \n\nconst getAssignableUsers = async (req, res) => {\n    try {\n        const assignerId = req.user.id;\n\n        // Get the assigner's details including their role and company\n        const assigner = await User.findByPk(assignerId, {\n            include: [{ model: Role }, { model: Company }, {model:Department, as: 'department',\n                attributes: ['id', 'name','description']\n\n            }]\n        });\n\n        if (!assigner) {\n            return res.status(404).json({ error: \"Assigner not found\" });\n        }\n\n        // Check if the assigner is a System Super Admin\n        let targetCompanyId = assigner.company_id;\n        if (assigner.Role.name === \"System Super Admin\") {\n            targetCompanyId = req.body.company_id || req.query.company_id;\n            if (!targetCompanyId) {\n                return res.status(400).json({ error: \"company_id is required for System Super Admin\" });\n            }\n            \n            // Fetch all users from the provided company without role filtering\n            const users = await User.findAll({\n                where: { company_id: targetCompanyId },\n                attributes: { exclude: ['password_hash'] },\n                include: [{ model: Role }, { model: Company }, {model:Department,as: 'department',\n                    attributes: ['id', 'name','description']\n    \n                }],\n                order: [['name', 'ASC']]\n            });\n\n            return res.json(users);\n        }\n\n        // Function to fetch all child roles recursively\n        const getAllChildRoles = async (parentRoleId) => {\n            const childRoles = await Role.findAll({\n                where: { parent_role_id: parentRoleId },\n                attributes: ['id']\n            });\n\n            if (childRoles.length === 0) return [];\n\n            const childRoleIds = childRoles.map(role => role.id);\n            const deeperRoles = await Promise.all(childRoleIds.map(getAllChildRoles));\n\n            return [...childRoleIds, ...deeperRoles.flat()];\n        };\n\n        // Fetch all child roles for the assigner's role\n        let allChildRoleIds = await getAllChildRoles(assigner.role_id);\n        allChildRoleIds.push(assigner.role_id); // Include assigner's own role ID\n\n        // Find assignable users within the same company who have any descendant roles OR the same role\n        const users = await User.findAll({\n            where: { \n                company_id: targetCompanyId,\n                role_id: allChildRoleIds \n            },\n            attributes: { exclude: ['password_hash'] },\n            include: [{ model: Role }, { model: Company }, {model:Department,as: 'department',\n                attributes: ['id', 'name','description']\n\n            }],\n            order: [['name', 'ASC']]\n        });\n\n        res.json(users);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nconst getUsersWithHigherRole = async (req, res) => {\n    try {\n        const { role_id, company_id: reqCompanyId } = req.query;\n\n        // Fetch role name from role_id in req.user\n        const userRole = await Role.findOne({ where: { id: req.user.role }, attributes: ['name'] });\n\n        if (!userRole) {\n            return res.status(400).json({ error: 'Invalid user role. Please check your role ID.' });\n        }\n        let company_id;\n\n        // Handle System Super Admin case with missing company_id\n        if (userRole.name === 'System Super Admin') {\n            \n            if (!reqCompanyId) {\n                return res.status(400).json({ error: 'Company ID is required for System Super Admin to fetch users.' });\n            }\n            company_id = reqCompanyId;\n        } else {\n            company_id = req.user.company;\n        }\n\n        if (!role_id) {\n            return res.status(400).json({ error: 'Role ID is required to fetch higher-level users.' });\n        }\n\n        // Fetch parent role\n        const parentRole = await Role.findOne({ where: { id: role_id }, attributes: ['parent_role_id'] });\n\n        if (!parentRole) {\n            return res.status(404).json({ error: 'The provided Role ID does not exist.' });\n        }\n\n        if (!parentRole.parent_role_id) {\n            return res.status(404).json({ error: 'No higher role exists for the given Role ID.' });\n        }\n\n        // Fetch users with the higher role\n        const users = await User.findAll({\n            where: { role_id: parentRole.parent_role_id, company_id },\n            attributes: ['id', 'name', 'email'],\n            include: [{ model: Role }, { model: Company }, {model:Department,\n                attributes: ['id', 'name','description'],as: 'department',\n\n            }]\n        });\n\n        if (users.length === 0) {\n            return res.status(404).json({ message: 'No users found with a higher role.' });\n        }\n\n        res.json(users);\n    } catch (error) {\n        console.error('Error fetching users:', error);\n        res.status(500).json({ message: 'Internal Server Error. Please try again later.' });\n    }\n};\n\nconst softDeleteUser = async (req, res) => {\n    try {\n        const userIdToDelete = req.params.id;\n        const currentUserId = req.user.id; // Assuming user ID is available in the request (e.g., from JWT)\n\n        if (userIdToDelete === currentUserId.toString()) {\n            return res.status(400).json({ error: 'You cannot delete your own account' });\n        }\n\n        const user = await User.scope('all').findByPk(userIdToDelete);\n\n        if (!user || !user.is_active) {\n            return res.status(404).json({ error: 'User not found or already deleted' });\n        }\n\n        user.is_active = false;\n        await user.save();\n\n        return res.json({ message: 'User deactivated successfully' });\n    } catch (error) {\n        console.error('Error soft deleting user:', error);\n        res.status(500).json({ error: 'Internal Server Error' });\n    }\n};\n\nexport default { createUser, updateUserDetails, getUserDetails ,getAssignableUsers ,getUsersWithHigherRole, softDeleteUser};\n\n\n\n\n// const updateUserDetails = async (req, res) => {\n//     try {\n//         const user = await User.findByPk(req.params.id);\n\n//         if (!user) return res.status(404).json({ error: 'User not found' });\n\n//         // Extract fields dynamically from the request body\n//         const updateFields = {};\n//         const allowedFields = ['email', 'name', 'company_id', 'role_id', 'reportTo']; // Allowed fields for update\n\n//         allowedFields.forEach(field => {\n//             if (req.body[field] !== undefined) {\n//                 updateFields[field] = req.body[field]; // Update only fields that exist in the request\n//             }\n//         });\n\n//         if (Object.keys(updateFields).length === 0) {\n//             return res.status(400).json({ error: 'No valid fields provided for update' });\n//         }\n\n//         // **Prevent self-reporting**\n//         if (updateFields.reportTo && updateFields.reportTo === user.id) {\n//             return res.status(400).json({ error: 'A user cannot report to themselves.' });\n//         }\n\n//         // **Prevent circular reporting (i.e., ensuring the \"reportTo\" user does not report back to the current user)**\n//         // if (updateFields.reportTo) {\n//         //     const reportingUser = await User.findByPk(updateFields.reportTo, { attributes: ['reportTo'] });\n\n//         //     if (reportingUser && reportingUser.reportTo === user.id) {\n//         //         return res.status(400).json({ error: 'Invalid reporting structure: Circular reporting detected.' });\n//         //     }\n//         // }\n\n//         await user.update(updateFields);\n//         res.json({ message: 'User details updated', user });\n\n//     } catch (error) {\n//         res.status(500).json({ error: error.message });\n//     }\n// };\n\n\n\n","size_bytes":14126},"frontend-new/src/assets/theme/components/stepper/stepIcon.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport boxShadow from \"assets/theme/functions/boxShadow\";\n\nconst { white } = colors;\n\nconst stepIcon = {\n  styleOverrides: {\n    root: {\n      background: \"#9fc9ff\",\n      fill: \"#9fc9ff\",\n      stroke: \"#9fc9ff\",\n      strokeWidth: pxToRem(10),\n      width: pxToRem(13),\n      height: pxToRem(13),\n      borderRadius: \"50%\",\n      zIndex: 99,\n      transition: \"all 200ms linear\",\n\n      \"&.Mui-active\": {\n        background: white.main,\n        fill: white.main,\n        stroke: white.main,\n        borderColor: white.main,\n        boxShadow: boxShadow([0, 0], [0, 2], white.main, 1),\n      },\n\n      \"&.Mui-completed\": {\n        background: white.main,\n        fill: white.main,\n        stroke: white.main,\n        borderColor: white.main,\n        boxShadow: boxShadow([0, 0], [0, 2], white.main, 1),\n      },\n    },\n  },\n};\n\nexport default stepIcon;\n","size_bytes":1568},"frontend-new/src/assets/theme-dark/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// @mui material components\nimport { createTheme } from \"@mui/material/styles\";\n// import Fade from \"@mui/material/Fade\";\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport breakpoints from \"assets/theme-dark/base/breakpoints\";\nimport typography from \"assets/theme-dark/base/typography\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport globals from \"assets/theme-dark/base/globals\";\n\n// Material Dashboard 2 React helper functions\nimport boxShadow from \"assets/theme-dark/functions/boxShadow\";\nimport hexToRgb from \"assets/theme-dark/functions/hexToRgb\";\nimport linearGradient from \"assets/theme-dark/functions/linearGradient\";\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\n// Material Dashboard 2 React components base styles for @mui material components\nimport sidenav from \"assets/theme-dark/components/sidenav\";\nimport list from \"assets/theme-dark/components/list\";\nimport listItem from \"assets/theme-dark/components/list/listItem\";\nimport listItemText from \"assets/theme-dark/components/list/listItemText\";\nimport card from \"assets/theme-dark/components/card\";\nimport cardMedia from \"assets/theme-dark/components/card/cardMedia\";\nimport cardContent from \"assets/theme-dark/components/card/cardContent\";\nimport button from \"assets/theme-dark/components/button\";\nimport iconButton from \"assets/theme-dark/components/iconButton\";\nimport input from \"assets/theme-dark/components/form/input\";\nimport inputLabel from \"assets/theme-dark/components/form/inputLabel\";\nimport inputOutlined from \"assets/theme-dark/components/form/inputOutlined\";\nimport textField from \"assets/theme-dark/components/form/textField\";\nimport menu from \"assets/theme-dark/components/menu\";\nimport menuItem from \"assets/theme-dark/components/menu/menuItem\";\nimport switchButton from \"assets/theme-dark/components/form/switchButton\";\nimport divider from \"assets/theme-dark/components/divider\";\nimport tableContainer from \"assets/theme-dark/components/table/tableContainer\";\nimport tableHead from \"assets/theme-dark/components/table/tableHead\";\nimport tableCell from \"assets/theme-dark/components/table/tableCell\";\nimport linearProgress from \"assets/theme-dark/components/linearProgress\";\nimport breadcrumbs from \"assets/theme-dark/components/breadcrumbs\";\nimport slider from \"assets/theme-dark/components/slider\";\nimport avatar from \"assets/theme-dark/components/avatar\";\nimport tooltip from \"assets/theme-dark/components/tooltip\";\nimport appBar from \"assets/theme-dark/components/appBar\";\nimport tabs from \"assets/theme-dark/components/tabs\";\nimport tab from \"assets/theme-dark/components/tabs/tab\";\nimport stepper from \"assets/theme-dark/components/stepper\";\nimport step from \"assets/theme-dark/components/stepper/step\";\nimport stepConnector from \"assets/theme-dark/components/stepper/stepConnector\";\nimport stepLabel from \"assets/theme-dark/components/stepper/stepLabel\";\nimport stepIcon from \"assets/theme-dark/components/stepper/stepIcon\";\nimport select from \"assets/theme-dark/components/form/select\";\nimport formControlLabel from \"assets/theme-dark/components/form/formControlLabel\";\nimport formLabel from \"assets/theme-dark/components/form/formLabel\";\nimport checkbox from \"assets/theme-dark/components/form/checkbox\";\nimport radio from \"assets/theme-dark/components/form/radio\";\nimport autocomplete from \"assets/theme-dark/components/form/autocomplete\";\nimport container from \"assets/theme-dark/components/container\";\nimport popover from \"assets/theme-dark/components/popover\";\nimport buttonBase from \"assets/theme-dark/components/buttonBase\";\nimport icon from \"assets/theme-dark/components/icon\";\nimport svgIcon from \"assets/theme-dark/components/svgIcon\";\nimport link from \"assets/theme-dark/components/link\";\nimport dialog from \"assets/theme-dark/components/dialog\";\nimport dialogTitle from \"assets/theme-dark/components/dialog/dialogTitle\";\nimport dialogContent from \"assets/theme-dark/components/dialog/dialogContent\";\nimport dialogContentText from \"assets/theme-dark/components/dialog/dialogContentText\";\nimport dialogActions from \"assets/theme-dark/components/dialog/dialogActions\";\n\nexport default createTheme({\n  breakpoints: { ...breakpoints },\n  palette: { ...colors },\n  typography: { ...typography },\n  boxShadows: { ...boxShadows },\n  borders: { ...borders },\n  functions: {\n    boxShadow,\n    hexToRgb,\n    linearGradient,\n    pxToRem,\n    rgba,\n  },\n\n  components: {\n    MuiCssBaseline: {\n      styleOverrides: {\n        ...globals,\n        ...container,\n      },\n    },\n    MuiDrawer: { ...sidenav },\n    MuiList: { ...list },\n    MuiListItem: { ...listItem },\n    MuiListItemText: { ...listItemText },\n    MuiCard: { ...card },\n    MuiCardMedia: { ...cardMedia },\n    MuiCardContent: { ...cardContent },\n    MuiButton: { ...button },\n    MuiIconButton: { ...iconButton },\n    MuiInput: { ...input },\n    MuiInputLabel: { ...inputLabel },\n    MuiOutlinedInput: { ...inputOutlined },\n    MuiTextField: { ...textField },\n    MuiMenu: { ...menu },\n    MuiMenuItem: { ...menuItem },\n    MuiSwitch: { ...switchButton },\n    MuiDivider: { ...divider },\n    MuiTableContainer: { ...tableContainer },\n    MuiTableHead: { ...tableHead },\n    MuiTableCell: { ...tableCell },\n    MuiLinearProgress: { ...linearProgress },\n    MuiBreadcrumbs: { ...breadcrumbs },\n    MuiSlider: { ...slider },\n    MuiAvatar: { ...avatar },\n    MuiTooltip: { ...tooltip },\n    MuiAppBar: { ...appBar },\n    MuiTabs: { ...tabs },\n    MuiTab: { ...tab },\n    MuiStepper: { ...stepper },\n    MuiStep: { ...step },\n    MuiStepConnector: { ...stepConnector },\n    MuiStepLabel: { ...stepLabel },\n    MuiStepIcon: { ...stepIcon },\n    MuiSelect: { ...select },\n    MuiFormControlLabel: { ...formControlLabel },\n    MuiFormLabel: { ...formLabel },\n    MuiCheckbox: { ...checkbox },\n    MuiRadio: { ...radio },\n    MuiAutocomplete: { ...autocomplete },\n    MuiPopover: { ...popover },\n    MuiButtonBase: { ...buttonBase },\n    MuiIcon: { ...icon },\n    MuiSvgIcon: { ...svgIcon },\n    MuiLink: { ...link },\n    MuiDialog: { ...dialog },\n    MuiDialogTitle: { ...dialogTitle },\n    MuiDialogContent: { ...dialogContent },\n    MuiDialogContentText: { ...dialogContentText },\n    MuiDialogActions: { ...dialogActions },\n  },\n});\n","size_bytes":6900},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"frontend-new/src/assets/theme-dark/components/tooltip.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// @mui material components\nimport Fade from \"@mui/material/Fade\";\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { black, white } = colors;\nconst { size, fontWeightRegular } = typography;\nconst { borderRadius } = borders;\n\nconst tooltip = {\n  defaultProps: {\n    arrow: true,\n    TransitionComponent: Fade,\n  },\n\n  styleOverrides: {\n    tooltip: {\n      maxWidth: pxToRem(200),\n      backgroundColor: black.main,\n      color: white.main,\n      fontSize: size.sm,\n      fontWeight: fontWeightRegular,\n      textAlign: \"center\",\n      borderRadius: borderRadius.md,\n      opacity: 0.7,\n      padding: `${pxToRem(5)} ${pxToRem(8)} ${pxToRem(4)}`,\n    },\n\n    arrow: {\n      color: black.main,\n    },\n  },\n};\n\nexport default tooltip;\n","size_bytes":1530},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"qms-source/frontend-new/src/pages/Iteration/EditIteration.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport {\n  Paper,\n  CardContent,\n  TextField,\n  Button,\n  Typography,\n  Grid,\n  Box,\n} from \"@mui/material\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { parseISO, format } from \"date-fns\";\nimport { toast } from \"react-toastify\"; // <-- Import toast\n\nconst EditIteration = () => {\n  const { taskModuleId, iterationId } = useParams();\n  const navigate = useNavigate();\n\n  const [form, setForm] = useState({\n    name: \"\",\n    description: \"\",\n    startDate: \"\",\n    endDate: \"\",\n  });\n\n  const safeFormatDate = (dateStr) => {\n    try {\n      return format(parseISO(dateStr), \"yyyy-MM-dd\");\n    } catch {\n      return \"\";\n    }\n  };\n\n  useEffect(() => {\n    axiosInstance\n      .get(`/iteration/${taskModuleId}/${iterationId}`)\n      .then((res) => {\n        const data = res.data;\n        setForm({\n          name: data.name || \"\",\n          description: data.description || \"\",\n          startDate: safeFormatDate(data.start_date),\n          endDate: safeFormatDate(data.end_date),\n        });\n      })\n      .catch((err) => {\n        console.error(\"Error fetching iteration:\", err);\n      });\n  }, [taskModuleId, iterationId]);\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async () => {\n    try {\n      const payload = {\n        name: form.name,\n        description: form.description,\n        start_date: form.startDate,\n        end_date: form.endDate,\n      };\n\n      await axiosInstance.put(\n        `/iteration/${taskModuleId}/${iterationId}`,\n        payload\n      );\n\n      toast.success(\"Iteration updated successfully!\");\n      navigate(`/iteration/${taskModuleId}`);\n    } catch (err) {\n      console.error(\"Error updating iteration:\", err);\n      toast.error(\"Failed to update iteration.\");\n    }\n  };\n\n  const handleCancel = () => {\n    navigate(`/iteration/${taskModuleId}`);\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        marginRight: 2,\n        marginTop: 4,\n        mb: 2,\n      }}\n    >\n      <Typography variant=\"h5\" gutterBottom>\n        Edit Iteration\n      </Typography>\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <TextField\n            fullWidth\n            label=\"Name\"\n            name=\"name\"\n            value={form.name}\n            onChange={handleChange}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            fullWidth\n            label=\"Description\"\n            name=\"description\"\n            value={form.description}\n            onChange={handleChange}\n            multiline\n            rows={3}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            fullWidth\n            type=\"date\"\n            label=\"Start Date\"\n            name=\"startDate\"\n            InputLabelProps={{ shrink: true }}\n            value={form.startDate}\n            onChange={handleChange}\n          />\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            fullWidth\n            type=\"date\"\n            label=\"End Date\"\n            name=\"endDate\"\n            InputLabelProps={{ shrink: true }}\n            value={form.endDate}\n            onChange={handleChange}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <Box display=\"flex\" justifyContent=\"flex-end\" gap={2}>\n            <Button\n             variant=\"contained\"\n             color=\"primary\"\n              onClick={handleSubmit}\n              >\n              Save Changes\n            </Button>\n            <Button\n             variant=\"contained\"\n              color=\"primary\"\n               onClick={handleCancel}\n               >\n              Cancel\n            </Button>\n          </Box>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default EditIteration;\n","size_bytes":3977},"qms-source/frontend-new/src/assets/theme-dark/components/form/formControlLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { white } = colors;\nconst { size, fontWeightBold } = typography;\n\nconst formControlLabel = {\n  styleOverrides: {\n    root: {\n      display: \"block\",\n      minHeight: pxToRem(24),\n      marginBottom: pxToRem(2),\n    },\n\n    label: {\n      display: \"inline-block\",\n      fontSize: size.sm,\n      fontWeight: fontWeightBold,\n      color: white.main,\n      lineHeight: 1,\n      transform: `translateY(${pxToRem(1)})`,\n      marginLeft: pxToRem(4),\n\n      \"&.Mui-disabled\": {\n        color: white.main,\n      },\n    },\n  },\n};\n\nexport default formControlLabel;\n","size_bytes":1347},"frontend-new/src/assets/theme/components/list/listItemText.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst listItemText = {\n  styleOverrides: {\n    root: {\n      marginTop: 0,\n      marginBottom: 0,\n    },\n  },\n};\n\nexport default listItemText;\n","size_bytes":666},"frontend-new/src/assets/theme/components/stepper/step.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst step = {\n  styleOverrides: {\n    root: {\n      padding: `0 ${pxToRem(6)}`,\n    },\n  },\n};\n\nexport default step;\n","size_bytes":743},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"BackEnd/src/controllers/commentController.js":{"content":"import Comment from \"../models/Comment.js\";\n\nexport const addComment = async (req, res) => {\n    try {\n        const { task_id, user_id, comment_text } = req.body;\n        const comment = await Comment.create({ task_id, user_id, comment_text });\n        res.status(201).json(comment);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport const getComments = async (req, res) => {\n    try {\n        const { task_id } = req.params;\n        const comments = await Comment.findAll({ where: { task_id } });\n        res.json(comments);\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n\nexport const deleteComment = async (req, res) => {\n    try {\n        const { id } = req.params;\n        const deleted = await Comment.destroy({ where: { id } });\n        if (!deleted) return res.status(404).json({ error: \"Comment not found\" });\n        res.json({ message: \"Comment deleted successfully\" });\n    } catch (error) {\n        res.status(500).json({ error: error.message });\n    }\n};\n","size_bytes":1055},"frontend-new/src/assets/theme/components/menu/menuItem.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport typography from \"assets/theme/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { light, text, dark } = colors;\nconst { borderRadius } = borders;\nconst { size } = typography;\n\nconst menuItem = {\n  styleOverrides: {\n    root: {\n      minWidth: pxToRem(160),\n      minHeight: \"unset\",\n      padding: `${pxToRem(4.8)} ${pxToRem(16)}`,\n      borderRadius: borderRadius.md,\n      fontSize: size.sm,\n      color: text.main,\n      transition: \"background-color 300ms ease, color 300ms ease\",\n\n      \"&:hover, &:focus, &.Mui-selected, &.Mui-selected:hover, &.Mui-selected:focus\": {\n        backgroundColor: light.main,\n        color: dark.main,\n      },\n    },\n  },\n};\n\nexport default menuItem;\n","size_bytes":1432},"BackEnd/src/server.js":{"content":"import express from 'express';\nimport { config } from 'dotenv';\nimport cors from 'cors';\nimport bodyParser from \"body-parser\";\nimport { createProxyMiddleware } from 'http-proxy-middleware';\nimport sequelize from \"./config/db.js\";\nimport companyRoutes from \"./routes/companyRoutes.js\";\nimport userRoutes from \"./routes/userRoutes.js\";\nimport roleRoutes from \"./routes/roleRoutes.js\";\nimport moduleRoutes from \"./routes/moduleRoutes.js\";\nimport roleModulePermissionRoutes from \"./routes/roleModulePermissionRoutes.js\";\nimport ensureSuperAdminRole from \"./utils/checkSuperRoleAdded.js\";\nimport taskRoutes from \"./routes/taskRoutes.js\";\nimport taskAssignmentRoutes from \"./routes/taskAssignmentRoutes.js\";\nimport commentRoutes from \"./routes/commentRoutes.js\";\nimport documentRoutes from \"./routes/documentRoutes.js\";\nimport authRoutes from \"./routes/authRoutes.js\";\nimport taskChangeLogRoutes from \"./routes/taskChangeLogRoutes.js\";\nimport notificationRoutes from \"./routes/notificationRoutes.js\";\nimport generalDocumentsRoutes from \"./routes/generalDocumentsRoutes.js\";\nimport iterationRoutes from \"./routes/iterationRoutes.js\";\nimport departmentRoutes from \"./routes/departmentRoutes.js\";\nimport http from \"http\";\nimport { initSocket } from \"./config/socket.js\";\nimport bootstrapSystemSuperAdmin from \"./utils/bootstrapSystemSuperAdmin.js\"; // run before app.listen()\n\n\n\n\n// Load environment variables\nconfig();\nconst app = express();\nconst server = http.createServer(app);\n\n// Initialize Socket.io\nconst io = initSocket(server,{\n    cors: { origin: \"*\" }\n});\n\n\n// Middleware\napp.use(express.json({ limit: \"50mb\" }));\napp.use(express.urlencoded({ limit: \"50mb\", extended: true }));\napp.use(cors());\napp.use(bodyParser.json());\n\n// Routes\napp.use(\"/api/auth\", authRoutes);\napp.use(\"/api/companies\", companyRoutes);\napp.use(\"/api/users\", userRoutes);\napp.use(\"/api/roles\", roleRoutes);\napp.use(\"/api/modules\", moduleRoutes);\napp.use(\"/api/permissions\", roleModulePermissionRoutes);\napp.use(\"/api/tasks\", taskRoutes);\napp.use(\"/api/task-assignments\", taskAssignmentRoutes);\napp.use(\"/api/comments\", commentRoutes);\napp.use(\"/api/documents\", documentRoutes);\napp.use(\"/api/taskChangeLog\", taskChangeLogRoutes);\napp.use(\"/api/uploads\", express.static(\"uploads\"));\napp.use(\"/api/notifications\", notificationRoutes);\napp.use(\"/api/generalDocuments\", generalDocumentsRoutes);\napp.use(\"/api/iteration\", iterationRoutes);\napp.use(\"/api/department\", departmentRoutes);\n\n// Proxy all non-API requests to the frontend (running on port 3000)\napp.use('/', createProxyMiddleware({\n  target: 'http://localhost:3000',\n  changeOrigin: true,\n  ws: true, // proxy websockets\n  logLevel: 'silent'\n}));\n\nconst PORT = process.env.PORT || 5000;\n\n// Ensure database sync\nsequelize\n  .sync({ alter: true }) // Use `force: true` only for development resets\n  .then(async () => {\n    console.log(\"âœ… Database & tables synced\");\n    await bootstrapSystemSuperAdmin();\n  })\n  .catch((err) => console.error(\"Error syncing database:\", err));\n\n// Start server - bind to 0.0.0.0 for Replit compatibility\nserver.listen(PORT, '0.0.0.0', () => {\n  console.log(`Server is running on port ${PORT}`);\n});\n","size_bytes":3164},"qms-source/frontend-new/src/assets/theme-dark/components/form/autocomplete.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\nimport typography from \"assets/theme-dark/base/typography\";\nimport colors from \"assets/theme-dark/base/colors\";\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\nconst { md } = boxShadows;\nconst { size } = typography;\nconst { text, transparent, light, dark, gradients, background, white } = colors;\nconst { borderRadius } = borders;\n\nconst autocomplete = {\n  styleOverrides: {\n    popper: {\n      boxShadow: md,\n      padding: pxToRem(8),\n      fontSize: size.sm,\n      color: text.main,\n      textAlign: \"left\",\n      backgroundColor: `${background.card} !important`,\n      borderRadius: borderRadius.md,\n    },\n\n    paper: {\n      boxShadow: \"none\",\n      backgroundColor: transparent.main,\n    },\n\n    option: {\n      padding: `${pxToRem(4.8)} ${pxToRem(16)}`,\n      borderRadius: borderRadius.md,\n      fontSize: size.sm,\n      color: text.main,\n      transition: \"background-color 300ms ease, color 300ms ease\",\n\n      \"&:hover, &:focus, &.Mui-selected, &.Mui-selected:hover, &.Mui-selected:focus\": {\n        backgroundColor: rgba(light.main, 0.2),\n        color: white.main,\n      },\n\n      '&[aria-selected=\"true\"]': {\n        backgroundColor: `${rgba(light.main, 0.2)} !important`,\n        color: `${white.main} !important`,\n      },\n    },\n\n    noOptions: {\n      fontSize: size.sm,\n      color: text.main,\n    },\n\n    groupLabel: {\n      color: dark.main,\n    },\n\n    loading: {\n      fontSize: size.sm,\n      color: text.main,\n    },\n\n    tag: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: \"auto\",\n      padding: pxToRem(4),\n      backgroundColor: gradients.dark.state,\n      color: white.main,\n\n      \"& .MuiChip-label\": {\n        lineHeight: 1.2,\n        padding: `0 ${pxToRem(10)} 0 ${pxToRem(4)}`,\n      },\n\n      \"& .MuiSvgIcon-root, & .MuiSvgIcon-root:hover, & .MuiSvgIcon-root:focus\": {\n        color: white.main,\n        marginRight: 0,\n      },\n    },\n\n    popupIndicator: {\n      color: text.main,\n    },\n\n    clearIndicator: {\n      color: text.main,\n    },\n  },\n};\n\nexport default autocomplete;\n","size_bytes":2829},"frontend-new/src/pages/DocumentManagement/DocumentManagementPage.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport {\n  Box,\n  Typography,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField,\n  InputLabel,\n  Grid,\n  Paper,\n  Divider,\n  Menu,\n  MenuItem,\n  Breadcrumbs,\n  FormControl,\n  Select,\n  IconButton,\n  Tooltip,\n} from \"@mui/material\";\nimport {\n  ArrowBack,\n  CreateNewFolder,\n  Folder as FolderIcon,\n  UploadFile,\n  InsertDriveFile,\n} from \"@mui/icons-material\";\nimport { CircularProgress } from \"@mui/material\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast, ToastContainer } from \"react-toastify\";\n\nconst MODULE_ID = \"cb5010bc-83fd-4409-9845-bbba4ceda9c8\";\n\nconst DocumentManagementPage = () => {\n  const [folders, setFolders] = useState([]);\n  const [documents, setDocuments] = useState([]);\n  const [currentFolderId, setCurrentFolderId] = useState(null);\n  const [folderStack, setFolderStack] = useState([]);\n  const [folderNames, setFolderNames] = useState([]);\n  const [createFolderOpen, setCreateFolderOpen] = useState(false);\n  const [newFolderName, setNewFolderName] = useState(\"\");\n  const [visibilityScope, setVisibilityScope] = useState(\"all\");\n  const [uploadOpen, setUploadOpen] = useState(false);\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [contextItem, setContextItem] = useState(null);\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n  const [editName, setEditName] = useState(\"\");\n  const [editScope, setEditScope] = useState(\"all\");\n  const [uploading, setUploading] = useState(false);\n\n  useEffect(() => {\n    fetchFolders(currentFolderId);\n  }, [currentFolderId]);\n\n  const fetchFolders = async (folderId) => {\n    const token = localStorage.getItem(\"jwtToken\");\n    const company_id = sessionStorage.getItem(\"selectedCompany\"); // Get company ID from sessionStorage\n    const headers = { Authorization: `Bearer ${token}` };\n\n    try {\n      const res = await axiosInstance.get(\n        `/generalDocuments/${MODULE_ID}/${folderId || \"null\"}`,\n        {\n          headers,\n          params: { company_id }, // Passing the company_id here\n        }\n      );\n      setFolders(res.data.folders || []);\n      setDocuments(res.data.documents || []);\n      if (res.data.current_folder_name) {\n        setFolderNames((prev) => [...prev, res.data.current_folder_name]);\n      }\n    } catch (err) {\n      console.error(\"Fetch error:\", err.response?.data || err);\n    }\n  };\n\n  const handleOpenFolder = (folderId, folderName) => {\n    setFolderStack((prev) => [...prev, currentFolderId]);\n    setFolderNames((prev) => [...prev, folderName]);\n    setCurrentFolderId(folderId);\n  };\n\n  const handleGoBack = () => {\n    const newStack = [...folderStack];\n    const prevFolderId = newStack.pop();\n    const newNames = [...folderNames];\n    newNames.pop();\n    setFolderNames(newNames);\n    setFolderStack(newStack);\n    setCurrentFolderId(prevFolderId || null);\n  };\n\n  const handleCreateFolder = async () => {\n    const company_id = sessionStorage.getItem(\"selectedCompany\"); // Get company ID from sessionStorage\n    if (!company_id) {\n      toast.error(\"Company ID is required. Please select a company.\");\n      return;\n    }\n\n    if (!newFolderName) return;\n    const token = localStorage.getItem(\"jwtToken\");\n    const headers = { Authorization: `Bearer ${token}` };\n\n    try {\n      await axiosInstance.post(\n        `/generalDocuments/folder/${MODULE_ID}`,\n        {\n          parent_folder_id: currentFolderId,\n          folder_name: newFolderName,\n          visibility_scope: visibilityScope, // Include visibility scope here\n          company_id, // Pass the company_id in the request body\n        },\n        {\n          headers,\n        }\n      );\n\n      setCreateFolderOpen(false);\n      setNewFolderName(\"\");\n      setVisibilityScope(\"all\"); // Reset visibility scope after creation\n      toast.success(\"Folder created successfully.\");\n      fetchFolders(currentFolderId);\n    } catch (error) {\n      console.error(\"Failed to create folder:\", error.response?.data || error);\n      toast.error(\"Failed to create folder.\");\n    }\n  };\n\n  const handleUploadDocument = async () => {\n    if (!selectedFiles.length) return;\n\n    const company_id = sessionStorage.getItem(\"selectedCompany\");\n    if (!company_id) {\n      toast.error(\"Company ID is missing.\");\n      return;\n    }\n\n    const formData = new FormData();\n    selectedFiles.forEach((file) => {\n      formData.append(\"documents\", file); \n    });\n\n    formData.append(\"company_id\", company_id); \n    formData.append(\"folder_id\", currentFolderId);\n    formData.append(\"visibility_scope\", visibilityScope);\n\n    setUploading(true); //  Show progress indicator\n\n    try {\n      const token = localStorage.getItem(\"jwtToken\");\n      await axiosInstance.post(\n        `/generalDocuments/document/${MODULE_ID}`,\n        formData,\n        {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      toast.success(\"Documents uploaded successfully.\");\n      fetchFolders(currentFolderId);\n      setUploadOpen(false);\n      setSelectedFiles([]);\n    } catch (err) {\n      console.error(\"Upload failed:\", err.response?.data || err);\n      toast.error(err.response?.data?.error || \"Document upload failed.\");\n    } finally {\n      setUploading(false); //  Hide progress\n    }\n  };\n\n  const handleDeleteItem = async (itemId, isFolder) => {\n    const token = localStorage.getItem(\"jwtToken\");\n    try {\n      const company_id = sessionStorage.getItem(\"selectedCompany\"); // Get company ID from sessionStorage\n      if (isFolder) {\n        await axiosInstance.delete(\n          `/generalDocuments/folder/${MODULE_ID}/${itemId}`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n            params: { company_id }, // Passing the company_id here\n          }\n        );\n        toast.success(\"Folder deleted successfully.\");\n      } else {\n        await axiosInstance.delete(\n          `/generalDocuments/document/${MODULE_ID}/${itemId}`,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n            params: { company_id }, // Passing the company_id here\n          }\n        );\n        toast.success(\"Document deleted successfully.\");\n      }\n      fetchFolders(currentFolderId);\n      setAnchorEl(null); // Close menu after deletion\n    } catch (err) {\n      console.error(\"Delete failed:\", err.response?.data || err);\n      if (err.response?.data?.message) {\n        toast.error(err.response?.data?.message);\n      } else {\n        toast.error(\"Failed to delete item.\");\n      }\n    }\n  };\n\n  const handleOpenContextMenu = (e, item, isFolder) => {\n    e.preventDefault();\n    setContextItem({ item, isFolder });\n    setAnchorEl(e.currentTarget);\n  };\n\n  const handleCloseContextMenu = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100vh\",\n        p: 4,\n        backgroundColor: \"#fafafa\",\n      }}\n    >\n      {/* Top Actions */}\n      <Box sx={{ display: \"flex\", justifyContent: \"space-between\", mb: 3 }}>\n        <Typography variant=\"h4\" fontWeight={700}>\n          Document Management\n        </Typography>\n        <Box sx={{ display: \"flex\", gap: 2 }}>\n          {folderStack.length > 0 && (\n            <Button\n              variant=\"contained\"\n              startIcon={<ArrowBack />}\n              onClick={handleGoBack}\n              sx={{ textTransform: \"none\", backgroundColor: \"#6200ea\" }}\n            >\n              Back\n            </Button>\n          )}\n          <Tooltip title=\"Create a New Folder\">\n            <Button\n              variant=\"contained\"\n              startIcon={<CreateNewFolder />}\n              onClick={() => setCreateFolderOpen(true)}\n              sx={{\n                textTransform: \"none\",\n                backgroundColor: \"#00bcd4\",\n                \"&:hover\": { backgroundColor: \"#008ba3\" },\n              }}\n            >\n              New Folder\n            </Button>\n          </Tooltip>\n          <Tooltip title=\"Upload a Document\">\n            <Button\n              variant=\"contained\"\n              startIcon={<UploadFile />}\n              onClick={() => {\n                if (currentFolderId) {\n                  setUploadOpen(true);\n                } else {\n                  toast.error(\"Please open a folder first.\");\n                }\n              }}\n              sx={{\n                textTransform: \"none\",\n                backgroundColor: \"#4caf50\",\n                \"&:hover\": { backgroundColor: \"#388e3c\" },\n              }}\n            >\n              Upload\n            </Button>\n          </Tooltip>\n        </Box>\n      </Box>\n\n      {/* Breadcrumbs */}\n      <Breadcrumbs aria-label=\"breadcrumb\" sx={{ mb: 2 }}>\n        <Typography color=\"text.primary\">Root</Typography>\n        {folderNames.map((name, index) => (\n          <Typography key={index} color=\"text.primary\">\n            {name}\n          </Typography>\n        ))}\n      </Breadcrumbs>\n\n      {/* Files & Folders */}\n      <Typography variant=\"h6\" sx={{ mb: 2, fontWeight: 500 }}>\n        Files & Folders\n      </Typography>\n      <Grid container spacing={2}>\n        {folders.map((folder) => (\n          <Grid item xs={6} sm={4} md={3} key={folder.id}>\n            <Paper\n              elevation={3}\n              sx={{\n                p: 2,\n                textAlign: \"center\",\n                position: \"relative\",\n                cursor: \"pointer\",\n                backgroundColor: \"#f8f9fa\",\n                \"&:hover\": {\n                  backgroundColor: \"#e9ecef\",\n                  boxShadow: \"0 4px 6px rgba(0, 0, 0, 0.1)\",\n                },\n              }}\n              onClick={() => handleOpenFolder(folder.id, folder.folder_name)}\n              onContextMenu={(e) => handleOpenContextMenu(e, folder, true)}\n            >\n              <FolderIcon\n                sx={{\n                  fontSize: 40,\n                  color: \"#5c6bc0\",\n                  \"&:hover\": { color: \"#3f51b5\" },\n                  transition: \"color 0.3s\",\n                }}\n              />\n              <Typography\n                noWrap\n                sx={{ color: \"#495057\", fontWeight: 400, fontSize: \"0.875rem\" }}\n              >\n                {folder.folder_name}\n              </Typography>\n            </Paper>\n          </Grid>\n        ))}\n\n        {documents.map((doc) => (\n          <Grid item xs={6} sm={4} md={3} key={doc.id}>\n            <Paper\n              elevation={2}\n              sx={{\n                p: 3,\n                textAlign: \"center\",\n                position: \"relative\",\n                cursor: \"pointer\",\n                borderRadius: \"8px\",\n                \"&:hover\": { backgroundColor: \"#f0f0f0\" },\n              }}\n              onClick={() => {\n                const backendBaseUrl = axiosInstance.defaults.baseURL;\n                const relativePath = doc.file_path.replace(\n                  /^uploads[\\\\/]+/,\n                  \"\"\n                );\n                const fileUrl = `${backendBaseUrl}/uploads/${encodeURIComponent(\n                  relativePath\n                ).replace(/%2F/g, \"/\")}`;\n                window.open(fileUrl, \"_blank\");\n              }}\n              onContextMenu={(e) => handleOpenContextMenu(e, doc, false)}\n            >\n              <InsertDriveFile sx={{ fontSize: 50 }} />\n              <Divider sx={{ my: 1 }} />\n              <Typography variant=\"body2\" noWrap sx={{ fontWeight: 500 }}>\n                {doc.document_name}\n              </Typography>\n            </Paper>\n          </Grid>\n        ))}\n      </Grid>\n\n      {/* Context Menu Dialog */}\n\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleCloseContextMenu}\n      >\n        <MenuItem\n          onClick={() => {\n            setEditDialogOpen(true);\n            setEditName(\n              contextItem?.item?.folder_name ||\n                contextItem?.item?.document_name ||\n                \"\"\n            );\n            setEditScope(contextItem?.item?.visibility_scope || \"all\");\n            handleCloseContextMenu();\n          }}\n        >\n          Edit\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            if (contextItem.isFolder) {\n              handleDeleteItem(contextItem.item.id, true);\n            } else {\n              handleDeleteItem(contextItem.item.id, false);\n            }\n          }}\n        >\n          Delete\n        </MenuItem>\n      </Menu>\n\n      {/* Create Folder Dialog */}\n      <Dialog\n        open={createFolderOpen}\n        onClose={() => setCreateFolderOpen(false)}\n      >\n        <DialogTitle>Create New Folder</DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Folder Name\"\n            fullWidth\n            value={newFolderName}\n            onChange={(e) => setNewFolderName(e.target.value)}\n            sx={{ mb: 2 }}\n          />\n          <FormControl fullWidth sx={{ mb: 2 }}>\n            <InputLabel id=\"visibility-scope-label\">\n              Visibility Scope\n            </InputLabel>\n            <Select\n              labelId=\"visibility-scope-label\"\n              value={visibilityScope}\n              label=\"Visibility Scope\"\n              onChange={(e) => setVisibilityScope(e.target.value)}\n            >\n              <MenuItem value=\"all\">All</MenuItem>\n              <MenuItem value=\"above\">Above</MenuItem>\n              <MenuItem value=\"below\">Below</MenuItem>\n              <MenuItem value=\"private\">Private</MenuItem>\n            </Select>\n          </FormControl>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setCreateFolderOpen(false)}>Cancel</Button>\n          <Button variant=\"contained\" onClick={handleCreateFolder}>\n            Create\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Upload Document Dialog */}\n      <Dialog open={uploadOpen} onClose={() => setUploadOpen(false)}>\n        <DialogTitle>Upload Document</DialogTitle>\n        <DialogContent>\n          <Box sx={{ display: \"flex\", flexDirection: \"column\", gap: 2 }}>\n            <label>\n              <Button variant=\"contained\" component=\"span\">\n                Choose Files\n              </Button>\n              <input\n                type=\"file\"\n                name=\"documents\"\n                multiple\n                hidden\n                onChange={(e) => setSelectedFiles(Array.from(e.target.files))}\n              />\n            </label>\n\n            {selectedFiles.length > 0 && (\n              <Box>\n                <Typography variant=\"body2\" fontWeight={500}>\n                  Selected Files:\n                </Typography>\n                <ul style={{ margin: 0, paddingLeft: \"1rem\" }}>\n                  {selectedFiles.map((file, index) => (\n                    <li key={index}>\n                      <Typography variant=\"body2\">{file.name}</Typography>\n                    </li>\n                  ))}\n                </ul>\n              </Box>\n            )}\n\n            <FormControl fullWidth>\n              <InputLabel id=\"visibility-scope-label\">\n                Visibility Scope\n              </InputLabel>\n              <Select\n                labelId=\"visibility-scope-label\"\n                value={visibilityScope}\n                label=\"Visibility Scope\"\n                onChange={(e) => setVisibilityScope(e.target.value)}\n              >\n                <MenuItem value=\"all\">All</MenuItem>\n                <MenuItem value=\"above\">Above</MenuItem>\n                <MenuItem value=\"below\">Below</MenuItem>\n                <MenuItem value=\"private\">Private</MenuItem>\n              </Select>\n            </FormControl>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setUploadOpen(false)}>Cancel</Button>\n          <Button\n            variant=\"contained\"\n            onClick={handleUploadDocument}\n            disabled={uploading}\n            startIcon={\n              uploading && <CircularProgress size={20} color=\"inherit\" />\n            }\n          >\n            {uploading ? \"Uploading...\" : \"Upload\"}\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Dialog open={editDialogOpen} onClose={() => setEditDialogOpen(false)}>\n        <DialogTitle>\n          Edit {contextItem?.isFolder ? \"Folder\" : \"Document\"}\n        </DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Name\"\n            fullWidth\n            value={editName}\n            onChange={(e) => setEditName(e.target.value)}\n            sx={{ mb: 2 }}\n          />\n          <FormControl fullWidth>\n            <InputLabel id=\"edit-visibility-label\">Visibility Scope</InputLabel>\n            <Select\n              labelId=\"edit-visibility-label\"\n              value={editScope}\n              label=\"Visibility Scope\"\n              onChange={(e) => setEditScope(e.target.value)}\n            >\n              <MenuItem value=\"all\">All</MenuItem>\n              <MenuItem value=\"above\">Above</MenuItem>\n              <MenuItem value=\"below\">Below</MenuItem>\n              <MenuItem value=\"private\">Private</MenuItem>\n            </Select>\n          </FormControl>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setEditDialogOpen(false)}>Cancel</Button>\n          <Button\n            variant=\"contained\"\n            onClick={async () => {\n              try {\n                const company_id = sessionStorage.getItem(\"selectedCompany\");\n                const data = {\n                  visibility_scope: editScope,\n                  company_id,\n                  ...(contextItem.isFolder\n                    ? { folder_name: editName }\n                    : { document_name: editName }),\n                };\n\n                if (contextItem.isFolder) {\n                  await axiosInstance.put(\n                    `/generalDocuments/folder/${MODULE_ID}`,\n                    {\n                      folder_id: contextItem.item.id,\n                      ...data,\n                    }\n                  );\n                } else {\n                  await axiosInstance.put(\n                    `/generalDocuments/document/${MODULE_ID}`,\n                    {\n                      document_id: contextItem.item.id,\n                      ...data,\n                    }\n                  );\n                }\n\n                toast.success(\"Update successful.\");\n                setEditDialogOpen(false);\n                fetchFolders(currentFolderId);\n              } catch (err) {\n                const errorMessage =\n                  err?.response?.data?.error ||\n                  err?.error ||\n                  \"Update failed. Please try again.\";\n\n                console.error(\"Update failed:\", err.response?.data || err);\n                toast.error(errorMessage);\n              }\n            }}\n          >\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <ToastContainer />\n\n      {uploading && (\n        <Box\n          sx={{\n            position: \"fixed\",\n            top: 0,\n            left: 0,\n            zIndex: 1300,\n            width: \"100vw\",\n            height: \"100vh\",\n            backgroundColor: \"rgba(255,255,255,0.6)\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}\n        >\n          <CircularProgress size={60} />\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default DocumentManagementPage;\n","size_bytes":19731},"design_guidelines.md":{"content":"# QMS Application - Design Guidelines\n\n## Design Approach\n\n**System-Based Approach: Material Design**\nThis application follows Material Design principles through Material UI (MUI) v5, providing a consistent, professional enterprise-grade interface suitable for quality management workflows.\n\n## Core Design Principles\n\n**Enterprise Dashboard Aesthetic**\n- Clean, information-dense layouts optimized for productivity\n- Data-first presentation with clear hierarchical organization\n- Professional, trustworthy visual language for compliance-focused workflows\n\n## Typography\n\n**Font System**\n- Primary: Roboto (Material UI default)\n- Weights: 300 (Light), 400 (Regular), 500 (Medium), 700 (Bold)\n- Hierarchy:\n  - Page titles: 28px / Bold\n  - Section headers: 20px / Medium\n  - Card titles: 16px / Medium\n  - Body text: 14px / Regular\n  - Labels/captions: 12px / Regular\n\n## Layout System\n\n**Spacing Foundation**\nUse Material UI's 8px spacing system consistently:\n- Standard spacing: 8px, 16px, 24px, 32px (units: 1, 2, 3, 4)\n- Card padding: 24px (3 units)\n- Section margins: 32px (4 units)\n- Component gaps: 16px (2 units)\n\n**Grid Structure**\n- Container max-width: 1280px\n- Sidebar: Fixed 240px width\n- Content area: Fluid with 24px padding\n- Responsive breakpoints: xs/sm/md/lg/xl (Material UI standard)\n\n## Component Library\n\n**Navigation**\n- Persistent sidebar with collapsible menu items\n- Top app bar with user profile, notifications, and settings\n- Breadcrumb navigation for deep page hierarchies\n- Tab navigation for related content sections\n\n**Data Display**\n- Tables: Dense variant with sorting, filtering, pagination\n- Cards: Elevated (1dp shadow) for grouping related information\n- Lists: Two-line list items with avatar/icon and actions\n- Stats cards: Metric display with trend indicators\n\n**Forms & Inputs**\n- Outlined text fields (Material UI outlined variant)\n- Autocomplete for role/department selection\n- Date pickers for task deadlines and audit dates\n- File upload zones with drag-and-drop for documents\n- Form sections with clear labels and helper text\n\n**Actions**\n- Primary buttons: Contained variant for main actions\n- Secondary buttons: Outlined variant for alternative actions\n- Icon buttons: For inline actions in tables/cards\n- FAB: For primary creation actions (Add Task, Upload Document)\n\n**Feedback & Overlays**\n- Snackbar notifications: Bottom-center positioning\n- Modal dialogs: For confirmations and multi-step forms\n- Progress indicators: Linear for page loads, circular for actions\n- Badges: For notification counts and status indicators\n\n## Page Templates\n\n**Dashboard Layout**\n- Grid of stat cards (4 columns desktop, responsive stack)\n- Recent activity timeline\n- Quick action cards for common workflows\n- Task summary charts and graphs\n\n**List/Table Views** (Users, Tasks, Documents, Departments)\n- Search bar and filter controls at top\n- Action toolbar with bulk operations\n- Paginated data table with inline actions\n- Detail panels or modals for item viewing/editing\n\n**Detail Pages** (Task Details, Document View, User Profile)\n- Header with title, status badge, and action buttons\n- Tabbed content sections (Details, History, Attachments)\n- Related items sidebar\n- Activity log/change history at bottom\n\n**Forms** (Create/Edit Task, User, Document)\n- Stepped forms for complex workflows\n- Form sections with clear grouping\n- Validation feedback inline\n- Action buttons fixed at bottom (Save, Cancel)\n\n## Visual Patterns\n\n**Status Indicators**\n- Chips for task status (Open, In Progress, Completed, Closed)\n- Color-coded badges for priority levels\n- Progress bars for task completion percentage\n\n**Document Cards**\n- File icon based on type\n- Preview thumbnail where applicable\n- Metadata (uploader, date, version)\n- Quick actions menu (Download, Share, Delete)\n\n**User Avatars**\n- Circular avatars with initials fallback\n- Size variants: 24px (small), 40px (standard), 64px (large)\n- Online status indicator for active users\n\n## Animations\n\n**Minimal & Purposeful**\n- Smooth page transitions (fade/slide)\n- Card elevation on hover (1dp â†’ 4dp)\n- Ripple effects on buttons (Material default)\n- Drawer slide animations for sidebar\n- **No custom scroll animations or elaborate effects**\n\n## Accessibility\n\n- WCAG 2.1 AA compliance\n- Proper ARIA labels on all interactive elements\n- Keyboard navigation support throughout\n- Focus indicators on all focusable elements\n- Consistent form field labeling and error messaging\n\n## Images\n\n**No hero images or marketing visuals** - This is a data-driven enterprise application. Visual content limited to:\n- User profile photos/avatars\n- Document thumbnails/previews\n- Company logo in sidebar header\n- Empty state illustrations for blank data tables\n\nThis design system prioritizes **efficiency, clarity, and consistency** over visual flair, appropriate for a quality management system used daily by compliance and operations teams.","size_bytes":4910},"qms-source/frontend-new/src/assets/theme-dark/components/form/textField.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\n\nconst { transparent } = colors;\n\nconst textField = {\n  styleOverrides: {\n    root: {\n      backgroundColor: transparent.main,\n    },\n  },\n};\n\nexport default textField;\n","size_bytes":786},"frontend-new/eslint.config.js":{"content":"import js from '@eslint/js'\nimport globals from 'globals'\nimport reactHooks from 'eslint-plugin-react-hooks'\nimport reactRefresh from 'eslint-plugin-react-refresh'\n\nexport default [\n  { ignores: ['dist'] },\n  {\n    files: ['**/*.{js,jsx}'],\n    languageOptions: {\n      ecmaVersion: 2020,\n      globals: globals.browser,\n      parserOptions: {\n        ecmaVersion: 'latest',\n        ecmaFeatures: { jsx: true },\n        sourceType: 'module',\n      },\n    },\n    plugins: {\n      'react-hooks': reactHooks,\n      'react-refresh': reactRefresh,\n    },\n    rules: {\n      ...js.configs.recommended.rules,\n      ...reactHooks.configs.recommended.rules,\n      'no-unused-vars': ['warn', { varsIgnorePattern: '^[A-Z_]' }],\n      'react-refresh/only-export-components': [\n        'warn',\n        { allowConstantExport: true },\n      ],\n    },\n  },\n]\n","size_bytes":843},"qms-source/frontend-new/src/assets/theme/components/button/root.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport typography from \"assets/theme/base/typography\";\nimport borders from \"assets/theme/base/borders\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { fontWeightBold, size } = typography;\nconst { borderRadius } = borders;\n\nconst root = {\n  display: \"inline-flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  fontSize: size.xs,\n  fontWeight: fontWeightBold,\n  borderRadius: borderRadius.lg,\n  padding: `${pxToRem(6.302)} ${pxToRem(16.604)}`,\n  lineHeight: 1.4,\n  textAlign: \"center\",\n  textTransform: \"uppercase\",\n  userSelect: \"none\",\n  backgroundSize: \"150% !important\",\n  backgroundPositionX: \"25% !important\",\n  transition: \"all 150ms ease-in\",\n\n  \"&:disabled\": {\n    pointerEvent: \"none\",\n    opacity: 0.65,\n  },\n\n  \"& .material-icons\": {\n    fontSize: pxToRem(15),\n    marginTop: pxToRem(-2),\n  },\n};\n\nexport default root;\n","size_bytes":1467},"BackEnd/src/routes/roleModulePermissionRoutes.js":{"content":"import express from 'express';\nimport roleModulePermissionController from '../controllers/roleModulePermissionController.js';\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post('/:moduleId',authenticateUser, checkPermission(\"write\"),roleModulePermissionController.assignPermission);     // Assign permissions\nrouter.get('/',authenticateUser, roleModulePermissionController.getAllPermissions);     // Get all role-module permissions\nrouter.get('/:role_id',authenticateUser, roleModulePermissionController.getPermissionsByRole); // Get permissions by role\n//router.put('/:role_id/:module_id',authenticateUser, roleModulePermissionController.updatePermission); // Update permissions\nrouter.delete('/:moduleId', authenticateUser,checkPermission(\"delete\"),roleModulePermissionController.deletePermission); // Remove permission\n\nexport default router;\n","size_bytes":980},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // put application routes here\n  // prefix all routes with /api\n\n  // use storage to perform CRUD operations on the storage interface\n  // e.g. storage.insertUser(user) or storage.getUserByUsername(username)\n\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n","size_bytes":473},"qms-source/frontend-new/src/App.css":{"content":".App {\n  text-align: center;\n}\n\n.App-logo {\n  height: 40vmin;\n  pointer-events: none;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  .App-logo {\n    animation: App-logo-spin infinite 20s linear;\n  }\n}\n\n.App-header {\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n}\n\n.App-link {\n  color: #61dafb;\n}\n\n@keyframes App-logo-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n\nbody {\n  font-family: 'Arial', sans-serif;\n  background-color: #f4f6f8;\n}\n\nh2 {\n  color: #333;\n}\n\ninput {\n  padding: 10px;\n  margin: 10px 0;\n  width: 100%;\n}\n\nbutton {\n  background-color: #007bff;\n  color: white;\n  border: none;\n  padding: 10px;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background-color: #0056b3;\n}\n","size_bytes":880},"qms-source/frontend-new/src/assets/theme-dark/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// @mui material components\nimport { createTheme } from \"@mui/material/styles\";\n// import Fade from \"@mui/material/Fade\";\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport breakpoints from \"assets/theme-dark/base/breakpoints\";\nimport typography from \"assets/theme-dark/base/typography\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\nimport borders from \"assets/theme-dark/base/borders\";\nimport globals from \"assets/theme-dark/base/globals\";\n\n// Material Dashboard 2 React helper functions\nimport boxShadow from \"assets/theme-dark/functions/boxShadow\";\nimport hexToRgb from \"assets/theme-dark/functions/hexToRgb\";\nimport linearGradient from \"assets/theme-dark/functions/linearGradient\";\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\nimport rgba from \"assets/theme-dark/functions/rgba\";\n\n// Material Dashboard 2 React components base styles for @mui material components\nimport sidenav from \"assets/theme-dark/components/sidenav\";\nimport list from \"assets/theme-dark/components/list\";\nimport listItem from \"assets/theme-dark/components/list/listItem\";\nimport listItemText from \"assets/theme-dark/components/list/listItemText\";\nimport card from \"assets/theme-dark/components/card\";\nimport cardMedia from \"assets/theme-dark/components/card/cardMedia\";\nimport cardContent from \"assets/theme-dark/components/card/cardContent\";\nimport button from \"assets/theme-dark/components/button\";\nimport iconButton from \"assets/theme-dark/components/iconButton\";\nimport input from \"assets/theme-dark/components/form/input\";\nimport inputLabel from \"assets/theme-dark/components/form/inputLabel\";\nimport inputOutlined from \"assets/theme-dark/components/form/inputOutlined\";\nimport textField from \"assets/theme-dark/components/form/textField\";\nimport menu from \"assets/theme-dark/components/menu\";\nimport menuItem from \"assets/theme-dark/components/menu/menuItem\";\nimport switchButton from \"assets/theme-dark/components/form/switchButton\";\nimport divider from \"assets/theme-dark/components/divider\";\nimport tableContainer from \"assets/theme-dark/components/table/tableContainer\";\nimport tableHead from \"assets/theme-dark/components/table/tableHead\";\nimport tableCell from \"assets/theme-dark/components/table/tableCell\";\nimport linearProgress from \"assets/theme-dark/components/linearProgress\";\nimport breadcrumbs from \"assets/theme-dark/components/breadcrumbs\";\nimport slider from \"assets/theme-dark/components/slider\";\nimport avatar from \"assets/theme-dark/components/avatar\";\nimport tooltip from \"assets/theme-dark/components/tooltip\";\nimport appBar from \"assets/theme-dark/components/appBar\";\nimport tabs from \"assets/theme-dark/components/tabs\";\nimport tab from \"assets/theme-dark/components/tabs/tab\";\nimport stepper from \"assets/theme-dark/components/stepper\";\nimport step from \"assets/theme-dark/components/stepper/step\";\nimport stepConnector from \"assets/theme-dark/components/stepper/stepConnector\";\nimport stepLabel from \"assets/theme-dark/components/stepper/stepLabel\";\nimport stepIcon from \"assets/theme-dark/components/stepper/stepIcon\";\nimport select from \"assets/theme-dark/components/form/select\";\nimport formControlLabel from \"assets/theme-dark/components/form/formControlLabel\";\nimport formLabel from \"assets/theme-dark/components/form/formLabel\";\nimport checkbox from \"assets/theme-dark/components/form/checkbox\";\nimport radio from \"assets/theme-dark/components/form/radio\";\nimport autocomplete from \"assets/theme-dark/components/form/autocomplete\";\nimport container from \"assets/theme-dark/components/container\";\nimport popover from \"assets/theme-dark/components/popover\";\nimport buttonBase from \"assets/theme-dark/components/buttonBase\";\nimport icon from \"assets/theme-dark/components/icon\";\nimport svgIcon from \"assets/theme-dark/components/svgIcon\";\nimport link from \"assets/theme-dark/components/link\";\nimport dialog from \"assets/theme-dark/components/dialog\";\nimport dialogTitle from \"assets/theme-dark/components/dialog/dialogTitle\";\nimport dialogContent from \"assets/theme-dark/components/dialog/dialogContent\";\nimport dialogContentText from \"assets/theme-dark/components/dialog/dialogContentText\";\nimport dialogActions from \"assets/theme-dark/components/dialog/dialogActions\";\n\nexport default createTheme({\n  breakpoints: { ...breakpoints },\n  palette: { ...colors },\n  typography: { ...typography },\n  boxShadows: { ...boxShadows },\n  borders: { ...borders },\n  functions: {\n    boxShadow,\n    hexToRgb,\n    linearGradient,\n    pxToRem,\n    rgba,\n  },\n\n  components: {\n    MuiCssBaseline: {\n      styleOverrides: {\n        ...globals,\n        ...container,\n      },\n    },\n    MuiDrawer: { ...sidenav },\n    MuiList: { ...list },\n    MuiListItem: { ...listItem },\n    MuiListItemText: { ...listItemText },\n    MuiCard: { ...card },\n    MuiCardMedia: { ...cardMedia },\n    MuiCardContent: { ...cardContent },\n    MuiButton: { ...button },\n    MuiIconButton: { ...iconButton },\n    MuiInput: { ...input },\n    MuiInputLabel: { ...inputLabel },\n    MuiOutlinedInput: { ...inputOutlined },\n    MuiTextField: { ...textField },\n    MuiMenu: { ...menu },\n    MuiMenuItem: { ...menuItem },\n    MuiSwitch: { ...switchButton },\n    MuiDivider: { ...divider },\n    MuiTableContainer: { ...tableContainer },\n    MuiTableHead: { ...tableHead },\n    MuiTableCell: { ...tableCell },\n    MuiLinearProgress: { ...linearProgress },\n    MuiBreadcrumbs: { ...breadcrumbs },\n    MuiSlider: { ...slider },\n    MuiAvatar: { ...avatar },\n    MuiTooltip: { ...tooltip },\n    MuiAppBar: { ...appBar },\n    MuiTabs: { ...tabs },\n    MuiTab: { ...tab },\n    MuiStepper: { ...stepper },\n    MuiStep: { ...step },\n    MuiStepConnector: { ...stepConnector },\n    MuiStepLabel: { ...stepLabel },\n    MuiStepIcon: { ...stepIcon },\n    MuiSelect: { ...select },\n    MuiFormControlLabel: { ...formControlLabel },\n    MuiFormLabel: { ...formLabel },\n    MuiCheckbox: { ...checkbox },\n    MuiRadio: { ...radio },\n    MuiAutocomplete: { ...autocomplete },\n    MuiPopover: { ...popover },\n    MuiButtonBase: { ...buttonBase },\n    MuiIcon: { ...icon },\n    MuiSvgIcon: { ...svgIcon },\n    MuiLink: { ...link },\n    MuiDialog: { ...dialog },\n    MuiDialogTitle: { ...dialogTitle },\n    MuiDialogContent: { ...dialogContent },\n    MuiDialogContentText: { ...dialogContentText },\n    MuiDialogActions: { ...dialogActions },\n  },\n});\n","size_bytes":6900},"frontend-new/src/assets/theme/functions/boxShadow.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The boxShadow() function helps you to create a box shadow for an element\n */\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"../../../assets/theme/functions/rgba\";\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nfunction boxShadow(offset = [], radius = [], color, opacity, inset = \"\") {\n  const [x, y] = offset;\n  const [blur, spread] = radius;\n\n  return `${inset} ${pxToRem(x)} ${pxToRem(y)} ${pxToRem(blur)} ${pxToRem(spread)} ${rgba(\n    color,\n    opacity\n  )}`;\n}\n\nexport default boxShadow;\n","size_bytes":1050},"frontend-new/src/Components/NotificationMenu.jsx":{"content":"import { useState, useEffect, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axiosInstance from \"../services/axiosinstance.js\";\nimport {\n  Menu,\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Divider,\n  Button,\n  Typography,\n  Box,\n} from \"@mui/material\";\nimport NotificationsIcon from \"@mui/icons-material/Notifications\";\nimport { socket, connectSocket, disconnectSocket } from \"../utils/socket.js\"; // WebSocket functions\n\nconst API_URL = \"/notifications\";\n\nconst NotificationMenu = ({ userId }) => {\n  const [notifications, setNotifications] = useState([]);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [showAll, setShowAll] = useState(false);\n  const [token, setToken] = useState(localStorage.getItem(\"jwtToken\"));\n  const navigate = useNavigate();\n\n  //  Fetch unseen notifications on mount\n  useEffect(() => {\n    loadUnseenNotifications();\n  }, []);\n\n  const handleNewNotification = (data) => {\n    console.log(\"New Notification Received:\", data);\n\n    const formatted = {\n      ...data,\n      _id: data._id || data.id,\n      seen: false,\n      created_at: data.created_at || new Date().toISOString(),\n    };\n\n    setNotifications((prev) => {\n      const exists = prev.some((n) => n._id === formatted._id);\n      if (exists) return [...prev];\n      return [formatted, ...prev];\n    });\n  };\n\n  //  WebSocket Connection & Cleanup\n  useEffect(() => {\n    if (!userId) return;\n\n    connectSocket(userId);\n\n    socket\n      .off(\"new_notification\")\n      .on(\"new_notification\", handleNewNotification);\n\n    return () => {\n      socket.off(\"new_notification\", handleNewNotification);\n      disconnectSocket();\n    };\n  }, [userId]); // include in deps\n\n  //  Fetch Unseen Notifications\n  const loadUnseenNotifications = async () => {\n    if (!token) {\n      console.error(\" No token found. Cannot fetch notifications.\");\n      return;\n    }\n    try {\n      const response = await axiosInstance.get(API_URL, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setNotifications(Array.isArray(response.data) ? response.data : []);\n      setShowAll(false);\n    } catch (error) {\n      console.error(\n        \" Error fetching unseen notifications:\",\n        error.response?.data || error.message\n      );\n      setNotifications((prev) => prev.map((n) => ({ ...n, seen: true })));\n    }\n  };\n\n  //  Mark Notifications as Seen\n  const markNotificationsAsSeen = async () => {\n    if (!token) {\n      console.error(\" No token found. Cannot mark notifications.\");\n      return;\n    }\n    try {\n      await axiosInstance.post(\n        `${API_URL}/mark-seen`,\n        {},\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      // Update local UI state to reflect seen status without clearing\n      setNotifications((prev) => prev.map((n) => ({ ...n, seen: true })));\n    } catch (error) {\n      console.error(\n        \" Error marking notifications as seen:\",\n        error.response?.data || error.message\n      );\n    }\n  };\n\n  //  Load All Notifications (Toggle Feature)\n  const toggleNotifications = async () => {\n    if (!token) {\n      console.error(\"No token found. Cannot fetch notifications.\");\n      return;\n    }\n\n    if (showAll) {\n      loadUnseenNotifications();\n    } else {\n      try {\n        const response = await axiosInstance.get(`${API_URL}/all`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setNotifications(Array.isArray(response.data) ? response.data : []);\n        setShowAll(true);\n      } catch (error) {\n        console.error(\n          \" Error fetching all notifications:\",\n          error.response?.data || error.message\n        );\n        setNotifications([]);\n      }\n    }\n  };\n\n  const handleOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = async () => {\n    setAnchorEl(null);\n    await markNotificationsAsSeen();\n  };\n\n  //  Handle Notification Click\n  const handleNotificationClick = (notif) => {\n    handleClose();\n    navigate(notif.link || \"/tasks\");\n  };\n\n  console.log(\" Notifications state:\", notifications);\n  console.log(\" Unseen count:\", notifications.filter((n) => !n.seen).length);\n\n  return (\n    <div>\n      <IconButton onClick={handleOpen}>\n        <Badge\n          badgeContent={notifications.filter((n) => !n.seen).length}\n          color=\"error\"\n        >\n          <NotificationsIcon fontSize=\"large\" />\n        </Badge>\n      </IconButton>\n\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        sx={{\n          \"& .MuiPaper-root\": {\n            width: 300,\n            borderRadius: 2,\n            boxShadow: 3,\n          },\n        }}\n      >\n        <Box sx={{ p: 2, borderBottom: \"1px solid #ddd\", textAlign: \"center\" }}>\n          <Typography variant=\"h6\" fontWeight=\"bold\">\n            Notifications\n          </Typography>\n        </Box>\n\n        <List\n          sx={{\n            maxHeight: 300,\n            overflowY: \"auto\",\n            \"&::-webkit-scrollbar\": {\n              width: \"5px\",\n            },\n            \"&::-webkit-scrollbar-thumb\": {\n              background: \"#888\",\n              borderRadius: \"5px\",\n            },\n          }}\n        >\n          {notifications.length === 0 ? (\n            <ListItem sx={{ justifyContent: \"center\", py: 2 }}>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                No new notifications\n              </Typography>\n            </ListItem>\n          ) : (\n            notifications.map((notif, index) => (\n              <div key={notif._id}>\n                <ListItem\n                  sx={{\n                    px: 2,\n                    cursor: \"pointer\",\n                    \"&:hover\": { backgroundColor: \"#f5f5f5\" },\n                  }}\n                  onClick={() => handleNotificationClick(notif)}\n                >\n                  <ListItemText\n                    primary={\n                      <Typography variant=\"body1\">{notif.message}</Typography>\n                    }\n                    secondary={\n                      <Typography\n                        variant=\"caption\"\n                        color=\"text.secondary\"\n                        sx={{\n                          fontWeight: \"bold\", \n                          fontSize: \"0.875rem\", \n                          color: \"#007BFF\", \n                          display: \"block\",\n                          marginTop: \"4px\", \n                          textTransform: \"uppercase\", \n                        }}\n                      >\n                        {new Date(notif.created_at).toLocaleString()}\n                      </Typography>\n                    }\n                  />\n                </ListItem>\n                {index !== notifications.length - 1 && <Divider />}\n              </div>\n            ))\n          )}\n        </List>\n\n        <Button\n          fullWidth\n          variant=\"contained\"\n          onClick={toggleNotifications}\n          sx={{\n            mt: 1,\n            backgroundColor: showAll ? \"#DC3545\" : \"#007BFF\",\n            color: \"white\",\n            \"&:hover\": { backgroundColor: showAll ? \"#B22222\" : \"#0056b3\" },\n          }}\n        >\n          {showAll ? \"Show Unseen Only\" : \"View All Notifications\"}\n        </Button>\n      </Menu>\n    </div>\n  );\n};\n\nexport default NotificationMenu;\n","size_bytes":7386},"qms-source/frontend-new/pnpm-lock.yaml":{"content":"lockfileVersion: '9.0'\n\nsettings:\n  autoInstallPeers: true\n  excludeLinksFromLockfile: false\n\nimporters:\n\n  .:\n    dependencies:\n      '@emotion/react':\n        specifier: ^11.14.0\n        version: 11.14.0(@types/react@19.1.12)(react@19.1.1)\n      '@emotion/styled':\n        specifier: ^11.14.0\n        version: 11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n      '@mui/icons-material':\n        specifier: ^6.4.4\n        version: 6.5.0(@mui/material@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n      '@mui/material':\n        specifier: ^6.4.4\n        version: 6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      '@mui/x-data-grid':\n        specifier: ^7.28.2\n        version: 7.29.9(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@mui/material@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1))(@mui/system@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      '@shadcn/ui':\n        specifier: ^0.0.4\n        version: 0.0.4\n      axios:\n        specifier: ^1.7.9\n        version: 1.11.0\n      chroma-js:\n        specifier: ^3.1.2\n        version: 3.1.2\n      cra-template:\n        specifier: 1.2.0\n        version: 1.2.0\n      date-fns:\n        specifier: ^4.1.0\n        version: 4.1.0\n      html2canvas:\n        specifier: ^1.4.1\n        version: 1.4.1\n      html2pdf.js:\n        specifier: ^0.10.3\n        version: 0.10.3\n      jspdf:\n        specifier: ^3.0.1\n        version: 3.0.2\n      jwt-decode:\n        specifier: ^4.0.0\n        version: 4.0.0\n      lucide-react:\n        specifier: ^0.475.0\n        version: 0.475.0(react@19.1.1)\n      react:\n        specifier: ^19.0.0\n        version: 19.1.1\n      react-dom:\n        specifier: ^19.0.0\n        version: 19.1.1(react@19.1.1)\n      react-router-dom:\n        specifier: ^7.1.5\n        version: 7.8.2(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      react-select:\n        specifier: ^5.10.0\n        version: 5.10.2(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      react-toastify:\n        specifier: ^11.0.3\n        version: 11.0.5(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      recharts:\n        specifier: ^2.15.1\n        version: 2.15.4(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      socket.io-client:\n        specifier: ^4.8.1\n        version: 4.8.1\n      web-vitals:\n        specifier: ^4.2.4\n        version: 4.2.4\n      xlsx:\n        specifier: ^0.18.5\n        version: 0.18.5\n    devDependencies:\n      '@eslint/js':\n        specifier: ^9.21.0\n        version: 9.35.0\n      '@types/react':\n        specifier: ^19.0.10\n        version: 19.1.12\n      '@types/react-dom':\n        specifier: ^19.0.4\n        version: 19.1.9(@types/react@19.1.12)\n      '@vitejs/plugin-react':\n        specifier: ^4.3.4\n        version: 4.7.0(vite@6.3.6)\n      eslint:\n        specifier: ^9.21.0\n        version: 9.35.0\n      eslint-plugin-react-hooks:\n        specifier: ^5.1.0\n        version: 5.2.0(eslint@9.35.0)\n      eslint-plugin-react-refresh:\n        specifier: ^0.4.19\n        version: 0.4.20(eslint@9.35.0)\n      globals:\n        specifier: ^15.15.0\n        version: 15.15.0\n      vite:\n        specifier: ^6.2.0\n        version: 6.3.6\n\npackages:\n\n  '@babel/code-frame@7.27.1':\n    resolution: {integrity: sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/compat-data@7.28.4':\n    resolution: {integrity: sha512-YsmSKC29MJwf0gF8Rjjrg5LQCmyh+j/nD8/eP7f+BeoQTKYqs9RoWbjGOdy0+1Ekr68RJZMUOPVQaQisnIo4Rw==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/core@7.28.4':\n    resolution: {integrity: sha512-2BCOP7TN8M+gVDj7/ht3hsaO/B/n5oDbiAyyvnRlNOs+u1o+JWNYTQrmpuNp1/Wq2gcFrI01JAW+paEKDMx/CA==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/generator@7.28.3':\n    resolution: {integrity: sha512-3lSpxGgvnmZznmBkCRnVREPUFJv2wrv9iAoFDvADJc0ypmdOxdUtcLeBgBJ6zE0PMeTKnxeQzyk0xTBq4Ep7zw==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helper-compilation-targets@7.27.2':\n    resolution: {integrity: sha512-2+1thGUUWWjLTYTHZWK1n8Yga0ijBz1XAhUXcKy81rd5g6yh7hGqMp45v7cadSbEHc9G3OTv45SyneRN3ps4DQ==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helper-globals@7.28.0':\n    resolution: {integrity: sha512-+W6cISkXFa1jXsDEdYA8HeevQT/FULhxzR99pxphltZcVaugps53THCeiWA8SguxxpSp3gKPiuYfSWopkLQ4hw==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helper-module-imports@7.27.1':\n    resolution: {integrity: sha512-0gSFWUPNXNopqtIPQvlD5WgXYI5GY2kP2cCvoT8kczjbfcfuIljTbcWrulD1CIPIX2gt1wghbDy08yE1p+/r3w==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helper-module-transforms@7.28.3':\n    resolution: {integrity: sha512-gytXUbs8k2sXS9PnQptz5o0QnpLL51SwASIORY6XaBKF88nsOT0Zw9szLqlSGQDP/4TljBAD5y98p2U1fqkdsw==}\n    engines: {node: '>=6.9.0'}\n    peerDependencies:\n      '@babel/core': ^7.0.0\n\n  '@babel/helper-plugin-utils@7.27.1':\n    resolution: {integrity: sha512-1gn1Up5YXka3YYAHGKpbideQ5Yjf1tDa9qYcgysz+cNCXukyLl6DjPXhD3VRwSb8c0J9tA4b2+rHEZtc6R0tlw==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helper-string-parser@7.27.1':\n    resolution: {integrity: sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helper-validator-identifier@7.27.1':\n    resolution: {integrity: sha512-D2hP9eA+Sqx1kBZgzxZh0y1trbuU+JoDkiEwqhQ36nodYqJwyEIhPSdMNd7lOm/4io72luTPWH20Yda0xOuUow==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helper-validator-option@7.27.1':\n    resolution: {integrity: sha512-YvjJow9FxbhFFKDSuFnVCe2WxXk1zWc22fFePVNEaWJEu8IrZVlda6N0uHwzZrUM1il7NC9Mlp4MaJYbYd9JSg==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/helpers@7.28.4':\n    resolution: {integrity: sha512-HFN59MmQXGHVyYadKLVumYsA9dBFun/ldYxipEjzA4196jpLZd8UjEEBLkbEkvfYreDqJhZxYAWFPtrfhNpj4w==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/parser@7.28.4':\n    resolution: {integrity: sha512-yZbBqeM6TkpP9du/I2pUZnJsRMGGvOuIrhjzC1AwHwW+6he4mni6Bp/m8ijn0iOuZuPI2BfkCoSRunpyjnrQKg==}\n    engines: {node: '>=6.0.0'}\n    hasBin: true\n\n  '@babel/plugin-transform-react-jsx-self@7.27.1':\n    resolution: {integrity: sha512-6UzkCs+ejGdZ5mFFC/OCUrv028ab2fp1znZmCZjAOBKiBK2jXD1O+BPSfX8X2qjJ75fZBMSnQn3Rq2mrBJK2mw==}\n    engines: {node: '>=6.9.0'}\n    peerDependencies:\n      '@babel/core': ^7.0.0-0\n\n  '@babel/plugin-transform-react-jsx-source@7.27.1':\n    resolution: {integrity: sha512-zbwoTsBruTeKB9hSq73ha66iFeJHuaFkUbwvqElnygoNbj/jHRsSeokowZFN3CZ64IvEqcmmkVe89OPXc7ldAw==}\n    engines: {node: '>=6.9.0'}\n    peerDependencies:\n      '@babel/core': ^7.0.0-0\n\n  '@babel/runtime@7.28.4':\n    resolution: {integrity: sha512-Q/N6JNWvIvPnLDvjlE1OUBLPQHH6l3CltCEsHIujp45zQUSSh8K+gHnaEX45yAT1nyngnINhvWtzN+Nb9D8RAQ==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/template@7.27.2':\n    resolution: {integrity: sha512-LPDZ85aEJyYSd18/DkjNh4/y1ntkE5KwUHWTiqgRxruuZL2F1yuHligVHLvcHY2vMHXttKFpJn6LwfI7cw7ODw==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/traverse@7.28.4':\n    resolution: {integrity: sha512-YEzuboP2qvQavAcjgQNVgsvHIDv6ZpwXvcvjmyySP2DIMuByS/6ioU5G9pYrWHM6T2YDfc7xga9iNzYOs12CFQ==}\n    engines: {node: '>=6.9.0'}\n\n  '@babel/types@7.28.4':\n    resolution: {integrity: sha512-bkFqkLhh3pMBUQQkpVgWDWq/lqzc2678eUyDlTBhRqhCHFguYYGM0Efga7tYk4TogG/3x0EEl66/OQ+WGbWB/Q==}\n    engines: {node: '>=6.9.0'}\n\n  '@emotion/babel-plugin@11.13.5':\n    resolution: {integrity: sha512-pxHCpT2ex+0q+HH91/zsdHkw/lXd468DIN2zvfvLtPKLLMo6gQj7oLObq8PhkrxOZb/gGCq03S3Z7PDhS8pduQ==}\n\n  '@emotion/cache@11.14.0':\n    resolution: {integrity: sha512-L/B1lc/TViYk4DcpGxtAVbx0ZyiKM5ktoIyafGkH6zg/tj+mA+NE//aPYKG0k8kCHSHVJrpLpcAlOBEXQ3SavA==}\n\n  '@emotion/hash@0.9.2':\n    resolution: {integrity: sha512-MyqliTZGuOm3+5ZRSaaBGP3USLw6+EGykkwZns2EPC5g8jJ4z9OrdZY9apkl3+UP9+sdz76YYkwCKP5gh8iY3g==}\n\n  '@emotion/is-prop-valid@1.4.0':\n    resolution: {integrity: sha512-QgD4fyscGcbbKwJmqNvUMSE02OsHUa+lAWKdEUIJKgqe5IwRSKd7+KhibEWdaKwgjLj0DRSHA9biAIqGBk05lw==}\n\n  '@emotion/memoize@0.9.0':\n    resolution: {integrity: sha512-30FAj7/EoJ5mwVPOWhAyCX+FPfMDrVecJAM+Iw9NRoSl4BBAQeqj4cApHHUXOVvIPgLVDsCFoz/hGD+5QQD1GQ==}\n\n  '@emotion/react@11.14.0':\n    resolution: {integrity: sha512-O000MLDBDdk/EohJPFUqvnp4qnHeYkVP5B0xEG0D/L7cOKP9kefu2DXn8dj74cQfsEzUqh+sr1RzFqiL1o+PpA==}\n    peerDependencies:\n      '@types/react': '*'\n      react: '>=16.8.0'\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@emotion/serialize@1.3.3':\n    resolution: {integrity: sha512-EISGqt7sSNWHGI76hC7x1CksiXPahbxEOrC5RjmFRJTqLyEK9/9hZvBbiYn70dw4wuwMKiEMCUlR6ZXTSWQqxA==}\n\n  '@emotion/sheet@1.4.0':\n    resolution: {integrity: sha512-fTBW9/8r2w3dXWYM4HCB1Rdp8NLibOw2+XELH5m5+AkWiL/KqYX6dc0kKYlaYyKjrQ6ds33MCdMPEwgs2z1rqg==}\n\n  '@emotion/styled@11.14.1':\n    resolution: {integrity: sha512-qEEJt42DuToa3gurlH4Qqc1kVpNq8wO8cJtDzU46TjlzWjDlsVyevtYCRijVq3SrHsROS+gVQ8Fnea108GnKzw==}\n    peerDependencies:\n      '@emotion/react': ^11.0.0-rc.0\n      '@types/react': '*'\n      react: '>=16.8.0'\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@emotion/unitless@0.10.0':\n    resolution: {integrity: sha512-dFoMUuQA20zvtVTuxZww6OHoJYgrzfKM1t52mVySDJnMSEa08ruEvdYQbhvyu6soU+NeLVd3yKfTfT0NeV6qGg==}\n\n  '@emotion/use-insertion-effect-with-fallbacks@1.2.0':\n    resolution: {integrity: sha512-yJMtVdH59sxi/aVJBpk9FQq+OR8ll5GT8oWd57UpeaKEVGab41JWaCFA7FRLoMLloOZF/c/wsPoe+bfGmRKgDg==}\n    peerDependencies:\n      react: '>=16.8.0'\n\n  '@emotion/utils@1.4.2':\n    resolution: {integrity: sha512-3vLclRofFziIa3J2wDh9jjbkUz9qk5Vi3IZ/FSTKViB0k+ef0fPV7dYrUIugbgupYDx7v9ud/SjrtEP8Y4xLoA==}\n\n  '@emotion/weak-memoize@0.4.0':\n    resolution: {integrity: sha512-snKqtPW01tN0ui7yu9rGv69aJXr/a/Ywvl11sUjNtEcRc+ng/mQriFL0wLXMef74iHa/EkftbDzU9F8iFbH+zg==}\n\n  '@esbuild/aix-ppc64@0.25.9':\n    resolution: {integrity: sha512-OaGtL73Jck6pBKjNIe24BnFE6agGl+6KxDtTfHhy1HmhthfKouEcOhqpSL64K4/0WCtbKFLOdzD/44cJ4k9opA==}\n    engines: {node: '>=18'}\n    cpu: [ppc64]\n    os: [aix]\n\n  '@esbuild/android-arm64@0.25.9':\n    resolution: {integrity: sha512-IDrddSmpSv51ftWslJMvl3Q2ZT98fUSL2/rlUXuVqRXHCs5EUF1/f+jbjF5+NG9UffUDMCiTyh8iec7u8RlTLg==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [android]\n\n  '@esbuild/android-arm@0.25.9':\n    resolution: {integrity: sha512-5WNI1DaMtxQ7t7B6xa572XMXpHAaI/9Hnhk8lcxF4zVN4xstUgTlvuGDorBguKEnZO70qwEcLpfifMLoxiPqHQ==}\n    engines: {node: '>=18'}\n    cpu: [arm]\n    os: [android]\n\n  '@esbuild/android-x64@0.25.9':\n    resolution: {integrity: sha512-I853iMZ1hWZdNllhVZKm34f4wErd4lMyeV7BLzEExGEIZYsOzqDWDf+y082izYUE8gtJnYHdeDpN/6tUdwvfiw==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [android]\n\n  '@esbuild/darwin-arm64@0.25.9':\n    resolution: {integrity: sha512-XIpIDMAjOELi/9PB30vEbVMs3GV1v2zkkPnuyRRURbhqjyzIINwj+nbQATh4H9GxUgH1kFsEyQMxwiLFKUS6Rg==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [darwin]\n\n  '@esbuild/darwin-x64@0.25.9':\n    resolution: {integrity: sha512-jhHfBzjYTA1IQu8VyrjCX4ApJDnH+ez+IYVEoJHeqJm9VhG9Dh2BYaJritkYK3vMaXrf7Ogr/0MQ8/MeIefsPQ==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [darwin]\n\n  '@esbuild/freebsd-arm64@0.25.9':\n    resolution: {integrity: sha512-z93DmbnY6fX9+KdD4Ue/H6sYs+bhFQJNCPZsi4XWJoYblUqT06MQUdBCpcSfuiN72AbqeBFu5LVQTjfXDE2A6Q==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [freebsd]\n\n  '@esbuild/freebsd-x64@0.25.9':\n    resolution: {integrity: sha512-mrKX6H/vOyo5v71YfXWJxLVxgy1kyt1MQaD8wZJgJfG4gq4DpQGpgTB74e5yBeQdyMTbgxp0YtNj7NuHN0PoZg==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [freebsd]\n\n  '@esbuild/linux-arm64@0.25.9':\n    resolution: {integrity: sha512-BlB7bIcLT3G26urh5Dmse7fiLmLXnRlopw4s8DalgZ8ef79Jj4aUcYbk90g8iCa2467HX8SAIidbL7gsqXHdRw==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [linux]\n\n  '@esbuild/linux-arm@0.25.9':\n    resolution: {integrity: sha512-HBU2Xv78SMgaydBmdor38lg8YDnFKSARg1Q6AT0/y2ezUAKiZvc211RDFHlEZRFNRVhcMamiToo7bDx3VEOYQw==}\n    engines: {node: '>=18'}\n    cpu: [arm]\n    os: [linux]\n\n  '@esbuild/linux-ia32@0.25.9':\n    resolution: {integrity: sha512-e7S3MOJPZGp2QW6AK6+Ly81rC7oOSerQ+P8L0ta4FhVi+/j/v2yZzx5CqqDaWjtPFfYz21Vi1S0auHrap3Ma3A==}\n    engines: {node: '>=18'}\n    cpu: [ia32]\n    os: [linux]\n\n  '@esbuild/linux-loong64@0.25.9':\n    resolution: {integrity: sha512-Sbe10Bnn0oUAB2AalYztvGcK+o6YFFA/9829PhOCUS9vkJElXGdphz0A3DbMdP8gmKkqPmPcMJmJOrI3VYB1JQ==}\n    engines: {node: '>=18'}\n    cpu: [loong64]\n    os: [linux]\n\n  '@esbuild/linux-mips64el@0.25.9':\n    resolution: {integrity: sha512-YcM5br0mVyZw2jcQeLIkhWtKPeVfAerES5PvOzaDxVtIyZ2NUBZKNLjC5z3/fUlDgT6w89VsxP2qzNipOaaDyA==}\n    engines: {node: '>=18'}\n    cpu: [mips64el]\n    os: [linux]\n\n  '@esbuild/linux-ppc64@0.25.9':\n    resolution: {integrity: sha512-++0HQvasdo20JytyDpFvQtNrEsAgNG2CY1CLMwGXfFTKGBGQT3bOeLSYE2l1fYdvML5KUuwn9Z8L1EWe2tzs1w==}\n    engines: {node: '>=18'}\n    cpu: [ppc64]\n    os: [linux]\n\n  '@esbuild/linux-riscv64@0.25.9':\n    resolution: {integrity: sha512-uNIBa279Y3fkjV+2cUjx36xkx7eSjb8IvnL01eXUKXez/CBHNRw5ekCGMPM0BcmqBxBcdgUWuUXmVWwm4CH9kg==}\n    engines: {node: '>=18'}\n    cpu: [riscv64]\n    os: [linux]\n\n  '@esbuild/linux-s390x@0.25.9':\n    resolution: {integrity: sha512-Mfiphvp3MjC/lctb+7D287Xw1DGzqJPb/J2aHHcHxflUo+8tmN/6d4k6I2yFR7BVo5/g7x2Monq4+Yew0EHRIA==}\n    engines: {node: '>=18'}\n    cpu: [s390x]\n    os: [linux]\n\n  '@esbuild/linux-x64@0.25.9':\n    resolution: {integrity: sha512-iSwByxzRe48YVkmpbgoxVzn76BXjlYFXC7NvLYq+b+kDjyyk30J0JY47DIn8z1MO3K0oSl9fZoRmZPQI4Hklzg==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [linux]\n\n  '@esbuild/netbsd-arm64@0.25.9':\n    resolution: {integrity: sha512-9jNJl6FqaUG+COdQMjSCGW4QiMHH88xWbvZ+kRVblZsWrkXlABuGdFJ1E9L7HK+T0Yqd4akKNa/lO0+jDxQD4Q==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [netbsd]\n\n  '@esbuild/netbsd-x64@0.25.9':\n    resolution: {integrity: sha512-RLLdkflmqRG8KanPGOU7Rpg829ZHu8nFy5Pqdi9U01VYtG9Y0zOG6Vr2z4/S+/3zIyOxiK6cCeYNWOFR9QP87g==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [netbsd]\n\n  '@esbuild/openbsd-arm64@0.25.9':\n    resolution: {integrity: sha512-YaFBlPGeDasft5IIM+CQAhJAqS3St3nJzDEgsgFixcfZeyGPCd6eJBWzke5piZuZ7CtL656eOSYKk4Ls2C0FRQ==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [openbsd]\n\n  '@esbuild/openbsd-x64@0.25.9':\n    resolution: {integrity: sha512-1MkgTCuvMGWuqVtAvkpkXFmtL8XhWy+j4jaSO2wxfJtilVCi0ZE37b8uOdMItIHz4I6z1bWWtEX4CJwcKYLcuA==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [openbsd]\n\n  '@esbuild/openharmony-arm64@0.25.9':\n    resolution: {integrity: sha512-4Xd0xNiMVXKh6Fa7HEJQbrpP3m3DDn43jKxMjxLLRjWnRsfxjORYJlXPO4JNcXtOyfajXorRKY9NkOpTHptErg==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [openharmony]\n\n  '@esbuild/sunos-x64@0.25.9':\n    resolution: {integrity: sha512-WjH4s6hzo00nNezhp3wFIAfmGZ8U7KtrJNlFMRKxiI9mxEK1scOMAaa9i4crUtu+tBr+0IN6JCuAcSBJZfnphw==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [sunos]\n\n  '@esbuild/win32-arm64@0.25.9':\n    resolution: {integrity: sha512-mGFrVJHmZiRqmP8xFOc6b84/7xa5y5YvR1x8djzXpJBSv/UsNK6aqec+6JDjConTgvvQefdGhFDAs2DLAds6gQ==}\n    engines: {node: '>=18'}\n    cpu: [arm64]\n    os: [win32]\n\n  '@esbuild/win32-ia32@0.25.9':\n    resolution: {integrity: sha512-b33gLVU2k11nVx1OhX3C8QQP6UHQK4ZtN56oFWvVXvz2VkDoe6fbG8TOgHFxEvqeqohmRnIHe5A1+HADk4OQww==}\n    engines: {node: '>=18'}\n    cpu: [ia32]\n    os: [win32]\n\n  '@esbuild/win32-x64@0.25.9':\n    resolution: {integrity: sha512-PPOl1mi6lpLNQxnGoyAfschAodRFYXJ+9fs6WHXz7CSWKbOqiMZsubC+BQsVKuul+3vKLuwTHsS2c2y9EoKwxQ==}\n    engines: {node: '>=18'}\n    cpu: [x64]\n    os: [win32]\n\n  '@eslint-community/eslint-utils@4.9.0':\n    resolution: {integrity: sha512-ayVFHdtZ+hsq1t2Dy24wCmGXGe4q9Gu3smhLYALJrr473ZH27MsnSL+LKUlimp4BWJqMDMLmPpx/Q9R3OAlL4g==}\n    engines: {node: ^12.22.0 || ^14.17.0 || >=16.0.0}\n    peerDependencies:\n      eslint: ^6.0.0 || ^7.0.0 || >=8.0.0\n\n  '@eslint-community/regexpp@4.12.1':\n    resolution: {integrity: sha512-CCZCDJuduB9OUkFkY2IgppNZMi2lBQgD2qzwXkEia16cge2pijY/aXi96CJMquDMn3nJdlPV1A5KrJEXwfLNzQ==}\n    engines: {node: ^12.0.0 || ^14.0.0 || >=16.0.0}\n\n  '@eslint/config-array@0.21.0':\n    resolution: {integrity: sha512-ENIdc4iLu0d93HeYirvKmrzshzofPw6VkZRKQGe9Nv46ZnWUzcF1xV01dcvEg/1wXUR61OmmlSfyeyO7EvjLxQ==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  '@eslint/config-helpers@0.3.1':\n    resolution: {integrity: sha512-xR93k9WhrDYpXHORXpxVL5oHj3Era7wo6k/Wd8/IsQNnZUTzkGS29lyn3nAT05v6ltUuTFVCCYDEGfy2Or/sPA==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  '@eslint/core@0.15.2':\n    resolution: {integrity: sha512-78Md3/Rrxh83gCxoUc0EiciuOHsIITzLy53m3d9UyiW8y9Dj2D29FeETqyKA+BRK76tnTp6RXWb3pCay8Oyomg==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  '@eslint/eslintrc@3.3.1':\n    resolution: {integrity: sha512-gtF186CXhIl1p4pJNGZw8Yc6RlshoePRvE0X91oPGb3vZ8pM3qOS9W9NGPat9LziaBV7XrJWGylNQXkGcnM3IQ==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  '@eslint/js@9.35.0':\n    resolution: {integrity: sha512-30iXE9whjlILfWobBkNerJo+TXYsgVM5ERQwMcMKCHckHflCmf7wXDAHlARoWnh0s1U72WqlbeyE7iAcCzuCPw==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  '@eslint/object-schema@2.1.6':\n    resolution: {integrity: sha512-RBMg5FRL0I0gs51M/guSAj5/e14VQ4tpZnQNWwuDT66P14I43ItmPfIZRhO9fUVIPOAQXU47atlywZ/czoqFPA==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  '@eslint/plugin-kit@0.3.5':\n    resolution: {integrity: sha512-Z5kJ+wU3oA7MMIqVR9tyZRtjYPr4OC004Q4Rw7pgOKUOKkJfZ3O24nz3WYfGRpMDNmcOi3TwQOmgm7B7Tpii0w==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  '@floating-ui/core@1.7.3':\n    resolution: {integrity: sha512-sGnvb5dmrJaKEZ+LDIpguvdX3bDlEllmv4/ClQ9awcmCZrlx5jQyyMWFM5kBI+EyNOCDDiKk8il0zeuX3Zlg/w==}\n\n  '@floating-ui/dom@1.7.4':\n    resolution: {integrity: sha512-OOchDgh4F2CchOX94cRVqhvy7b3AFb+/rQXyswmzmGakRfkMgoWVjfnLWkRirfLEfuD4ysVW16eXzwt3jHIzKA==}\n\n  '@floating-ui/utils@0.2.10':\n    resolution: {integrity: sha512-aGTxbpbg8/b5JfU1HXSrbH3wXZuLPJcNEcZQFMxLs3oSzgtVu6nFPkbbGGUvBcUjKV2YyB9Wxxabo+HEH9tcRQ==}\n\n  '@humanfs/core@0.19.1':\n    resolution: {integrity: sha512-5DyQ4+1JEUzejeK1JGICcideyfUbGixgS9jNgex5nqkW+cY7WZhxBigmieN5Qnw9ZosSNVC9KQKyb+GUaGyKUA==}\n    engines: {node: '>=18.18.0'}\n\n  '@humanfs/node@0.16.7':\n    resolution: {integrity: sha512-/zUx+yOsIrG4Y43Eh2peDeKCxlRt/gET6aHfaKpuq267qXdYDFViVHfMaLyygZOnl0kGWxFIgsBy8QFuTLUXEQ==}\n    engines: {node: '>=18.18.0'}\n\n  '@humanwhocodes/module-importer@1.0.1':\n    resolution: {integrity: sha512-bxveV4V8v5Yb4ncFTT3rPSgZBOpCkjfK0y4oVVVJwIuDVBRMDXrPyXRL988i5ap9m9bnyEEjWfm5WkBmtffLfA==}\n    engines: {node: '>=12.22'}\n\n  '@humanwhocodes/retry@0.4.3':\n    resolution: {integrity: sha512-bV0Tgo9K4hfPCek+aMAn81RppFKv2ySDQeMoSZuvTASywNTnVJCArCZE2FWqpvIatKu7VMRLWlR1EazvVhDyhQ==}\n    engines: {node: '>=18.18'}\n\n  '@jridgewell/gen-mapping@0.3.13':\n    resolution: {integrity: sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==}\n\n  '@jridgewell/remapping@2.3.5':\n    resolution: {integrity: sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ==}\n\n  '@jridgewell/resolve-uri@3.1.2':\n    resolution: {integrity: sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==}\n    engines: {node: '>=6.0.0'}\n\n  '@jridgewell/sourcemap-codec@1.5.5':\n    resolution: {integrity: sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==}\n\n  '@jridgewell/trace-mapping@0.3.30':\n    resolution: {integrity: sha512-GQ7Nw5G2lTu/BtHTKfXhKHok2WGetd4XYcVKGx00SjAk8GMwgJM3zr6zORiPGuOE+/vkc90KtTosSSvaCjKb2Q==}\n\n  '@mui/core-downloads-tracker@6.5.0':\n    resolution: {integrity: sha512-LGb8t8i6M2ZtS3Drn3GbTI1DVhDY6FJ9crEey2lZ0aN2EMZo8IZBZj9wRf4vqbZHaWjsYgtbOnJw5V8UWbmK2Q==}\n\n  '@mui/icons-material@6.5.0':\n    resolution: {integrity: sha512-VPuPqXqbBPlcVSA0BmnoE4knW4/xG6Thazo8vCLWkOKusko6DtwFV6B665MMWJ9j0KFohTIf3yx2zYtYacvG1g==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@mui/material': ^6.5.0\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@mui/material@6.5.0':\n    resolution: {integrity: sha512-yjvtXoFcrPLGtgKRxFaH6OQPtcLPhkloC0BML6rBG5UeldR0nPULR/2E2BfXdo5JNV7j7lOzrrLX2Qf/iSidow==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@emotion/react': ^11.5.0\n      '@emotion/styled': ^11.3.0\n      '@mui/material-pigment-css': ^6.5.0\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n      react-dom: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@emotion/react':\n        optional: true\n      '@emotion/styled':\n        optional: true\n      '@mui/material-pigment-css':\n        optional: true\n      '@types/react':\n        optional: true\n\n  '@mui/private-theming@6.4.9':\n    resolution: {integrity: sha512-LktcVmI5X17/Q5SkwjCcdOLBzt1hXuc14jYa7NPShog0GBDCDvKtcnP0V7a2s6EiVRlv7BzbWEJzH6+l/zaCxw==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@mui/styled-engine@6.5.0':\n    resolution: {integrity: sha512-8woC2zAqF4qUDSPIBZ8v3sakj+WgweolpyM/FXf8jAx6FMls+IE4Y8VDZc+zS805J7PRz31vz73n2SovKGaYgw==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@emotion/react': ^11.4.1\n      '@emotion/styled': ^11.3.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@emotion/react':\n        optional: true\n      '@emotion/styled':\n        optional: true\n\n  '@mui/system@6.5.0':\n    resolution: {integrity: sha512-XcbBYxDS+h/lgsoGe78ExXFZXtuIlSBpn/KsZq8PtZcIkUNJInkuDqcLd2rVBQrDC1u+rvVovdaWPf2FHKJf3w==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@emotion/react': ^11.5.0\n      '@emotion/styled': ^11.3.0\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@emotion/react':\n        optional: true\n      '@emotion/styled':\n        optional: true\n      '@types/react':\n        optional: true\n\n  '@mui/types@7.2.24':\n    resolution: {integrity: sha512-3c8tRt/CbWZ+pEg7QpSwbdxOk36EfmhbKf6AGZsD1EcLDLTSZoxxJ86FVtcjxvjuhdyBiWKSTGZFaXCnidO2kw==}\n    peerDependencies:\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@mui/types@7.4.6':\n    resolution: {integrity: sha512-NVBbIw+4CDMMppNamVxyTccNv0WxtDb7motWDlMeSC8Oy95saj1TIZMGynPpFLePt3yOD8TskzumeqORCgRGWw==}\n    peerDependencies:\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@mui/utils@6.4.9':\n    resolution: {integrity: sha512-Y12Q9hbK9g+ZY0T3Rxrx9m2m10gaphDuUMgWxyV5kNJevVxXYCLclYUCC9vXaIk1/NdNDTcW2Yfr2OGvNFNmHg==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@mui/utils@7.3.2':\n    resolution: {integrity: sha512-4DMWQGenOdLnM3y/SdFQFwKsCLM+mqxzvoWp9+x2XdEzXapkznauHLiXtSohHs/mc0+5/9UACt1GdugCX2te5g==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@types/react': ^17.0.0 || ^18.0.0 || ^19.0.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  '@mui/x-data-grid@7.29.9':\n    resolution: {integrity: sha512-RfK7Fnuu4eyv/4eD3MEB1xxZsx0xRBsofb1kifghIjyQV1EKAeRcwvczyrzQggj7ZRT5AqkwCzhLsZDvE5O0nQ==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      '@emotion/react': ^11.9.0\n      '@emotion/styled': ^11.8.1\n      '@mui/material': ^5.15.14 || ^6.0.0 || ^7.0.0\n      '@mui/system': ^5.15.14 || ^6.0.0 || ^7.0.0\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n      react-dom: ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@emotion/react':\n        optional: true\n      '@emotion/styled':\n        optional: true\n\n  '@mui/x-internals@7.29.0':\n    resolution: {integrity: sha512-+Gk6VTZIFD70XreWvdXBwKd8GZ2FlSCuecQFzm6znwqXg1ZsndavrhG9tkxpxo2fM1Zf7Tk8+HcOO0hCbhTQFA==}\n    engines: {node: '>=14.0.0'}\n    peerDependencies:\n      react: ^17.0.0 || ^18.0.0 || ^19.0.0\n\n  '@popperjs/core@2.11.8':\n    resolution: {integrity: sha512-P1st0aksCrn9sGZhp8GMYwBnQsbvAWsZAX44oXNNvLHGqAOcoVxmjZiohstwQ7SqKnbR47akdNi+uleWD8+g6A==}\n\n  '@rolldown/pluginutils@1.0.0-beta.27':\n    resolution: {integrity: sha512-+d0F4MKMCbeVUJwG96uQ4SgAznZNSq93I3V+9NHA4OpvqG8mRCpGdKmK8l/dl02h2CCDHwW2FqilnTyDcAnqjA==}\n\n  '@rollup/rollup-android-arm-eabi@4.50.1':\n    resolution: {integrity: sha512-HJXwzoZN4eYTdD8bVV22DN8gsPCAj3V20NHKOs8ezfXanGpmVPR7kalUHd+Y31IJp9stdB87VKPFbsGY3H/2ag==}\n    cpu: [arm]\n    os: [android]\n\n  '@rollup/rollup-android-arm64@4.50.1':\n    resolution: {integrity: sha512-PZlsJVcjHfcH53mOImyt3bc97Ep3FJDXRpk9sMdGX0qgLmY0EIWxCag6EigerGhLVuL8lDVYNnSo8qnTElO4xw==}\n    cpu: [arm64]\n    os: [android]\n\n  '@rollup/rollup-darwin-arm64@4.50.1':\n    resolution: {integrity: sha512-xc6i2AuWh++oGi4ylOFPmzJOEeAa2lJeGUGb4MudOtgfyyjr4UPNK+eEWTPLvmPJIY/pgw6ssFIox23SyrkkJw==}\n    cpu: [arm64]\n    os: [darwin]\n\n  '@rollup/rollup-darwin-x64@4.50.1':\n    resolution: {integrity: sha512-2ofU89lEpDYhdLAbRdeyz/kX3Y2lpYc6ShRnDjY35bZhd2ipuDMDi6ZTQ9NIag94K28nFMofdnKeHR7BT0CATw==}\n    cpu: [x64]\n    os: [darwin]\n\n  '@rollup/rollup-freebsd-arm64@4.50.1':\n    resolution: {integrity: sha512-wOsE6H2u6PxsHY/BeFHA4VGQN3KUJFZp7QJBmDYI983fgxq5Th8FDkVuERb2l9vDMs1D5XhOrhBrnqcEY6l8ZA==}\n    cpu: [arm64]\n    os: [freebsd]\n\n  '@rollup/rollup-freebsd-x64@4.50.1':\n    resolution: {integrity: sha512-A/xeqaHTlKbQggxCqispFAcNjycpUEHP52mwMQZUNqDUJFFYtPHCXS1VAG29uMlDzIVr+i00tSFWFLivMcoIBQ==}\n    cpu: [x64]\n    os: [freebsd]\n\n  '@rollup/rollup-linux-arm-gnueabihf@4.50.1':\n    resolution: {integrity: sha512-54v4okehwl5TaSIkpp97rAHGp7t3ghinRd/vyC1iXqXMfjYUTm7TfYmCzXDoHUPTTf36L8pr0E7YsD3CfB3ZDg==}\n    cpu: [arm]\n    os: [linux]\n\n  '@rollup/rollup-linux-arm-musleabihf@4.50.1':\n    resolution: {integrity: sha512-p/LaFyajPN/0PUHjv8TNyxLiA7RwmDoVY3flXHPSzqrGcIp/c2FjwPPP5++u87DGHtw+5kSH5bCJz0mvXngYxw==}\n    cpu: [arm]\n    os: [linux]\n\n  '@rollup/rollup-linux-arm64-gnu@4.50.1':\n    resolution: {integrity: sha512-2AbMhFFkTo6Ptna1zO7kAXXDLi7H9fGTbVaIq2AAYO7yzcAsuTNWPHhb2aTA6GPiP+JXh85Y8CiS54iZoj4opw==}\n    cpu: [arm64]\n    os: [linux]\n\n  '@rollup/rollup-linux-arm64-musl@4.50.1':\n    resolution: {integrity: sha512-Cgef+5aZwuvesQNw9eX7g19FfKX5/pQRIyhoXLCiBOrWopjo7ycfB292TX9MDcDijiuIJlx1IzJz3IoCPfqs9w==}\n    cpu: [arm64]\n    os: [linux]\n\n  '@rollup/rollup-linux-loongarch64-gnu@4.50.1':\n    resolution: {integrity: sha512-RPhTwWMzpYYrHrJAS7CmpdtHNKtt2Ueo+BlLBjfZEhYBhK00OsEqM08/7f+eohiF6poe0YRDDd8nAvwtE/Y62Q==}\n    cpu: [loong64]\n    os: [linux]\n\n  '@rollup/rollup-linux-ppc64-gnu@4.50.1':\n    resolution: {integrity: sha512-eSGMVQw9iekut62O7eBdbiccRguuDgiPMsw++BVUg+1K7WjZXHOg/YOT9SWMzPZA+w98G+Fa1VqJgHZOHHnY0Q==}\n    cpu: [ppc64]\n    os: [linux]\n\n  '@rollup/rollup-linux-riscv64-gnu@4.50.1':\n    resolution: {integrity: sha512-S208ojx8a4ciIPrLgazF6AgdcNJzQE4+S9rsmOmDJkusvctii+ZvEuIC4v/xFqzbuP8yDjn73oBlNDgF6YGSXQ==}\n    cpu: [riscv64]\n    os: [linux]\n\n  '@rollup/rollup-linux-riscv64-musl@4.50.1':\n    resolution: {integrity: sha512-3Ag8Ls1ggqkGUvSZWYcdgFwriy2lWo+0QlYgEFra/5JGtAd6C5Hw59oojx1DeqcA2Wds2ayRgvJ4qxVTzCHgzg==}\n    cpu: [riscv64]\n    os: [linux]\n\n  '@rollup/rollup-linux-s390x-gnu@4.50.1':\n    resolution: {integrity: sha512-t9YrKfaxCYe7l7ldFERE1BRg/4TATxIg+YieHQ966jwvo7ddHJxPj9cNFWLAzhkVsbBvNA4qTbPVNsZKBO4NSg==}\n    cpu: [s390x]\n    os: [linux]\n\n  '@rollup/rollup-linux-x64-gnu@4.50.1':\n    resolution: {integrity: sha512-MCgtFB2+SVNuQmmjHf+wfI4CMxy3Tk8XjA5Z//A0AKD7QXUYFMQcns91K6dEHBvZPCnhJSyDWLApk40Iq/H3tA==}\n    cpu: [x64]\n    os: [linux]\n\n  '@rollup/rollup-linux-x64-musl@4.50.1':\n    resolution: {integrity: sha512-nEvqG+0jeRmqaUMuwzlfMKwcIVffy/9KGbAGyoa26iu6eSngAYQ512bMXuqqPrlTyfqdlB9FVINs93j534UJrg==}\n    cpu: [x64]\n    os: [linux]\n\n  '@rollup/rollup-openharmony-arm64@4.50.1':\n    resolution: {integrity: sha512-RDsLm+phmT3MJd9SNxA9MNuEAO/J2fhW8GXk62G/B4G7sLVumNFbRwDL6v5NrESb48k+QMqdGbHgEtfU0LCpbA==}\n    cpu: [arm64]\n    os: [openharmony]\n\n  '@rollup/rollup-win32-arm64-msvc@4.50.1':\n    resolution: {integrity: sha512-hpZB/TImk2FlAFAIsoElM3tLzq57uxnGYwplg6WDyAxbYczSi8O2eQ+H2Lx74504rwKtZ3N2g4bCUkiamzS6TQ==}\n    cpu: [arm64]\n    os: [win32]\n\n  '@rollup/rollup-win32-ia32-msvc@4.50.1':\n    resolution: {integrity: sha512-SXjv8JlbzKM0fTJidX4eVsH+Wmnp0/WcD8gJxIZyR6Gay5Qcsmdbi9zVtnbkGPG8v2vMR1AD06lGWy5FLMcG7A==}\n    cpu: [ia32]\n    os: [win32]\n\n  '@rollup/rollup-win32-x64-msvc@4.50.1':\n    resolution: {integrity: sha512-StxAO/8ts62KZVRAm4JZYq9+NqNsV7RvimNK+YM7ry//zebEH6meuugqW/P5OFUCjyQgui+9fUxT6d5NShvMvA==}\n    cpu: [x64]\n    os: [win32]\n\n  '@shadcn/ui@0.0.4':\n    resolution: {integrity: sha512-0dtu/5ApsOZ24qgaZwtif8jVwqol7a4m1x5AxPuM1k5wxhqU7t/qEfBGtaSki1R8VlbTQfCj5PAlO45NKCa7Gg==}\n    hasBin: true\n\n  '@socket.io/component-emitter@3.1.2':\n    resolution: {integrity: sha512-9BCxFwvbGg/RsZK9tjXd8s4UcwR0MWeFQ1XEKIQVVvAGJyINdrqKMcTRyLoK8Rse1GjzLV9cwjWV1olXRWEXVA==}\n\n  '@types/babel__core@7.20.5':\n    resolution: {integrity: sha512-qoQprZvz5wQFJwMDqeseRXWv3rqMvhgpbXFfVyWhbx9X47POIA6i/+dXefEmZKoAgOaTdaIgNSMqMIU61yRyzA==}\n\n  '@types/babel__generator@7.27.0':\n    resolution: {integrity: sha512-ufFd2Xi92OAVPYsy+P4n7/U7e68fex0+Ee8gSG9KX7eo084CWiQ4sdxktvdl0bOPupXtVJPY19zk6EwWqUQ8lg==}\n\n  '@types/babel__template@7.4.4':\n    resolution: {integrity: sha512-h/NUaSyG5EyxBIp8YRxo4RMe2/qQgvyowRwVMzhYhBCONbW8PUsg4lkFMrhgZhUe5z3L3MiLDuvyJ/CaPa2A8A==}\n\n  '@types/babel__traverse@7.28.0':\n    resolution: {integrity: sha512-8PvcXf70gTDZBgt9ptxJ8elBeBjcLOAcOtoO/mPJjtji1+CdGbHgm77om1GrsPxsiE+uXIpNSK64UYaIwQXd4Q==}\n\n  '@types/d3-array@3.2.1':\n    resolution: {integrity: sha512-Y2Jn2idRrLzUfAKV2LyRImR+y4oa2AntrgID95SHJxuMUrkNXmanDSed71sRNZysveJVt1hLLemQZIady0FpEg==}\n\n  '@types/d3-color@3.1.3':\n    resolution: {integrity: sha512-iO90scth9WAbmgv7ogoq57O9YpKmFBbmoEoCHDB2xMBY0+/KVrqAaCDyCE16dUspeOvIxFFRI+0sEtqDqy2b4A==}\n\n  '@types/d3-ease@3.0.2':\n    resolution: {integrity: sha512-NcV1JjO5oDzoK26oMzbILE6HW7uVXOHLQvHshBUW4UMdZGfiY6v5BeQwh9a9tCzv+CeefZQHJt5SRgK154RtiA==}\n\n  '@types/d3-interpolate@3.0.4':\n    resolution: {integrity: sha512-mgLPETlrpVV1YRJIglr4Ez47g7Yxjl1lj7YKsiMCb27VJH9W8NVM6Bb9d8kkpG/uAQS5AmbA48q2IAolKKo1MA==}\n\n  '@types/d3-path@3.1.1':\n    resolution: {integrity: sha512-VMZBYyQvbGmWyWVea0EHs/BwLgxc+MKi1zLDCONksozI4YJMcTt8ZEuIR4Sb1MMTE8MMW49v0IwI5+b7RmfWlg==}\n\n  '@types/d3-scale@4.0.9':\n    resolution: {integrity: sha512-dLmtwB8zkAeO/juAMfnV+sItKjlsw2lKdZVVy6LRr0cBmegxSABiLEpGVmSJJ8O08i4+sGR6qQtb6WtuwJdvVw==}\n\n  '@types/d3-shape@3.1.7':\n    resolution: {integrity: sha512-VLvUQ33C+3J+8p+Daf+nYSOsjB4GXp19/S/aGo60m9h1v6XaxjiT82lKVWJCfzhtuZ3yD7i/TPeC/fuKLLOSmg==}\n\n  '@types/d3-time@3.0.4':\n    resolution: {integrity: sha512-yuzZug1nkAAaBlBBikKZTgzCeA+k1uy4ZFwWANOfKw5z5LRhV0gNA7gNkKm7HoK+HRN0wX3EkxGk0fpbWhmB7g==}\n\n  '@types/d3-timer@3.0.2':\n    resolution: {integrity: sha512-Ps3T8E8dZDam6fUyNiMkekK3XUsaUEik+idO9/YjPtfj2qruF8tFBXS7XhtE4iIXBLxhmLjP3SXpLhVf21I9Lw==}\n\n  '@types/estree@1.0.8':\n    resolution: {integrity: sha512-dWHzHa2WqEXI/O1E9OjrocMTKJl2mSrEolh1Iomrv6U+JuNwaHXsXx9bLu5gG7BUWFIN0skIQJQ/L1rIex4X6w==}\n\n  '@types/json-schema@7.0.15':\n    resolution: {integrity: sha512-5+fP8P8MFNC+AyZCDxrB2pkZFPGzqQWUzpSeuuVLvm8VMcorNYavBqoFcxK8bQz4Qsbn4oUEEem4wDLfcysGHA==}\n\n  '@types/pako@2.0.4':\n    resolution: {integrity: sha512-VWDCbrLeVXJM9fihYodcLiIv0ku+AlOa/TQ1SvYOaBuyrSKgEcro95LJyIsJ4vSo6BXIxOKxiJAat04CmST9Fw==}\n\n  '@types/parse-json@4.0.2':\n    resolution: {integrity: sha512-dISoDXWWQwUquiKsyZ4Ng+HX2KsPL7LyHKHQwgGFEA3IaKac4Obd+h2a/a6waisAoepJlBcx9paWqjA8/HVjCw==}\n\n  '@types/prop-types@15.7.15':\n    resolution: {integrity: sha512-F6bEyamV9jKGAFBEmlQnesRPGOQqS2+Uwi0Em15xenOxHaf2hv6L8YCVn3rPdPJOiJfPiCnLIRyvwVaqMY3MIw==}\n\n  '@types/raf@3.4.3':\n    resolution: {integrity: sha512-c4YAvMedbPZ5tEyxzQdMoOhhJ4RD3rngZIdwC2/qDN3d7JpEhB6fiBRKVY1lg5B7Wk+uPBjn5f39j1/2MY1oOw==}\n\n  '@types/react-dom@19.1.9':\n    resolution: {integrity: sha512-qXRuZaOsAdXKFyOhRBg6Lqqc0yay13vN7KrIg4L7N4aaHN68ma9OK3NE1BoDFgFOTfM7zg+3/8+2n8rLUH3OKQ==}\n    peerDependencies:\n      '@types/react': ^19.0.0\n\n  '@types/react-transition-group@4.4.12':\n    resolution: {integrity: sha512-8TV6R3h2j7a91c+1DXdJi3Syo69zzIZbz7Lg5tORM5LEJG7X/E6a1V3drRyBRZq7/utz7A+c4OgYLiLcYGHG6w==}\n    peerDependencies:\n      '@types/react': '*'\n\n  '@types/react@19.1.12':\n    resolution: {integrity: sha512-cMoR+FoAf/Jyq6+Df2/Z41jISvGZZ2eTlnsaJRptmZ76Caldwy1odD4xTr/gNV9VLj0AWgg/nmkevIyUfIIq5w==}\n\n  '@types/trusted-types@2.0.7':\n    resolution: {integrity: sha512-ScaPdn1dQczgbl0QFTeTOmVHFULt394XJgOQNoyVhZ6r2vLnMLJfBPd53SB52T/3G36VI1/g2MZaX0cwDuXsfw==}\n\n  '@vitejs/plugin-react@4.7.0':\n    resolution: {integrity: sha512-gUu9hwfWvvEDBBmgtAowQCojwZmJ5mcLn3aufeCsitijs3+f2NsrPtlAWIR6OPiqljl96GVCUbLe0HyqIpVaoA==}\n    engines: {node: ^14.18.0 || >=16.0.0}\n    peerDependencies:\n      vite: ^4.2.0 || ^5.0.0 || ^6.0.0 || ^7.0.0\n\n  acorn-jsx@5.3.2:\n    resolution: {integrity: sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ==}\n    peerDependencies:\n      acorn: ^6.0.0 || ^7.0.0 || ^8.0.0\n\n  acorn@8.15.0:\n    resolution: {integrity: sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg==}\n    engines: {node: '>=0.4.0'}\n    hasBin: true\n\n  adler-32@1.3.1:\n    resolution: {integrity: sha512-ynZ4w/nUUv5rrsR8UUGoe1VC9hZj6V5hU9Qw1HlMDJGEJw5S7TfTErWTjMys6M7vr0YWcPqs3qAr4ss0nDfP+A==}\n    engines: {node: '>=0.8'}\n\n  ajv@6.12.6:\n    resolution: {integrity: sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==}\n\n  ansi-regex@6.2.2:\n    resolution: {integrity: sha512-Bq3SmSpyFHaWjPk8If9yc6svM8c56dB5BAtW4Qbw5jHTwwXXcTLoRMkpDJp6VL0XzlWaCHTXrkFURMYmD0sLqg==}\n    engines: {node: '>=12'}\n\n  ansi-styles@4.3.0:\n    resolution: {integrity: sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==}\n    engines: {node: '>=8'}\n\n  argparse@2.0.1:\n    resolution: {integrity: sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==}\n\n  asynckit@0.4.0:\n    resolution: {integrity: sha512-Oei9OH4tRh0YqU3GxhX79dM/mwVgvbZJaSNaRk+bshkj0S5cfHcgYakreBjrHwatXKbz+IoIdYLxrKim2MjW0Q==}\n\n  axios@1.11.0:\n    resolution: {integrity: sha512-1Lx3WLFQWm3ooKDYZD1eXmoGO9fxYQjrycfHFC8P0sCfQVXyROp0p9PFWBehewBOdCwHc+f/b8I0fMto5eSfwA==}\n\n  babel-plugin-macros@3.1.0:\n    resolution: {integrity: sha512-Cg7TFGpIr01vOQNODXOOaGz2NpCU5gl8x1qJFbb6hbZxR7XrcE2vtbAsTAbJ7/xwJtUuJEw8K8Zr/AE0LHlesg==}\n    engines: {node: '>=10', npm: '>=6'}\n\n  balanced-match@1.0.2:\n    resolution: {integrity: sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==}\n\n  base64-arraybuffer@1.0.2:\n    resolution: {integrity: sha512-I3yl4r9QB5ZRY3XuJVEPfc2XhZO6YweFPI+UovAzn+8/hb3oJ6lnysaFcjVpkCPfVWFUDvoZ8kmVDP7WyRtYtQ==}\n    engines: {node: '>= 0.6.0'}\n\n  base64-js@1.5.1:\n    resolution: {integrity: sha512-AKpaYlHn8t4SVbOHCy+b5+KKgvR4vrsD8vbvrbiQJps7fKDTkjkDry6ji0rUJjC0kzbNePLwzxq8iypo41qeWA==}\n\n  bl@5.1.0:\n    resolution: {integrity: sha512-tv1ZJHLfTDnXE6tMHv73YgSJaWR2AFuPwMntBe7XL/GBFHnT0CLnsHMogfk5+GzCDC5ZWarSCYaIGATZt9dNsQ==}\n\n  brace-expansion@1.1.12:\n    resolution: {integrity: sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==}\n\n  browserslist@4.25.4:\n    resolution: {integrity: sha512-4jYpcjabC606xJ3kw2QwGEZKX0Aw7sgQdZCvIK9dhVSPh76BKo+C+btT1RRofH7B+8iNpEbgGNVWiLki5q93yg==}\n    engines: {node: ^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7}\n    hasBin: true\n\n  buffer@6.0.3:\n    resolution: {integrity: sha512-FTiCpNxtwiZZHEZbcbTIcZjERVICn9yq/pDFkTl95/AxzD1naBctN7YO68riM/gLSDY7sdrMby8hofADYuuqOA==}\n\n  call-bind-apply-helpers@1.0.2:\n    resolution: {integrity: sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ==}\n    engines: {node: '>= 0.4'}\n\n  callsites@3.1.0:\n    resolution: {integrity: sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==}\n    engines: {node: '>=6'}\n\n  caniuse-lite@1.0.30001741:\n    resolution: {integrity: sha512-QGUGitqsc8ARjLdgAfxETDhRbJ0REsP6O3I96TAth/mVjh2cYzN2u+3AzPP3aVSm2FehEItaJw1xd+IGBXWeSw==}\n\n  canvg@3.0.11:\n    resolution: {integrity: sha512-5ON+q7jCTgMp9cjpu4Jo6XbvfYwSB2Ow3kzHKfIyJfaCAOHLbdKPQqGKgfED/R5B+3TFFfe8pegYA+b423SRyA==}\n    engines: {node: '>=10.0.0'}\n\n  cfb@1.2.2:\n    resolution: {integrity: sha512-KfdUZsSOw19/ObEWasvBP/Ac4reZvAGauZhs6S/gqNhXhI7cKwvlH7ulj+dOEYnca4bm4SGo8C1bTAQvnTjgQA==}\n    engines: {node: '>=0.8'}\n\n  chalk@4.1.2:\n    resolution: {integrity: sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==}\n    engines: {node: '>=10'}\n\n  chalk@5.2.0:\n    resolution: {integrity: sha512-ree3Gqw/nazQAPuJJEy+avdl7QfZMcUvmHIKgEZkGL+xOBzRvup5Hxo6LHuMceSxOabuJLJm5Yp/92R9eMmMvA==}\n    engines: {node: ^12.17.0 || ^14.13 || >=16.0.0}\n\n  chroma-js@3.1.2:\n    resolution: {integrity: sha512-IJnETTalXbsLx1eKEgx19d5L6SRM7cH4vINw/99p/M11HCuXGRWL+6YmCm7FWFGIo6dtWuQoQi1dc5yQ7ESIHg==}\n\n  cli-cursor@4.0.0:\n    resolution: {integrity: sha512-VGtlMu3x/4DOtIUwEkRezxUZ2lBacNJCHash0N0WeZDBS+7Ux1dm3XWAgWYxLJFMMdOeXMHXorshEFhbMSGelg==}\n    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n\n  cli-spinners@2.9.2:\n    resolution: {integrity: sha512-ywqV+5MmyL4E7ybXgKys4DugZbX0FC6LnwrhjuykIjnK9k8OQacQ7axGKnjDXWNhns0xot3bZI5h55H8yo9cJg==}\n    engines: {node: '>=6'}\n\n  clone@1.0.4:\n    resolution: {integrity: sha512-JQHZ2QMW6l3aH/j6xCqQThY/9OH4D/9ls34cgkUBiEeocRTU04tHfKPBsUK1PqZCUQM7GiA0IIXJSuXHI64Kbg==}\n    engines: {node: '>=0.8'}\n\n  clsx@2.1.1:\n    resolution: {integrity: sha512-eYm0QWBtUrBWZWG0d386OGAw16Z995PiOVo2B7bjWSbHedGl5e0ZWaq65kOGgUSNesEIDkB9ISbTg/JK9dhCZA==}\n    engines: {node: '>=6'}\n\n  codepage@1.15.0:\n    resolution: {integrity: sha512-3g6NUTPd/YtuuGrhMnOMRjFc+LJw/bnMp3+0r/Wcz3IXUuCosKRJvMphm5+Q+bvTVGcJJuRvVLuYba+WojaFaA==}\n    engines: {node: '>=0.8'}\n\n  color-convert@2.0.1:\n    resolution: {integrity: sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==}\n    engines: {node: '>=7.0.0'}\n\n  color-name@1.1.4:\n    resolution: {integrity: sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==}\n\n  combined-stream@1.0.8:\n    resolution: {integrity: sha512-FQN4MRfuJeHf7cBbBMJFXhKSDq+2kAArBlmRBvcvFE5BB1HZKXtSFASDhdlz9zOYwxh8lDdnvmMOe/+5cdoEdg==}\n    engines: {node: '>= 0.8'}\n\n  commander@10.0.1:\n    resolution: {integrity: sha512-y4Mg2tXshplEbSGzx7amzPwKKOCGuoSRP/CjEdwwk0FOGlUbq6lKuoyDZTNZkmxHdJtp54hdfY/JUrdL7Xfdug==}\n    engines: {node: '>=14'}\n\n  concat-map@0.0.1:\n    resolution: {integrity: sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==}\n\n  convert-source-map@1.9.0:\n    resolution: {integrity: sha512-ASFBup0Mz1uyiIjANan1jzLQami9z1PoYSZCiiYW2FczPbenXc45FZdBZLzOT+r6+iciuEModtmCti+hjaAk0A==}\n\n  convert-source-map@2.0.0:\n    resolution: {integrity: sha512-Kvp459HrV2FEJ1CAsi1Ku+MY3kasH19TFykTz2xWmMeq6bk2NU3XXvfJ+Q61m0xktWwt+1HSYf3JZsTms3aRJg==}\n\n  cookie@1.0.2:\n    resolution: {integrity: sha512-9Kr/j4O16ISv8zBBhJoi4bXOYNTkFLOqSL3UDB0njXxCXNezjeyVrJyGOWtgfs/q2km1gwBcfH8q1yEGoMYunA==}\n    engines: {node: '>=18'}\n\n  core-js@3.45.1:\n    resolution: {integrity: sha512-L4NPsJlCfZsPeXukyzHFlg/i7IIVwHSItR0wg0FLNqYClJ4MQYTYLbC7EkjKYRLZF2iof2MUgN0EGy7MdQFChg==}\n\n  cosmiconfig@7.1.0:\n    resolution: {integrity: sha512-AdmX6xUzdNASswsFtmwSt7Vj8po9IuqXm0UXz7QKPuEUmPB4XyjGfaAr2PSuELMwkRMVH1EpIkX5bTZGRB3eCA==}\n    engines: {node: '>=10'}\n\n  cra-template@1.2.0:\n    resolution: {integrity: sha512-06WBUmTq79NvqU91Y9OPCXv/ENy/UkUmQS0lBrOYCl/4f4l67idnGbBARDGLopCHfff6pf6UftcFRWHg+CVfRw==}\n    engines: {node: '>=14'}\n\n  crc-32@1.2.2:\n    resolution: {integrity: sha512-ROmzCKrTnOwybPcJApAA6WBWij23HVfGVNKqqrZpuyZOHqK2CwHSvpGuyt/UNNvaIjEd8X5IFGp4Mh+Ie1IHJQ==}\n    engines: {node: '>=0.8'}\n    hasBin: true\n\n  cross-spawn@7.0.6:\n    resolution: {integrity: sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==}\n    engines: {node: '>= 8'}\n\n  css-line-break@2.1.0:\n    resolution: {integrity: sha512-FHcKFCZcAha3LwfVBhCQbW2nCNbkZXn7KVUJcsT5/P8YmfsVja0FMPJr0B903j/E69HUphKiV9iQArX8SDYA4w==}\n\n  csstype@3.1.3:\n    resolution: {integrity: sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw==}\n\n  d3-array@3.2.4:\n    resolution: {integrity: sha512-tdQAmyA18i4J7wprpYq8ClcxZy3SC31QMeByyCFyRt7BVHdREQZ5lpzoe5mFEYZUWe+oq8HBvk9JjpibyEV4Jg==}\n    engines: {node: '>=12'}\n\n  d3-color@3.1.0:\n    resolution: {integrity: sha512-zg/chbXyeBtMQ1LbD/WSoW2DpC3I0mpmPdW+ynRTj/x2DAWYrIY7qeZIHidozwV24m4iavr15lNwIwLxRmOxhA==}\n    engines: {node: '>=12'}\n\n  d3-ease@3.0.1:\n    resolution: {integrity: sha512-wR/XK3D3XcLIZwpbvQwQ5fK+8Ykds1ip7A2Txe0yxncXSdq1L9skcG7blcedkOX+ZcgxGAmLX1FrRGbADwzi0w==}\n    engines: {node: '>=12'}\n\n  d3-format@3.1.0:\n    resolution: {integrity: sha512-YyUI6AEuY/Wpt8KWLgZHsIU86atmikuoOmCfommt0LYHiQSPjvX2AcFc38PX0CBpr2RCyZhjex+NS/LPOv6YqA==}\n    engines: {node: '>=12'}\n\n  d3-interpolate@3.0.1:\n    resolution: {integrity: sha512-3bYs1rOD33uo8aqJfKP3JWPAibgw8Zm2+L9vBKEHJ2Rg+viTR7o5Mmv5mZcieN+FRYaAOWX5SJATX6k1PWz72g==}\n    engines: {node: '>=12'}\n\n  d3-path@3.1.0:\n    resolution: {integrity: sha512-p3KP5HCf/bvjBSSKuXid6Zqijx7wIfNW+J/maPs+iwR35at5JCbLUT0LzF1cnjbCHWhqzQTIN2Jpe8pRebIEFQ==}\n    engines: {node: '>=12'}\n\n  d3-scale@4.0.2:\n    resolution: {integrity: sha512-GZW464g1SH7ag3Y7hXjf8RoUuAFIqklOAq3MRl4OaWabTFJY9PN/E1YklhXLh+OQ3fM9yS2nOkCoS+WLZ6kvxQ==}\n    engines: {node: '>=12'}\n\n  d3-shape@3.2.0:\n    resolution: {integrity: sha512-SaLBuwGm3MOViRq2ABk3eLoxwZELpH6zhl3FbAoJ7Vm1gofKx6El1Ib5z23NUEhF9AsGl7y+dzLe5Cw2AArGTA==}\n    engines: {node: '>=12'}\n\n  d3-time-format@4.1.0:\n    resolution: {integrity: sha512-dJxPBlzC7NugB2PDLwo9Q8JiTR3M3e4/XANkreKSUxF8vvXKqm1Yfq4Q5dl8budlunRVlUUaDUgFt7eA8D6NLg==}\n    engines: {node: '>=12'}\n\n  d3-time@3.1.0:\n    resolution: {integrity: sha512-VqKjzBLejbSMT4IgbmVgDjpkYrNWUYJnbCGo874u7MMKIWsILRX+OpX/gTk8MqjpT1A/c6HY2dCA77ZN0lkQ2Q==}\n    engines: {node: '>=12'}\n\n  d3-timer@3.0.1:\n    resolution: {integrity: sha512-ndfJ/JxxMd3nw31uyKoY2naivF+r29V+Lc0svZxe1JvvIRmi8hUsrMvdOwgS1o6uBHmiz91geQ0ylPP0aj1VUA==}\n    engines: {node: '>=12'}\n\n  data-uri-to-buffer@4.0.1:\n    resolution: {integrity: sha512-0R9ikRb668HB7QDxT1vkpuUBtqc53YyAwMwGeUFKRojY/NWKvdZ+9UYtRfGmhqNbRkTSVpMbmyhXipFFv2cb/A==}\n    engines: {node: '>= 12'}\n\n  date-fns@4.1.0:\n    resolution: {integrity: sha512-Ukq0owbQXxa/U3EGtsdVBkR1w7KOQ5gIBqdH2hkvknzZPYvBxb/aa6E8L7tmjFtkwZBu3UXBbjIgPo/Ez4xaNg==}\n\n  debug@4.3.7:\n    resolution: {integrity: sha512-Er2nc/H7RrMXZBFCEim6TCmMk02Z8vLC2Rbi1KEBggpo0fS6l0S1nnapwmIi3yW/+GOJap1Krg4w0Hg80oCqgQ==}\n    engines: {node: '>=6.0'}\n    peerDependencies:\n      supports-color: '*'\n    peerDependenciesMeta:\n      supports-color:\n        optional: true\n\n  debug@4.4.1:\n    resolution: {integrity: sha512-KcKCqiftBJcZr++7ykoDIEwSa3XWowTfNPo92BYxjXiyYEVrUQh2aLyhxBCwww+heortUFxEJYcRzosstTEBYQ==}\n    engines: {node: '>=6.0'}\n    peerDependencies:\n      supports-color: '*'\n    peerDependenciesMeta:\n      supports-color:\n        optional: true\n\n  decimal.js-light@2.5.1:\n    resolution: {integrity: sha512-qIMFpTMZmny+MMIitAB6D7iVPEorVw6YQRWkvarTkT4tBeSLLiHzcwj6q0MmYSFCiVpiqPJTJEYIrpcPzVEIvg==}\n\n  deep-is@0.1.4:\n    resolution: {integrity: sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ==}\n\n  defaults@1.0.4:\n    resolution: {integrity: sha512-eFuaLoy/Rxalv2kr+lqMlUnrDWV+3j4pljOIJgLIhI058IQfWJ7vXhyEIHu+HtC738klGALYxOKDO0bQP3tg8A==}\n\n  delayed-stream@1.0.0:\n    resolution: {integrity: sha512-ZySD7Nf91aLB0RxL4KGrKHBXl7Eds1DAmEdcoVawXnLD7SDhpNgtuII2aAkg7a7QS41jxPSZ17p4VdGnMHk3MQ==}\n    engines: {node: '>=0.4.0'}\n\n  dom-helpers@5.2.1:\n    resolution: {integrity: sha512-nRCa7CK3VTrM2NmGkIy4cbK7IZlgBE/PYMn55rrXefr5xXDP0LdtfPnblFDoVdcAfslJ7or6iqAUnx0CCGIWQA==}\n\n  dompurify@3.2.6:\n    resolution: {integrity: sha512-/2GogDQlohXPZe6D6NOgQvXLPSYBqIWMnZ8zzOhn09REE4eyAzb+Hed3jhoM9OkuaJ8P6ZGTTVWQKAi8ieIzfQ==}\n\n  dunder-proto@1.0.1:\n    resolution: {integrity: sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A==}\n    engines: {node: '>= 0.4'}\n\n  electron-to-chromium@1.5.215:\n    resolution: {integrity: sha512-TIvGp57UpeNetj/wV/xpFNpWGb0b/ROw372lHPx5Aafx02gjTBtWnEEcaSX3W2dLM3OSdGGyHX/cHl01JQsLaQ==}\n\n  engine.io-client@6.6.3:\n    resolution: {integrity: sha512-T0iLjnyNWahNyv/lcjS2y4oE358tVS/SYQNxYXGAJ9/GLgH4VCvOQ/mhTjqU88mLZCQgiG8RIegFHYCdVC+j5w==}\n\n  engine.io-parser@5.2.3:\n    resolution: {integrity: sha512-HqD3yTBfnBxIrbnM1DoD6Pcq8NECnh8d4As1Qgh0z5Gg3jRRIqijury0CL3ghu/edArpUYiYqQiDUQBIs4np3Q==}\n    engines: {node: '>=10.0.0'}\n\n  error-ex@1.3.2:\n    resolution: {integrity: sha512-7dFHNmqeFSEt2ZBsCriorKnn3Z2pj+fd9kmI6QoWw4//DL+icEBfc0U7qJCisqrTsKTjw4fNFy2pW9OqStD84g==}\n\n  es-define-property@1.0.1:\n    resolution: {integrity: sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==}\n    engines: {node: '>= 0.4'}\n\n  es-errors@1.3.0:\n    resolution: {integrity: sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==}\n    engines: {node: '>= 0.4'}\n\n  es-object-atoms@1.1.1:\n    resolution: {integrity: sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==}\n    engines: {node: '>= 0.4'}\n\n  es-set-tostringtag@2.1.0:\n    resolution: {integrity: sha512-j6vWzfrGVfyXxge+O0x5sh6cvxAog0a/4Rdd2K36zCMV5eJ+/+tOAngRO8cODMNWbVRdVlmGZQL2YS3yR8bIUA==}\n    engines: {node: '>= 0.4'}\n\n  es6-promise@4.2.8:\n    resolution: {integrity: sha512-HJDGx5daxeIvxdBxvG2cb9g4tEvwIk3i8+nhX0yGrYmZUzbkdg8QbDevheDB8gd0//uPj4c1EQua8Q+MViT0/w==}\n\n  esbuild@0.25.9:\n    resolution: {integrity: sha512-CRbODhYyQx3qp7ZEwzxOk4JBqmD/seJrzPa/cGjY1VtIn5E09Oi9/dB4JwctnfZ8Q8iT7rioVv5k/FNT/uf54g==}\n    engines: {node: '>=18'}\n    hasBin: true\n\n  escalade@3.2.0:\n    resolution: {integrity: sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==}\n    engines: {node: '>=6'}\n\n  escape-string-regexp@4.0.0:\n    resolution: {integrity: sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==}\n    engines: {node: '>=10'}\n\n  eslint-plugin-react-hooks@5.2.0:\n    resolution: {integrity: sha512-+f15FfK64YQwZdJNELETdn5ibXEUQmW1DZL6KXhNnc2heoy/sg9VJJeT7n8TlMWouzWqSWavFkIhHyIbIAEapg==}\n    engines: {node: '>=10'}\n    peerDependencies:\n      eslint: ^3.0.0 || ^4.0.0 || ^5.0.0 || ^6.0.0 || ^7.0.0 || ^8.0.0-0 || ^9.0.0\n\n  eslint-plugin-react-refresh@0.4.20:\n    resolution: {integrity: sha512-XpbHQ2q5gUF8BGOX4dHe+71qoirYMhApEPZ7sfhF/dNnOF1UXnCMGZf79SFTBO7Bz5YEIT4TMieSlJBWhP9WBA==}\n    peerDependencies:\n      eslint: '>=8.40'\n\n  eslint-scope@8.4.0:\n    resolution: {integrity: sha512-sNXOfKCn74rt8RICKMvJS7XKV/Xk9kA7DyJr8mJik3S7Cwgy3qlkkmyS2uQB3jiJg6VNdZd/pDBJu0nvG2NlTg==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  eslint-visitor-keys@3.4.3:\n    resolution: {integrity: sha512-wpc+LXeiyiisxPlEkUzU6svyS1frIO3Mgxj1fdy7Pm8Ygzguax2N3Fa/D/ag1WqbOprdI+uY6wMUl8/a2G+iag==}\n    engines: {node: ^12.22.0 || ^14.17.0 || >=16.0.0}\n\n  eslint-visitor-keys@4.2.1:\n    resolution: {integrity: sha512-Uhdk5sfqcee/9H/rCOJikYz67o0a2Tw2hGRPOG2Y1R2dg7brRe1uG0yaNQDHu+TO/uQPF/5eCapvYSmHUjt7JQ==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  eslint@9.35.0:\n    resolution: {integrity: sha512-QePbBFMJFjgmlE+cXAlbHZbHpdFVS2E/6vzCy7aKlebddvl1vadiC4JFV5u/wqTkNUwEV8WrQi257jf5f06hrg==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n    hasBin: true\n    peerDependencies:\n      jiti: '*'\n    peerDependenciesMeta:\n      jiti:\n        optional: true\n\n  espree@10.4.0:\n    resolution: {integrity: sha512-j6PAQ2uUr79PZhBjP5C5fhl8e39FmRnOjsD5lGnWrFU8i2G776tBK7+nP8KuQUTTyAZUwfQqXAgrVH5MbH9CYQ==}\n    engines: {node: ^18.18.0 || ^20.9.0 || >=21.1.0}\n\n  esquery@1.6.0:\n    resolution: {integrity: sha512-ca9pw9fomFcKPvFLXhBKUK90ZvGibiGOvRJNbjljY7s7uq/5YO4BOzcYtJqExdx99rF6aAcnRxHmcUHcz6sQsg==}\n    engines: {node: '>=0.10'}\n\n  esrecurse@4.3.0:\n    resolution: {integrity: sha512-KmfKL3b6G+RXvP8N1vr3Tq1kL/oCFgn2NYXEtqP8/L3pKapUA4G8cFVaoF3SU323CD4XypR/ffioHmkti6/Tag==}\n    engines: {node: '>=4.0'}\n\n  estraverse@5.3.0:\n    resolution: {integrity: sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==}\n    engines: {node: '>=4.0'}\n\n  esutils@2.0.3:\n    resolution: {integrity: sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==}\n    engines: {node: '>=0.10.0'}\n\n  eventemitter3@4.0.7:\n    resolution: {integrity: sha512-8guHBZCwKnFhYdHr2ysuRWErTwhoN2X8XELRlrRwpmfeY2jjuUN4taQMsULKUVo1K4DvZl+0pgfyoysHxvmvEw==}\n\n  execa@7.2.0:\n    resolution: {integrity: sha512-UduyVP7TLB5IcAQl+OzLyLcS/l32W/GLg+AhHJ+ow40FOk2U3SAllPwR44v4vmdFwIWqpdwxxpQbF1n5ta9seA==}\n    engines: {node: ^14.18.0 || ^16.14.0 || >=18.0.0}\n\n  fast-deep-equal@3.1.3:\n    resolution: {integrity: sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==}\n\n  fast-equals@5.2.2:\n    resolution: {integrity: sha512-V7/RktU11J3I36Nwq2JnZEM7tNm17eBJz+u25qdxBZeCKiX6BkVSZQjwWIr+IobgnZy+ag73tTZgZi7tr0LrBw==}\n    engines: {node: '>=6.0.0'}\n\n  fast-json-stable-stringify@2.1.0:\n    resolution: {integrity: sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==}\n\n  fast-levenshtein@2.0.6:\n    resolution: {integrity: sha512-DCXu6Ifhqcks7TZKY3Hxp3y6qphY5SJZmrWMDrKcERSOXWQdMhU9Ig/PYrzyw/ul9jOIyh0N4M0tbC5hodg8dw==}\n\n  fast-png@6.4.0:\n    resolution: {integrity: sha512-kAqZq1TlgBjZcLr5mcN6NP5Rv4V2f22z00c3g8vRrwkcqjerx7BEhPbOnWCPqaHUl2XWQBJQvOT/FQhdMT7X/Q==}\n\n  fdir@6.5.0:\n    resolution: {integrity: sha512-tIbYtZbucOs0BRGqPJkshJUYdL+SDH7dVM8gjy+ERp3WAUjLEFJE+02kanyHtwjWOnwrKYBiwAmM0p4kLJAnXg==}\n    engines: {node: '>=12.0.0'}\n    peerDependencies:\n      picomatch: ^3 || ^4\n    peerDependenciesMeta:\n      picomatch:\n        optional: true\n\n  fetch-blob@3.2.0:\n    resolution: {integrity: sha512-7yAQpD2UMJzLi1Dqv7qFYnPbaPx7ZfFK6PiIxQ4PfkGPyNyl2Ugx+a/umUonmKqjhM4DnfbMvdX6otXq83soQQ==}\n    engines: {node: ^12.20 || >= 14.13}\n\n  fflate@0.8.2:\n    resolution: {integrity: sha512-cPJU47OaAoCbg0pBvzsgpTPhmhqI5eJjh/JIu8tPj5q+T7iLvW/JAYUqmE7KOB4R1ZyEhzBaIQpQpardBF5z8A==}\n\n  file-entry-cache@8.0.0:\n    resolution: {integrity: sha512-XXTUwCvisa5oacNGRP9SfNtYBNAMi+RPwBFmblZEF7N7swHYQS6/Zfk7SRwx4D5j3CH211YNRco1DEMNVfZCnQ==}\n    engines: {node: '>=16.0.0'}\n\n  find-root@1.1.0:\n    resolution: {integrity: sha512-NKfW6bec6GfKc0SGx1e07QZY9PE99u0Bft/0rzSD5k3sO/vwkVUpDUKVm5Gpp5Ue3YfShPFTX2070tDs5kB9Ng==}\n\n  find-up@5.0.0:\n    resolution: {integrity: sha512-78/PXT1wlLLDgTzDs7sjq9hzz0vXD+zn+7wypEe4fXQxCmdmqfGsEPQxmiCSQI3ajFV91bVSsvNtrJRiW6nGng==}\n    engines: {node: '>=10'}\n\n  flat-cache@4.0.1:\n    resolution: {integrity: sha512-f7ccFPK3SXFHpx15UIGyRJ/FJQctuKZ0zVuN3frBo4HnK3cay9VEW0R6yPYFHC0AgqhukPzKjq22t5DmAyqGyw==}\n    engines: {node: '>=16'}\n\n  flatted@3.3.3:\n    resolution: {integrity: sha512-GX+ysw4PBCz0PzosHDepZGANEuFCMLrnRTiEy9McGjmkCQYwRq4A/X786G/fjM/+OjsWSU1ZrY5qyARZmO/uwg==}\n\n  follow-redirects@1.15.11:\n    resolution: {integrity: sha512-deG2P0JfjrTxl50XGCDyfI97ZGVCxIpfKYmfyrQ54n5FO/0gfIES8C/Psl6kWVDolizcaaxZJnTS0QSMxvnsBQ==}\n    engines: {node: '>=4.0'}\n    peerDependencies:\n      debug: '*'\n    peerDependenciesMeta:\n      debug:\n        optional: true\n\n  form-data@4.0.4:\n    resolution: {integrity: sha512-KrGhL9Q4zjj0kiUt5OO4Mr/A/jlI2jDYs5eHBpYHPcBEVSiipAvn2Ko2HnPe20rmcuuvMHNdZFp+4IlGTMF0Ow==}\n    engines: {node: '>= 6'}\n\n  formdata-polyfill@4.0.10:\n    resolution: {integrity: sha512-buewHzMvYL29jdeQTVILecSaZKnt/RJWjoZCF5OW60Z67/GmSLBkOFM7qh1PI3zFNtJbaZL5eQu1vLfazOwj4g==}\n    engines: {node: '>=12.20.0'}\n\n  frac@1.1.2:\n    resolution: {integrity: sha512-w/XBfkibaTl3YDqASwfDUqkna4Z2p9cFSr1aHDt0WoMTECnRfBOv2WArlZILlqgWlmdIlALXGpM2AOhEk5W3IA==}\n    engines: {node: '>=0.8'}\n\n  fs-extra@11.3.1:\n    resolution: {integrity: sha512-eXvGGwZ5CL17ZSwHWd3bbgk7UUpF6IFHtP57NYYakPvHOs8GDgDe5KJI36jIJzDkJ6eJjuzRA8eBQb6SkKue0g==}\n    engines: {node: '>=14.14'}\n\n  fsevents@2.3.3:\n    resolution: {integrity: sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==}\n    engines: {node: ^8.16.0 || ^10.6.0 || >=11.0.0}\n    os: [darwin]\n\n  function-bind@1.1.2:\n    resolution: {integrity: sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==}\n\n  gensync@1.0.0-beta.2:\n    resolution: {integrity: sha512-3hN7NaskYvMDLQY55gnW3NQ+mesEAepTqlg+VEbj7zzqEMBVNhzcGYYeqFo/TlYz6eQiFcp1HcsCZO+nGgS8zg==}\n    engines: {node: '>=6.9.0'}\n\n  get-intrinsic@1.3.0:\n    resolution: {integrity: sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ==}\n    engines: {node: '>= 0.4'}\n\n  get-proto@1.0.1:\n    resolution: {integrity: sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g==}\n    engines: {node: '>= 0.4'}\n\n  get-stream@6.0.1:\n    resolution: {integrity: sha512-ts6Wi+2j3jQjqi70w5AlN8DFnkSwC+MqmxEzdEALB2qXZYV3X/b1CTfgPLGJNMeAWxdPfU8FO1ms3NUfaHCPYg==}\n    engines: {node: '>=10'}\n\n  glob-parent@6.0.2:\n    resolution: {integrity: sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==}\n    engines: {node: '>=10.13.0'}\n\n  globals@14.0.0:\n    resolution: {integrity: sha512-oahGvuMGQlPw/ivIYBjVSrWAfWLBeku5tpPE2fOPLi+WHffIWbuh2tCjhyQhTBPMf5E9jDEH4FOmTYgYwbKwtQ==}\n    engines: {node: '>=18'}\n\n  globals@15.15.0:\n    resolution: {integrity: sha512-7ACyT3wmyp3I61S4fG682L0VA2RGD9otkqGJIwNUMF1SWUombIIk+af1unuDYgMm082aHYwD+mzJvv9Iu8dsgg==}\n    engines: {node: '>=18'}\n\n  gopd@1.2.0:\n    resolution: {integrity: sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==}\n    engines: {node: '>= 0.4'}\n\n  graceful-fs@4.2.11:\n    resolution: {integrity: sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==}\n\n  has-flag@4.0.0:\n    resolution: {integrity: sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==}\n    engines: {node: '>=8'}\n\n  has-symbols@1.1.0:\n    resolution: {integrity: sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ==}\n    engines: {node: '>= 0.4'}\n\n  has-tostringtag@1.0.2:\n    resolution: {integrity: sha512-NqADB8VjPFLM2V0VvHUewwwsw0ZWBaIdgo+ieHtK3hasLz4qeCRjYcqfB6AQrBggRKppKF8L52/VqdVsO47Dlw==}\n    engines: {node: '>= 0.4'}\n\n  hasown@2.0.2:\n    resolution: {integrity: sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==}\n    engines: {node: '>= 0.4'}\n\n  hoist-non-react-statics@3.3.2:\n    resolution: {integrity: sha512-/gGivxi8JPKWNm/W0jSmzcMPpfpPLc3dY/6GxhX2hQ9iGj3aDfklV4ET7NjKpSinLpJ5vafa9iiGIEZg10SfBw==}\n\n  html2canvas@1.4.1:\n    resolution: {integrity: sha512-fPU6BHNpsyIhr8yyMpTLLxAbkaK8ArIBcmZIRiBLiDhjeqvXolaEmDGmELFuX9I4xDcaKKcJl+TKZLqruBbmWA==}\n    engines: {node: '>=8.0.0'}\n\n  html2pdf.js@0.10.3:\n    resolution: {integrity: sha512-RcB1sh8rs5NT3jgbN5zvvTmkmZrsUrxpZ/RI8TMbvuReNZAdJZG5TMfA2TBP6ZXxpXlWf9NB/ciLXVb6W2LbRQ==}\n\n  human-signals@4.3.1:\n    resolution: {integrity: sha512-nZXjEF2nbo7lIw3mgYjItAfgQXog3OjJogSbKa2CQIIvSGWcKgeJnQlNXip6NglNzYH45nSRiEVimMvYL8DDqQ==}\n    engines: {node: '>=14.18.0'}\n\n  ieee754@1.2.1:\n    resolution: {integrity: sha512-dcyqhDvX1C46lXZcVqCpK+FtMRQVdIMN6/Df5js2zouUsqG7I6sFxitIC+7KYK29KdXOLHdu9zL4sFnoVQnqaA==}\n\n  ignore@5.3.2:\n    resolution: {integrity: sha512-hsBTNUqQTDwkWtcdYI2i06Y/nUBEsNEDJKjWdigLvegy8kDuJAS8uRlpkkcQpyEXL0Z/pjDy5HBmMjRCJ2gq+g==}\n    engines: {node: '>= 4'}\n\n  import-fresh@3.3.1:\n    resolution: {integrity: sha512-TR3KfrTZTYLPB6jUjfx6MF9WcWrHL9su5TObK4ZkYgBdWKPOFoSoQIdEuTuR82pmtxH2spWG9h6etwfr1pLBqQ==}\n    engines: {node: '>=6'}\n\n  imurmurhash@0.1.4:\n    resolution: {integrity: sha512-JmXMZ6wuvDmLiHEml9ykzqO6lwFbof0GG4IkcGaENdCRDDmMVnny7s5HsIgHCbaq0w2MyPhDqkhTUgS2LU2PHA==}\n    engines: {node: '>=0.8.19'}\n\n  inherits@2.0.4:\n    resolution: {integrity: sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==}\n\n  internmap@2.0.3:\n    resolution: {integrity: sha512-5Hh7Y1wQbvY5ooGgPbDaL5iYLAPzMTUrjMulskHLH6wnv/A+1q5rgEaiuqEjB+oxGXIVZs1FF+R/KPN3ZSQYYg==}\n    engines: {node: '>=12'}\n\n  iobuffer@5.4.0:\n    resolution: {integrity: sha512-DRebOWuqDvxunfkNJAlc3IzWIPD5xVxwUNbHr7xKB8E6aLJxIPfNX3CoMJghcFjpv6RWQsrcJbghtEwSPoJqMA==}\n\n  is-arrayish@0.2.1:\n    resolution: {integrity: sha512-zz06S8t0ozoDXMG+ube26zeCTNXcKIPJZJi8hBrF4idCLms4CG9QtK7qBl1boi5ODzFpjswb5JPmHCbMpjaYzg==}\n\n  is-core-module@2.16.1:\n    resolution: {integrity: sha512-UfoeMA6fIJ8wTYFEUjelnaGI67v6+N7qXJEvQuIGa99l4xsCruSYOVSQ0uPANn4dAzm8lkYPaKLrrijLq7x23w==}\n    engines: {node: '>= 0.4'}\n\n  is-extglob@2.1.1:\n    resolution: {integrity: sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==}\n    engines: {node: '>=0.10.0'}\n\n  is-glob@4.0.3:\n    resolution: {integrity: sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==}\n    engines: {node: '>=0.10.0'}\n\n  is-interactive@2.0.0:\n    resolution: {integrity: sha512-qP1vozQRI+BMOPcjFzrjXuQvdak2pHNUMZoeG2eRbiSqyvbEf/wQtEOTOX1guk6E3t36RkaqiSt8A/6YElNxLQ==}\n    engines: {node: '>=12'}\n\n  is-stream@3.0.0:\n    resolution: {integrity: sha512-LnQR4bZ9IADDRSkvpqMGvt/tEJWclzklNgSw48V5EAaAeDd6qGvN8ei6k5p0tvxSR171VmGyHuTiAOfxAbr8kA==}\n    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n\n  is-unicode-supported@1.3.0:\n    resolution: {integrity: sha512-43r2mRvz+8JRIKnWJ+3j8JtjRKZ6GmjzfaE/qiBJnikNnYv/6bagRJ1kUhNk8R5EX/GkobD+r+sfxCPJsiKBLQ==}\n    engines: {node: '>=12'}\n\n  isexe@2.0.0:\n    resolution: {integrity: sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==}\n\n  js-tokens@4.0.0:\n    resolution: {integrity: sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==}\n\n  js-yaml@4.1.0:\n    resolution: {integrity: sha512-wpxZs9NoxZaJESJGIZTyDEaYpl0FKSA+FB9aJiyemKhMwkxQg63h4T1KJgUGHpTqPDNRcmmYLugrRjJlBtWvRA==}\n    hasBin: true\n\n  jsesc@3.1.0:\n    resolution: {integrity: sha512-/sM3dO2FOzXjKQhJuo0Q173wf2KOo8t4I8vHy6lF9poUp7bKT0/NHE8fPX23PwfhnykfqnC2xRxOnVw5XuGIaA==}\n    engines: {node: '>=6'}\n    hasBin: true\n\n  json-buffer@3.0.1:\n    resolution: {integrity: sha512-4bV5BfR2mqfQTJm+V5tPPdf+ZpuhiIvTuAB5g8kcrXOZpTT/QwwVRWBywX1ozr6lEuPdbHxwaJlm9G6mI2sfSQ==}\n\n  json-parse-even-better-errors@2.3.1:\n    resolution: {integrity: sha512-xyFwyhro/JEof6Ghe2iz2NcXoj2sloNsWr/XsERDK/oiPCfaNhl5ONfp+jQdAZRQQ0IJWNzH9zIZF7li91kh2w==}\n\n  json-schema-traverse@0.4.1:\n    resolution: {integrity: sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==}\n\n  json-stable-stringify-without-jsonify@1.0.1:\n    resolution: {integrity: sha512-Bdboy+l7tA3OGW6FjyFHWkP5LuByj1Tk33Ljyq0axyzdk9//JSi2u3fP1QSmd1KNwq6VOKYGlAu87CisVir6Pw==}\n\n  json5@2.2.3:\n    resolution: {integrity: sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==}\n    engines: {node: '>=6'}\n    hasBin: true\n\n  jsonfile@6.2.0:\n    resolution: {integrity: sha512-FGuPw30AdOIUTRMC2OMRtQV+jkVj2cfPqSeWXv1NEAJ1qZ5zb1X6z1mFhbfOB/iy3ssJCD+3KuZ8r8C3uVFlAg==}\n\n  jspdf@3.0.2:\n    resolution: {integrity: sha512-G0fQDJ5fAm6UW78HG6lNXyq09l0PrA1rpNY5i+ly17Zb1fMMFSmS+3lw4cnrAPGyouv2Y0ylujbY2Ieq3DSlKA==}\n\n  jwt-decode@4.0.0:\n    resolution: {integrity: sha512-+KJGIyHgkGuIq3IEBNftfhW/LfWhXUIY6OmyVWjliu5KH1y0fw7VQ8YndE2O4qZdMSd9SqbnC8GOcZEy0Om7sA==}\n    engines: {node: '>=18'}\n\n  keyv@4.5.4:\n    resolution: {integrity: sha512-oxVHkHR/EJf2CNXnWxRLW6mg7JyCCUcG0DtEGmL2ctUo1PNTin1PUil+r/+4r5MpVgC/fn1kjsx7mjSujKqIpw==}\n\n  kleur@3.0.3:\n    resolution: {integrity: sha512-eTIzlVOSUR+JxdDFepEYcBMtZ9Qqdef+rnzWdRZuMbOywu5tO2w2N7rqjoANZ5k9vywhL6Br1VRjUIgTQx4E8w==}\n    engines: {node: '>=6'}\n\n  levn@0.4.1:\n    resolution: {integrity: sha512-+bT2uH4E5LGE7h/n3evcS/sQlJXCpIp6ym8OWJ5eV6+67Dsql/LaaT7qJBAt2rzfoa/5QBGBhxDix1dMt2kQKQ==}\n    engines: {node: '>= 0.8.0'}\n\n  lines-and-columns@1.2.4:\n    resolution: {integrity: sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==}\n\n  locate-path@6.0.0:\n    resolution: {integrity: sha512-iPZK6eYjbxRu3uB4/WZ3EsEIMJFMqAoopl3R+zuq0UjcAm/MO6KCweDgPfP3elTztoKP3KtnVHxTn2NHBSDVUw==}\n    engines: {node: '>=10'}\n\n  lodash.merge@4.6.2:\n    resolution: {integrity: sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==}\n\n  lodash@4.17.21:\n    resolution: {integrity: sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==}\n\n  log-symbols@5.1.0:\n    resolution: {integrity: sha512-l0x2DvrW294C9uDCoQe1VSU4gf529FkSZ6leBl4TiqZH/e+0R7hSfHQBNut2mNygDgHwvYHfFLn6Oxb3VWj2rA==}\n    engines: {node: '>=12'}\n\n  loose-envify@1.4.0:\n    resolution: {integrity: sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==}\n    hasBin: true\n\n  lru-cache@5.1.1:\n    resolution: {integrity: sha512-KpNARQA3Iwv+jTA0utUVVbrh+Jlrr1Fv0e56GGzAFOXN7dk/FviaDW8LHmK52DlcH4WP2n6gI8vN1aesBFgo9w==}\n\n  lucide-react@0.475.0:\n    resolution: {integrity: sha512-NJzvVu1HwFVeZ+Gwq2q00KygM1aBhy/ZrhY9FsAgJtpB+E4R7uxRk9M2iKvHa6/vNxZydIB59htha4c2vvwvVg==}\n    peerDependencies:\n      react: ^16.5.1 || ^17.0.0 || ^18.0.0 || ^19.0.0\n\n  math-intrinsics@1.1.0:\n    resolution: {integrity: sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g==}\n    engines: {node: '>= 0.4'}\n\n  memoize-one@6.0.0:\n    resolution: {integrity: sha512-rkpe71W0N0c0Xz6QD0eJETuWAJGnJ9afsl1srmwPrI+yBCkge5EycXXbYRyvL29zZVUWQCY7InPRCv3GDXuZNw==}\n\n  merge-stream@2.0.0:\n    resolution: {integrity: sha512-abv/qOcuPfk3URPfDzmZU1LKmuw8kT+0nIHvKrKgFrwifol/doWcdA4ZqsWQ8ENrFKkd67Mfpo/LovbIUsbt3w==}\n\n  mime-db@1.52.0:\n    resolution: {integrity: sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==}\n    engines: {node: '>= 0.6'}\n\n  mime-types@2.1.35:\n    resolution: {integrity: sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==}\n    engines: {node: '>= 0.6'}\n\n  mimic-fn@2.1.0:\n    resolution: {integrity: sha512-OqbOk5oEQeAZ8WXWydlu9HJjz9WVdEIvamMCcXmuqUYjTknH/sqsWvhQ3vgwKFRR1HpjvNBKQ37nbJgYzGqGcg==}\n    engines: {node: '>=6'}\n\n  mimic-fn@4.0.0:\n    resolution: {integrity: sha512-vqiC06CuhBTUdZH+RYl8sFrL096vA45Ok5ISO6sE/Mr1jRbGH4Csnhi8f3wKVl7x8mO4Au7Ir9D3Oyv1VYMFJw==}\n    engines: {node: '>=12'}\n\n  minimatch@3.1.2:\n    resolution: {integrity: sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==}\n\n  ms@2.1.3:\n    resolution: {integrity: sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==}\n\n  nanoid@3.3.11:\n    resolution: {integrity: sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==}\n    engines: {node: ^10 || ^12 || ^13.7 || ^14 || >=15.0.1}\n    hasBin: true\n\n  natural-compare@1.4.0:\n    resolution: {integrity: sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==}\n\n  node-domexception@1.0.0:\n    resolution: {integrity: sha512-/jKZoMpw0F8GRwl4/eLROPA3cfcXtLApP0QzLmUT/HuPCZWyB7IY9ZrMeKw2O/nFIqPQB3PVM9aYm0F312AXDQ==}\n    engines: {node: '>=10.5.0'}\n    deprecated: Use your platform's native DOMException instead\n\n  node-fetch@3.3.2:\n    resolution: {integrity: sha512-dRB78srN/l6gqWulah9SrxeYnxeddIG30+GOqK/9OlLVyLg3HPnr6SqOWTWOXKRwC2eGYCkZ59NNuSgvSrpgOA==}\n    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n\n  node-releases@2.0.20:\n    resolution: {integrity: sha512-7gK6zSXEH6neM212JgfYFXe+GmZQM+fia5SsusuBIUgnPheLFBmIPhtFoAQRj8/7wASYQnbDlHPVwY0BefoFgA==}\n\n  npm-run-path@5.3.0:\n    resolution: {integrity: sha512-ppwTtiJZq0O/ai0z7yfudtBpWIoxM8yE6nHi1X47eFR2EWORqfbu6CnPlNsjeN683eT0qG6H/Pyf9fCcvjnnnQ==}\n    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n\n  object-assign@4.1.1:\n    resolution: {integrity: sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==}\n    engines: {node: '>=0.10.0'}\n\n  onetime@5.1.2:\n    resolution: {integrity: sha512-kbpaSSGJTWdAY5KPVeMOKXSrPtr8C8C7wodJbcsd51jRnmD+GZu8Y0VoU6Dm5Z4vWr0Ig/1NKuWRKf7j5aaYSg==}\n    engines: {node: '>=6'}\n\n  onetime@6.0.0:\n    resolution: {integrity: sha512-1FlR+gjXK7X+AsAHso35MnyN5KqGwJRi/31ft6x0M194ht7S+rWAvd7PHss9xSKMzE0asv1pyIHaJYq+BbacAQ==}\n    engines: {node: '>=12'}\n\n  optionator@0.9.4:\n    resolution: {integrity: sha512-6IpQ7mKUxRcZNLIObR0hz7lxsapSSIYNZJwXPGeF0mTVqGKFIXj1DQcMoT22S3ROcLyY/rz0PWaWZ9ayWmad9g==}\n    engines: {node: '>= 0.8.0'}\n\n  ora@6.3.1:\n    resolution: {integrity: sha512-ERAyNnZOfqM+Ao3RAvIXkYh5joP220yf59gVe2X/cI6SiCxIdi4c9HZKZD8R6q/RDXEje1THBju6iExiSsgJaQ==}\n    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n\n  p-limit@3.1.0:\n    resolution: {integrity: sha512-TYOanM3wGwNGsZN2cVTYPArw454xnXj5qmWF1bEoAc4+cU/ol7GVh7odevjp1FNHduHc3KZMcFduxU5Xc6uJRQ==}\n    engines: {node: '>=10'}\n\n  p-locate@5.0.0:\n    resolution: {integrity: sha512-LaNjtRWUBY++zB5nE/NwcaoMylSPk+S+ZHNB1TzdbMJMny6dynpAGt7X/tl/QYq3TIeE6nxHppbo2LGymrG5Pw==}\n    engines: {node: '>=10'}\n\n  pako@2.1.0:\n    resolution: {integrity: sha512-w+eufiZ1WuJYgPXbV/PO3NCMEc3xqylkKHzp8bxp1uW4qaSNQUkwmLLEc3kKsfz8lpV1F8Ht3U1Cm+9Srog2ug==}\n\n  parent-module@1.0.1:\n    resolution: {integrity: sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g==}\n    engines: {node: '>=6'}\n\n  parse-json@5.2.0:\n    resolution: {integrity: sha512-ayCKvm/phCGxOkYRSCM82iDwct8/EonSEgCSxWxD7ve6jHggsFl4fZVQBPRNgQoKiuV/odhFrGzQXZwbifC8Rg==}\n    engines: {node: '>=8'}\n\n  path-exists@4.0.0:\n    resolution: {integrity: sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==}\n    engines: {node: '>=8'}\n\n  path-key@3.1.1:\n    resolution: {integrity: sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==}\n    engines: {node: '>=8'}\n\n  path-key@4.0.0:\n    resolution: {integrity: sha512-haREypq7xkM7ErfgIyA0z+Bj4AGKlMSdlQE2jvJo6huWD1EdkKYV+G/T4nq0YEF2vgTT8kqMFKo1uHn950r4SQ==}\n    engines: {node: '>=12'}\n\n  path-parse@1.0.7:\n    resolution: {integrity: sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==}\n\n  path-type@4.0.0:\n    resolution: {integrity: sha512-gDKb8aZMDeD/tZWs9P6+q0J9Mwkdl6xMV8TjnGP3qJVJ06bdMgkbBlLU8IdfOsIsFz2BW1rNVT3XuNEl8zPAvw==}\n    engines: {node: '>=8'}\n\n  performance-now@2.1.0:\n    resolution: {integrity: sha512-7EAHlyLHI56VEIdK57uwHdHKIaAGbnXPiw0yWbarQZOKaKpvUIgW0jWRVLiatnM+XXlSwsanIBH/hzGMJulMow==}\n\n  picocolors@1.1.1:\n    resolution: {integrity: sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==}\n\n  picomatch@4.0.3:\n    resolution: {integrity: sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q==}\n    engines: {node: '>=12'}\n\n  postcss@8.5.6:\n    resolution: {integrity: sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==}\n    engines: {node: ^10 || ^12 || >=14}\n\n  prelude-ls@1.2.1:\n    resolution: {integrity: sha512-vkcDPrRZo1QZLbn5RLGPpg/WmIQ65qoWWhcGKf/b5eplkkarX0m9z8ppCat4mlOqUsWpyNuYgO3VRyrYHSzX5g==}\n    engines: {node: '>= 0.8.0'}\n\n  prompts@2.4.2:\n    resolution: {integrity: sha512-NxNv/kLguCA7p3jE8oL2aEBsrJWgAakBpgmgK6lpPWV+WuOmY6r2/zbAVnP+T8bQlA0nzHXSJSJW0Hq7ylaD2Q==}\n    engines: {node: '>= 6'}\n\n  prop-types@15.8.1:\n    resolution: {integrity: sha512-oj87CgZICdulUohogVAR7AjlC0327U4el4L6eAvOqCeudMDVU0NThNaV+b9Df4dXgSP1gXMTnPdhfe/2qDH5cg==}\n\n  proxy-from-env@1.1.0:\n    resolution: {integrity: sha512-D+zkORCbA9f1tdWRK0RaCR3GPv50cMxcrz4X8k5LTSUD1Dkw47mKJEZQNunItRTkWwgtaUSo1RVFRIG9ZXiFYg==}\n\n  punycode@2.3.1:\n    resolution: {integrity: sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg==}\n    engines: {node: '>=6'}\n\n  raf@3.4.1:\n    resolution: {integrity: sha512-Sq4CW4QhwOHE8ucn6J34MqtZCeWFP2aQSmrlroYgqAV1PjStIhJXxYuTgUIfkEk7zTLjmIjLmU5q+fbD1NnOJA==}\n\n  react-dom@19.1.1:\n    resolution: {integrity: sha512-Dlq/5LAZgF0Gaz6yiqZCf6VCcZs1ghAJyrsu84Q/GT0gV+mCxbfmKNoGRKBYMJ8IEdGPqu49YWXD02GCknEDkw==}\n    peerDependencies:\n      react: ^19.1.1\n\n  react-is@16.13.1:\n    resolution: {integrity: sha512-24e6ynE2H+OKt4kqsOvNd8kBpV65zoxbA4BVsEOB3ARVWQki/DHzaUoC5KuON/BiccDaCCTZBuOcfZs70kR8bQ==}\n\n  react-is@18.3.1:\n    resolution: {integrity: sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==}\n\n  react-is@19.1.1:\n    resolution: {integrity: sha512-tr41fA15Vn8p4X9ntI+yCyeGSf1TlYaY5vlTZfQmeLBrFo3psOPX6HhTDnFNL9uj3EhP0KAQ80cugCl4b4BERA==}\n\n  react-refresh@0.17.0:\n    resolution: {integrity: sha512-z6F7K9bV85EfseRCp2bzrpyQ0Gkw1uLoCel9XBVWPg/TjRj94SkJzUTGfOa4bs7iJvBWtQG0Wq7wnI0syw3EBQ==}\n    engines: {node: '>=0.10.0'}\n\n  react-router-dom@7.8.2:\n    resolution: {integrity: sha512-Z4VM5mKDipal2jQ385H6UBhiiEDlnJPx6jyWsTYoZQdl5TrjxEV2a9yl3Fi60NBJxYzOTGTTHXPi0pdizvTwow==}\n    engines: {node: '>=20.0.0'}\n    peerDependencies:\n      react: '>=18'\n      react-dom: '>=18'\n\n  react-router@7.8.2:\n    resolution: {integrity: sha512-7M2fR1JbIZ/jFWqelpvSZx+7vd7UlBTfdZqf6OSdF9g6+sfdqJDAWcak6ervbHph200ePlu+7G8LdoiC3ReyAQ==}\n    engines: {node: '>=20.0.0'}\n    peerDependencies:\n      react: '>=18'\n      react-dom: '>=18'\n    peerDependenciesMeta:\n      react-dom:\n        optional: true\n\n  react-select@5.10.2:\n    resolution: {integrity: sha512-Z33nHdEFWq9tfnfVXaiM12rbJmk+QjFEztWLtmXqQhz6Al4UZZ9xc0wiatmGtUOCCnHN0WizL3tCMYRENX4rVQ==}\n    peerDependencies:\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n      react-dom: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n\n  react-smooth@4.0.4:\n    resolution: {integrity: sha512-gnGKTpYwqL0Iii09gHobNolvX4Kiq4PKx6eWBCYYix+8cdw+cGo3do906l1NBPKkSWx1DghC1dlWG9L2uGd61Q==}\n    peerDependencies:\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n      react-dom: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n\n  react-toastify@11.0.5:\n    resolution: {integrity: sha512-EpqHBGvnSTtHYhCPLxML05NLY2ZX0JURbAdNYa6BUkk+amz4wbKBQvoKQAB0ardvSarUBuY4Q4s1sluAzZwkmA==}\n    peerDependencies:\n      react: ^18 || ^19\n      react-dom: ^18 || ^19\n\n  react-transition-group@4.4.5:\n    resolution: {integrity: sha512-pZcd1MCJoiKiBR2NRxeCRg13uCXbydPnmB4EOeRrY7480qNWO8IIgQG6zlDkm6uRMsURXPuKq0GWtiM59a5Q6g==}\n    peerDependencies:\n      react: '>=16.6.0'\n      react-dom: '>=16.6.0'\n\n  react@19.1.1:\n    resolution: {integrity: sha512-w8nqGImo45dmMIfljjMwOGtbmC/mk4CMYhWIicdSflH91J9TyCyczcPFXJzrZ/ZXcgGRFeP6BU0BEJTw6tZdfQ==}\n    engines: {node: '>=0.10.0'}\n\n  readable-stream@3.6.2:\n    resolution: {integrity: sha512-9u/sniCrY3D5WdsERHzHE4G2YCXqoG5FTHUiCC4SIbr6XcLZBY05ya9EKjYek9O5xOAwjGq+1JdGBAS7Q9ScoA==}\n    engines: {node: '>= 6'}\n\n  recharts-scale@0.4.5:\n    resolution: {integrity: sha512-kivNFO+0OcUNu7jQquLXAxz1FIwZj8nrj+YkOKc5694NbjCvcT6aSZiIzNzd2Kul4o4rTto8QVR9lMNtxD4G1w==}\n\n  recharts@2.15.4:\n    resolution: {integrity: sha512-UT/q6fwS3c1dHbXv2uFgYJ9BMFHu3fwnd7AYZaEQhXuYQ4hgsxLvsUXzGdKeZrW5xopzDCvuA2N41WJ88I7zIw==}\n    engines: {node: '>=14'}\n    peerDependencies:\n      react: ^16.0.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n      react-dom: ^16.0.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n\n  regenerator-runtime@0.13.11:\n    resolution: {integrity: sha512-kY1AZVr2Ra+t+piVaJ4gxaFaReZVH40AKNo7UCX6W+dEwBo/2oZJzqfuN1qLq1oL45o56cPaTXELwrTh8Fpggg==}\n\n  reselect@5.1.1:\n    resolution: {integrity: sha512-K/BG6eIky/SBpzfHZv/dd+9JBFiS4SWV7FIujVyJRux6e45+73RaUHXLmIR1f7WOMaQ0U1km6qwklRQxpJJY0w==}\n\n  resolve-from@4.0.0:\n    resolution: {integrity: sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g==}\n    engines: {node: '>=4'}\n\n  resolve@1.22.10:\n    resolution: {integrity: sha512-NPRy+/ncIMeDlTAsuqwKIiferiawhefFJtkNSW0qZJEqMEb+qBt/77B/jGeeek+F0uOeN05CDa6HXbbIgtVX4w==}\n    engines: {node: '>= 0.4'}\n    hasBin: true\n\n  restore-cursor@4.0.0:\n    resolution: {integrity: sha512-I9fPXU9geO9bHOt9pHHOhOkYerIMsmVaWB0rA2AI9ERh/+x/i7MV5HKBNrg+ljO5eoPVgCcnFuRjJ9uH6I/3eg==}\n    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n\n  rgbcolor@1.0.1:\n    resolution: {integrity: sha512-9aZLIrhRaD97sgVhtJOW6ckOEh6/GnvQtdVNfdZ6s67+3/XwLS9lBcQYzEEhYVeUowN7pRzMLsyGhK2i/xvWbw==}\n    engines: {node: '>= 0.8.15'}\n\n  rollup@4.50.1:\n    resolution: {integrity: sha512-78E9voJHwnXQMiQdiqswVLZwJIzdBKJ1GdI5Zx6XwoFKUIk09/sSrr+05QFzvYb8q6Y9pPV45zzDuYa3907TZA==}\n    engines: {node: '>=18.0.0', npm: '>=8.0.0'}\n    hasBin: true\n\n  safe-buffer@5.2.1:\n    resolution: {integrity: sha512-rp3So07KcdmmKbGvgaNxQSJr7bGVSVk5S9Eq1F+ppbRo70+YeaDxkw5Dd8NPN+GD6bjnYm2VuPuCXmpuYvmCXQ==}\n\n  scheduler@0.26.0:\n    resolution: {integrity: sha512-NlHwttCI/l5gCPR3D1nNXtWABUmBwvZpEQiD4IXSbIDq8BzLIK/7Ir5gTFSGZDUu37K5cMNp0hFtzO38sC7gWA==}\n\n  semver@6.3.1:\n    resolution: {integrity: sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==}\n    hasBin: true\n\n  set-cookie-parser@2.7.1:\n    resolution: {integrity: sha512-IOc8uWeOZgnb3ptbCURJWNjWUPcO3ZnTTdzsurqERrP6nPyv+paC55vJM0LpOlT2ne+Ix+9+CRG1MNLlyZ4GjQ==}\n\n  shebang-command@2.0.0:\n    resolution: {integrity: sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==}\n    engines: {node: '>=8'}\n\n  shebang-regex@3.0.0:\n    resolution: {integrity: sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==}\n    engines: {node: '>=8'}\n\n  signal-exit@3.0.7:\n    resolution: {integrity: sha512-wnD2ZE+l+SPC/uoS0vXeE9L1+0wuaMqKlfz9AMUo38JsyLSBWSFcHR1Rri62LZc12vLr1gb3jl7iwQhgwpAbGQ==}\n\n  sisteransi@1.0.5:\n    resolution: {integrity: sha512-bLGGlR1QxBcynn2d5YmDX4MGjlZvy2MRBDRNHLJ8VI6l6+9FUiyTFNJ0IveOSP0bcXgVDPRcfGqA0pjaqUpfVg==}\n\n  socket.io-client@4.8.1:\n    resolution: {integrity: sha512-hJVXfu3E28NmzGk8o1sHhN3om52tRvwYeidbj7xKy2eIIse5IoKX3USlS6Tqt3BHAtflLIkCQBkzVrEEfWUyYQ==}\n    engines: {node: '>=10.0.0'}\n\n  socket.io-parser@4.2.4:\n    resolution: {integrity: sha512-/GbIKmo8ioc+NIWIhwdecY0ge+qVBSMdgxGygevmdHj24bsfgtCmcUUcQ5ZzcylGFHsN3k4HB4Cgkl96KVnuew==}\n    engines: {node: '>=10.0.0'}\n\n  source-map-js@1.2.1:\n    resolution: {integrity: sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==}\n    engines: {node: '>=0.10.0'}\n\n  source-map@0.5.7:\n    resolution: {integrity: sha512-LbrmJOMUSdEVxIKvdcJzQC+nQhe8FUZQTXQy6+I75skNgn3OoQ0DZA8YnFa7gp8tqtL3KPf1kmo0R5DoApeSGQ==}\n    engines: {node: '>=0.10.0'}\n\n  ssf@0.11.2:\n    resolution: {integrity: sha512-+idbmIXoYET47hH+d7dfm2epdOMUDjqcB4648sTZ+t2JwoyBFL/insLfB/racrDmsKB3diwsDA696pZMieAC5g==}\n    engines: {node: '>=0.8'}\n\n  stackblur-canvas@2.7.0:\n    resolution: {integrity: sha512-yf7OENo23AGJhBriGx0QivY5JP6Y1HbrrDI6WLt6C5auYZXlQrheoY8hD4ibekFKz1HOfE48Ww8kMWMnJD/zcQ==}\n    engines: {node: '>=0.1.14'}\n\n  stdin-discarder@0.1.0:\n    resolution: {integrity: sha512-xhV7w8S+bUwlPTb4bAOUQhv8/cSS5offJuX8GQGq32ONF0ZtDWKfkdomM3HMRA+LhX6um/FZ0COqlwsjD53LeQ==}\n    engines: {node: ^12.20.0 || ^14.13.1 || >=16.0.0}\n\n  string_decoder@1.3.0:\n    resolution: {integrity: sha512-hkRX8U1WjJFd8LsDJ2yQ/wWWxaopEsABU1XfkM8A+j0+85JAGppt16cr1Whg6KIbb4okU6Mql6BOj+uup/wKeA==}\n\n  strip-ansi@7.1.2:\n    resolution: {integrity: sha512-gmBGslpoQJtgnMAvOVqGZpEz9dyoKTCzy2nfz/n8aIFhN/jCE/rCmcxabB6jOOHV+0WNnylOxaxBQPSvcWklhA==}\n    engines: {node: '>=12'}\n\n  strip-final-newline@3.0.0:\n    resolution: {integrity: sha512-dOESqjYr96iWYylGObzd39EuNTa5VJxyvVAEm5Jnh7KGo75V43Hk1odPQkNDyXNmUR6k+gEiDVXnjB8HJ3crXw==}\n    engines: {node: '>=12'}\n\n  strip-json-comments@3.1.1:\n    resolution: {integrity: sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==}\n    engines: {node: '>=8'}\n\n  stylis@4.2.0:\n    resolution: {integrity: sha512-Orov6g6BB1sDfYgzWfTHDOxamtX1bE/zo104Dh9e6fqJ3PooipYyfJ0pUmrZO2wAvO8YbEyeFrkV91XTsGMSrw==}\n\n  supports-color@7.2.0:\n    resolution: {integrity: sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==}\n    engines: {node: '>=8'}\n\n  supports-preserve-symlinks-flag@1.0.0:\n    resolution: {integrity: sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==}\n    engines: {node: '>= 0.4'}\n\n  svg-pathdata@6.0.3:\n    resolution: {integrity: sha512-qsjeeq5YjBZ5eMdFuUa4ZosMLxgr5RZ+F+Y1OrDhuOCEInRMA3x74XdBtggJcj9kOeInz0WE+LgCPDkZFlBYJw==}\n    engines: {node: '>=12.0.0'}\n\n  text-segmentation@1.0.3:\n    resolution: {integrity: sha512-iOiPUo/BGnZ6+54OsWxZidGCsdU8YbE4PSpdPinp7DeMtUJNJBoJ/ouUSTJjHkh1KntHaltHl/gDs2FC4i5+Nw==}\n\n  tiny-invariant@1.3.3:\n    resolution: {integrity: sha512-+FbBPE1o9QAYvviau/qC5SE3caw21q3xkvWKBtja5vgqOWIHHJ3ioaq1VPfn/Szqctz2bU/oYeKd9/z5BL+PVg==}\n\n  tinyglobby@0.2.15:\n    resolution: {integrity: sha512-j2Zq4NyQYG5XMST4cbs02Ak8iJUdxRM0XI5QyxXuZOzKOINmWurp3smXu3y5wDcJrptwpSjgXHzIQxR0omXljQ==}\n    engines: {node: '>=12.0.0'}\n\n  type-check@0.4.0:\n    resolution: {integrity: sha512-XleUoc9uwGXqjWwXaUTZAmzMcFZ5858QA2vvx1Ur5xIcixXIP+8LnFDgRplU30us6teqdlskFfu+ae4K79Ooew==}\n    engines: {node: '>= 0.8.0'}\n\n  universalify@2.0.1:\n    resolution: {integrity: sha512-gptHNQghINnc/vTGIk0SOFGFNXw7JVrlRUtConJRlvaw6DuX0wO5Jeko9sWrMBhh+PsYAZ7oXAiOnf/UKogyiw==}\n    engines: {node: '>= 10.0.0'}\n\n  update-browserslist-db@1.1.3:\n    resolution: {integrity: sha512-UxhIZQ+QInVdunkDAaiazvvT/+fXL5Osr0JZlJulepYu6Jd7qJtDZjlur0emRlT71EN3ScPoE7gvsuIKKNavKw==}\n    hasBin: true\n    peerDependencies:\n      browserslist: '>= 4.21.0'\n\n  uri-js@4.4.1:\n    resolution: {integrity: sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg==}\n\n  use-isomorphic-layout-effect@1.2.1:\n    resolution: {integrity: sha512-tpZZ+EX0gaghDAiFR37hj5MgY6ZN55kLiPkJsKxBMZ6GZdOSPJXiOzPM984oPYZ5AnehYx5WQp1+ME8I/P/pRA==}\n    peerDependencies:\n      '@types/react': '*'\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n    peerDependenciesMeta:\n      '@types/react':\n        optional: true\n\n  use-sync-external-store@1.5.0:\n    resolution: {integrity: sha512-Rb46I4cGGVBmjamjphe8L/UnvJD+uPPtTkNvX5mZgqdbavhI4EbgIWJiIHXJ8bc/i9EQGPRh4DwEURJ552Do0A==}\n    peerDependencies:\n      react: ^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0\n\n  util-deprecate@1.0.2:\n    resolution: {integrity: sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==}\n\n  utrie@1.0.2:\n    resolution: {integrity: sha512-1MLa5ouZiOmQzUbjbu9VmjLzn1QLXBhwpUa7kdLUQK+KQ5KA9I1vk5U4YHe/X2Ch7PYnJfWuWT+VbuxbGwljhw==}\n\n  victory-vendor@36.9.2:\n    resolution: {integrity: sha512-PnpQQMuxlwYdocC8fIJqVXvkeViHYzotI+NJrCuav0ZYFoq912ZHBk3mCeuj+5/VpodOjPe1z0Fk2ihgzlXqjQ==}\n\n  vite@6.3.6:\n    resolution: {integrity: sha512-0msEVHJEScQbhkbVTb/4iHZdJ6SXp/AvxL2sjwYQFfBqleHtnCqv1J3sa9zbWz/6kW1m9Tfzn92vW+kZ1WV6QA==}\n    engines: {node: ^18.0.0 || ^20.0.0 || >=22.0.0}\n    hasBin: true\n    peerDependencies:\n      '@types/node': ^18.0.0 || ^20.0.0 || >=22.0.0\n      jiti: '>=1.21.0'\n      less: '*'\n      lightningcss: ^1.21.0\n      sass: '*'\n      sass-embedded: '*'\n      stylus: '*'\n      sugarss: '*'\n      terser: ^5.16.0\n      tsx: ^4.8.1\n      yaml: ^2.4.2\n    peerDependenciesMeta:\n      '@types/node':\n        optional: true\n      jiti:\n        optional: true\n      less:\n        optional: true\n      lightningcss:\n        optional: true\n      sass:\n        optional: true\n      sass-embedded:\n        optional: true\n      stylus:\n        optional: true\n      sugarss:\n        optional: true\n      terser:\n        optional: true\n      tsx:\n        optional: true\n      yaml:\n        optional: true\n\n  wcwidth@1.0.1:\n    resolution: {integrity: sha512-XHPEwS0q6TaxcvG85+8EYkbiCux2XtWG2mkc47Ng2A77BQu9+DqIOJldST4HgPkuea7dvKSj5VgX3P1d4rW8Tg==}\n\n  web-streams-polyfill@3.3.3:\n    resolution: {integrity: sha512-d2JWLCivmZYTSIoge9MsgFCZrt571BikcWGYkjC1khllbTeDlGqZ2D8vD8E/lJa8WGWbb7Plm8/XJYV7IJHZZw==}\n    engines: {node: '>= 8'}\n\n  web-vitals@4.2.4:\n    resolution: {integrity: sha512-r4DIlprAGwJ7YM11VZp4R884m0Vmgr6EAKe3P+kO0PPj3Unqyvv59rczf6UiGcb9Z8QxZVcqKNwv/g0WNdWwsw==}\n\n  which@2.0.2:\n    resolution: {integrity: sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==}\n    engines: {node: '>= 8'}\n    hasBin: true\n\n  wmf@1.0.2:\n    resolution: {integrity: sha512-/p9K7bEh0Dj6WbXg4JG0xvLQmIadrner1bi45VMJTfnbVHsc7yIajZyoSoK60/dtVBs12Fm6WkUI5/3WAVsNMw==}\n    engines: {node: '>=0.8'}\n\n  word-wrap@1.2.5:\n    resolution: {integrity: sha512-BN22B5eaMMI9UMtjrGd5g5eCYPpCPDUy0FJXbYsaT5zYxjFOckS53SQDE3pWkVoWpHXVb3BrYcEN4Twa55B5cA==}\n    engines: {node: '>=0.10.0'}\n\n  word@0.3.0:\n    resolution: {integrity: sha512-OELeY0Q61OXpdUfTp+oweA/vtLVg5VDOXh+3he3PNzLGG/y0oylSOC1xRVj0+l4vQ3tj/bB1HVHv1ocXkQceFA==}\n    engines: {node: '>=0.8'}\n\n  ws@8.17.1:\n    resolution: {integrity: sha512-6XQFvXTkbfUOZOKKILFG1PDK2NDQs4azKQl26T0YS5CxqWLgXajbPZ+h4gZekJyRqFU8pvnbAbbs/3TgRPy+GQ==}\n    engines: {node: '>=10.0.0'}\n    peerDependencies:\n      bufferutil: ^4.0.1\n      utf-8-validate: '>=5.0.2'\n    peerDependenciesMeta:\n      bufferutil:\n        optional: true\n      utf-8-validate:\n        optional: true\n\n  xlsx@0.18.5:\n    resolution: {integrity: sha512-dmg3LCjBPHZnQp5/F/+nnTa+miPJxUXB6vtk42YjBBKayDNagxGEeIdWApkYPOf3Z3pm3k62Knjzp7lMeTEtFQ==}\n    engines: {node: '>=0.8'}\n    hasBin: true\n\n  xmlhttprequest-ssl@2.1.2:\n    resolution: {integrity: sha512-TEU+nJVUUnA4CYJFLvK5X9AOeH4KvDvhIfm0vV1GaQRtchnG0hgK5p8hw/xjv8cunWYCsiPCSDzObPyhEwq3KQ==}\n    engines: {node: '>=0.4.0'}\n\n  yallist@3.1.1:\n    resolution: {integrity: sha512-a4UGQaWPH59mOXUYnAG2ewncQS4i4F43Tv3JoAM+s2VDAmS9NsK8GpDMLrCHPksFT7h3K6TOoUNn2pb7RoXx4g==}\n\n  yaml@1.10.2:\n    resolution: {integrity: sha512-r3vXyErRCYJ7wg28yvBY5VSoAF8ZvlcW9/BwUzEtUsjvX/DKs24dIkuwjtuprwJJHsbyUbLApepYTR1BN4uHrg==}\n    engines: {node: '>= 6'}\n\n  yocto-queue@0.1.0:\n    resolution: {integrity: sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q==}\n    engines: {node: '>=10'}\n\n  zod@3.25.76:\n    resolution: {integrity: sha512-gzUt/qt81nXsFGKIFcC3YnfEAx5NkunCfnDlvuBSSFS02bcXu4Lmea0AFIUwbLWxWPx3d9p8S5QoaujKcNQxcQ==}\n\nsnapshots:\n\n  '@babel/code-frame@7.27.1':\n    dependencies:\n      '@babel/helper-validator-identifier': 7.27.1\n      js-tokens: 4.0.0\n      picocolors: 1.1.1\n\n  '@babel/compat-data@7.28.4': {}\n\n  '@babel/core@7.28.4':\n    dependencies:\n      '@babel/code-frame': 7.27.1\n      '@babel/generator': 7.28.3\n      '@babel/helper-compilation-targets': 7.27.2\n      '@babel/helper-module-transforms': 7.28.3(@babel/core@7.28.4)\n      '@babel/helpers': 7.28.4\n      '@babel/parser': 7.28.4\n      '@babel/template': 7.27.2\n      '@babel/traverse': 7.28.4\n      '@babel/types': 7.28.4\n      '@jridgewell/remapping': 2.3.5\n      convert-source-map: 2.0.0\n      debug: 4.4.1\n      gensync: 1.0.0-beta.2\n      json5: 2.2.3\n      semver: 6.3.1\n    transitivePeerDependencies:\n      - supports-color\n\n  '@babel/generator@7.28.3':\n    dependencies:\n      '@babel/parser': 7.28.4\n      '@babel/types': 7.28.4\n      '@jridgewell/gen-mapping': 0.3.13\n      '@jridgewell/trace-mapping': 0.3.30\n      jsesc: 3.1.0\n\n  '@babel/helper-compilation-targets@7.27.2':\n    dependencies:\n      '@babel/compat-data': 7.28.4\n      '@babel/helper-validator-option': 7.27.1\n      browserslist: 4.25.4\n      lru-cache: 5.1.1\n      semver: 6.3.1\n\n  '@babel/helper-globals@7.28.0': {}\n\n  '@babel/helper-module-imports@7.27.1':\n    dependencies:\n      '@babel/traverse': 7.28.4\n      '@babel/types': 7.28.4\n    transitivePeerDependencies:\n      - supports-color\n\n  '@babel/helper-module-transforms@7.28.3(@babel/core@7.28.4)':\n    dependencies:\n      '@babel/core': 7.28.4\n      '@babel/helper-module-imports': 7.27.1\n      '@babel/helper-validator-identifier': 7.27.1\n      '@babel/traverse': 7.28.4\n    transitivePeerDependencies:\n      - supports-color\n\n  '@babel/helper-plugin-utils@7.27.1': {}\n\n  '@babel/helper-string-parser@7.27.1': {}\n\n  '@babel/helper-validator-identifier@7.27.1': {}\n\n  '@babel/helper-validator-option@7.27.1': {}\n\n  '@babel/helpers@7.28.4':\n    dependencies:\n      '@babel/template': 7.27.2\n      '@babel/types': 7.28.4\n\n  '@babel/parser@7.28.4':\n    dependencies:\n      '@babel/types': 7.28.4\n\n  '@babel/plugin-transform-react-jsx-self@7.27.1(@babel/core@7.28.4)':\n    dependencies:\n      '@babel/core': 7.28.4\n      '@babel/helper-plugin-utils': 7.27.1\n\n  '@babel/plugin-transform-react-jsx-source@7.27.1(@babel/core@7.28.4)':\n    dependencies:\n      '@babel/core': 7.28.4\n      '@babel/helper-plugin-utils': 7.27.1\n\n  '@babel/runtime@7.28.4': {}\n\n  '@babel/template@7.27.2':\n    dependencies:\n      '@babel/code-frame': 7.27.1\n      '@babel/parser': 7.28.4\n      '@babel/types': 7.28.4\n\n  '@babel/traverse@7.28.4':\n    dependencies:\n      '@babel/code-frame': 7.27.1\n      '@babel/generator': 7.28.3\n      '@babel/helper-globals': 7.28.0\n      '@babel/parser': 7.28.4\n      '@babel/template': 7.27.2\n      '@babel/types': 7.28.4\n      debug: 4.4.1\n    transitivePeerDependencies:\n      - supports-color\n\n  '@babel/types@7.28.4':\n    dependencies:\n      '@babel/helper-string-parser': 7.27.1\n      '@babel/helper-validator-identifier': 7.27.1\n\n  '@emotion/babel-plugin@11.13.5':\n    dependencies:\n      '@babel/helper-module-imports': 7.27.1\n      '@babel/runtime': 7.28.4\n      '@emotion/hash': 0.9.2\n      '@emotion/memoize': 0.9.0\n      '@emotion/serialize': 1.3.3\n      babel-plugin-macros: 3.1.0\n      convert-source-map: 1.9.0\n      escape-string-regexp: 4.0.0\n      find-root: 1.1.0\n      source-map: 0.5.7\n      stylis: 4.2.0\n    transitivePeerDependencies:\n      - supports-color\n\n  '@emotion/cache@11.14.0':\n    dependencies:\n      '@emotion/memoize': 0.9.0\n      '@emotion/sheet': 1.4.0\n      '@emotion/utils': 1.4.2\n      '@emotion/weak-memoize': 0.4.0\n      stylis: 4.2.0\n\n  '@emotion/hash@0.9.2': {}\n\n  '@emotion/is-prop-valid@1.4.0':\n    dependencies:\n      '@emotion/memoize': 0.9.0\n\n  '@emotion/memoize@0.9.0': {}\n\n  '@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@emotion/babel-plugin': 11.13.5\n      '@emotion/cache': 11.14.0\n      '@emotion/serialize': 1.3.3\n      '@emotion/use-insertion-effect-with-fallbacks': 1.2.0(react@19.1.1)\n      '@emotion/utils': 1.4.2\n      '@emotion/weak-memoize': 0.4.0\n      hoist-non-react-statics: 3.3.2\n      react: 19.1.1\n    optionalDependencies:\n      '@types/react': 19.1.12\n    transitivePeerDependencies:\n      - supports-color\n\n  '@emotion/serialize@1.3.3':\n    dependencies:\n      '@emotion/hash': 0.9.2\n      '@emotion/memoize': 0.9.0\n      '@emotion/unitless': 0.10.0\n      '@emotion/utils': 1.4.2\n      csstype: 3.1.3\n\n  '@emotion/sheet@1.4.0': {}\n\n  '@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@emotion/babel-plugin': 11.13.5\n      '@emotion/is-prop-valid': 1.4.0\n      '@emotion/react': 11.14.0(@types/react@19.1.12)(react@19.1.1)\n      '@emotion/serialize': 1.3.3\n      '@emotion/use-insertion-effect-with-fallbacks': 1.2.0(react@19.1.1)\n      '@emotion/utils': 1.4.2\n      react: 19.1.1\n    optionalDependencies:\n      '@types/react': 19.1.12\n    transitivePeerDependencies:\n      - supports-color\n\n  '@emotion/unitless@0.10.0': {}\n\n  '@emotion/use-insertion-effect-with-fallbacks@1.2.0(react@19.1.1)':\n    dependencies:\n      react: 19.1.1\n\n  '@emotion/utils@1.4.2': {}\n\n  '@emotion/weak-memoize@0.4.0': {}\n\n  '@esbuild/aix-ppc64@0.25.9':\n    optional: true\n\n  '@esbuild/android-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/android-arm@0.25.9':\n    optional: true\n\n  '@esbuild/android-x64@0.25.9':\n    optional: true\n\n  '@esbuild/darwin-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/darwin-x64@0.25.9':\n    optional: true\n\n  '@esbuild/freebsd-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/freebsd-x64@0.25.9':\n    optional: true\n\n  '@esbuild/linux-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/linux-arm@0.25.9':\n    optional: true\n\n  '@esbuild/linux-ia32@0.25.9':\n    optional: true\n\n  '@esbuild/linux-loong64@0.25.9':\n    optional: true\n\n  '@esbuild/linux-mips64el@0.25.9':\n    optional: true\n\n  '@esbuild/linux-ppc64@0.25.9':\n    optional: true\n\n  '@esbuild/linux-riscv64@0.25.9':\n    optional: true\n\n  '@esbuild/linux-s390x@0.25.9':\n    optional: true\n\n  '@esbuild/linux-x64@0.25.9':\n    optional: true\n\n  '@esbuild/netbsd-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/netbsd-x64@0.25.9':\n    optional: true\n\n  '@esbuild/openbsd-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/openbsd-x64@0.25.9':\n    optional: true\n\n  '@esbuild/openharmony-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/sunos-x64@0.25.9':\n    optional: true\n\n  '@esbuild/win32-arm64@0.25.9':\n    optional: true\n\n  '@esbuild/win32-ia32@0.25.9':\n    optional: true\n\n  '@esbuild/win32-x64@0.25.9':\n    optional: true\n\n  '@eslint-community/eslint-utils@4.9.0(eslint@9.35.0)':\n    dependencies:\n      eslint: 9.35.0\n      eslint-visitor-keys: 3.4.3\n\n  '@eslint-community/regexpp@4.12.1': {}\n\n  '@eslint/config-array@0.21.0':\n    dependencies:\n      '@eslint/object-schema': 2.1.6\n      debug: 4.4.1\n      minimatch: 3.1.2\n    transitivePeerDependencies:\n      - supports-color\n\n  '@eslint/config-helpers@0.3.1': {}\n\n  '@eslint/core@0.15.2':\n    dependencies:\n      '@types/json-schema': 7.0.15\n\n  '@eslint/eslintrc@3.3.1':\n    dependencies:\n      ajv: 6.12.6\n      debug: 4.4.1\n      espree: 10.4.0\n      globals: 14.0.0\n      ignore: 5.3.2\n      import-fresh: 3.3.1\n      js-yaml: 4.1.0\n      minimatch: 3.1.2\n      strip-json-comments: 3.1.1\n    transitivePeerDependencies:\n      - supports-color\n\n  '@eslint/js@9.35.0': {}\n\n  '@eslint/object-schema@2.1.6': {}\n\n  '@eslint/plugin-kit@0.3.5':\n    dependencies:\n      '@eslint/core': 0.15.2\n      levn: 0.4.1\n\n  '@floating-ui/core@1.7.3':\n    dependencies:\n      '@floating-ui/utils': 0.2.10\n\n  '@floating-ui/dom@1.7.4':\n    dependencies:\n      '@floating-ui/core': 1.7.3\n      '@floating-ui/utils': 0.2.10\n\n  '@floating-ui/utils@0.2.10': {}\n\n  '@humanfs/core@0.19.1': {}\n\n  '@humanfs/node@0.16.7':\n    dependencies:\n      '@humanfs/core': 0.19.1\n      '@humanwhocodes/retry': 0.4.3\n\n  '@humanwhocodes/module-importer@1.0.1': {}\n\n  '@humanwhocodes/retry@0.4.3': {}\n\n  '@jridgewell/gen-mapping@0.3.13':\n    dependencies:\n      '@jridgewell/sourcemap-codec': 1.5.5\n      '@jridgewell/trace-mapping': 0.3.30\n\n  '@jridgewell/remapping@2.3.5':\n    dependencies:\n      '@jridgewell/gen-mapping': 0.3.13\n      '@jridgewell/trace-mapping': 0.3.30\n\n  '@jridgewell/resolve-uri@3.1.2': {}\n\n  '@jridgewell/sourcemap-codec@1.5.5': {}\n\n  '@jridgewell/trace-mapping@0.3.30':\n    dependencies:\n      '@jridgewell/resolve-uri': 3.1.2\n      '@jridgewell/sourcemap-codec': 1.5.5\n\n  '@mui/core-downloads-tracker@6.5.0': {}\n\n  '@mui/icons-material@6.5.0(@mui/material@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/material': 6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      react: 19.1.1\n    optionalDependencies:\n      '@types/react': 19.1.12\n\n  '@mui/material@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/core-downloads-tracker': 6.5.0\n      '@mui/system': 6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n      '@mui/types': 7.2.24(@types/react@19.1.12)\n      '@mui/utils': 6.4.9(@types/react@19.1.12)(react@19.1.1)\n      '@popperjs/core': 2.11.8\n      '@types/react-transition-group': 4.4.12(@types/react@19.1.12)\n      clsx: 2.1.1\n      csstype: 3.1.3\n      prop-types: 15.8.1\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n      react-is: 19.1.1\n      react-transition-group: 4.4.5(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n    optionalDependencies:\n      '@emotion/react': 11.14.0(@types/react@19.1.12)(react@19.1.1)\n      '@emotion/styled': 11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n      '@types/react': 19.1.12\n\n  '@mui/private-theming@6.4.9(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/utils': 6.4.9(@types/react@19.1.12)(react@19.1.1)\n      prop-types: 15.8.1\n      react: 19.1.1\n    optionalDependencies:\n      '@types/react': 19.1.12\n\n  '@mui/styled-engine@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@emotion/cache': 11.14.0\n      '@emotion/serialize': 1.3.3\n      '@emotion/sheet': 1.4.0\n      csstype: 3.1.3\n      prop-types: 15.8.1\n      react: 19.1.1\n    optionalDependencies:\n      '@emotion/react': 11.14.0(@types/react@19.1.12)(react@19.1.1)\n      '@emotion/styled': 11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n\n  '@mui/system@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/private-theming': 6.4.9(@types/react@19.1.12)(react@19.1.1)\n      '@mui/styled-engine': 6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(react@19.1.1)\n      '@mui/types': 7.2.24(@types/react@19.1.12)\n      '@mui/utils': 6.4.9(@types/react@19.1.12)(react@19.1.1)\n      clsx: 2.1.1\n      csstype: 3.1.3\n      prop-types: 15.8.1\n      react: 19.1.1\n    optionalDependencies:\n      '@emotion/react': 11.14.0(@types/react@19.1.12)(react@19.1.1)\n      '@emotion/styled': 11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n      '@types/react': 19.1.12\n\n  '@mui/types@7.2.24(@types/react@19.1.12)':\n    optionalDependencies:\n      '@types/react': 19.1.12\n\n  '@mui/types@7.4.6(@types/react@19.1.12)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n    optionalDependencies:\n      '@types/react': 19.1.12\n\n  '@mui/utils@6.4.9(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/types': 7.2.24(@types/react@19.1.12)\n      '@types/prop-types': 15.7.15\n      clsx: 2.1.1\n      prop-types: 15.8.1\n      react: 19.1.1\n      react-is: 19.1.1\n    optionalDependencies:\n      '@types/react': 19.1.12\n\n  '@mui/utils@7.3.2(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/types': 7.4.6(@types/react@19.1.12)\n      '@types/prop-types': 15.7.15\n      clsx: 2.1.1\n      prop-types: 15.8.1\n      react: 19.1.1\n      react-is: 19.1.1\n    optionalDependencies:\n      '@types/react': 19.1.12\n\n  '@mui/x-data-grid@7.29.9(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@mui/material@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1))(@mui/system@6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/material': 6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      '@mui/system': 6.5.0(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@emotion/styled@11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n      '@mui/utils': 7.3.2(@types/react@19.1.12)(react@19.1.1)\n      '@mui/x-internals': 7.29.0(@types/react@19.1.12)(react@19.1.1)\n      clsx: 2.1.1\n      prop-types: 15.8.1\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n      reselect: 5.1.1\n      use-sync-external-store: 1.5.0(react@19.1.1)\n    optionalDependencies:\n      '@emotion/react': 11.14.0(@types/react@19.1.12)(react@19.1.1)\n      '@emotion/styled': 11.14.1(@emotion/react@11.14.0(@types/react@19.1.12)(react@19.1.1))(@types/react@19.1.12)(react@19.1.1)\n    transitivePeerDependencies:\n      - '@types/react'\n\n  '@mui/x-internals@7.29.0(@types/react@19.1.12)(react@19.1.1)':\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@mui/utils': 7.3.2(@types/react@19.1.12)(react@19.1.1)\n      react: 19.1.1\n    transitivePeerDependencies:\n      - '@types/react'\n\n  '@popperjs/core@2.11.8': {}\n\n  '@rolldown/pluginutils@1.0.0-beta.27': {}\n\n  '@rollup/rollup-android-arm-eabi@4.50.1':\n    optional: true\n\n  '@rollup/rollup-android-arm64@4.50.1':\n    optional: true\n\n  '@rollup/rollup-darwin-arm64@4.50.1':\n    optional: true\n\n  '@rollup/rollup-darwin-x64@4.50.1':\n    optional: true\n\n  '@rollup/rollup-freebsd-arm64@4.50.1':\n    optional: true\n\n  '@rollup/rollup-freebsd-x64@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-arm-gnueabihf@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-arm-musleabihf@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-arm64-gnu@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-arm64-musl@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-loongarch64-gnu@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-ppc64-gnu@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-riscv64-gnu@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-riscv64-musl@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-s390x-gnu@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-x64-gnu@4.50.1':\n    optional: true\n\n  '@rollup/rollup-linux-x64-musl@4.50.1':\n    optional: true\n\n  '@rollup/rollup-openharmony-arm64@4.50.1':\n    optional: true\n\n  '@rollup/rollup-win32-arm64-msvc@4.50.1':\n    optional: true\n\n  '@rollup/rollup-win32-ia32-msvc@4.50.1':\n    optional: true\n\n  '@rollup/rollup-win32-x64-msvc@4.50.1':\n    optional: true\n\n  '@shadcn/ui@0.0.4':\n    dependencies:\n      chalk: 5.2.0\n      commander: 10.0.1\n      execa: 7.2.0\n      fs-extra: 11.3.1\n      node-fetch: 3.3.2\n      ora: 6.3.1\n      prompts: 2.4.2\n      zod: 3.25.76\n\n  '@socket.io/component-emitter@3.1.2': {}\n\n  '@types/babel__core@7.20.5':\n    dependencies:\n      '@babel/parser': 7.28.4\n      '@babel/types': 7.28.4\n      '@types/babel__generator': 7.27.0\n      '@types/babel__template': 7.4.4\n      '@types/babel__traverse': 7.28.0\n\n  '@types/babel__generator@7.27.0':\n    dependencies:\n      '@babel/types': 7.28.4\n\n  '@types/babel__template@7.4.4':\n    dependencies:\n      '@babel/parser': 7.28.4\n      '@babel/types': 7.28.4\n\n  '@types/babel__traverse@7.28.0':\n    dependencies:\n      '@babel/types': 7.28.4\n\n  '@types/d3-array@3.2.1': {}\n\n  '@types/d3-color@3.1.3': {}\n\n  '@types/d3-ease@3.0.2': {}\n\n  '@types/d3-interpolate@3.0.4':\n    dependencies:\n      '@types/d3-color': 3.1.3\n\n  '@types/d3-path@3.1.1': {}\n\n  '@types/d3-scale@4.0.9':\n    dependencies:\n      '@types/d3-time': 3.0.4\n\n  '@types/d3-shape@3.1.7':\n    dependencies:\n      '@types/d3-path': 3.1.1\n\n  '@types/d3-time@3.0.4': {}\n\n  '@types/d3-timer@3.0.2': {}\n\n  '@types/estree@1.0.8': {}\n\n  '@types/json-schema@7.0.15': {}\n\n  '@types/pako@2.0.4': {}\n\n  '@types/parse-json@4.0.2': {}\n\n  '@types/prop-types@15.7.15': {}\n\n  '@types/raf@3.4.3':\n    optional: true\n\n  '@types/react-dom@19.1.9(@types/react@19.1.12)':\n    dependencies:\n      '@types/react': 19.1.12\n\n  '@types/react-transition-group@4.4.12(@types/react@19.1.12)':\n    dependencies:\n      '@types/react': 19.1.12\n\n  '@types/react@19.1.12':\n    dependencies:\n      csstype: 3.1.3\n\n  '@types/trusted-types@2.0.7':\n    optional: true\n\n  '@vitejs/plugin-react@4.7.0(vite@6.3.6)':\n    dependencies:\n      '@babel/core': 7.28.4\n      '@babel/plugin-transform-react-jsx-self': 7.27.1(@babel/core@7.28.4)\n      '@babel/plugin-transform-react-jsx-source': 7.27.1(@babel/core@7.28.4)\n      '@rolldown/pluginutils': 1.0.0-beta.27\n      '@types/babel__core': 7.20.5\n      react-refresh: 0.17.0\n      vite: 6.3.6\n    transitivePeerDependencies:\n      - supports-color\n\n  acorn-jsx@5.3.2(acorn@8.15.0):\n    dependencies:\n      acorn: 8.15.0\n\n  acorn@8.15.0: {}\n\n  adler-32@1.3.1: {}\n\n  ajv@6.12.6:\n    dependencies:\n      fast-deep-equal: 3.1.3\n      fast-json-stable-stringify: 2.1.0\n      json-schema-traverse: 0.4.1\n      uri-js: 4.4.1\n\n  ansi-regex@6.2.2: {}\n\n  ansi-styles@4.3.0:\n    dependencies:\n      color-convert: 2.0.1\n\n  argparse@2.0.1: {}\n\n  asynckit@0.4.0: {}\n\n  axios@1.11.0:\n    dependencies:\n      follow-redirects: 1.15.11\n      form-data: 4.0.4\n      proxy-from-env: 1.1.0\n    transitivePeerDependencies:\n      - debug\n\n  babel-plugin-macros@3.1.0:\n    dependencies:\n      '@babel/runtime': 7.28.4\n      cosmiconfig: 7.1.0\n      resolve: 1.22.10\n\n  balanced-match@1.0.2: {}\n\n  base64-arraybuffer@1.0.2: {}\n\n  base64-js@1.5.1: {}\n\n  bl@5.1.0:\n    dependencies:\n      buffer: 6.0.3\n      inherits: 2.0.4\n      readable-stream: 3.6.2\n\n  brace-expansion@1.1.12:\n    dependencies:\n      balanced-match: 1.0.2\n      concat-map: 0.0.1\n\n  browserslist@4.25.4:\n    dependencies:\n      caniuse-lite: 1.0.30001741\n      electron-to-chromium: 1.5.215\n      node-releases: 2.0.20\n      update-browserslist-db: 1.1.3(browserslist@4.25.4)\n\n  buffer@6.0.3:\n    dependencies:\n      base64-js: 1.5.1\n      ieee754: 1.2.1\n\n  call-bind-apply-helpers@1.0.2:\n    dependencies:\n      es-errors: 1.3.0\n      function-bind: 1.1.2\n\n  callsites@3.1.0: {}\n\n  caniuse-lite@1.0.30001741: {}\n\n  canvg@3.0.11:\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@types/raf': 3.4.3\n      core-js: 3.45.1\n      raf: 3.4.1\n      regenerator-runtime: 0.13.11\n      rgbcolor: 1.0.1\n      stackblur-canvas: 2.7.0\n      svg-pathdata: 6.0.3\n    optional: true\n\n  cfb@1.2.2:\n    dependencies:\n      adler-32: 1.3.1\n      crc-32: 1.2.2\n\n  chalk@4.1.2:\n    dependencies:\n      ansi-styles: 4.3.0\n      supports-color: 7.2.0\n\n  chalk@5.2.0: {}\n\n  chroma-js@3.1.2: {}\n\n  cli-cursor@4.0.0:\n    dependencies:\n      restore-cursor: 4.0.0\n\n  cli-spinners@2.9.2: {}\n\n  clone@1.0.4: {}\n\n  clsx@2.1.1: {}\n\n  codepage@1.15.0: {}\n\n  color-convert@2.0.1:\n    dependencies:\n      color-name: 1.1.4\n\n  color-name@1.1.4: {}\n\n  combined-stream@1.0.8:\n    dependencies:\n      delayed-stream: 1.0.0\n\n  commander@10.0.1: {}\n\n  concat-map@0.0.1: {}\n\n  convert-source-map@1.9.0: {}\n\n  convert-source-map@2.0.0: {}\n\n  cookie@1.0.2: {}\n\n  core-js@3.45.1:\n    optional: true\n\n  cosmiconfig@7.1.0:\n    dependencies:\n      '@types/parse-json': 4.0.2\n      import-fresh: 3.3.1\n      parse-json: 5.2.0\n      path-type: 4.0.0\n      yaml: 1.10.2\n\n  cra-template@1.2.0: {}\n\n  crc-32@1.2.2: {}\n\n  cross-spawn@7.0.6:\n    dependencies:\n      path-key: 3.1.1\n      shebang-command: 2.0.0\n      which: 2.0.2\n\n  css-line-break@2.1.0:\n    dependencies:\n      utrie: 1.0.2\n\n  csstype@3.1.3: {}\n\n  d3-array@3.2.4:\n    dependencies:\n      internmap: 2.0.3\n\n  d3-color@3.1.0: {}\n\n  d3-ease@3.0.1: {}\n\n  d3-format@3.1.0: {}\n\n  d3-interpolate@3.0.1:\n    dependencies:\n      d3-color: 3.1.0\n\n  d3-path@3.1.0: {}\n\n  d3-scale@4.0.2:\n    dependencies:\n      d3-array: 3.2.4\n      d3-format: 3.1.0\n      d3-interpolate: 3.0.1\n      d3-time: 3.1.0\n      d3-time-format: 4.1.0\n\n  d3-shape@3.2.0:\n    dependencies:\n      d3-path: 3.1.0\n\n  d3-time-format@4.1.0:\n    dependencies:\n      d3-time: 3.1.0\n\n  d3-time@3.1.0:\n    dependencies:\n      d3-array: 3.2.4\n\n  d3-timer@3.0.1: {}\n\n  data-uri-to-buffer@4.0.1: {}\n\n  date-fns@4.1.0: {}\n\n  debug@4.3.7:\n    dependencies:\n      ms: 2.1.3\n\n  debug@4.4.1:\n    dependencies:\n      ms: 2.1.3\n\n  decimal.js-light@2.5.1: {}\n\n  deep-is@0.1.4: {}\n\n  defaults@1.0.4:\n    dependencies:\n      clone: 1.0.4\n\n  delayed-stream@1.0.0: {}\n\n  dom-helpers@5.2.1:\n    dependencies:\n      '@babel/runtime': 7.28.4\n      csstype: 3.1.3\n\n  dompurify@3.2.6:\n    optionalDependencies:\n      '@types/trusted-types': 2.0.7\n    optional: true\n\n  dunder-proto@1.0.1:\n    dependencies:\n      call-bind-apply-helpers: 1.0.2\n      es-errors: 1.3.0\n      gopd: 1.2.0\n\n  electron-to-chromium@1.5.215: {}\n\n  engine.io-client@6.6.3:\n    dependencies:\n      '@socket.io/component-emitter': 3.1.2\n      debug: 4.3.7\n      engine.io-parser: 5.2.3\n      ws: 8.17.1\n      xmlhttprequest-ssl: 2.1.2\n    transitivePeerDependencies:\n      - bufferutil\n      - supports-color\n      - utf-8-validate\n\n  engine.io-parser@5.2.3: {}\n\n  error-ex@1.3.2:\n    dependencies:\n      is-arrayish: 0.2.1\n\n  es-define-property@1.0.1: {}\n\n  es-errors@1.3.0: {}\n\n  es-object-atoms@1.1.1:\n    dependencies:\n      es-errors: 1.3.0\n\n  es-set-tostringtag@2.1.0:\n    dependencies:\n      es-errors: 1.3.0\n      get-intrinsic: 1.3.0\n      has-tostringtag: 1.0.2\n      hasown: 2.0.2\n\n  es6-promise@4.2.8: {}\n\n  esbuild@0.25.9:\n    optionalDependencies:\n      '@esbuild/aix-ppc64': 0.25.9\n      '@esbuild/android-arm': 0.25.9\n      '@esbuild/android-arm64': 0.25.9\n      '@esbuild/android-x64': 0.25.9\n      '@esbuild/darwin-arm64': 0.25.9\n      '@esbuild/darwin-x64': 0.25.9\n      '@esbuild/freebsd-arm64': 0.25.9\n      '@esbuild/freebsd-x64': 0.25.9\n      '@esbuild/linux-arm': 0.25.9\n      '@esbuild/linux-arm64': 0.25.9\n      '@esbuild/linux-ia32': 0.25.9\n      '@esbuild/linux-loong64': 0.25.9\n      '@esbuild/linux-mips64el': 0.25.9\n      '@esbuild/linux-ppc64': 0.25.9\n      '@esbuild/linux-riscv64': 0.25.9\n      '@esbuild/linux-s390x': 0.25.9\n      '@esbuild/linux-x64': 0.25.9\n      '@esbuild/netbsd-arm64': 0.25.9\n      '@esbuild/netbsd-x64': 0.25.9\n      '@esbuild/openbsd-arm64': 0.25.9\n      '@esbuild/openbsd-x64': 0.25.9\n      '@esbuild/openharmony-arm64': 0.25.9\n      '@esbuild/sunos-x64': 0.25.9\n      '@esbuild/win32-arm64': 0.25.9\n      '@esbuild/win32-ia32': 0.25.9\n      '@esbuild/win32-x64': 0.25.9\n\n  escalade@3.2.0: {}\n\n  escape-string-regexp@4.0.0: {}\n\n  eslint-plugin-react-hooks@5.2.0(eslint@9.35.0):\n    dependencies:\n      eslint: 9.35.0\n\n  eslint-plugin-react-refresh@0.4.20(eslint@9.35.0):\n    dependencies:\n      eslint: 9.35.0\n\n  eslint-scope@8.4.0:\n    dependencies:\n      esrecurse: 4.3.0\n      estraverse: 5.3.0\n\n  eslint-visitor-keys@3.4.3: {}\n\n  eslint-visitor-keys@4.2.1: {}\n\n  eslint@9.35.0:\n    dependencies:\n      '@eslint-community/eslint-utils': 4.9.0(eslint@9.35.0)\n      '@eslint-community/regexpp': 4.12.1\n      '@eslint/config-array': 0.21.0\n      '@eslint/config-helpers': 0.3.1\n      '@eslint/core': 0.15.2\n      '@eslint/eslintrc': 3.3.1\n      '@eslint/js': 9.35.0\n      '@eslint/plugin-kit': 0.3.5\n      '@humanfs/node': 0.16.7\n      '@humanwhocodes/module-importer': 1.0.1\n      '@humanwhocodes/retry': 0.4.3\n      '@types/estree': 1.0.8\n      '@types/json-schema': 7.0.15\n      ajv: 6.12.6\n      chalk: 4.1.2\n      cross-spawn: 7.0.6\n      debug: 4.4.1\n      escape-string-regexp: 4.0.0\n      eslint-scope: 8.4.0\n      eslint-visitor-keys: 4.2.1\n      espree: 10.4.0\n      esquery: 1.6.0\n      esutils: 2.0.3\n      fast-deep-equal: 3.1.3\n      file-entry-cache: 8.0.0\n      find-up: 5.0.0\n      glob-parent: 6.0.2\n      ignore: 5.3.2\n      imurmurhash: 0.1.4\n      is-glob: 4.0.3\n      json-stable-stringify-without-jsonify: 1.0.1\n      lodash.merge: 4.6.2\n      minimatch: 3.1.2\n      natural-compare: 1.4.0\n      optionator: 0.9.4\n    transitivePeerDependencies:\n      - supports-color\n\n  espree@10.4.0:\n    dependencies:\n      acorn: 8.15.0\n      acorn-jsx: 5.3.2(acorn@8.15.0)\n      eslint-visitor-keys: 4.2.1\n\n  esquery@1.6.0:\n    dependencies:\n      estraverse: 5.3.0\n\n  esrecurse@4.3.0:\n    dependencies:\n      estraverse: 5.3.0\n\n  estraverse@5.3.0: {}\n\n  esutils@2.0.3: {}\n\n  eventemitter3@4.0.7: {}\n\n  execa@7.2.0:\n    dependencies:\n      cross-spawn: 7.0.6\n      get-stream: 6.0.1\n      human-signals: 4.3.1\n      is-stream: 3.0.0\n      merge-stream: 2.0.0\n      npm-run-path: 5.3.0\n      onetime: 6.0.0\n      signal-exit: 3.0.7\n      strip-final-newline: 3.0.0\n\n  fast-deep-equal@3.1.3: {}\n\n  fast-equals@5.2.2: {}\n\n  fast-json-stable-stringify@2.1.0: {}\n\n  fast-levenshtein@2.0.6: {}\n\n  fast-png@6.4.0:\n    dependencies:\n      '@types/pako': 2.0.4\n      iobuffer: 5.4.0\n      pako: 2.1.0\n\n  fdir@6.5.0(picomatch@4.0.3):\n    optionalDependencies:\n      picomatch: 4.0.3\n\n  fetch-blob@3.2.0:\n    dependencies:\n      node-domexception: 1.0.0\n      web-streams-polyfill: 3.3.3\n\n  fflate@0.8.2: {}\n\n  file-entry-cache@8.0.0:\n    dependencies:\n      flat-cache: 4.0.1\n\n  find-root@1.1.0: {}\n\n  find-up@5.0.0:\n    dependencies:\n      locate-path: 6.0.0\n      path-exists: 4.0.0\n\n  flat-cache@4.0.1:\n    dependencies:\n      flatted: 3.3.3\n      keyv: 4.5.4\n\n  flatted@3.3.3: {}\n\n  follow-redirects@1.15.11: {}\n\n  form-data@4.0.4:\n    dependencies:\n      asynckit: 0.4.0\n      combined-stream: 1.0.8\n      es-set-tostringtag: 2.1.0\n      hasown: 2.0.2\n      mime-types: 2.1.35\n\n  formdata-polyfill@4.0.10:\n    dependencies:\n      fetch-blob: 3.2.0\n\n  frac@1.1.2: {}\n\n  fs-extra@11.3.1:\n    dependencies:\n      graceful-fs: 4.2.11\n      jsonfile: 6.2.0\n      universalify: 2.0.1\n\n  fsevents@2.3.3:\n    optional: true\n\n  function-bind@1.1.2: {}\n\n  gensync@1.0.0-beta.2: {}\n\n  get-intrinsic@1.3.0:\n    dependencies:\n      call-bind-apply-helpers: 1.0.2\n      es-define-property: 1.0.1\n      es-errors: 1.3.0\n      es-object-atoms: 1.1.1\n      function-bind: 1.1.2\n      get-proto: 1.0.1\n      gopd: 1.2.0\n      has-symbols: 1.1.0\n      hasown: 2.0.2\n      math-intrinsics: 1.1.0\n\n  get-proto@1.0.1:\n    dependencies:\n      dunder-proto: 1.0.1\n      es-object-atoms: 1.1.1\n\n  get-stream@6.0.1: {}\n\n  glob-parent@6.0.2:\n    dependencies:\n      is-glob: 4.0.3\n\n  globals@14.0.0: {}\n\n  globals@15.15.0: {}\n\n  gopd@1.2.0: {}\n\n  graceful-fs@4.2.11: {}\n\n  has-flag@4.0.0: {}\n\n  has-symbols@1.1.0: {}\n\n  has-tostringtag@1.0.2:\n    dependencies:\n      has-symbols: 1.1.0\n\n  hasown@2.0.2:\n    dependencies:\n      function-bind: 1.1.2\n\n  hoist-non-react-statics@3.3.2:\n    dependencies:\n      react-is: 16.13.1\n\n  html2canvas@1.4.1:\n    dependencies:\n      css-line-break: 2.1.0\n      text-segmentation: 1.0.3\n\n  html2pdf.js@0.10.3:\n    dependencies:\n      es6-promise: 4.2.8\n      html2canvas: 1.4.1\n      jspdf: 3.0.2\n\n  human-signals@4.3.1: {}\n\n  ieee754@1.2.1: {}\n\n  ignore@5.3.2: {}\n\n  import-fresh@3.3.1:\n    dependencies:\n      parent-module: 1.0.1\n      resolve-from: 4.0.0\n\n  imurmurhash@0.1.4: {}\n\n  inherits@2.0.4: {}\n\n  internmap@2.0.3: {}\n\n  iobuffer@5.4.0: {}\n\n  is-arrayish@0.2.1: {}\n\n  is-core-module@2.16.1:\n    dependencies:\n      hasown: 2.0.2\n\n  is-extglob@2.1.1: {}\n\n  is-glob@4.0.3:\n    dependencies:\n      is-extglob: 2.1.1\n\n  is-interactive@2.0.0: {}\n\n  is-stream@3.0.0: {}\n\n  is-unicode-supported@1.3.0: {}\n\n  isexe@2.0.0: {}\n\n  js-tokens@4.0.0: {}\n\n  js-yaml@4.1.0:\n    dependencies:\n      argparse: 2.0.1\n\n  jsesc@3.1.0: {}\n\n  json-buffer@3.0.1: {}\n\n  json-parse-even-better-errors@2.3.1: {}\n\n  json-schema-traverse@0.4.1: {}\n\n  json-stable-stringify-without-jsonify@1.0.1: {}\n\n  json5@2.2.3: {}\n\n  jsonfile@6.2.0:\n    dependencies:\n      universalify: 2.0.1\n    optionalDependencies:\n      graceful-fs: 4.2.11\n\n  jspdf@3.0.2:\n    dependencies:\n      '@babel/runtime': 7.28.4\n      fast-png: 6.4.0\n      fflate: 0.8.2\n    optionalDependencies:\n      canvg: 3.0.11\n      core-js: 3.45.1\n      dompurify: 3.2.6\n      html2canvas: 1.4.1\n\n  jwt-decode@4.0.0: {}\n\n  keyv@4.5.4:\n    dependencies:\n      json-buffer: 3.0.1\n\n  kleur@3.0.3: {}\n\n  levn@0.4.1:\n    dependencies:\n      prelude-ls: 1.2.1\n      type-check: 0.4.0\n\n  lines-and-columns@1.2.4: {}\n\n  locate-path@6.0.0:\n    dependencies:\n      p-locate: 5.0.0\n\n  lodash.merge@4.6.2: {}\n\n  lodash@4.17.21: {}\n\n  log-symbols@5.1.0:\n    dependencies:\n      chalk: 5.2.0\n      is-unicode-supported: 1.3.0\n\n  loose-envify@1.4.0:\n    dependencies:\n      js-tokens: 4.0.0\n\n  lru-cache@5.1.1:\n    dependencies:\n      yallist: 3.1.1\n\n  lucide-react@0.475.0(react@19.1.1):\n    dependencies:\n      react: 19.1.1\n\n  math-intrinsics@1.1.0: {}\n\n  memoize-one@6.0.0: {}\n\n  merge-stream@2.0.0: {}\n\n  mime-db@1.52.0: {}\n\n  mime-types@2.1.35:\n    dependencies:\n      mime-db: 1.52.0\n\n  mimic-fn@2.1.0: {}\n\n  mimic-fn@4.0.0: {}\n\n  minimatch@3.1.2:\n    dependencies:\n      brace-expansion: 1.1.12\n\n  ms@2.1.3: {}\n\n  nanoid@3.3.11: {}\n\n  natural-compare@1.4.0: {}\n\n  node-domexception@1.0.0: {}\n\n  node-fetch@3.3.2:\n    dependencies:\n      data-uri-to-buffer: 4.0.1\n      fetch-blob: 3.2.0\n      formdata-polyfill: 4.0.10\n\n  node-releases@2.0.20: {}\n\n  npm-run-path@5.3.0:\n    dependencies:\n      path-key: 4.0.0\n\n  object-assign@4.1.1: {}\n\n  onetime@5.1.2:\n    dependencies:\n      mimic-fn: 2.1.0\n\n  onetime@6.0.0:\n    dependencies:\n      mimic-fn: 4.0.0\n\n  optionator@0.9.4:\n    dependencies:\n      deep-is: 0.1.4\n      fast-levenshtein: 2.0.6\n      levn: 0.4.1\n      prelude-ls: 1.2.1\n      type-check: 0.4.0\n      word-wrap: 1.2.5\n\n  ora@6.3.1:\n    dependencies:\n      chalk: 5.2.0\n      cli-cursor: 4.0.0\n      cli-spinners: 2.9.2\n      is-interactive: 2.0.0\n      is-unicode-supported: 1.3.0\n      log-symbols: 5.1.0\n      stdin-discarder: 0.1.0\n      strip-ansi: 7.1.2\n      wcwidth: 1.0.1\n\n  p-limit@3.1.0:\n    dependencies:\n      yocto-queue: 0.1.0\n\n  p-locate@5.0.0:\n    dependencies:\n      p-limit: 3.1.0\n\n  pako@2.1.0: {}\n\n  parent-module@1.0.1:\n    dependencies:\n      callsites: 3.1.0\n\n  parse-json@5.2.0:\n    dependencies:\n      '@babel/code-frame': 7.27.1\n      error-ex: 1.3.2\n      json-parse-even-better-errors: 2.3.1\n      lines-and-columns: 1.2.4\n\n  path-exists@4.0.0: {}\n\n  path-key@3.1.1: {}\n\n  path-key@4.0.0: {}\n\n  path-parse@1.0.7: {}\n\n  path-type@4.0.0: {}\n\n  performance-now@2.1.0:\n    optional: true\n\n  picocolors@1.1.1: {}\n\n  picomatch@4.0.3: {}\n\n  postcss@8.5.6:\n    dependencies:\n      nanoid: 3.3.11\n      picocolors: 1.1.1\n      source-map-js: 1.2.1\n\n  prelude-ls@1.2.1: {}\n\n  prompts@2.4.2:\n    dependencies:\n      kleur: 3.0.3\n      sisteransi: 1.0.5\n\n  prop-types@15.8.1:\n    dependencies:\n      loose-envify: 1.4.0\n      object-assign: 4.1.1\n      react-is: 16.13.1\n\n  proxy-from-env@1.1.0: {}\n\n  punycode@2.3.1: {}\n\n  raf@3.4.1:\n    dependencies:\n      performance-now: 2.1.0\n    optional: true\n\n  react-dom@19.1.1(react@19.1.1):\n    dependencies:\n      react: 19.1.1\n      scheduler: 0.26.0\n\n  react-is@16.13.1: {}\n\n  react-is@18.3.1: {}\n\n  react-is@19.1.1: {}\n\n  react-refresh@0.17.0: {}\n\n  react-router-dom@7.8.2(react-dom@19.1.1(react@19.1.1))(react@19.1.1):\n    dependencies:\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n      react-router: 7.8.2(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n\n  react-router@7.8.2(react-dom@19.1.1(react@19.1.1))(react@19.1.1):\n    dependencies:\n      cookie: 1.0.2\n      react: 19.1.1\n      set-cookie-parser: 2.7.1\n    optionalDependencies:\n      react-dom: 19.1.1(react@19.1.1)\n\n  react-select@5.10.2(@types/react@19.1.12)(react-dom@19.1.1(react@19.1.1))(react@19.1.1):\n    dependencies:\n      '@babel/runtime': 7.28.4\n      '@emotion/cache': 11.14.0\n      '@emotion/react': 11.14.0(@types/react@19.1.12)(react@19.1.1)\n      '@floating-ui/dom': 1.7.4\n      '@types/react-transition-group': 4.4.12(@types/react@19.1.12)\n      memoize-one: 6.0.0\n      prop-types: 15.8.1\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n      react-transition-group: 4.4.5(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      use-isomorphic-layout-effect: 1.2.1(@types/react@19.1.12)(react@19.1.1)\n    transitivePeerDependencies:\n      - '@types/react'\n      - supports-color\n\n  react-smooth@4.0.4(react-dom@19.1.1(react@19.1.1))(react@19.1.1):\n    dependencies:\n      fast-equals: 5.2.2\n      prop-types: 15.8.1\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n      react-transition-group: 4.4.5(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n\n  react-toastify@11.0.5(react-dom@19.1.1(react@19.1.1))(react@19.1.1):\n    dependencies:\n      clsx: 2.1.1\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n\n  react-transition-group@4.4.5(react-dom@19.1.1(react@19.1.1))(react@19.1.1):\n    dependencies:\n      '@babel/runtime': 7.28.4\n      dom-helpers: 5.2.1\n      loose-envify: 1.4.0\n      prop-types: 15.8.1\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n\n  react@19.1.1: {}\n\n  readable-stream@3.6.2:\n    dependencies:\n      inherits: 2.0.4\n      string_decoder: 1.3.0\n      util-deprecate: 1.0.2\n\n  recharts-scale@0.4.5:\n    dependencies:\n      decimal.js-light: 2.5.1\n\n  recharts@2.15.4(react-dom@19.1.1(react@19.1.1))(react@19.1.1):\n    dependencies:\n      clsx: 2.1.1\n      eventemitter3: 4.0.7\n      lodash: 4.17.21\n      react: 19.1.1\n      react-dom: 19.1.1(react@19.1.1)\n      react-is: 18.3.1\n      react-smooth: 4.0.4(react-dom@19.1.1(react@19.1.1))(react@19.1.1)\n      recharts-scale: 0.4.5\n      tiny-invariant: 1.3.3\n      victory-vendor: 36.9.2\n\n  regenerator-runtime@0.13.11:\n    optional: true\n\n  reselect@5.1.1: {}\n\n  resolve-from@4.0.0: {}\n\n  resolve@1.22.10:\n    dependencies:\n      is-core-module: 2.16.1\n      path-parse: 1.0.7\n      supports-preserve-symlinks-flag: 1.0.0\n\n  restore-cursor@4.0.0:\n    dependencies:\n      onetime: 5.1.2\n      signal-exit: 3.0.7\n\n  rgbcolor@1.0.1:\n    optional: true\n\n  rollup@4.50.1:\n    dependencies:\n      '@types/estree': 1.0.8\n    optionalDependencies:\n      '@rollup/rollup-android-arm-eabi': 4.50.1\n      '@rollup/rollup-android-arm64': 4.50.1\n      '@rollup/rollup-darwin-arm64': 4.50.1\n      '@rollup/rollup-darwin-x64': 4.50.1\n      '@rollup/rollup-freebsd-arm64': 4.50.1\n      '@rollup/rollup-freebsd-x64': 4.50.1\n      '@rollup/rollup-linux-arm-gnueabihf': 4.50.1\n      '@rollup/rollup-linux-arm-musleabihf': 4.50.1\n      '@rollup/rollup-linux-arm64-gnu': 4.50.1\n      '@rollup/rollup-linux-arm64-musl': 4.50.1\n      '@rollup/rollup-linux-loongarch64-gnu': 4.50.1\n      '@rollup/rollup-linux-ppc64-gnu': 4.50.1\n      '@rollup/rollup-linux-riscv64-gnu': 4.50.1\n      '@rollup/rollup-linux-riscv64-musl': 4.50.1\n      '@rollup/rollup-linux-s390x-gnu': 4.50.1\n      '@rollup/rollup-linux-x64-gnu': 4.50.1\n      '@rollup/rollup-linux-x64-musl': 4.50.1\n      '@rollup/rollup-openharmony-arm64': 4.50.1\n      '@rollup/rollup-win32-arm64-msvc': 4.50.1\n      '@rollup/rollup-win32-ia32-msvc': 4.50.1\n      '@rollup/rollup-win32-x64-msvc': 4.50.1\n      fsevents: 2.3.3\n\n  safe-buffer@5.2.1: {}\n\n  scheduler@0.26.0: {}\n\n  semver@6.3.1: {}\n\n  set-cookie-parser@2.7.1: {}\n\n  shebang-command@2.0.0:\n    dependencies:\n      shebang-regex: 3.0.0\n\n  shebang-regex@3.0.0: {}\n\n  signal-exit@3.0.7: {}\n\n  sisteransi@1.0.5: {}\n\n  socket.io-client@4.8.1:\n    dependencies:\n      '@socket.io/component-emitter': 3.1.2\n      debug: 4.3.7\n      engine.io-client: 6.6.3\n      socket.io-parser: 4.2.4\n    transitivePeerDependencies:\n      - bufferutil\n      - supports-color\n      - utf-8-validate\n\n  socket.io-parser@4.2.4:\n    dependencies:\n      '@socket.io/component-emitter': 3.1.2\n      debug: 4.3.7\n    transitivePeerDependencies:\n      - supports-color\n\n  source-map-js@1.2.1: {}\n\n  source-map@0.5.7: {}\n\n  ssf@0.11.2:\n    dependencies:\n      frac: 1.1.2\n\n  stackblur-canvas@2.7.0:\n    optional: true\n\n  stdin-discarder@0.1.0:\n    dependencies:\n      bl: 5.1.0\n\n  string_decoder@1.3.0:\n    dependencies:\n      safe-buffer: 5.2.1\n\n  strip-ansi@7.1.2:\n    dependencies:\n      ansi-regex: 6.2.2\n\n  strip-final-newline@3.0.0: {}\n\n  strip-json-comments@3.1.1: {}\n\n  stylis@4.2.0: {}\n\n  supports-color@7.2.0:\n    dependencies:\n      has-flag: 4.0.0\n\n  supports-preserve-symlinks-flag@1.0.0: {}\n\n  svg-pathdata@6.0.3:\n    optional: true\n\n  text-segmentation@1.0.3:\n    dependencies:\n      utrie: 1.0.2\n\n  tiny-invariant@1.3.3: {}\n\n  tinyglobby@0.2.15:\n    dependencies:\n      fdir: 6.5.0(picomatch@4.0.3)\n      picomatch: 4.0.3\n\n  type-check@0.4.0:\n    dependencies:\n      prelude-ls: 1.2.1\n\n  universalify@2.0.1: {}\n\n  update-browserslist-db@1.1.3(browserslist@4.25.4):\n    dependencies:\n      browserslist: 4.25.4\n      escalade: 3.2.0\n      picocolors: 1.1.1\n\n  uri-js@4.4.1:\n    dependencies:\n      punycode: 2.3.1\n\n  use-isomorphic-layout-effect@1.2.1(@types/react@19.1.12)(react@19.1.1):\n    dependencies:\n      react: 19.1.1\n    optionalDependencies:\n      '@types/react': 19.1.12\n\n  use-sync-external-store@1.5.0(react@19.1.1):\n    dependencies:\n      react: 19.1.1\n\n  util-deprecate@1.0.2: {}\n\n  utrie@1.0.2:\n    dependencies:\n      base64-arraybuffer: 1.0.2\n\n  victory-vendor@36.9.2:\n    dependencies:\n      '@types/d3-array': 3.2.1\n      '@types/d3-ease': 3.0.2\n      '@types/d3-interpolate': 3.0.4\n      '@types/d3-scale': 4.0.9\n      '@types/d3-shape': 3.1.7\n      '@types/d3-time': 3.0.4\n      '@types/d3-timer': 3.0.2\n      d3-array: 3.2.4\n      d3-ease: 3.0.1\n      d3-interpolate: 3.0.1\n      d3-scale: 4.0.2\n      d3-shape: 3.2.0\n      d3-time: 3.1.0\n      d3-timer: 3.0.1\n\n  vite@6.3.6:\n    dependencies:\n      esbuild: 0.25.9\n      fdir: 6.5.0(picomatch@4.0.3)\n      picomatch: 4.0.3\n      postcss: 8.5.6\n      rollup: 4.50.1\n      tinyglobby: 0.2.15\n    optionalDependencies:\n      fsevents: 2.3.3\n\n  wcwidth@1.0.1:\n    dependencies:\n      defaults: 1.0.4\n\n  web-streams-polyfill@3.3.3: {}\n\n  web-vitals@4.2.4: {}\n\n  which@2.0.2:\n    dependencies:\n      isexe: 2.0.0\n\n  wmf@1.0.2: {}\n\n  word-wrap@1.2.5: {}\n\n  word@0.3.0: {}\n\n  ws@8.17.1: {}\n\n  xlsx@0.18.5:\n    dependencies:\n      adler-32: 1.3.1\n      cfb: 1.2.2\n      codepage: 1.15.0\n      crc-32: 1.2.2\n      ssf: 0.11.2\n      wmf: 1.0.2\n      word: 0.3.0\n\n  xmlhttprequest-ssl@2.1.2: {}\n\n  yallist@3.1.1: {}\n\n  yaml@1.10.2: {}\n\n  yocto-queue@0.1.0: {}\n\n  zod@3.25.76: {}\n","size_bytes":124347},"qms-source/BackEnd/src/routes/roleRoutes.js":{"content":"import express from 'express';\nimport roleController from '../controllers/roleController.js';\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post('/:moduleId', authenticateUser,checkPermission(\"write\"),roleController.createRole);  // Create role\nrouter.put('/:moduleId/:id',authenticateUser,checkPermission(\"write\"), roleController.updateRoleDetails);  // Update role details\nrouter.delete('/:moduleId/:id',authenticateUser,checkPermission(\"delete\"), roleController.softDeleteRole);  // Delete role details\nrouter.get('/:moduleId/:id',authenticateUser, checkPermission(\"read\"),roleController.getRoleDetails);  // Get role by ID\nrouter.get('/:moduleId',authenticateUser, checkPermission(\"read\"),roleController.getRoleDetails);  // Get all roles\n\nexport default router;\n","size_bytes":901},"qms-source/frontend-new/src/assets/theme-dark/components/popover.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport boxShadows from \"assets/theme-dark/base/boxShadows\";\nimport borders from \"assets/theme-dark/base/borders\";\n\nconst { transparent } = colors;\nconst { md } = boxShadows;\nconst { borderRadius } = borders;\n\nconst popover = {\n  styleOverrides: {\n    paper: {\n      backgroundColor: transparent.main,\n      boxShadow: md,\n      padding: pxToRem(8),\n      borderRadius: borderRadius.md,\n    },\n  },\n};\n\nexport default popover;\n","size_bytes":1150},"frontend-new/src/assets/theme-dark/components/button/outlined.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme-dark/base/colors\";\nimport typography from \"assets/theme-dark/base/typography\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { transparent, light, info, secondary } = colors;\nconst { size } = typography;\n\nconst outlined = {\n  base: {\n    minHeight: pxToRem(39),\n    color: light.main,\n    borderColor: light.main,\n    padding: `${pxToRem(9)} ${pxToRem(24)}`,\n\n    \"&:hover\": {\n      opacity: 0.75,\n      backgroundColor: transparent.main,\n    },\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(16)} !important`,\n    },\n  },\n\n  small: {\n    minHeight: pxToRem(31),\n    padding: `${pxToRem(6)} ${pxToRem(18)}`,\n    fontSize: size.xs,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(12)} !important`,\n    },\n  },\n\n  large: {\n    minHeight: pxToRem(46),\n    padding: `${pxToRem(12)} ${pxToRem(64)}`,\n    fontSize: size.sm,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(22)} !important`,\n    },\n  },\n\n  primary: {\n    backgroundColor: transparent.main,\n    borderColor: info.main,\n\n    \"&:hover\": {\n      backgroundColor: transparent.main,\n    },\n  },\n\n  secondary: {\n    backgroundColor: transparent.main,\n    borderColor: secondary.main,\n\n    \"&:hover\": {\n      backgroundColor: transparent.main,\n    },\n  },\n};\n\nexport default outlined;\n","size_bytes":2005},"frontend-new/src/styles/TaskUpload.css":{"content":"\n  ","size_bytes":3},"qms-source/frontend-new/src/assets/theme/functions/pxToRem.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The pxToRem() function helps you to convert a px unit into a rem unit, \n */\n\nfunction pxToRem(number, baseNumber = 16) {\n  return `${number / baseNumber}rem`;\n}\n\nexport default pxToRem;\n","size_bytes":715},"qms-source/frontend-new/src/assets/theme-dark/components/list/listItemText.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst listItemText = {\n  styleOverrides: {\n    root: {\n      marginTop: 0,\n      marginBottom: 0,\n    },\n  },\n};\n\nexport default listItemText;\n","size_bytes":666},"qms-source/frontend-new/src/assets/theme/components/form/formControlLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { dark } = colors;\nconst { size, fontWeightBold } = typography;\n\nconst formControlLabel = {\n  styleOverrides: {\n    root: {\n      display: \"block\",\n      minHeight: pxToRem(24),\n      marginBottom: pxToRem(2),\n    },\n\n    label: {\n      display: \"inline-block\",\n      fontSize: size.sm,\n      fontWeight: fontWeightBold,\n      color: dark.main,\n      lineHeight: 1,\n      transform: `translateY(${pxToRem(1)})`,\n      marginLeft: pxToRem(4),\n\n      \"&.Mui-disabled\": {\n        color: dark.main,\n      },\n    },\n  },\n};\n\nexport default formControlLabel;\n","size_bytes":1329},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"frontend-new/src/assets/theme-dark/components/button/root.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport typography from \"assets/theme-dark/base/typography\";\nimport borders from \"assets/theme-dark/base/borders\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nconst { fontWeightBold, size } = typography;\nconst { borderRadius } = borders;\n\nconst root = {\n  display: \"inline-flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  fontSize: size.xs,\n  fontWeight: fontWeightBold,\n  borderRadius: borderRadius.lg,\n  padding: `${pxToRem(6.302)} ${pxToRem(16.604)}`,\n  lineHeight: 1.4,\n  textAlign: \"center\",\n  textTransform: \"uppercase\",\n  userSelect: \"none\",\n  backgroundSize: \"150% !important\",\n  backgroundPositionX: \"25% !important\",\n  transition: \"all 150ms ease-in\",\n\n  \"&:disabled\": {\n    pointerEvent: \"none\",\n    opacity: 0.65,\n  },\n\n  \"& .material-icons\": {\n    fontSize: pxToRem(15),\n    marginTop: pxToRem(-2),\n  },\n};\n\nexport default root;\n","size_bytes":1482},"qms-source/frontend-new/src/assets/theme/components/popover.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\nimport borders from \"assets/theme/base/borders\";\n\nconst { transparent } = colors;\nconst { lg } = boxShadows;\nconst { borderRadius } = borders;\n\nconst popover = {\n  styleOverrides: {\n    paper: {\n      backgroundColor: transparent.main,\n      boxShadow: lg,\n      padding: pxToRem(8),\n      borderRadius: borderRadius.md,\n    },\n  },\n};\n\nexport default popover;\n","size_bytes":1130},"BackEnd/src/controllers/generalDocumentController.js":{"content":"// controllers/generalDocumentController.js\nimport GeneralDocument from '../models/GeneralDocument.js';\nimport GeneralDocumentFolder from '../models/GeneralDocumentFolder.js';\nimport multer from \"multer\";\nimport User from \"../models/User.js\";\nimport Role from \"../models/Role.js\";\nimport path from 'path';\nimport fs from 'fs';\n\n\n// Set up storage for uploaded files\nconst storage = multer.diskStorage({\n    destination: (req, file, cb) => {\n        const uploadDir = \"uploads/documents\"; // Folder where files will be stored\n        if (!fs.existsSync(uploadDir)) {\n            fs.mkdirSync(uploadDir, { recursive: true }); // Create folder if not exists\n        }\n        cb(null, uploadDir);\n    },\n    filename: (req, file, cb) => {\n        const ext = path.extname(file.originalname);\n        const uniqueName = `${Date.now()}-${Math.random().toString(36).substring(7)}${ext}`;\n        cb(null, uniqueName);\n    }\n});\n\nconst fileFilter = (req, file, cb) => {\n  cb(null, true); // Accept all file types\n};\n\n// Upload middleware\nconst upload = multer({ storage, fileFilter });\n\nasync function buildFullFolderPath(parent_folder_id) {\n  let folders = [];\n  \n  while (parent_folder_id) {\n    const folder = await GeneralDocumentFolder.findByPk(parent_folder_id);\n    if (!folder) break; // safety: stop if parent not found\n    folders.unshift(folder.folder_name); // add at start\n    parent_folder_id = folder.parent_folder_id;\n  }\n  \n  return folders.join('/'); // return relative path\n}\n\nexport const createFolder = async (req, res) => {\n  try {\n    const { parent_folder_id, folder_name, visibility_scope } = req.body;\n    const created_by_user_id = req.user.id;\n\n    console.log(\"Request Body while create folder:\", req.body);\n\n    const user = await User.findByPk(created_by_user_id, {\n      include: [{ model: Role, attributes: [\"name\"], required: true }]\n    });\n\n    if (!user) {\n      return res.status(404).json({ error: \"User not found\" });\n    }\n\n    const userRole = user.Role ? user.Role.name : null;\n    let company_id;\n\n    if (userRole === \"System Super Admin\") {\n      company_id = req.body.company_id;\n      if (!company_id) {\n        return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n      }\n    } else {\n      company_id = req.user.company;\n      if (!company_id) {\n        return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n      }\n    }\n\n    const folder = await GeneralDocumentFolder.create({\n      company_id,\n      parent_folder_id,\n      folder_name,\n      visibility_scope,\n      created_by_user_id\n    });\n\n    // ****** Build Full Path based on Parent Hierarchy ******\n    const uploadRoot = path.join('uploads'); // base uploads folder\n    const parentPath = await buildFullFolderPath(parent_folder_id);\n    const fullFolderPath = parentPath ? path.join(uploadRoot, parentPath, folder_name) : path.join(uploadRoot, folder_name);\n\n    // Check if uploads directory exists, if not create it\n    if (!fs.existsSync(uploadRoot)) {\n      fs.mkdirSync(uploadRoot);\n    }\n\n    // Check if full folder path exists\n    if (!fs.existsSync(fullFolderPath)) {\n      fs.mkdirSync(fullFolderPath, { recursive: true }); // recursively create all missing parent folders\n      console.log(`Folder created at path: ${fullFolderPath}`);\n    } else {\n      console.log(`Folder already exists at path: ${fullFolderPath}`);\n    }\n\n    res.status(201).json({ success: true, folder });\n  } catch (error) {\n    console.error(error);\n    res.status(500).json({ success: false, message: 'Server Error' });\n  }\n};\n\nconst getFolderPathFromId = async (folder_id) => {\n  const segments = [];\n\n  let currentFolderId = folder_id;\n\n  while (currentFolderId) {\n    const folder = await GeneralDocumentFolder.findByPk(currentFolderId);\n    if (!folder) break;\n\n    // Sanitize name to avoid file system issues\n    const safeName = folder.folder_name   ;          //.replace(/[<>:\"/\\\\|?*]/g, \"_\");\n    segments.unshift(safeName);\n\n    currentFolderId = folder.parent_folder_id;\n  }\n\n  return path.join(\"uploads\", ...segments); // Final upload path\n};\n\nexport const uploadGeneralDocument = async (req, res) => {\n  try {\n    upload.array(\"documents\")(req, res, async function (err) {\n      if (err) return res.status(400).json({ error: err.message });\n\n      const { folder_id, visibility_scope } = req.body;\n      if (!req.files || req.files.length === 0)\n        return res.status(400).json({ error: \"No files uploaded\" });\n\n      if (!folder_id || !visibility_scope) {\n        return res.status(400).json({ error: \"Missing required fields.\" });\n      }\n\n      const user_id = req.user.id;\n\n      const user = await User.findByPk(user_id, {\n        include: [{ model: Role, attributes: [\"name\"], required: true }],\n      });\n\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n\n      const userRole = user.Role ? user.Role.name : null;\n      let company_id;\n\n      if (userRole === \"System Super Admin\") {\n        company_id = req.body.company_id;\n        if (!company_id) {\n          return res.status(400).json({\n            error: \"Company ID is required for System Super Admin\",\n          });\n        }\n      } else {\n        company_id = req.user.company;\n        if (!company_id) {\n          return res.status(400).json({\n            error:\n              \"Company ID is not assigned to your account. Contact the administrator.\",\n          });\n        }\n      }\n\n      const folderPath = await getFolderPathFromId(folder_id);\n      if (!fs.existsSync(folderPath)) {\n        fs.mkdirSync(folderPath, { recursive: true });\n      }\n\n      const existingFiles = fs.readdirSync(folderPath);\n      const savedDocuments = [];\n\n      for (const file of req.files) {\n        const fileExt = path.extname(file.originalname);\n        const originalName = path.parse(file.originalname).name;\n        const cleanFileName = originalName.replace(/_v\\d+_\\d+$/, \"\");\n        const timestamp = Date.now();\n\n        let version = 1;\n        const versionRegex = new RegExp(\n          `^${cleanFileName}_v(\\\\d+)_\\\\d+\\\\${fileExt}$`\n        );\n\n        for (const existingFile of existingFiles) {\n          const match = existingFile.match(versionRegex);\n          if (match) {\n            const existingVersion = parseInt(match[1], 10);\n            if (existingVersion >= version) {\n              version = existingVersion + 1;\n            }\n          }\n        }\n\n        const newFileName = `${cleanFileName}_v${version}_${timestamp}${fileExt}`;\n        const filePath = path.join(folderPath, newFileName);\n\n        fs.renameSync(file.path, filePath);\n\n        const document = await GeneralDocument.create({\n          company_id,\n          folder_id,\n          document_name: newFileName,\n          file_path: filePath.replace(/\\\\/g, \"/\"),\n          visibility_scope,\n          created_by_user_id: user_id,\n        });\n\n        savedDocuments.push(document);\n      }\n\n      res.status(201).json({\n        message: \"Documents uploaded successfully.\",\n        documents: savedDocuments,\n      });\n    });\n  } catch (error) {\n    console.error(\"Error while uploading general documents:\", error);\n    res.status(500).json({ error: \"Internal server error.\" });\n  }\n};\n\n\n// export const uploadGeneralDocument = async (req, res) => {\n//   console.log(\"Request body before upload :\",req.body);\n//     try {\n//         upload.single(\"document\")(req, res, async function (err) {\n//             if (err) return res.status(400).json({ error: err.message });\n\n//             const { folder_id, visibility_scope } = req.body;\n//             if (!req.file) return res.status(400).json({ error: \"No file uploaded\" });\n\n//             if ( !folder_id || !visibility_scope) {\n//                 return res.status(400).json({ error: \"Missing required fields.\" });\n//             }\n//            let user_id = req.user.id;\n            \n//     console.log(\"Request Body while upload document:\", req.body);\n\n//     const user = await User.findByPk(user_id, {\n//       include: [{ model: Role, attributes: [\"name\"], required: true }]\n//     });\n\n//     if (!user) {\n//       return res.status(404).json({ error: \"User not found\" });\n//     }\n\n//     const userRole = user.Role ? user.Role.name : null;\n//     let company_id;\n\n//     if (userRole === \"System Super Admin\") {\n//       company_id = req.body.company_id;\n//       if (!company_id) {\n//         return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//       }\n//     } else {\n//       company_id = req.user.company;\n//       if (!company_id) {\n//         return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n//       }\n//     }\n\n//             const fileExt = path.extname(req.file.originalname);\n//             const originalName = path.parse(req.file.originalname).name;\n//             const timestamp = Date.now();\n\n//             const cleanFileName = originalName.replace(/_v\\d+_\\d+$/, \"\"); // Remove any previous _v pattern\n//             const folderPath = await getFolderPathFromId(folder_id);\n\n            \n\n//             if (!fs.existsSync(folderPath)) {\n//                 fs.mkdirSync(folderPath, { recursive: true });\n//             }\n\n//             const existingFiles = fs.readdirSync(folderPath);\n//             let version = 1;\n\n//             const versionRegex = new RegExp(`^${cleanFileName}_v(\\\\d+)_\\\\d+\\\\${fileExt}$`);\n\n//             for (const file of existingFiles) {\n//                 const match = file.match(versionRegex);\n//                 if (match) {\n//                     const existingVersion = parseInt(match[1], 10);\n//                     if (existingVersion >= version) {\n//                         version = existingVersion + 1;\n//                     }\n//                 }\n//             }\n\n//             const newFileName = `${cleanFileName}_v${version}_${timestamp}${fileExt}`;\n//             const filePath = path.join(folderPath, newFileName);\n\n//             fs.renameSync(req.file.path, filePath);\n\n//             console.log(\"Data while upload general document \",req.body);\n\n//             const document = await GeneralDocument.create({\n//                 company_id,\n//                 folder_id,\n//                 document_name: newFileName,\n//                 file_path: filePath.replace(/\\\\/g, \"/\"), // Windows path fix\n//                 visibility_scope,\n//                 created_by_user_id: user_id,\n//             });\n\n//             res.status(201).json({ message: \"General Document uploaded successfully.\", document });\n//         });\n//     } catch (error) {\n//         console.error(\"Error while uploading general document:\", error);\n//         res.status(500).json({ error: \"Internal server error.\" });\n//     }\n// };\n\nconst findManagers = async (userId, managers = new Set()) => {\n  const user = await User.findByPk(userId);\n  if (user && user.reportTo) {\n    managers.add(user.reportTo);\n    await findManagers(user.reportTo, managers);\n  }\n  return Array.from(managers);\n};\n\nconst findSubordinates = async (userId, subordinates = new Set()) => {\n  const users = await User.findAll({ where: { reportTo: userId } });\n  for (const user of users) {\n    subordinates.add(user.id);\n    const deeperSubs = await findSubordinates(user.id, subordinates);\n    deeperSubs.forEach(id => subordinates.add(id));\n  }\n  return Array.from(subordinates);\n};\n\nexport const listDocuments = async (req, res) => {\n  try {\n    let { folderId } = req.params;\n    const requestingUserId = req.user.id;\n\n    if (folderId === 'null') {\n      folderId = null;\n    }\n\n    const folderWhereCondition = {\n      parent_folder_id: folderId\n    };\n    const documentWhereCondition = {\n      folder_id: folderId\n    };\n\n    const allFolders = await GeneralDocumentFolder.findAll({ where: folderWhereCondition });\n\n    const allDocuments = await GeneralDocument.findAll({\n      where: documentWhereCondition,\n      // include: [\n      //   {\n      //     model: User.scope('all')\n      //   }\n      //]\n    });\n\n    const accessibleFolders = [];\n    for (const folder of allFolders) {\n      const creatorId = folder.created_by_user_id;\n\n      if (folder.visibility_scope === \"all\") {\n        accessibleFolders.push(folder);\n      } else if (folder.visibility_scope === \"private\" && creatorId === requestingUserId) {\n        accessibleFolders.push(folder);\n      } else if (folder.visibility_scope === \"above\") {\n        const managersOfCreator = await findManagers(creatorId);\n        managersOfCreator.push(creatorId);\n        if (managersOfCreator.includes(requestingUserId)) {\n          accessibleFolders.push(folder);\n        }\n      } else if (folder.visibility_scope === \"below\") {\n        const subsOfCreator = await findSubordinates(creatorId);\n        subsOfCreator.push(creatorId);\n        if (subsOfCreator.includes(requestingUserId)) {\n          accessibleFolders.push(folder);\n        }\n      }\n    }\n\n    const accessibleDocuments = [];\n    for (const doc of allDocuments) {\n      const creatorId = doc.created_by_user_id;\n\n      let isAccessible = false;\n      if (doc.visibility_scope === \"all\") {\n        isAccessible = true;\n      } else if (doc.visibility_scope === \"private\" && creatorId === requestingUserId) {\n        isAccessible = true;\n      } else if (doc.visibility_scope === \"above\") {\n        const managersOfCreator = await findManagers(creatorId);\n        managersOfCreator.push(creatorId);\n        if (managersOfCreator.includes(requestingUserId)) {\n          isAccessible = true;\n        }\n      } else if (doc.visibility_scope === \"below\") {\n        const subsOfCreator = await findSubordinates(creatorId);\n        subsOfCreator.push(creatorId);\n        if (subsOfCreator.includes(requestingUserId)) {\n          isAccessible = true;\n        }\n      }\n\n      if (isAccessible) {\n        const fullDoc = doc.toJSON();\n        fullDoc.file_url = `${req.protocol}://${req.get(\"host\")}/api/${doc.file_path}`;\n        fullDoc.uploaded_by = doc.uploader ? doc.uploader.name : \"Unknown\";\n        accessibleDocuments.push(fullDoc);\n      }\n    }\n\n    res.status(200).json({\n      success: true,\n      folders: accessibleFolders,\n      documents: accessibleDocuments\n    });\n\n  } catch (error) {\n    console.error(\"Error listing documents:\", error);\n    res.status(500).json({ success: false, message: 'Server Error' });\n  }\n};\n\nexport const updateFolder = async (req, res) => {\n  try {\n    const { folder_id, folder_name, visibility_scope } = req.body;\n    const user_id = req.user.id;\n\n    if (!folder_id) {\n      return res.status(400).json({ error: \"Folder ID is required.\" });\n    }\n\n    const folder = await GeneralDocumentFolder.findByPk(folder_id);\n    if (!folder) {\n      return res.status(404).json({ error: \"Folder not found.\" });\n    }\n\n    if (folder.created_by_user_id !== user_id) {\n      return res.status(403).json({ error: \"You are not authorized to update this folder. Only the creator can make changes.\" });\n    }\n\n    if (folder_name) folder.folder_name = folder_name;\n    if (visibility_scope) folder.visibility_scope = visibility_scope;\n\n    await folder.save();\n\n    res.status(200).json({ message: \"Folder updated successfully.\", folder });\n  } catch (error) {\n    console.error(\"Error while updating folder:\", error);\n    res.status(500).json({ error: \"Internal server error.\" });\n  }\n};\n\nexport const updateDocument = async (req, res) => {\n  try {\n    const { document_id, document_name, visibility_scope } = req.body;\n    const user_id = req.user.id;\n\n    console.log(\"Body while update document \",req.body);\n    \n    if (!document_id) {\n      return res.status(400).json({ error: \"Document ID is required.\" });\n    }\n\n    const document = await GeneralDocument.findByPk(document_id);\n    if (!document) {\n      return res.status(404).json({ error: \"Document not found.\" });\n    }\n\n    if (document.created_by_user_id !== user_id) {\n      return res.status(403).json({ error: \"You are not authorized to update this document. Only the creator can make changes.\" });\n    }\n\n    if (document_name) document.document_name = document_name;\n    if (visibility_scope) document.visibility_scope = visibility_scope;\n\n    await document.save();\n\n    res.status(200).json({ message: \"Document updated successfully.\", document });\n  } catch (error) {\n    console.error(\"Error while updating document:\", error);\n    res.status(500).json({ error: \"Internal server error.\" });\n  }\n};\n\n\nexport const deleteDocument = async (req, res) => {\n  try {\n    const { document_id } = req.params; // Fixed typo\n    const userId = req.user.id;\n    console.log(\"Delete document called for document_id \",document_id);\n    const document = await GeneralDocument.findByPk(document_id);\n    if (!document) {\n      return res.status(404).json({ success: false, message: 'Document not found' });\n    }\n\n\n    if (document.created_by_user_id !== userId) {\n      return res.status(403).json({\n        success: false,\n        message: 'You are not authorized to delete this document.'\n      });\n    }\n\n    const originalPath = document.file_path;\n    const fileName = path.basename(originalPath);\n\n    // Reconstruct deleted_documents path\n    const deletedDir = path.join(\"deleted_documents\", path.dirname(originalPath).replace(/^uploads[\\/\\\\]?/, \"\"));\n    if (!fs.existsSync(deletedDir)) {\n      fs.mkdirSync(deletedDir, { recursive: true });\n    }\n\n    const deletedPath = path.join(deletedDir, fileName);\n\n    // Move the file\n    if (fs.existsSync(originalPath)) {\n      fs.renameSync(originalPath, deletedPath);\n    }\n\n    // Soft delete (paranoid mode handles this)\n    await document.destroy();\n\n    res.status(200).json({\n      success: true,\n      message: 'Document soft deleted and moved to deleted_documents folder.'\n    });\n  } catch (error) {\n    console.error(\"Error deleting document:\", error);\n    res.status(500).json({ success: false, message: 'Server Error' });\n  }\n};\n\nexport const deleteFolder = async (req, res) => {\n  try {\n    const { folder_id } = req.params;\n    const userId = req.user.id;\n\n    // 1. Find the folder\n    const folder = await GeneralDocumentFolder.findByPk(folder_id);\n    if (!folder) {\n      return res.status(404).json({ success: false, message: 'Folder not found' });\n    }\n\n\n    \n    if (folder.created_by_user_id !== userId) {\n      return res.status(403).json({\n        success: false,\n        message: 'You are not authorized to delete this document.'\n      });\n    }\n    // 2. Recursively fetch all child folder IDs\n    const getAllSubfolderIds = async (parentId) => {\n      const subfolders = await GeneralDocumentFolder.findAll({ where: { parent_folder_id: parentId } });\n      const ids = subfolders.map(f => f.id);\n\n      for (const subfolder of subfolders) {\n        const nestedIds = await getAllSubfolderIds(subfolder.id);\n        ids.push(...nestedIds);\n      }\n\n      return ids;\n    };\n\n    const allFolderIds = [folder.id, ...(await getAllSubfolderIds(folder.id))];\n\n    // 3. Check if any document exists in any of those folders\n    const documentCount = await GeneralDocument.count({\n      where: {\n        folder_id: allFolderIds\n      }\n    });\n\n    if (documentCount > 0) {\n      return res.status(400).json({\n        success: false,\n        message: 'Cannot delete folder. One or more documents exist in this folder or its subfolders. Please delete them first.'\n      });\n    }\n\n    // 4. Soft delete the folder\n    await folder.destroy();\n\n    res.status(200).json({ success: true, message: 'Folder deleted successfully.' });\n\n  } catch (error) {\n    console.error('Error deleting folder:', error);\n    res.status(500).json({ success: false, message: 'Server Error' });\n  }\n};\n\n//  ","size_bytes":19764},"frontend-new/src/assets/theme/components/form/switchButton.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\nimport borders from \"assets/theme/base/borders\";\nimport boxShadows from \"assets/theme/base/boxShadows\";\n\n// Material Dashboard 2 React helper functions\n// import rgba from \"assets/theme/functions/rgba\";\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport linearGradient from \"assets/theme/functions/linearGradient\";\n\nconst { white, gradients, grey, transparent } = colors;\nconst { borderWidth } = borders;\nconst { md } = boxShadows;\n\nconst switchButton = {\n  defaultProps: {\n    disableRipple: false,\n  },\n\n  styleOverrides: {\n    switchBase: {\n      color: gradients.dark.main,\n\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n\n      \"&.Mui-checked\": {\n        color: gradients.dark.main,\n\n        \"&:hover\": {\n          backgroundColor: transparent.main,\n        },\n\n        \"& .MuiSwitch-thumb\": {\n          borderColor: `${gradients.dark.main} !important`,\n        },\n\n        \"& + .MuiSwitch-track\": {\n          backgroundColor: `${gradients.dark.main} !important`,\n          borderColor: `${gradients.dark.main} !important`,\n          opacity: 1,\n        },\n      },\n\n      \"&.Mui-disabled + .MuiSwitch-track\": {\n        opacity: \"0.3 !important\",\n      },\n\n      \"&.Mui-focusVisible .MuiSwitch-thumb\": {\n        backgroundImage: linearGradient(gradients.info.main, gradients.info.state),\n      },\n    },\n\n    thumb: {\n      backgroundColor: white.main,\n      boxShadow: md,\n      border: `${borderWidth[1]} solid ${grey[400]}`,\n    },\n\n    track: {\n      width: pxToRem(32),\n      height: pxToRem(15),\n      backgroundColor: grey[400],\n      border: `${borderWidth[1]} solid ${grey[400]}`,\n      opacity: 1,\n    },\n\n    checked: {},\n  },\n};\n\nexport default switchButton;\n","size_bytes":2322},"qms-source/BackEnd/src/controllers/generalDocumentController.js":{"content":"// controllers/generalDocumentController.js\nimport GeneralDocument from '../models/GeneralDocument.js';\nimport GeneralDocumentFolder from '../models/GeneralDocumentFolder.js';\nimport multer from \"multer\";\nimport User from \"../models/User.js\";\nimport Role from \"../models/Role.js\";\nimport path from 'path';\nimport fs from 'fs';\n\n\n// Set up storage for uploaded files\nconst storage = multer.diskStorage({\n    destination: (req, file, cb) => {\n        const uploadDir = \"uploads/documents\"; // Folder where files will be stored\n        if (!fs.existsSync(uploadDir)) {\n            fs.mkdirSync(uploadDir, { recursive: true }); // Create folder if not exists\n        }\n        cb(null, uploadDir);\n    },\n    filename: (req, file, cb) => {\n        const ext = path.extname(file.originalname);\n        const uniqueName = `${Date.now()}-${Math.random().toString(36).substring(7)}${ext}`;\n        cb(null, uniqueName);\n    }\n});\n\nconst fileFilter = (req, file, cb) => {\n  cb(null, true); // Accept all file types\n};\n\n// Upload middleware\nconst upload = multer({ storage, fileFilter });\n\nasync function buildFullFolderPath(parent_folder_id) {\n  let folders = [];\n  \n  while (parent_folder_id) {\n    const folder = await GeneralDocumentFolder.findByPk(parent_folder_id);\n    if (!folder) break; // safety: stop if parent not found\n    folders.unshift(folder.folder_name); // add at start\n    parent_folder_id = folder.parent_folder_id;\n  }\n  \n  return folders.join('/'); // return relative path\n}\n\nexport const createFolder = async (req, res) => {\n  try {\n    const { parent_folder_id, folder_name, visibility_scope } = req.body;\n    const created_by_user_id = req.user.id;\n\n    console.log(\"Request Body while create folder:\", req.body);\n\n    const user = await User.findByPk(created_by_user_id, {\n      include: [{ model: Role, attributes: [\"name\"], required: true }]\n    });\n\n    if (!user) {\n      return res.status(404).json({ error: \"User not found\" });\n    }\n\n    const userRole = user.Role ? user.Role.name : null;\n    let company_id;\n\n    if (userRole === \"System Super Admin\") {\n      company_id = req.body.company_id;\n      if (!company_id) {\n        return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n      }\n    } else {\n      company_id = req.user.company;\n      if (!company_id) {\n        return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n      }\n    }\n\n    const folder = await GeneralDocumentFolder.create({\n      company_id,\n      parent_folder_id,\n      folder_name,\n      visibility_scope,\n      created_by_user_id\n    });\n\n    // ****** Build Full Path based on Parent Hierarchy ******\n    const uploadRoot = path.join('uploads'); // base uploads folder\n    const parentPath = await buildFullFolderPath(parent_folder_id);\n    const fullFolderPath = parentPath ? path.join(uploadRoot, parentPath, folder_name) : path.join(uploadRoot, folder_name);\n\n    // Check if uploads directory exists, if not create it\n    if (!fs.existsSync(uploadRoot)) {\n      fs.mkdirSync(uploadRoot);\n    }\n\n    // Check if full folder path exists\n    if (!fs.existsSync(fullFolderPath)) {\n      fs.mkdirSync(fullFolderPath, { recursive: true }); // recursively create all missing parent folders\n      console.log(`Folder created at path: ${fullFolderPath}`);\n    } else {\n      console.log(`Folder already exists at path: ${fullFolderPath}`);\n    }\n\n    res.status(201).json({ success: true, folder });\n  } catch (error) {\n    console.error(error);\n    res.status(500).json({ success: false, message: 'Server Error' });\n  }\n};\n\nconst getFolderPathFromId = async (folder_id) => {\n  const segments = [];\n\n  let currentFolderId = folder_id;\n\n  while (currentFolderId) {\n    const folder = await GeneralDocumentFolder.findByPk(currentFolderId);\n    if (!folder) break;\n\n    // Sanitize name to avoid file system issues\n    const safeName = folder.folder_name   ;          //.replace(/[<>:\"/\\\\|?*]/g, \"_\");\n    segments.unshift(safeName);\n\n    currentFolderId = folder.parent_folder_id;\n  }\n\n  return path.join(\"uploads\", ...segments); // Final upload path\n};\n\nexport const uploadGeneralDocument = async (req, res) => {\n  try {\n    upload.array(\"documents\")(req, res, async function (err) {\n      if (err) return res.status(400).json({ error: err.message });\n\n      const { folder_id, visibility_scope } = req.body;\n      if (!req.files || req.files.length === 0)\n        return res.status(400).json({ error: \"No files uploaded\" });\n\n      if (!folder_id || !visibility_scope) {\n        return res.status(400).json({ error: \"Missing required fields.\" });\n      }\n\n      const user_id = req.user.id;\n\n      const user = await User.findByPk(user_id, {\n        include: [{ model: Role, attributes: [\"name\"], required: true }],\n      });\n\n      if (!user) {\n        return res.status(404).json({ error: \"User not found\" });\n      }\n\n      const userRole = user.Role ? user.Role.name : null;\n      let company_id;\n\n      if (userRole === \"System Super Admin\") {\n        company_id = req.body.company_id;\n        if (!company_id) {\n          return res.status(400).json({\n            error: \"Company ID is required for System Super Admin\",\n          });\n        }\n      } else {\n        company_id = req.user.company;\n        if (!company_id) {\n          return res.status(400).json({\n            error:\n              \"Company ID is not assigned to your account. Contact the administrator.\",\n          });\n        }\n      }\n\n      const folderPath = await getFolderPathFromId(folder_id);\n      if (!fs.existsSync(folderPath)) {\n        fs.mkdirSync(folderPath, { recursive: true });\n      }\n\n      const existingFiles = fs.readdirSync(folderPath);\n      const savedDocuments = [];\n\n      for (const file of req.files) {\n        const fileExt = path.extname(file.originalname);\n        const originalName = path.parse(file.originalname).name;\n        const cleanFileName = originalName.replace(/_v\\d+_\\d+$/, \"\");\n        const timestamp = Date.now();\n\n        let version = 1;\n        const versionRegex = new RegExp(\n          `^${cleanFileName}_v(\\\\d+)_\\\\d+\\\\${fileExt}$`\n        );\n\n        for (const existingFile of existingFiles) {\n          const match = existingFile.match(versionRegex);\n          if (match) {\n            const existingVersion = parseInt(match[1], 10);\n            if (existingVersion >= version) {\n              version = existingVersion + 1;\n            }\n          }\n        }\n\n        const newFileName = `${cleanFileName}_v${version}_${timestamp}${fileExt}`;\n        const filePath = path.join(folderPath, newFileName);\n\n        fs.renameSync(file.path, filePath);\n\n        const document = await GeneralDocument.create({\n          company_id,\n          folder_id,\n          document_name: newFileName,\n          file_path: filePath.replace(/\\\\/g, \"/\"),\n          visibility_scope,\n          created_by_user_id: user_id,\n        });\n\n        savedDocuments.push(document);\n      }\n\n      res.status(201).json({\n        message: \"Documents uploaded successfully.\",\n        documents: savedDocuments,\n      });\n    });\n  } catch (error) {\n    console.error(\"Error while uploading general documents:\", error);\n    res.status(500).json({ error: \"Internal server error.\" });\n  }\n};\n\n\n// export const uploadGeneralDocument = async (req, res) => {\n//   console.log(\"Request body before upload :\",req.body);\n//     try {\n//         upload.single(\"document\")(req, res, async function (err) {\n//             if (err) return res.status(400).json({ error: err.message });\n\n//             const { folder_id, visibility_scope } = req.body;\n//             if (!req.file) return res.status(400).json({ error: \"No file uploaded\" });\n\n//             if ( !folder_id || !visibility_scope) {\n//                 return res.status(400).json({ error: \"Missing required fields.\" });\n//             }\n//            let user_id = req.user.id;\n            \n//     console.log(\"Request Body while upload document:\", req.body);\n\n//     const user = await User.findByPk(user_id, {\n//       include: [{ model: Role, attributes: [\"name\"], required: true }]\n//     });\n\n//     if (!user) {\n//       return res.status(404).json({ error: \"User not found\" });\n//     }\n\n//     const userRole = user.Role ? user.Role.name : null;\n//     let company_id;\n\n//     if (userRole === \"System Super Admin\") {\n//       company_id = req.body.company_id;\n//       if (!company_id) {\n//         return res.status(400).json({ error: \"Company ID is required for System Super Admin\" });\n//       }\n//     } else {\n//       company_id = req.user.company;\n//       if (!company_id) {\n//         return res.status(400).json({ error: \"Company ID is not assigned to your account. Contact the administrator.\" });\n//       }\n//     }\n\n//             const fileExt = path.extname(req.file.originalname);\n//             const originalName = path.parse(req.file.originalname).name;\n//             const timestamp = Date.now();\n\n//             const cleanFileName = originalName.replace(/_v\\d+_\\d+$/, \"\"); // Remove any previous _v pattern\n//             const folderPath = await getFolderPathFromId(folder_id);\n\n            \n\n//             if (!fs.existsSync(folderPath)) {\n//                 fs.mkdirSync(folderPath, { recursive: true });\n//             }\n\n//             const existingFiles = fs.readdirSync(folderPath);\n//             let version = 1;\n\n//             const versionRegex = new RegExp(`^${cleanFileName}_v(\\\\d+)_\\\\d+\\\\${fileExt}$`);\n\n//             for (const file of existingFiles) {\n//                 const match = file.match(versionRegex);\n//                 if (match) {\n//                     const existingVersion = parseInt(match[1], 10);\n//                     if (existingVersion >= version) {\n//                         version = existingVersion + 1;\n//                     }\n//                 }\n//             }\n\n//             const newFileName = `${cleanFileName}_v${version}_${timestamp}${fileExt}`;\n//             const filePath = path.join(folderPath, newFileName);\n\n//             fs.renameSync(req.file.path, filePath);\n\n//             console.log(\"Data while upload general document \",req.body);\n\n//             const document = await GeneralDocument.create({\n//                 company_id,\n//                 folder_id,\n//                 document_name: newFileName,\n//                 file_path: filePath.replace(/\\\\/g, \"/\"), // Windows path fix\n//                 visibility_scope,\n//                 created_by_user_id: user_id,\n//             });\n\n//             res.status(201).json({ message: \"General Document uploaded successfully.\", document });\n//         });\n//     } catch (error) {\n//         console.error(\"Error while uploading general document:\", error);\n//         res.status(500).json({ error: \"Internal server error.\" });\n//     }\n// };\n\nconst findManagers = async (userId, managers = new Set()) => {\n  const user = await User.findByPk(userId);\n  if (user && user.reportTo) {\n    managers.add(user.reportTo);\n    await findManagers(user.reportTo, managers);\n  }\n  return Array.from(managers);\n};\n\nconst findSubordinates = async (userId, subordinates = new Set()) => {\n  const users = await User.findAll({ where: { reportTo: userId } });\n  for (const user of users) {\n    subordinates.add(user.id);\n    const deeperSubs = await findSubordinates(user.id, subordinates);\n    deeperSubs.forEach(id => subordinates.add(id));\n  }\n  return Array.from(subordinates);\n};\n\nexport const listDocuments = async (req, res) => {\n  try {\n    let { folderId } = req.params;\n    const requestingUserId = req.user.id;\n\n    if (folderId === 'null') {\n      folderId = null;\n    }\n\n    const folderWhereCondition = {\n      parent_folder_id: folderId\n    };\n    const documentWhereCondition = {\n      folder_id: folderId\n    };\n\n    const allFolders = await GeneralDocumentFolder.findAll({ where: folderWhereCondition });\n\n    const allDocuments = await GeneralDocument.findAll({\n      where: documentWhereCondition,\n      // include: [\n      //   {\n      //     model: User.scope('all')\n      //   }\n      //]\n    });\n\n    const accessibleFolders = [];\n    for (const folder of allFolders) {\n      const creatorId = folder.created_by_user_id;\n\n      if (folder.visibility_scope === \"all\") {\n        accessibleFolders.push(folder);\n      } else if (folder.visibility_scope === \"private\" && creatorId === requestingUserId) {\n        accessibleFolders.push(folder);\n      } else if (folder.visibility_scope === \"above\") {\n        const managersOfCreator = await findManagers(creatorId);\n        managersOfCreator.push(creatorId);\n        if (managersOfCreator.includes(requestingUserId)) {\n          accessibleFolders.push(folder);\n        }\n      } else if (folder.visibility_scope === \"below\") {\n        const subsOfCreator = await findSubordinates(creatorId);\n        subsOfCreator.push(creatorId);\n        if (subsOfCreator.includes(requestingUserId)) {\n          accessibleFolders.push(folder);\n        }\n      }\n    }\n\n    const accessibleDocuments = [];\n    for (const doc of allDocuments) {\n      const creatorId = doc.created_by_user_id;\n\n      let isAccessible = false;\n      if (doc.visibility_scope === \"all\") {\n        isAccessible = true;\n      } else if (doc.visibility_scope === \"private\" && creatorId === requestingUserId) {\n        isAccessible = true;\n      } else if (doc.visibility_scope === \"above\") {\n        const managersOfCreator = await findManagers(creatorId);\n        managersOfCreator.push(creatorId);\n        if (managersOfCreator.includes(requestingUserId)) {\n          isAccessible = true;\n        }\n      } else if (doc.visibility_scope === \"below\") {\n        const subsOfCreator = await findSubordinates(creatorId);\n        subsOfCreator.push(creatorId);\n        if (subsOfCreator.includes(requestingUserId)) {\n          isAccessible = true;\n        }\n      }\n\n      if (isAccessible) {\n        const fullDoc = doc.toJSON();\n        fullDoc.file_url = `${req.protocol}://${req.get(\"host\")}/api/${doc.file_path}`;\n        fullDoc.uploaded_by = doc.uploader ? doc.uploader.name : \"Unknown\";\n        accessibleDocuments.push(fullDoc);\n      }\n    }\n\n    res.status(200).json({\n      success: true,\n      folders: accessibleFolders,\n      documents: accessibleDocuments\n    });\n\n  } catch (error) {\n    console.error(\"Error listing documents:\", error);\n    res.status(500).json({ success: false, message: 'Server Error' });\n  }\n};\n\nexport const updateFolder = async (req, res) => {\n  try {\n    const { folder_id, folder_name, visibility_scope } = req.body;\n    const user_id = req.user.id;\n\n    if (!folder_id) {\n      return res.status(400).json({ error: \"Folder ID is required.\" });\n    }\n\n    const folder = await GeneralDocumentFolder.findByPk(folder_id);\n    if (!folder) {\n      return res.status(404).json({ error: \"Folder not found.\" });\n    }\n\n    if (folder.created_by_user_id !== user_id) {\n      return res.status(403).json({ error: \"You are not authorized to update this folder. Only the creator can make changes.\" });\n    }\n\n    if (folder_name) folder.folder_name = folder_name;\n    if (visibility_scope) folder.visibility_scope = visibility_scope;\n\n    await folder.save();\n\n    res.status(200).json({ message: \"Folder updated successfully.\", folder });\n  } catch (error) {\n    console.error(\"Error while updating folder:\", error);\n    res.status(500).json({ error: \"Internal server error.\" });\n  }\n};\n\nexport const updateDocument = async (req, res) => {\n  try {\n    const { document_id, document_name, visibility_scope } = req.body;\n    const user_id = req.user.id;\n\n    console.log(\"Body while update document \",req.body);\n    \n    if (!document_id) {\n      return res.status(400).json({ error: \"Document ID is required.\" });\n    }\n\n    const document = await GeneralDocument.findByPk(document_id);\n    if (!document) {\n      return res.status(404).json({ error: \"Document not found.\" });\n    }\n\n    if (document.created_by_user_id !== user_id) {\n      return res.status(403).json({ error: \"You are not authorized to update this document. Only the creator can make changes.\" });\n    }\n\n    if (document_name) document.document_name = document_name;\n    if (visibility_scope) document.visibility_scope = visibility_scope;\n\n    await document.save();\n\n    res.status(200).json({ message: \"Document updated successfully.\", document });\n  } catch (error) {\n    console.error(\"Error while updating document:\", error);\n    res.status(500).json({ error: \"Internal server error.\" });\n  }\n};\n\n\nexport const deleteDocument = async (req, res) => {\n  try {\n    const { document_id } = req.params; // Fixed typo\n    const userId = req.user.id;\n    console.log(\"Delete document called for document_id \",document_id);\n    const document = await GeneralDocument.findByPk(document_id);\n    if (!document) {\n      return res.status(404).json({ success: false, message: 'Document not found' });\n    }\n\n\n    if (document.created_by_user_id !== userId) {\n      return res.status(403).json({\n        success: false,\n        message: 'You are not authorized to delete this document.'\n      });\n    }\n\n    const originalPath = document.file_path;\n    const fileName = path.basename(originalPath);\n\n    // Reconstruct deleted_documents path\n    const deletedDir = path.join(\"deleted_documents\", path.dirname(originalPath).replace(/^uploads[\\/\\\\]?/, \"\"));\n    if (!fs.existsSync(deletedDir)) {\n      fs.mkdirSync(deletedDir, { recursive: true });\n    }\n\n    const deletedPath = path.join(deletedDir, fileName);\n\n    // Move the file\n    if (fs.existsSync(originalPath)) {\n      fs.renameSync(originalPath, deletedPath);\n    }\n\n    // Soft delete (paranoid mode handles this)\n    await document.destroy();\n\n    res.status(200).json({\n      success: true,\n      message: 'Document soft deleted and moved to deleted_documents folder.'\n    });\n  } catch (error) {\n    console.error(\"Error deleting document:\", error);\n    res.status(500).json({ success: false, message: 'Server Error' });\n  }\n};\n\nexport const deleteFolder = async (req, res) => {\n  try {\n    const { folder_id } = req.params;\n    const userId = req.user.id;\n\n    // 1. Find the folder\n    const folder = await GeneralDocumentFolder.findByPk(folder_id);\n    if (!folder) {\n      return res.status(404).json({ success: false, message: 'Folder not found' });\n    }\n\n\n    \n    if (folder.created_by_user_id !== userId) {\n      return res.status(403).json({\n        success: false,\n        message: 'You are not authorized to delete this document.'\n      });\n    }\n    // 2. Recursively fetch all child folder IDs\n    const getAllSubfolderIds = async (parentId) => {\n      const subfolders = await GeneralDocumentFolder.findAll({ where: { parent_folder_id: parentId } });\n      const ids = subfolders.map(f => f.id);\n\n      for (const subfolder of subfolders) {\n        const nestedIds = await getAllSubfolderIds(subfolder.id);\n        ids.push(...nestedIds);\n      }\n\n      return ids;\n    };\n\n    const allFolderIds = [folder.id, ...(await getAllSubfolderIds(folder.id))];\n\n    // 3. Check if any document exists in any of those folders\n    const documentCount = await GeneralDocument.count({\n      where: {\n        folder_id: allFolderIds\n      }\n    });\n\n    if (documentCount > 0) {\n      return res.status(400).json({\n        success: false,\n        message: 'Cannot delete folder. One or more documents exist in this folder or its subfolders. Please delete them first.'\n      });\n    }\n\n    // 4. Soft delete the folder\n    await folder.destroy();\n\n    res.status(200).json({ success: true, message: 'Folder deleted successfully.' });\n\n  } catch (error) {\n    console.error('Error deleting folder:', error);\n    res.status(500).json({ success: false, message: 'Server Error' });\n  }\n};\n\n//  ","size_bytes":19764},"frontend-new/src/assets/theme/components/appBar.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst appBar = {\n  defaultProps: {\n    color: \"transparent\",\n  },\n\n  styleOverrides: {\n    root: {\n      boxShadow: \"none\",\n    },\n  },\n};\n\nexport default appBar;\n","size_bytes":686},"frontend-new/src/assets/theme/components/form/formLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\n\nconst { text } = colors;\n\nconst formLabel = {\n  styleOverrides: {\n    root: {\n      color: text.main,\n    },\n  },\n};\n\nexport default formLabel;\n","size_bytes":757},"qms-source/frontend-new/src/assets/theme/components/form/inputLabel.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\n\nconst { text, info } = colors;\nconst { size } = typography;\n\nconst inputLabel = {\n  styleOverrides: {\n    root: {\n      fontSize: size.sm,\n      color: text.main,\n      lineHeight: 0.9,\n\n      \"&.Mui-focused\": {\n        color: info.main,\n      },\n\n      \"&.MuiInputLabel-shrink\": {\n        lineHeight: 1.5,\n        fontSize: size.md,\n\n        \"~ .MuiInputBase-root .MuiOutlinedInput-notchedOutline legend\": {\n          fontSize: \"0.85em\",\n        },\n      },\n    },\n\n    sizeSmall: {\n      fontSize: size.xs,\n      lineHeight: 1.625,\n\n      \"&.MuiInputLabel-shrink\": {\n        lineHeight: 1.6,\n        fontSize: size.sm,\n\n        \"~ .MuiInputBase-root .MuiOutlinedInput-notchedOutline legend\": {\n          fontSize: \"0.72em\",\n        },\n      },\n    },\n  },\n};\n\nexport default inputLabel;\n","size_bytes":1457},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"BackEnd/src/config/db.js":{"content":"import { Sequelize } from 'sequelize';\nimport { config } from 'dotenv';\n\n// Load environment variables\nconfig();\n\n// Use DATABASE_URL if available (Replit), otherwise use individual env vars\nconst databaseUrl = process.env.DATABASE_URL;\n\nlet sequelize;\n\nif (databaseUrl) {\n    console.log('Database Configuration: Using DATABASE_URL (PostgreSQL)');\n    sequelize = new Sequelize(databaseUrl, {\n        dialect: 'postgres',\n        dialectOptions: {\n            ssl: false\n        },\n        logging: console.log, // Optional: Logs SQL queries\n    });\n} else {\n    console.log('Database Configuration:', {\n        database: process.env.DB_NAME,\n        user: process.env.DB_USER,\n        password: process.env.DB_PASS,\n        host: process.env.DB_HOST\n    });\n    \n    sequelize = new Sequelize(\n        process.env.DB_NAME || 'qms_db',\n        process.env.DB_USER || 'postgres',\n        process.env.DB_PASS || 'password',\n        {\n            host: process.env.DB_HOST || 'localhost',\n            dialect: 'postgres',\n            logging: console.log,\n        }\n    );\n}\n\nawait sequelize.sync({ force: false, hooks: true });\n\nsequelize.authenticate()\n    .then(() => console.log('âœ… Database connected successfully'))\n    .catch(err => console.error('âŒ Database connection error:', err));\n\nexport default sequelize;\n","size_bytes":1321},"qms-source/BackEnd/src/routes/documentRoutes.js":{"content":"import express from \"express\";\nimport { uploadDocument, getDocumentsByTask, deleteDocument ,updateDocumentDetails } from \"../controllers/documentController.js\";\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\n\nconst router = express.Router();\n\nrouter.post(\"/:moduleId\",authenticateUser,checkPermission(\"write\"), uploadDocument);\nrouter.put(\"/:moduleId/:documentId\",authenticateUser,checkPermission(\"write\"), updateDocumentDetails);\nrouter.get(\"/:moduleId/:task_id\",authenticateUser,checkPermission(\"read\"), getDocumentsByTask);\nrouter.delete(\"/:moduleId/:id\",authenticateUser, checkPermission(\"delete\"),deleteDocument);\n\nexport default router;\n","size_bytes":734},"frontend-new/src/assets/theme/components/divider.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"assets/theme/functions/rgba\";\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { dark, transparent, white } = colors;\n\nconst divider = {\n  styleOverrides: {\n    root: {\n      backgroundColor: transparent.main,\n      backgroundImage: `linear-gradient(to right, ${rgba(dark.main, 0)}, ${rgba(\n        dark.main,\n        0.4\n      )}, ${rgba(dark.main, 0)}) !important`,\n      height: pxToRem(1),\n      margin: `${pxToRem(16)} 0`,\n      borderBottom: \"none\",\n      opacity: 0.25,\n    },\n\n    vertical: {\n      backgroundColor: transparent.main,\n      backgroundImage: `linear-gradient(to bottom, ${rgba(dark.main, 0)}, ${rgba(\n        dark.main,\n        0.4\n      )}, ${rgba(dark.main, 0)}) !important`,\n      width: pxToRem(1),\n      height: \"100%\",\n      margin: `0 ${pxToRem(16)}`,\n      borderRight: \"none\",\n    },\n\n    light: {\n      backgroundColor: transparent.main,\n      backgroundImage: `linear-gradient(to right, ${rgba(white.main, 0)}, ${white.main}, ${rgba(\n        white.main,\n        0\n      )}) !important`,\n\n      \"&.MuiDivider-vertical\": {\n        backgroundImage: `linear-gradient(to bottom, ${rgba(white.main, 0)}, ${white.main}, ${rgba(\n          white.main,\n          0\n        )}) !important`,\n      },\n    },\n  },\n};\n\nexport default divider;\n","size_bytes":1953},"frontend-new/src/utils/socket.js":{"content":"import { io } from \"socket.io-client\";\n\nconst SOCKET_URL = import.meta.env.VITE_SOCKET_BACK;\n\nexport const socket = io(SOCKET_URL, {\n    transports: [\"websocket\"],\n    withCredentials: true,\n    autoConnect: false,\n});\n\nlet isConnected = false;\nlet hasJoined = false;\n\nexport const connectSocket = (userId) => {\n    if (!userId) {\n        console.error(\"âŒ User ID is required to establish WebSocket connection.\");\n        return;\n    }\n\n    if (!isConnected) {\n        socket.connect();\n\n        socket.on(\"connect\", () => {\n            console.log(\"âœ… WebSocket Connected:\", socket.id);\n\n            if (!hasJoined) {\n                socket.emit(\"join\", userId);\n                hasJoined = true;\n                console.log(\"ðŸ“¢ Joined Room with User ID:\", userId);\n            }\n\n            isConnected = true;\n        });\n\n        socket.on(\"disconnect\", () => {\n            console.log(\"âŒ WebSocket Disconnected\");\n            isConnected = false;\n            hasJoined = false;\n        });\n\n        socket.on(\"connect_error\", (err) => {\n            console.error(\"âš ï¸ WebSocket Connection Error:\", err.message);\n        });\n    } else {\n        console.log(\"âš ï¸ WebSocket already connected. Skipping reconnect.\");\n    }\n\n    return socket;\n};\n\nexport const disconnectSocket = () => {\n    if (socket.connected) {\n        socket.removeAllListeners();\n        socket.disconnect();\n        isConnected = false;\n        hasJoined = false;\n        console.log(\"âŽ WebSocket Disconnected & Listeners Removed\");\n    }\n};\n","size_bytes":1533},"frontend-new/src/pages/Iteration/SelectIterationPage.jsx":{"content":"import React, { useEffect, useState } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport {\n  Container,\n  Paper,\n  Typography,\n  TextField,\n  MenuItem,\n  Button,\n  Box,\n} from \"@mui/material\";\nimport { jwtDecode } from \"jwt-decode\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport { toast } from \"react-toastify\";\n\nconst SelectIterationPage = () => {\n  const [iterations, setIterations] = useState([]);\n  const [iterationId, setIterationId] = useState(\"\");\n  const navigate = useNavigate();\n  const location = useLocation();\n  const queryParams = new URLSearchParams(location.search);\n  const refresh = queryParams.get(\"refresh\");\n  const moduleId = \"1f0f190d-3a83-421c-af98-5d081100230e\";\n  const [roleName, setRoleName] = useState(null);\n  const token = localStorage.getItem(\"jwtToken\");\n  const decodedToken = token ? jwtDecode(token) : null;\n  const roleId = decodedToken?.role || \"\";\n  const company_id = decodedToken?.company || \"\";\n  const roleModuleId = \"971a88b8-461e-4cd2-9a06-fce42ad6b806\";\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchRoleName = async () => {\n      try {\n        const response = await axiosInstance.get(\n          `/roles/${roleModuleId}/${roleId}`,\n          { params: { company_id } }\n        );\n        console.log(\"Fetched Role Name:\", response.data.name);\n        setRoleName(response.data.name);\n      } catch (error) {\n        console.error(\"Failed to fetch role name:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (roleId) fetchRoleName();\n    else setLoading(false);\n  }, [roleId, company_id]);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"jwtToken\");\n    if (token) {\n      try {\n        const decodedToken = JSON.parse(atob(token.split(\".\")[1]));\n        console.log(\"Decoded Token:\", decodedToken);\n        setRoleName(decodedToken.role || decodedToken.role_name);\n      } catch (err) {\n        console.error(\"Failed to decode token:\", err);\n      }\n    } else {\n      console.warn(\"No JWT token found\");\n    }\n  }, []);\n\n  // Define fetchIterations **inside** the component scope\n  const fetchIterations = async () => {\n    try {\n      const company_id = sessionStorage.getItem(\"selectedCompany\");\n      const token = localStorage.getItem(\"jwtToken\");\n\n      const response = await axiosInstance.get(`/iteration/${moduleId}`, {\n        params: { company_id },\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      setIterations(response.data || []);\n    } catch (error) {\n      toast.error(\"Failed to load iterations.\");\n    }\n  };\n\n  // Initial fetch on mount\n  useEffect(() => {\n    fetchIterations();\n  }, []);\n\n  useEffect(() => {\n    if (refresh) {\n      fetchIterations().then(() => {\n        navigate(location.pathname, { replace: true });\n      });\n    } else {\n      fetchIterations();\n    }\n  }, [refresh]);\n\n  const handleNext = () => {\n    if (!iterationId) {\n      toast.error(\"Please select an iteration.\");\n      return;\n    }\n    navigate(\n      `/select-standard?iterationId=${iterationId}&moduleId=${moduleId}`\n    );\n  };\n\n  const handleBack = () => {\n    navigate(-1);\n  };\n\n  return (\n    <Paper\n      elevation={4}\n      sx={{\n        borderRadius: \"0.5rem\",\n        padding: 2,\n        marginLeft: 4,\n        marginRight: 2,\n        marginTop: 4,\n        mb: 2,\n      }}\n    >\n      {/* Title and optional Add Iteration button in the same row */}\n      <Box\n        display=\"flex\"\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n        mb={3}\n      >\n        <Typography variant=\"h5\" fontWeight=\"bold\">\n          Select Iteration\n        </Typography>\n\n        {(roleName === \"System Super Admin\" || roleName === \"Super Admin\") && (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() =>\n              navigate(`/iteration/create/${moduleId}`, {\n                state: { fromSelectPage: true },\n              })\n            }\n          >\n            Add Iteration\n          </Button>\n        )}\n      </Box>\n\n      <TextField\n        select\n        fullWidth\n        label=\"Choose Iteration\"\n        value={iterationId}\n        onChange={(e) => setIterationId(e.target.value)}\n        sx={{ mb: 3 }}\n      >\n        {iterations.map((iter) => (\n          <MenuItem\n            key={iter.id}\n            value={iter.id}\n            disabled={iter.is_excel_uploaded} // disable if already uploaded\n          >\n            {iter.name}\n          </MenuItem>\n        ))}\n      </TextField>\n\n      <Box display=\"flex\" justifyContent=\"flex-end\" gap={2}>\n        <Button variant=\"contained\" onClick={handleBack}>\n          Back\n        </Button>\n        <Button variant=\"contained\" onClick={handleNext}>\n          Next\n        </Button>\n      </Box>\n    </Paper>\n  );\n};\n\nexport default SelectIterationPage;\n","size_bytes":4888},"qms-source/BackEnd/src/routes/userRoutes.js":{"content":"import express from 'express';\nimport userController from '../controllers/userController.js';\nimport checkPermission from '../middlewares/permissionsMiddlewares.js';\nimport authenticateUser from '../middlewares/authMiddlewares.js';\nconst router = express.Router();\n\nrouter.post('/:moduleId',authenticateUser,checkPermission(\"write\"), userController.createUser);  // Create user\nrouter.get('/:moduleId',authenticateUser,checkPermission(\"read\"), userController.getUserDetails);  // Get all users\nrouter.get('/:moduleId/getAssignableUser',authenticateUser,checkPermission(\"read\"), userController.getAssignableUsers);\nrouter.get('/:moduleId/getUsersWithHigherRole',authenticateUser,checkPermission(\"read\"), userController.getUsersWithHigherRole);\nrouter.put('/:moduleId/:id',authenticateUser, checkPermission(\"write\"),userController.updateUserDetails);  // Update user details\nrouter.get('/:moduleId/:id',authenticateUser,checkPermission(\"read\"), userController.getUserDetails);  // Get user by ID\nrouter.delete('/:moduleId/:id',authenticateUser,checkPermission(\"delete\"), userController.softDeleteUser)\n\nexport default router;\n","size_bytes":1124},"frontend-new/src/assets/theme/components/button/text.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { text, info, secondary, transparent } = colors;\nconst { size } = typography;\n\nconst buttonText = {\n  base: {\n    backgroundColor: transparent.main,\n    minHeight: pxToRem(40),\n    color: text.main,\n    boxShadow: \"none\",\n    padding: `${pxToRem(10)} ${pxToRem(24)}`,\n\n    \"&:hover\": {\n      backgroundColor: transparent.main,\n      boxShadow: \"none\",\n    },\n\n    \"&:focus\": {\n      boxShadow: \"none\",\n    },\n\n    \"&:active, &:active:focus, &:active:hover\": {\n      opacity: 0.85,\n      boxShadow: \"none\",\n    },\n\n    \"&:disabled\": {\n      boxShadow: \"none\",\n    },\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(16)} !important`,\n    },\n  },\n\n  small: {\n    minHeight: pxToRem(32),\n    padding: `${pxToRem(6)} ${pxToRem(16)}`,\n    fontSize: size.xs,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(12)} !important`,\n    },\n  },\n\n  large: {\n    minHeight: pxToRem(47),\n    padding: `${pxToRem(12)} ${pxToRem(28)}`,\n    fontSize: size.sm,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(22)} !important`,\n    },\n  },\n\n  primary: {\n    color: info.main,\n\n    \"&:hover\": {\n      color: info.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      color: info.focus,\n      boxShadow: \"none\",\n    },\n  },\n\n  secondary: {\n    color: secondary.main,\n\n    \"&:hover\": {\n      color: secondary.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      color: secondary.focus,\n      boxShadow: \"none\",\n    },\n  },\n};\n\nexport default buttonText;\n","size_bytes":2297},"frontend-new/src/assets/theme/components/dialog/dialogActions.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst dialogActions = {\n  styleOverrides: {\n    root: {\n      padding: pxToRem(16),\n    },\n  },\n};\n\nexport default dialogActions;\n","size_bytes":755},"qms-source/frontend-new/src/pages/auth/Login.jsx":{"content":"// top level imports\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n// MUI\nimport {\n  Box,\n  Grid2,\n  Card,\n  Typography,\n  Button,\n  Switch,\n  TextField,\n} from \"@mui/material\";\nimport { Facebook, GitHub, Google } from \"@mui/icons-material\";\n\nimport { toast } from \"react-toastify\";\nimport { jwtDecode } from \"jwt-decode\";\nimport axiosInstance from \"../../services/axiosinstance\";\nimport \"../../styles/LoginPage.css\";\n\n// Component definition\nexport default function LoginPage({ background = \"default\" }) {\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [showForgotModal, setShowForgotModal] = useState(false);\n  const [forgotEmail, setForgotEmail] = useState(\"\");\n  const [forgotLoading, setForgotLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!email.trim()) return toast.warning(\"Email is required.\");\n    if (!password.trim()) return toast.warning(\"Password is required.\");\n\n    setLoading(true);\n\n    try {\n      // Authenticate user and get token\n      const response = await axiosInstance.post(\"http://localhost:5000/api/auth/login\", {\n        email,\n        password,\n      });\n\n      const token = response.data.token;\n      if (!token) throw new Error(\"No token received\");\n\n      // Decode token to extract user details\n      const decodedToken = jwtDecode(token);\n      const userId = decodedToken?.id || null;\n      const roleId = decodedToken?.role || null;\n      const name = decodedToken?.name || \"User\"; // Extract name\n      const company_id = decodedToken?.company;\n\n      if (!userId) {\n        console.error(\"Error: userId is missing in token\");\n        toast.error(\"Login failed: User ID not found\");\n        return;\n      }\n\n      sessionStorage.clear();\n\n      // Store token and user details\n      localStorage.setItem(\"jwtToken\", token);\n      localStorage.setItem(\"userId\", userId);\n      localStorage.setItem(\"userEmail\", email);\n      localStorage.setItem(\"name\", name);\n      sessionStorage.setItem(\"selectedCompany\", company_id);\n\n      if (userId) localStorage.setItem(\"userId\", userId);\n      console.log(\"Stored userId:\", userId);\n      let roleName = \"\";\n\n      if (roleId) {\n        try {\n          // Fetch user role using token and roleModuleId\n          const roleModuleId = \"971a88b8-461e-4cd2-9a06-fce42ad6b806\"; // Role module ID\n          const roleResponse = await axiosInstance.get(`/roles/${roleModuleId}/${roleId}`, {\n            headers: { Authorization: `Bearer ${token}` },\n            params: { company_id: company_id }\n          });\n\n          roleName = roleResponse.data.name; // Using name instead of roleName to match API response\n          localStorage.setItem(\"userRole\", roleName);\n          sessionStorage.setItem(\"selectedCompany\", company_id);\n          // Store role name and redirect to dashboard (sidebar will handle menu visibility)\n          localStorage.setItem(\"userRole\", roleName);\n          navigate(\"/dashboard\");\n        } catch (error) {\n          console.error(\"Error fetching role:\", error.response?.data || error);\n          toast.error(\"Failed to fetch user role.\");\n          navigate(\"/dashboard\");\n        }\n      } else {\n        navigate(\"/dashboard\");\n      }\n\n      toast.success(`Welcome, ${name}!`);\n    } catch (error) {\n      console.error(\"Login Error:\", error.response?.data || error);\n      const backendError =\n        error.response?.data?.error || error.response?.data?.message;\n      switch (backendError) {\n        case \"User not found. Please check your email.\":\n        case \"User is deactivated. Please contact admin.\":\n        case \"Company is deactivated. Please contact admin.\":\n        case \"Incorrect password. Please try again.\":\n          toast.error(backendError);\n          break;\n        default:\n          toast.error(\"Login failed. Please try again.\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleForgotPassword = async () => {\n    if (!forgotEmail.trim()) return toast.warning(\"Please enter your email.\");\n\n    setForgotLoading(true);\n    try {\n      const res = await axiosInstance.post(\"http://localhost:5000/api/auth/forgotPassword\", {\n        email: forgotEmail,\n      });\n\n      toast.success(res.data.message || \"Check your inbox.\");\n      setShowForgotModal(false);\n      setForgotEmail(\"\");\n    } catch (err) {\n      console.error(err);\n      toast.error(err.response?.data?.error || \"Something went wrong.\");\n    } finally {\n      setForgotLoading(false);\n    }\n  };\n\n  // main renderer\n  return (\n    <Box\n      width=\"100vw\"\n      height=\"100%\"\n      minHeight=\"100vh\"\n      bgColor={background}\n      sx={{ overflowX: \"hidden\" }}\n    >\n      {/* <Box\n        position=\"absolute\"\n        width=\"100%\"\n        minHeight=\"100vh\"\n        sx={{\n          backgroundImage: ({\n            functions: { linearGradient, rgba },\n            palette: { gradients },\n          }) =>\n            `${linearGradient(\n              rgba(gradients.dark.main, 0.6),\n              rgba(gradients.dark.state, 0.6)\n            )}, url('/bg-sign-in-basic.jpeg')`,\n          backgroundSize: \"cover\",\n          backgroundPosition: \"center\",\n          backgroundRepeat: \"no-repeat\",\n        }}\n      /> */}\n\n      <Box\n        position=\"absolute\"\n        width=\"100%\"\n        minHeight=\"100vh\"\n        sx={{\n          backgroundColor: \"#191970\", // solid midnight blue\n        }}\n      />\n\n      <Box px={1} width=\"100%\" height=\"100vh\" mx=\"auto\">\n        <Grid2\n          container\n          spacing={1}\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          height=\"100%\"\n        >\n          <Grid2\n            size={{\n              xs: 11,\n              sm: 9,\n              md: 5,\n              lg: 4,\n              xl: 3,\n            }}\n          >\n            <Card>\n              <Box\n                mx={2}\n                mt={-3}\n                p={2}\n                mb={1}\n                textAlign=\"center\"\n                sx={{\n                  background: \"linear-gradient(195deg, #49a3f1, #1A73E8)\",\n                  borderRadius: \"0.5rem\",\n                }}\n              >\n                <Typography\n                  variant=\"h4\"\n                  fontWeight=\"medium\"\n                  color=\"white\"\n                  mt={1}\n                >\n                  Sign in\n                </Typography>\n                {/* <Grid2\n                  container\n                  spacing={3}\n                  justifyContent=\"center\"\n                  sx={{ mt: 1, mb: 2 }}\n                >\n                  <Grid2 sx={{ xs: 2 }}>\n                    <Typography href=\"#\" variant=\"body1\" color=\"white\">\n                      <Facebook color=\"inherit\" />\n                    </Typography>\n                  </Grid2>\n                  <Grid2 sx={{ xs: 2 }}>\n                    <Typography href=\"#\" variant=\"body1\" color=\"white\">\n                      <GitHub color=\"inherit\" />\n                    </Typography>\n                  </Grid2>\n                  <Grid2 sx={{ xs: 2 }}>\n                    <Typography href=\"#\" variant=\"body1\" color=\"white\">\n                      <Google color=\"inherit\" />\n                    </Typography>\n                  </Grid2>\n                </Grid2> */}\n              </Box>\n              <Box pt={4} pb={3} px={3}>\n                <Box component=\"form\" role=\"form\" onSubmit={handleSubmit}>\n                  <Box mb={2}>\n                    <TextField\n                      label=\"Email\"\n                      variant=\"outlined\"\n                      fullWidth\n                      type=\"email\"\n                      value={email}\n                      onChange={(e) => setEmail(e.target.value)}\n                      className=\"login-input\"\n                      autoComplete=\"email\"\n                    />\n                  </Box>\n                  <Box mb={2}>\n                    <TextField\n                      label=\"Password\"\n                      variant=\"outlined\"\n                      fullWidth\n                      type=\"password\"\n                      value={password}\n                      onChange={(e) => setPassword(e.target.value)}\n                      className=\"login-input\"\n                      autoComplete=\"current-password\"\n                    />\n                  </Box>\n\n                  <Box mb={1} textAlign=\"right\">\n                    <Typography\n                      variant=\"body2\"\n                      sx={{ cursor: \"pointer\", color: \"#1A73E8\" }}\n                      onClick={() => setShowForgotModal(true)}\n                    >\n                      Forgot Password?\n                    </Typography>\n                  </Box>\n\n                  {/* <Box display=\"flex\" alignItems=\"center\" ml={-1}>\n                    <Switch />\n                    <Typography\n                      variant=\"button\"\n                      fontWeight=\"regular\"\n                      color=\"text\"\n                      sx={{ cursor: \"pointer\", userSelect: \"none\", ml: -1 }}\n                    >\n                      &nbsp;&nbsp;Remember me\n                    </Typography>\n                  </Box> */}\n\n                  <Box mt={4} mb={1}>\n                    <Button\n                      type=\"submit\"\n                      className=\"login-button\"\n                      disabled={loading || !email || !password}\n                      fullWidth\n                    >\n                      {loading ? \"Logging in...\" : \"Login\"}\n                    </Button>\n                  </Box>\n                </Box>\n              </Box>\n            </Card>\n          </Grid2>\n        </Grid2>\n      </Box>\n\n      {showForgotModal && (\n        <Box\n          position=\"fixed\"\n          top={0}\n          left={0}\n          width=\"100vw\"\n          height=\"100vh\"\n          bgcolor=\"rgba(0, 0, 0, 0.5)\"\n          display=\"flex\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          zIndex={1300}\n          sx={{ backdropFilter: \"blur(4px)\" }}\n        >\n          <Card sx={{ width: { xs: \"90%\", sm: 400 }, p: 3, borderRadius: 3 }}>\n            <Typography variant=\"h5\" fontWeight=\"medium\" mb={2}>\n              Forgot Password\n            </Typography>\n            <Typography variant=\"body2\" mb={2}>\n              Enter your email to receive your new password.\n            </Typography>\n            <TextField\n              label=\"Email Address\"\n              type=\"email\"\n              fullWidth\n              value={forgotEmail}\n              onChange={(e) => setForgotEmail(e.target.value)}\n              sx={{ mb: 2 }}\n            />\n            <Box display=\"flex\" justifyContent=\"flex-end\" gap={1}>\n              <Button\n                onClick={() => setShowForgotModal(false)}\n                color=\"secondary\"\n              >\n                Cancel\n              </Button>\n              <Button\n                variant=\"contained\"\n                onClick={handleForgotPassword}\n                disabled={forgotLoading || !forgotEmail}\n              >\n                {forgotLoading ? \"Sending...\" : \"Send New Password\"}\n              </Button>\n            </Box>\n          </Card>\n        </Box>\n      )}\n    </Box>\n  );\n}\n","size_bytes":11297},"qms-source/frontend-new/src/assets/theme/components/buttonBase.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst buttonBase = {\n  defaultProps: {\n    disableRipple: false,\n  },\n};\n\nexport default buttonBase;\n","size_bytes":624},"frontend-new/src/assets/theme-dark/components/button/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Button Styles\nimport root from \"assets/theme-dark/components/button/root\";\nimport contained from \"assets/theme-dark/components/button/contained\";\nimport outlined from \"assets/theme-dark/components/button/outlined\";\nimport buttonText from \"assets/theme-dark/components/button/text\";\n\nconst button = {\n  defaultProps: {\n    disableRipple: false,\n  },\n  styleOverrides: {\n    root: { ...root },\n    contained: { ...contained.base },\n    containedSizeSmall: { ...contained.small },\n    containedSizeLarge: { ...contained.large },\n    containedPrimary: { ...contained.primary },\n    containedSecondary: { ...contained.secondary },\n    outlined: { ...outlined.base },\n    outlinedSizeSmall: { ...outlined.small },\n    outlinedSizeLarge: { ...outlined.large },\n    outlinedPrimary: { ...outlined.primary },\n    outlinedSecondary: { ...outlined.secondary },\n    text: { ...buttonText.base },\n    textSizeSmall: { ...buttonText.small },\n    textSizeLarge: { ...buttonText.large },\n    textPrimary: { ...buttonText.primary },\n    textSecondary: { ...buttonText.secondary },\n  },\n};\n\nexport default button;\n","size_bytes":1649},"qms-source/frontend-new/src/styles/TaskUpload.css":{"content":"\n  ","size_bytes":3},"qms-source/frontend-new/src/assets/theme/components/dialog/dialogContentText.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme/base/typography\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\n// import pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { size } = typography;\nconst { text } = colors;\n\nconst dialogContentText = {\n  styleOverrides: {\n    root: {\n      fontSize: size.md,\n      color: text.main,\n    },\n  },\n};\n\nexport default dialogContentText;\n","size_bytes":987},"qms-source/frontend-new/src/assets/theme/components/button/text.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React Base Styles\nimport colors from \"assets/theme/base/colors\";\nimport typography from \"assets/theme/base/typography\";\n\n// Material Dashboard 2 React Helper Functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { text, info, secondary, transparent } = colors;\nconst { size } = typography;\n\nconst buttonText = {\n  base: {\n    backgroundColor: transparent.main,\n    minHeight: pxToRem(40),\n    color: text.main,\n    boxShadow: \"none\",\n    padding: `${pxToRem(10)} ${pxToRem(24)}`,\n\n    \"&:hover\": {\n      backgroundColor: transparent.main,\n      boxShadow: \"none\",\n    },\n\n    \"&:focus\": {\n      boxShadow: \"none\",\n    },\n\n    \"&:active, &:active:focus, &:active:hover\": {\n      opacity: 0.85,\n      boxShadow: \"none\",\n    },\n\n    \"&:disabled\": {\n      boxShadow: \"none\",\n    },\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(16)} !important`,\n    },\n  },\n\n  small: {\n    minHeight: pxToRem(32),\n    padding: `${pxToRem(6)} ${pxToRem(16)}`,\n    fontSize: size.xs,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(12)} !important`,\n    },\n  },\n\n  large: {\n    minHeight: pxToRem(47),\n    padding: `${pxToRem(12)} ${pxToRem(28)}`,\n    fontSize: size.sm,\n\n    \"& .material-icon, .material-icons-round, svg\": {\n      fontSize: `${pxToRem(22)} !important`,\n    },\n  },\n\n  primary: {\n    color: info.main,\n\n    \"&:hover\": {\n      color: info.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      color: info.focus,\n      boxShadow: \"none\",\n    },\n  },\n\n  secondary: {\n    color: secondary.main,\n\n    \"&:hover\": {\n      color: secondary.main,\n    },\n\n    \"&:focus:not(:hover)\": {\n      color: secondary.focus,\n      boxShadow: \"none\",\n    },\n  },\n};\n\nexport default buttonText;\n","size_bytes":2297},"frontend-new/src/assets/theme/components/form/checkbox.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport linearGradient from \"assets/theme/functions/linearGradient\";\n\nconst { borderWidth, borderColor } = borders;\nconst { transparent, info } = colors;\n\nconst checkbox = {\n  styleOverrides: {\n    root: {\n      \"& .MuiSvgIcon-root\": {\n        backgroundPosition: \"center\",\n        backgroundSize: \"contain\",\n        backgroundRepeat: \"no-repeat\",\n        width: pxToRem(20),\n        height: pxToRem(20),\n        color: transparent.main,\n        border: `${borderWidth[1]} solid ${borderColor}`,\n        borderRadius: pxToRem(5.6),\n      },\n\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n\n      \"&.Mui-focusVisible\": {\n        border: `${borderWidth[2]} solid ${info.main} !important`,\n      },\n    },\n\n    colorPrimary: {\n      color: borderColor,\n\n      \"&.Mui-checked\": {\n        color: info.main,\n\n        \"& .MuiSvgIcon-root\": {\n          backgroundImage: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -1 22 22'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\"), ${linearGradient(\n            info.main,\n            info.main\n          )}`,\n          borderColor: info.main,\n        },\n      },\n    },\n\n    colorSecondary: {\n      color: borderColor,\n\n      \"& .MuiSvgIcon-root\": {\n        color: info.main,\n        \"&.Mui-checked\": {\n          backgroundImage: `url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 -1 22 22'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\"), ${linearGradient(\n            info.main,\n            info.main\n          )}`,\n          borderColor: info.main,\n        },\n      },\n    },\n  },\n};\n\nexport default checkbox;\n","size_bytes":2574},"frontend-new/src/Components/Sidebar/styles/sidenavCollapse.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\nfunction collapseItem(theme, ownerState) {\n  const { palette, transitions, breakpoints, boxShadows, borders, functions } = theme;\n  const { active, transparentSidenav, whiteSidenav, darkMode, sidenavColor } = ownerState;\n\n  const { white, transparent, dark, grey, gradients } = palette;\n  const { md } = boxShadows;\n  const { borderRadius } = borders;\n  const { pxToRem, rgba, linearGradient } = functions;\n\n  return {\n    background: active\n      ? linearGradient(gradients[sidenavColor].main, gradients[sidenavColor].state)\n      : transparent.main,\n    color:\n      (transparentSidenav && !darkMode && !active) || (whiteSidenav && !active)\n        ? dark.main\n        : white.main,\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\",\n    padding: `${pxToRem(8)} ${pxToRem(10)}`,\n    margin: `${pxToRem(1.5)} ${pxToRem(16)}`,\n    borderRadius: borderRadius.md,\n    cursor: \"pointer\",\n    userSelect: \"none\",\n    whiteSpace: \"nowrap\",\n    boxShadow: active && !whiteSidenav && !darkMode && !transparentSidenav ? md : \"none\",\n    [breakpoints.up(\"xl\")]: {\n      transition: transitions.create([\"box-shadow\", \"background-color\"], {\n        easing: transitions.easing.easeInOut,\n        duration: transitions.duration.shorter,\n      }),\n    },\n\n    \"&:hover, &:focus\": {\n      backgroundColor: () => {\n        let backgroundValue;\n\n        if (!active) {\n          backgroundValue =\n            transparentSidenav && !darkMode\n              ? grey[300]\n              : rgba(whiteSidenav ? grey[400] : white.main, 0.2);\n        }\n\n        return backgroundValue;\n      },\n    },\n  };\n}\n\nfunction collapseIconBox(theme, ownerState) {\n  const { palette, transitions, borders, functions } = theme;\n  const { transparentSidenav, whiteSidenav, darkMode, active } = ownerState;\n\n  const { white, dark } = palette;\n  const { borderRadius } = borders;\n  const { pxToRem } = functions;\n\n  return {\n    minWidth: pxToRem(32),\n    minHeight: pxToRem(32),\n    color:\n      (transparentSidenav && !darkMode && !active) || (whiteSidenav && !active)\n        ? dark.main\n        : white.main,\n    borderRadius: borderRadius.md,\n    display: \"grid\",\n    placeItems: \"center\",\n    transition: transitions.create(\"margin\", {\n      easing: transitions.easing.easeInOut,\n      duration: transitions.duration.standard,\n    }),\n\n    \"& svg, svg g\": {\n      color: transparentSidenav || whiteSidenav ? dark.main : white.main,\n    },\n  };\n}\n\nconst collapseIcon = ({ palette: { white, gradients } }, { active }) => ({\n  color: active ? white.main : gradients.dark.state,\n});\n\nfunction collapseText(theme, ownerState) {\n  const { typography, transitions, breakpoints, functions } = theme;\n  const { miniSidenav, transparentSidenav, active } = ownerState;\n\n  const { size, fontWeightRegular, fontWeightLight } = typography;\n  const { pxToRem } = functions;\n\n  return {\n    marginLeft: pxToRem(10),\n\n    [breakpoints.up(\"xl\")]: {\n      opacity: miniSidenav || (miniSidenav && transparentSidenav) ? 0 : 1,\n      maxWidth: miniSidenav || (miniSidenav && transparentSidenav) ? 0 : \"100%\",\n      marginLeft: miniSidenav || (miniSidenav && transparentSidenav) ? 0 : pxToRem(10),\n      transition: transitions.create([\"opacity\", \"margin\"], {\n        easing: transitions.easing.easeInOut,\n        duration: transitions.duration.standard,\n      }),\n    },\n\n    \"& span\": {\n      fontWeight: active ? fontWeightRegular : fontWeightLight,\n      fontSize: size.sm,\n      lineHeight: 0,\n    },\n  };\n}\n\nexport { collapseItem, collapseIconBox, collapseIcon, collapseText };\n","size_bytes":4064},"frontend-new/src/assets/theme/components/dialog/dialogContentText.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport typography from \"assets/theme/base/typography\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\n// import pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst { size } = typography;\nconst { text } = colors;\n\nconst dialogContentText = {\n  styleOverrides: {\n    root: {\n      fontSize: size.md,\n      color: text.main,\n    },\n  },\n};\n\nexport default dialogContentText;\n","size_bytes":987},"qms-source/frontend-new/src/assets/theme/components/list/index.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst list = {\n  styleOverrides: {\n    padding: {\n      paddingTop: 0,\n      paddingBottom: 0,\n    },\n  },\n};\n\nexport default list;\n","size_bytes":655},"qms-source/frontend-new/src/styles/CompanyForms.css":{"content":"/* Global Form Styling */\n.company-form-container {\n    max-width: 500px;\n    margin: 50px auto;\n    padding: 30px;\n    background: white;\n    border-radius: 10px;\n    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n    text-align: center;\n}\n\n.company-form-container h5 {\n    font-size: 22px;\n    margin-bottom: 20px;\n    color: #333;\n}\n\n.company-input {\n    width: 100%;\n    margin-bottom: 20px !important;\n}\n\n.company-button {\n    width: 100%;\n    padding: 10px;\n    background-color: #007bff !important;\n    color: white !important;\n    border: none;\n    border-radius: 5px;\n    font-size: 16px;\n    cursor: pointer;\n    margin-top: 10px;\n}\n\n.company-button:hover {\n    background-color: #0056b3 !important;\n}\n","size_bytes":710},"BackEnd/src/models/Role.js":{"content":"import { DataTypes } from \"sequelize\";\nimport sequelize from \"../config/db.js\";\nimport Company from \"./Company.js\"; // Import the Company model\n\nconst Role = sequelize.define(\n  \"Role\",\n  {\n    id: {\n      type: DataTypes.UUID,\n      defaultValue: DataTypes.UUIDV4,\n      primaryKey: true,\n    },\n    name: {\n      type: DataTypes.STRING,\n      allowNull: false,\n    },\n    description: {\n      type: DataTypes.TEXT,\n      allowNull: true,\n    },\n    parent_role_id: {\n      // Self-referential hierarchy\n      type: DataTypes.UUID,\n      allowNull: true,\n      references: {\n        model: \"Role\",\n        key: \"id\",\n      },\n    },\n    company_id: {\n      type: DataTypes.UUID,\n      allowNull: false,\n      references: {\n        model: \"Company\",\n        key: \"id\",\n      },\n      onDelete: \"CASCADE\", // Ensures roles are deleted when the company is removed\n    },\n  },\n  {\n    timestamps: true,\n    freezeTableName: true,\n    paranoid: true,\n  }\n);\n\n// Define self-referential relationship\nRole.belongsTo(Role, { as: \"ParentRole\", foreignKey: \"parent_role_id\" });\nRole.hasMany(Role, { as: \"ChildRoles\", foreignKey: \"parent_role_id\" });\n\n// Associate Role with Company\nRole.belongsTo(Company, { foreignKey: \"company_id\" });\nCompany.hasMany(Role, { foreignKey: \"company_id\", onDelete: 'CASCADE' });\n\nexport default Role;\n\n\n\n// import { DataTypes } from 'sequelize';\n// import sequelize from '../config/db.js';\n\n\n// const Role = sequelize.define('Role', {\n//     id: {\n//         type: DataTypes.UUID,\n//         defaultValue: DataTypes.UUIDV4,\n//         primaryKey: true\n//     },\n//     name: {\n//         type: DataTypes.STRING,\n//         allowNull: false\n//     },\n//     description: {\n//         type: DataTypes.TEXT,\n//         allowNull: true\n//     }\n// }, {\n//     timestamps: true,\n//     freezeTableName: true    // Prevent pluralization of table name\n// });\n\n\n\n\n//export default Role;\n","size_bytes":1902},"qms-source/BackEnd/src/config/socket.js":{"content":"import { Server } from \"socket.io\";\n\nlet io;\n\n\n\n\nexport const initSocket = (server) => {\n    io = new Server(server, {\n        cors: {\n            origin: [\"http://localhost:3000\", \"http://ec2-13-233-161-146.ap-south-1.compute.amazonaws.com:3000\", \"https://syscomply.com\"], // Change this to match frontend URL\n            credentials: true\n        }\n    });\n\n    io.on(\"connection\", (socket) => {\n        console.log(\"âœ… WebSocket Connection Established:\", socket.id);\n\n        socket.on(\"join\", (userId) => {\n            socket.join(userId);\n            console.log(`ðŸ“¢ User ${userId} joined room`);\n        });\n\n        socket.on(\"disconnect\", () => {\n            console.log(\"âŒ User disconnected:\", socket.id);\n        });\n    });\n\n    return io;\n};\n\n\n\nexport const getSocket = () => {\n    if (!io) {\n        throw new Error(\"Socket.io not initialized\");\n    }\n    return io;\n};\n","size_bytes":888},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"qms-source/frontend-new/src/assets/theme-dark/functions/boxShadow.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n/**\n  The boxShadow() function helps you to create a box shadow for an element\n */\n\n// Material Dashboard 2 React helper functions\nimport rgba from \"assets/theme-dark/functions/rgba\";\nimport pxToRem from \"assets/theme-dark/functions/pxToRem\";\n\nfunction boxShadow(offset = [], radius = [], color, opacity, inset = \"\") {\n  const [x, y] = offset;\n  const [blur, spread] = radius;\n\n  return `${inset} ${pxToRem(x)} ${pxToRem(y)} ${pxToRem(blur)} ${pxToRem(spread)} ${rgba(\n    color,\n    opacity\n  )}`;\n}\n\nexport default boxShadow;\n","size_bytes":1051},"frontend-new/src/assets/theme/components/svgIcon.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\n\nconst svgIcon = {\n  defaultProps: {\n    fontSize: \"inherit\",\n  },\n\n  styleOverrides: {\n    fontSizeInherit: {\n      fontSize: \"inherit !important\",\n    },\n\n    fontSizeSmall: {\n      fontSize: `${pxToRem(20)} !important`,\n    },\n\n    fontSizeLarge: {\n      fontSize: `${pxToRem(36)} !important`,\n    },\n  },\n};\n\nexport default svgIcon;\n","size_bytes":961},"frontend-new/src/assets/theme/components/form/radio.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme/base/borders\";\nimport colors from \"assets/theme/base/colors\";\n\n// Material Dashboard 2 React helper functions\nimport pxToRem from \"assets/theme/functions/pxToRem\";\nimport linearGradient from \"assets/theme/functions/linearGradient\";\n\nconst { borderWidth, borderColor } = borders;\nconst { transparent, info } = colors;\n\nconst radio = {\n  styleOverrides: {\n    root: {\n      \"& .MuiSvgIcon-root\": {\n        width: pxToRem(20),\n        height: pxToRem(20),\n        color: transparent.main,\n        border: `${borderWidth[1]} solid ${borderColor}`,\n        borderRadius: \"50%\",\n      },\n\n      \"&:after\": {\n        transition: \"opacity 250ms ease-in-out\",\n        content: `\"\"`,\n        position: \"absolute\",\n        width: pxToRem(14),\n        height: pxToRem(14),\n        borderRadius: \"50%\",\n        backgroundImage: linearGradient(info.main, info.main),\n        opacity: 0,\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        margin: \"auto\",\n      },\n\n      \"&:hover\": {\n        backgroundColor: transparent.main,\n      },\n\n      \"&.Mui-focusVisible\": {\n        border: `${borderWidth[2]} solid ${info.main} !important`,\n      },\n    },\n\n    colorPrimary: {\n      color: borderColor,\n\n      \"&.Mui-checked\": {\n        color: info.main,\n\n        \"& .MuiSvgIcon-root\": {\n          borderColor: info.main,\n        },\n\n        \"&:after\": {\n          opacity: 1,\n        },\n      },\n    },\n\n    colorSecondary: {\n      color: borderColor,\n\n      \"&.Mui-checked\": {\n        color: info.main,\n\n        \"& .MuiSvgIcon-root\": {\n          borderColor: info.main,\n        },\n\n        \"&:after\": {\n          opacity: 1,\n        },\n      },\n    },\n  },\n};\n\nexport default radio;\n","size_bytes":2290},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"frontend-new/src/assets/theme-dark/components/buttonBase.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nconst buttonBase = {\n  defaultProps: {\n    disableRipple: false,\n  },\n};\n\nexport default buttonBase;\n","size_bytes":624},"qms-source/frontend-new/src/assets/theme-dark/components/avatar.js":{"content":"/**\n=========================================================\n* Material Dashboard 2 React - v2.2.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2023 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\n// Material Dashboard 2 React base styles\nimport borders from \"assets/theme-dark/base/borders\";\n\nconst { borderRadius } = borders;\n\nconst avatar = {\n  styleOverrides: {\n    root: {\n      transition: \"all 200ms ease-in-out\",\n    },\n\n    rounded: {\n      borderRadius: borderRadius.lg,\n    },\n\n    img: {\n      height: \"auto\",\n    },\n  },\n};\n\nexport default avatar;\n","size_bytes":887},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565}},"version":2}